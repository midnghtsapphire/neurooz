var RA=e=>{throw TypeError(e)};var Rw=(e,t,r)=>t.has(e)||RA("Cannot "+r);var H=(e,t,r)=>(Rw(e,t,"read from private field"),r?r.call(e):t.get(e)),et=(e,t,r)=>t.has(e)?RA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Oe=(e,t,r,s)=>(Rw(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),xt=(e,t,r)=>(Rw(e,t,"access private method"),r);var kg=(e,t,r,s)=>({set _(a){Oe(e,t,a,r)},get _(){return H(e,t,s)}});function cX(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Tg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ar(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hL={exports:{}},Sb={},mL={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Px=Symbol.for("react.element"),dX=Symbol.for("react.portal"),uX=Symbol.for("react.fragment"),hX=Symbol.for("react.strict_mode"),mX=Symbol.for("react.profiler"),fX=Symbol.for("react.provider"),pX=Symbol.for("react.context"),xX=Symbol.for("react.forward_ref"),gX=Symbol.for("react.suspense"),yX=Symbol.for("react.memo"),vX=Symbol.for("react.lazy"),IA=Symbol.iterator;function bX(e){return e===null||typeof e!="object"?null:(e=IA&&e[IA]||e["@@iterator"],typeof e=="function"?e:null)}var fL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pL=Object.assign,xL={};function nm(e,t,r){this.props=e,this.context=t,this.refs=xL,this.updater=r||fL}nm.prototype.isReactComponent={};nm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gL(){}gL.prototype=nm.prototype;function ck(e,t,r){this.props=e,this.context=t,this.refs=xL,this.updater=r||fL}var dk=ck.prototype=new gL;dk.constructor=ck;pL(dk,nm.prototype);dk.isPureReactComponent=!0;var DA=Array.isArray,yL=Object.prototype.hasOwnProperty,uk={current:null},vL={key:!0,ref:!0,__self:!0,__source:!0};function bL(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)yL.call(t,s)&&!vL.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Px,type:e,key:i,ref:o,props:a,_owner:uk.current}}function jX(e,t){return{$$typeof:Px,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hk(e){return typeof e=="object"&&e!==null&&e.$$typeof===Px}function wX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $A=/\/+/g;function Iw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wX(""+e.key):t.toString(36)}function $y(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Px:case dX:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Iw(o,0):s,DA(a)?(r="",e!=null&&(r=e.replace($A,"$&/")+"/"),$y(a,t,r,"",function(d){return d})):a!=null&&(hk(a)&&(a=jX(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace($A,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",DA(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Iw(i,l);o+=$y(i,t,r,c,a)}else if(c=bX(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Iw(i,l++),o+=$y(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Eg(e,t,r){if(e==null)return e;var s=[],a=0;return $y(e,s,"","",function(i){return t.call(r,i,a++)}),s}function NX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var os={current:null},Ly={transition:null},_X={ReactCurrentDispatcher:os,ReactCurrentBatchConfig:Ly,ReactCurrentOwner:uk};function jL(){throw Error("act(...) is not supported in production builds of React.")}Nt.Children={map:Eg,forEach:function(e,t,r){Eg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Eg(e,function(){t++}),t},toArray:function(e){return Eg(e,function(t){return t})||[]},only:function(e){if(!hk(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Nt.Component=nm;Nt.Fragment=uX;Nt.Profiler=mX;Nt.PureComponent=ck;Nt.StrictMode=hX;Nt.Suspense=gX;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_X;Nt.act=jL;Nt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=pL({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=uk.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)yL.call(t,c)&&!vL.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Px,type:e.type,key:a,ref:i,props:s,_owner:o}};Nt.createContext=function(e){return e={$$typeof:pX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fX,_context:e},e.Consumer=e};Nt.createElement=bL;Nt.createFactory=function(e){var t=bL.bind(null,e);return t.type=e,t};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(e){return{$$typeof:xX,render:e}};Nt.isValidElement=hk;Nt.lazy=function(e){return{$$typeof:vX,_payload:{_status:-1,_result:e},_init:NX}};Nt.memo=function(e,t){return{$$typeof:yX,type:e,compare:t===void 0?null:t}};Nt.startTransition=function(e){var t=Ly.transition;Ly.transition={};try{e()}finally{Ly.transition=t}};Nt.unstable_act=jL;Nt.useCallback=function(e,t){return os.current.useCallback(e,t)};Nt.useContext=function(e){return os.current.useContext(e)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(e){return os.current.useDeferredValue(e)};Nt.useEffect=function(e,t){return os.current.useEffect(e,t)};Nt.useId=function(){return os.current.useId()};Nt.useImperativeHandle=function(e,t,r){return os.current.useImperativeHandle(e,t,r)};Nt.useInsertionEffect=function(e,t){return os.current.useInsertionEffect(e,t)};Nt.useLayoutEffect=function(e,t){return os.current.useLayoutEffect(e,t)};Nt.useMemo=function(e,t){return os.current.useMemo(e,t)};Nt.useReducer=function(e,t,r){return os.current.useReducer(e,t,r)};Nt.useRef=function(e){return os.current.useRef(e)};Nt.useState=function(e){return os.current.useState(e)};Nt.useSyncExternalStore=function(e,t,r){return os.current.useSyncExternalStore(e,t,r)};Nt.useTransition=function(){return os.current.useTransition()};Nt.version="18.3.1";mL.exports=Nt;var x=mL.exports;const D=ar(x),mk=cX({__proto__:null,default:D},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SX=x,CX=Symbol.for("react.element"),kX=Symbol.for("react.fragment"),TX=Object.prototype.hasOwnProperty,EX=SX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PX={key:!0,ref:!0,__self:!0,__source:!0};function wL(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)TX.call(t,s)&&!PX.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:CX,type:e,key:i,ref:o,props:a,_owner:EX.current}}Sb.Fragment=kX;Sb.jsx=wL;Sb.jsxs=wL;hL.exports=Sb;var n=hL.exports,NL={exports:{}},Hs={},_L={exports:{}},SL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,I){var G=P.length;P.push(I);e:for(;0<G;){var re=G-1>>>1,X=P[re];if(0<a(X,I))P[re]=I,P[G]=X,G=re;else break e}}function r(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var I=P[0],G=P.pop();if(G!==I){P[0]=G;e:for(var re=0,X=P.length,W=X>>>1;re<W;){var oe=2*(re+1)-1,je=P[oe],$e=oe+1,se=P[$e];if(0>a(je,G))$e<X&&0>a(se,je)?(P[re]=se,P[$e]=G,re=$e):(P[re]=je,P[oe]=G,re=oe);else if($e<X&&0>a(se,G))P[re]=se,P[$e]=G,re=$e;else break e}}return I}function a(P,I){var G=P.sortIndex-I.sortIndex;return G!==0?G:P.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,f=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var I=r(d);I!==null;){if(I.callback===null)s(d);else if(I.startTime<=P)s(d),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(d)}}function w(P){if(g=!1,b(P),!p)if(r(c)!==null)p=!0,V(N);else{var I=r(d);I!==null&&O(w,I.startTime-P)}}function N(P,I){p=!1,g&&(g=!1,j(S),S=-1),f=!0;var G=m;try{for(b(I),h=r(c);h!==null&&(!(h.expirationTime>I)||P&&!T());){var re=h.callback;if(typeof re=="function"){h.callback=null,m=h.priorityLevel;var X=re(h.expirationTime<=I);I=e.unstable_now(),typeof X=="function"?h.callback=X:h===r(c)&&s(c),b(I)}else s(c);h=r(c)}if(h!==null)var W=!0;else{var oe=r(d);oe!==null&&O(w,oe.startTime-I),W=!1}return W}finally{h=null,m=G,f=!1}}var _=!1,C=null,S=-1,k=5,E=-1;function T(){return!(e.unstable_now()-E<k)}function A(){if(C!==null){var P=e.unstable_now();E=P;var I=!0;try{I=C(!0,P)}finally{I?B():(_=!1,C=null)}}else _=!1}var B;if(typeof y=="function")B=function(){y(A)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,L=R.port2;R.port1.onmessage=A,B=function(){L.postMessage(null)}}else B=function(){v(A,0)};function V(P){C=P,_||(_=!0,B())}function O(P,I){S=v(function(){P(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,V(N))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var G=m;m=I;try{return P()}finally{m=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,I){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var G=m;m=P;try{return I()}finally{m=G}},e.unstable_scheduleCallback=function(P,I,G){var re=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?re+G:re):G=re,P){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=G+X,P={id:u++,callback:I,priorityLevel:P,startTime:G,expirationTime:X,sortIndex:-1},G>re?(P.sortIndex=G,t(d,P),r(c)===null&&P===r(d)&&(g?(j(S),S=-1):g=!0,O(w,G-re))):(P.sortIndex=X,t(c,P),p||f||(p=!0,V(N))),P},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(P){var I=m;return function(){var G=m;m=I;try{return P.apply(this,arguments)}finally{m=G}}}})(SL);_L.exports=SL;var AX=_L.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OX=x,zs=AX;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CL=new Set,Zf={};function kd(e,t){uh(e,t),uh(e+"Capture",t)}function uh(e,t){for(Zf[e]=t,e=0;e<t.length;e++)CL.add(t[e])}var yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),e_=Object.prototype.hasOwnProperty,MX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LA={},FA={};function RX(e){return e_.call(FA,e)?!0:e_.call(LA,e)?!1:MX.test(e)?FA[e]=!0:(LA[e]=!0,!1)}function IX(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function DX(e,t,r,s){if(t===null||typeof t>"u"||IX(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ls(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Dn[e]=new ls(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Dn[t]=new ls(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Dn[e]=new ls(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Dn[e]=new ls(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Dn[e]=new ls(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Dn[e]=new ls(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Dn[e]=new ls(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Dn[e]=new ls(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Dn[e]=new ls(e,5,!1,e.toLowerCase(),null,!1,!1)});var fk=/[\-:]([a-z])/g;function pk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fk,pk);Dn[t]=new ls(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fk,pk);Dn[t]=new ls(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fk,pk);Dn[t]=new ls(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Dn[e]=new ls(e,1,!1,e.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new ls("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Dn[e]=new ls(e,1,!1,e.toLowerCase(),null,!0,!0)});function xk(e,t,r,s){var a=Dn.hasOwnProperty(t)?Dn[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(DX(t,r,a,s)&&(r=null),s||a===null?RX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Mo=OX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pg=Symbol.for("react.element"),uu=Symbol.for("react.portal"),hu=Symbol.for("react.fragment"),gk=Symbol.for("react.strict_mode"),t_=Symbol.for("react.profiler"),kL=Symbol.for("react.provider"),TL=Symbol.for("react.context"),yk=Symbol.for("react.forward_ref"),r_=Symbol.for("react.suspense"),n_=Symbol.for("react.suspense_list"),vk=Symbol.for("react.memo"),Qo=Symbol.for("react.lazy"),EL=Symbol.for("react.offscreen"),BA=Symbol.iterator;function Bm(e){return e===null||typeof e!="object"?null:(e=BA&&e[BA]||e["@@iterator"],typeof e=="function"?e:null)}var Mr=Object.assign,Dw;function ff(e){if(Dw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Dw=t&&t[1]||""}return`
`+Dw+e}var $w=!1;function Lw(e,t){if(!e||$w)return"";$w=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{$w=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ff(e):""}function $X(e){switch(e.tag){case 5:return ff(e.type);case 16:return ff("Lazy");case 13:return ff("Suspense");case 19:return ff("SuspenseList");case 0:case 2:case 15:return e=Lw(e.type,!1),e;case 11:return e=Lw(e.type.render,!1),e;case 1:return e=Lw(e.type,!0),e;default:return""}}function s_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hu:return"Fragment";case uu:return"Portal";case t_:return"Profiler";case gk:return"StrictMode";case r_:return"Suspense";case n_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case TL:return(e.displayName||"Context")+".Consumer";case kL:return(e._context.displayName||"Context")+".Provider";case yk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vk:return t=e.displayName||null,t!==null?t:s_(e.type)||"Memo";case Qo:t=e._payload,e=e._init;try{return s_(e(t))}catch{}}return null}function LX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s_(t);case 8:return t===gk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PL(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function FX(e){var t=PL(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ag(e){e._valueTracker||(e._valueTracker=FX(e))}function AL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=PL(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function uv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function a_(e,t){var r=t.checked;return Mr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function VA(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Dl(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function OL(e,t){t=t.checked,t!=null&&xk(e,"checked",t,!1)}function i_(e,t){OL(e,t);var r=Dl(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?o_(e,t.type,r):t.hasOwnProperty("defaultValue")&&o_(e,t.type,Dl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function o_(e,t,r){(t!=="number"||uv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var pf=Array.isArray;function Iu(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Dl(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function l_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Mr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function UA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if(pf(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Dl(r)}}function ML(e,t){var r=Dl(t.value),s=Dl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function WA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function RL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function c_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?RL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Og,IL=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Og=Og||document.createElement("div"),Og.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Og.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var kf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BX=["Webkit","ms","Moz","O"];Object.keys(kf).forEach(function(e){BX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kf[t]=kf[e]})});function DL(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||kf.hasOwnProperty(e)&&kf[e]?(""+t).trim():t+"px"}function $L(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=DL(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var VX=Mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d_(e,t){if(t){if(VX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function u_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h_=null;function bk(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var m_=null,Du=null,$u=null;function qA(e){if(e=Mx(e)){if(typeof m_!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=Pb(t),m_(e.stateNode,e.type,t))}}function LL(e){Du?$u?$u.push(e):$u=[e]:Du=e}function FL(){if(Du){var e=Du,t=$u;if($u=Du=null,qA(e),t)for(e=0;e<t.length;e++)qA(t[e])}}function BL(e,t){return e(t)}function VL(){}var Fw=!1;function zL(e,t,r){if(Fw)return e(t,r);Fw=!0;try{return BL(e,t,r)}finally{Fw=!1,(Du!==null||$u!==null)&&(VL(),FL())}}function ep(e,t){var r=e.stateNode;if(r===null)return null;var s=Pb(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var f_=!1;if(yo)try{var Vm={};Object.defineProperty(Vm,"passive",{get:function(){f_=!0}}),window.addEventListener("test",Vm,Vm),window.removeEventListener("test",Vm,Vm)}catch{f_=!1}function zX(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Tf=!1,hv=null,mv=!1,p_=null,UX={onError:function(e){Tf=!0,hv=e}};function WX(e,t,r,s,a,i,o,l,c){Tf=!1,hv=null,zX.apply(UX,arguments)}function qX(e,t,r,s,a,i,o,l,c){if(WX.apply(this,arguments),Tf){if(Tf){var d=hv;Tf=!1,hv=null}else throw Error(fe(198));mv||(mv=!0,p_=d)}}function Td(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function UL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function HA(e){if(Td(e)!==e)throw Error(fe(188))}function HX(e){var t=e.alternate;if(!t){if(t=Td(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return HA(a),e;if(i===s)return HA(a),t;i=i.sibling}throw Error(fe(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(fe(189))}}if(r.alternate!==s)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function WL(e){return e=HX(e),e!==null?qL(e):null}function qL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qL(e);if(t!==null)return t;e=e.sibling}return null}var HL=zs.unstable_scheduleCallback,KA=zs.unstable_cancelCallback,KX=zs.unstable_shouldYield,GX=zs.unstable_requestPaint,Kr=zs.unstable_now,YX=zs.unstable_getCurrentPriorityLevel,jk=zs.unstable_ImmediatePriority,KL=zs.unstable_UserBlockingPriority,fv=zs.unstable_NormalPriority,XX=zs.unstable_LowPriority,GL=zs.unstable_IdlePriority,Cb=null,ji=null;function QX(e){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(Cb,e,void 0,(e.current.flags&128)===128)}catch{}}var Ha=Math.clz32?Math.clz32:eQ,ZX=Math.log,JX=Math.LN2;function eQ(e){return e>>>=0,e===0?32:31-(ZX(e)/JX|0)|0}var Mg=64,Rg=4194304;function xf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pv(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=xf(l):(i&=o,i!==0&&(s=xf(i)))}else o=r&~a,o!==0?s=xf(o):i!==0&&(s=xf(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Ha(t),a=1<<r,s|=e[r],t&=~a;return s}function tQ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rQ(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ha(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=tQ(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function x_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function YL(){var e=Mg;return Mg<<=1,!(Mg&4194240)&&(Mg=64),e}function Bw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ax(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ha(t),e[t]=r}function nQ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ha(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function wk(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Ha(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var er=0;function XL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var QL,Nk,ZL,JL,eF,g_=!1,Ig=[],wl=null,Nl=null,_l=null,tp=new Map,rp=new Map,rl=[],sQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GA(e,t){switch(e){case"focusin":case"focusout":wl=null;break;case"dragenter":case"dragleave":Nl=null;break;case"mouseover":case"mouseout":_l=null;break;case"pointerover":case"pointerout":tp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rp.delete(t.pointerId)}}function zm(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Mx(t),t!==null&&Nk(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function aQ(e,t,r,s,a){switch(t){case"focusin":return wl=zm(wl,e,t,r,s,a),!0;case"dragenter":return Nl=zm(Nl,e,t,r,s,a),!0;case"mouseover":return _l=zm(_l,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return tp.set(i,zm(tp.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,rp.set(i,zm(rp.get(i)||null,e,t,r,s,a)),!0}return!1}function tF(e){var t=Pc(e.target);if(t!==null){var r=Td(t);if(r!==null){if(t=r.tag,t===13){if(t=UL(r),t!==null){e.blockedOn=t,eF(e.priority,function(){ZL(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=y_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);h_=s,r.target.dispatchEvent(s),h_=null}else return t=Mx(r),t!==null&&Nk(t),e.blockedOn=r,!1;t.shift()}return!0}function YA(e,t,r){Fy(e)&&r.delete(t)}function iQ(){g_=!1,wl!==null&&Fy(wl)&&(wl=null),Nl!==null&&Fy(Nl)&&(Nl=null),_l!==null&&Fy(_l)&&(_l=null),tp.forEach(YA),rp.forEach(YA)}function Um(e,t){e.blockedOn===t&&(e.blockedOn=null,g_||(g_=!0,zs.unstable_scheduleCallback(zs.unstable_NormalPriority,iQ)))}function np(e){function t(a){return Um(a,e)}if(0<Ig.length){Um(Ig[0],e);for(var r=1;r<Ig.length;r++){var s=Ig[r];s.blockedOn===e&&(s.blockedOn=null)}}for(wl!==null&&Um(wl,e),Nl!==null&&Um(Nl,e),_l!==null&&Um(_l,e),tp.forEach(t),rp.forEach(t),r=0;r<rl.length;r++)s=rl[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<rl.length&&(r=rl[0],r.blockedOn===null);)tF(r),r.blockedOn===null&&rl.shift()}var Lu=Mo.ReactCurrentBatchConfig,xv=!0;function oQ(e,t,r,s){var a=er,i=Lu.transition;Lu.transition=null;try{er=1,_k(e,t,r,s)}finally{er=a,Lu.transition=i}}function lQ(e,t,r,s){var a=er,i=Lu.transition;Lu.transition=null;try{er=4,_k(e,t,r,s)}finally{er=a,Lu.transition=i}}function _k(e,t,r,s){if(xv){var a=y_(e,t,r,s);if(a===null)Xw(e,t,s,gv,r),GA(e,s);else if(aQ(a,e,t,r,s))s.stopPropagation();else if(GA(e,s),t&4&&-1<sQ.indexOf(e)){for(;a!==null;){var i=Mx(a);if(i!==null&&QL(i),i=y_(e,t,r,s),i===null&&Xw(e,t,s,gv,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else Xw(e,t,s,null,r)}}var gv=null;function y_(e,t,r,s){if(gv=null,e=bk(s),e=Pc(e),e!==null)if(t=Td(e),t===null)e=null;else if(r=t.tag,r===13){if(e=UL(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gv=e,null}function rF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YX()){case jk:return 1;case KL:return 4;case fv:case XX:return 16;case GL:return 536870912;default:return 16}default:return 16}}var xl=null,Sk=null,By=null;function nF(){if(By)return By;var e,t=Sk,r=t.length,s,a="value"in xl?xl.value:xl.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return By=a.slice(e,1<s?1-s:void 0)}function Vy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dg(){return!0}function XA(){return!1}function Ks(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Dg:XA,this.isPropagationStopped=XA,this}return Mr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dg)},persist:function(){},isPersistent:Dg}),t}var sm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ck=Ks(sm),Ox=Mr({},sm,{view:0,detail:0}),cQ=Ks(Ox),Vw,zw,Wm,kb=Mr({},Ox,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wm&&(Wm&&e.type==="mousemove"?(Vw=e.screenX-Wm.screenX,zw=e.screenY-Wm.screenY):zw=Vw=0,Wm=e),Vw)},movementY:function(e){return"movementY"in e?e.movementY:zw}}),QA=Ks(kb),dQ=Mr({},kb,{dataTransfer:0}),uQ=Ks(dQ),hQ=Mr({},Ox,{relatedTarget:0}),Uw=Ks(hQ),mQ=Mr({},sm,{animationName:0,elapsedTime:0,pseudoElement:0}),fQ=Ks(mQ),pQ=Mr({},sm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xQ=Ks(pQ),gQ=Mr({},sm,{data:0}),ZA=Ks(gQ),yQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bQ[e])?!!t[e]:!1}function kk(){return jQ}var wQ=Mr({},Ox,{key:function(e){if(e.key){var t=yQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kk,charCode:function(e){return e.type==="keypress"?Vy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NQ=Ks(wQ),_Q=Mr({},kb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JA=Ks(_Q),SQ=Mr({},Ox,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kk}),CQ=Ks(SQ),kQ=Mr({},sm,{propertyName:0,elapsedTime:0,pseudoElement:0}),TQ=Ks(kQ),EQ=Mr({},kb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PQ=Ks(EQ),AQ=[9,13,27,32],Tk=yo&&"CompositionEvent"in window,Ef=null;yo&&"documentMode"in document&&(Ef=document.documentMode);var OQ=yo&&"TextEvent"in window&&!Ef,sF=yo&&(!Tk||Ef&&8<Ef&&11>=Ef),e4=" ",t4=!1;function aF(e,t){switch(e){case"keyup":return AQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mu=!1;function MQ(e,t){switch(e){case"compositionend":return iF(t);case"keypress":return t.which!==32?null:(t4=!0,e4);case"textInput":return e=t.data,e===e4&&t4?null:e;default:return null}}function RQ(e,t){if(mu)return e==="compositionend"||!Tk&&aF(e,t)?(e=nF(),By=Sk=xl=null,mu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sF&&t.locale!=="ko"?null:t.data;default:return null}}var IQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!IQ[e.type]:t==="textarea"}function oF(e,t,r,s){LL(s),t=yv(t,"onChange"),0<t.length&&(r=new Ck("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Pf=null,sp=null;function DQ(e){yF(e,0)}function Tb(e){var t=xu(e);if(AL(t))return e}function $Q(e,t){if(e==="change")return t}var lF=!1;if(yo){var Ww;if(yo){var qw="oninput"in document;if(!qw){var n4=document.createElement("div");n4.setAttribute("oninput","return;"),qw=typeof n4.oninput=="function"}Ww=qw}else Ww=!1;lF=Ww&&(!document.documentMode||9<document.documentMode)}function s4(){Pf&&(Pf.detachEvent("onpropertychange",cF),sp=Pf=null)}function cF(e){if(e.propertyName==="value"&&Tb(sp)){var t=[];oF(t,sp,e,bk(e)),zL(DQ,t)}}function LQ(e,t,r){e==="focusin"?(s4(),Pf=t,sp=r,Pf.attachEvent("onpropertychange",cF)):e==="focusout"&&s4()}function FQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tb(sp)}function BQ(e,t){if(e==="click")return Tb(t)}function VQ(e,t){if(e==="input"||e==="change")return Tb(t)}function zQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ya=typeof Object.is=="function"?Object.is:zQ;function ap(e,t){if(Ya(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!e_.call(t,a)||!Ya(e[a],t[a]))return!1}return!0}function a4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i4(e,t){var r=a4(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=a4(r)}}function dF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uF(){for(var e=window,t=uv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=uv(e.document)}return t}function Ek(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function UQ(e){var t=uF(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dF(r.ownerDocument.documentElement,r)){if(s!==null&&Ek(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=i4(r,i);var o=i4(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WQ=yo&&"documentMode"in document&&11>=document.documentMode,fu=null,v_=null,Af=null,b_=!1;function o4(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;b_||fu==null||fu!==uv(s)||(s=fu,"selectionStart"in s&&Ek(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Af&&ap(Af,s)||(Af=s,s=yv(v_,"onSelect"),0<s.length&&(t=new Ck("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=fu)))}function $g(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var pu={animationend:$g("Animation","AnimationEnd"),animationiteration:$g("Animation","AnimationIteration"),animationstart:$g("Animation","AnimationStart"),transitionend:$g("Transition","TransitionEnd")},Hw={},hF={};yo&&(hF=document.createElement("div").style,"AnimationEvent"in window||(delete pu.animationend.animation,delete pu.animationiteration.animation,delete pu.animationstart.animation),"TransitionEvent"in window||delete pu.transitionend.transition);function Eb(e){if(Hw[e])return Hw[e];if(!pu[e])return e;var t=pu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in hF)return Hw[e]=t[r];return e}var mF=Eb("animationend"),fF=Eb("animationiteration"),pF=Eb("animationstart"),xF=Eb("transitionend"),gF=new Map,l4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xl(e,t){gF.set(e,t),kd(t,[e])}for(var Kw=0;Kw<l4.length;Kw++){var Gw=l4[Kw],qQ=Gw.toLowerCase(),HQ=Gw[0].toUpperCase()+Gw.slice(1);Xl(qQ,"on"+HQ)}Xl(mF,"onAnimationEnd");Xl(fF,"onAnimationIteration");Xl(pF,"onAnimationStart");Xl("dblclick","onDoubleClick");Xl("focusin","onFocus");Xl("focusout","onBlur");Xl(xF,"onTransitionEnd");uh("onMouseEnter",["mouseout","mouseover"]);uh("onMouseLeave",["mouseout","mouseover"]);uh("onPointerEnter",["pointerout","pointerover"]);uh("onPointerLeave",["pointerout","pointerover"]);kd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kd("onBeforeInput",["compositionend","keypress","textInput","paste"]);kd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(gf));function c4(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,qX(s,t,void 0,e),e.currentTarget=null}function yF(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;c4(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;c4(a,l,d),i=c}}}if(mv)throw e=p_,mv=!1,p_=null,e}function hr(e,t){var r=t[S_];r===void 0&&(r=t[S_]=new Set);var s=e+"__bubble";r.has(s)||(vF(t,e,2,!1),r.add(s))}function Yw(e,t,r){var s=0;t&&(s|=4),vF(r,e,s,t)}var Lg="_reactListening"+Math.random().toString(36).slice(2);function ip(e){if(!e[Lg]){e[Lg]=!0,CL.forEach(function(r){r!=="selectionchange"&&(KQ.has(r)||Yw(r,!1,e),Yw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lg]||(t[Lg]=!0,Yw("selectionchange",!1,t))}}function vF(e,t,r,s){switch(rF(t)){case 1:var a=oQ;break;case 4:a=lQ;break;default:a=_k}r=a.bind(null,t,r,e),a=void 0,!f_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Xw(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Pc(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}zL(function(){var d=i,u=bk(r),h=[];e:{var m=gF.get(e);if(m!==void 0){var f=Ck,p=e;switch(e){case"keypress":if(Vy(r)===0)break e;case"keydown":case"keyup":f=NQ;break;case"focusin":p="focus",f=Uw;break;case"focusout":p="blur",f=Uw;break;case"beforeblur":case"afterblur":f=Uw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=QA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=uQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=CQ;break;case mF:case fF:case pF:f=fQ;break;case xF:f=TQ;break;case"scroll":f=cQ;break;case"wheel":f=PQ;break;case"copy":case"cut":case"paste":f=xQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=JA}var g=(t&4)!==0,v=!g&&e==="scroll",j=g?m!==null?m+"Capture":null:m;g=[];for(var y=d,b;y!==null;){b=y;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,j!==null&&(w=ep(y,j),w!=null&&g.push(op(y,w,b)))),v)break;y=y.return}0<g.length&&(m=new f(m,p,null,r,u),h.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&r!==h_&&(p=r.relatedTarget||r.fromElement)&&(Pc(p)||p[vo]))break e;if((f||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=d,p=p?Pc(p):null,p!==null&&(v=Td(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=d),f!==p)){if(g=QA,w="onMouseLeave",j="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=JA,w="onPointerLeave",j="onPointerEnter",y="pointer"),v=f==null?m:xu(f),b=p==null?m:xu(p),m=new g(w,y+"leave",f,r,u),m.target=v,m.relatedTarget=b,w=null,Pc(u)===d&&(g=new g(j,y+"enter",p,r,u),g.target=b,g.relatedTarget=v,w=g),v=w,f&&p)t:{for(g=f,j=p,y=0,b=g;b;b=zd(b))y++;for(b=0,w=j;w;w=zd(w))b++;for(;0<y-b;)g=zd(g),y--;for(;0<b-y;)j=zd(j),b--;for(;y--;){if(g===j||j!==null&&g===j.alternate)break t;g=zd(g),j=zd(j)}g=null}else g=null;f!==null&&d4(h,m,f,g,!1),p!==null&&v!==null&&d4(h,v,p,g,!0)}}e:{if(m=d?xu(d):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var N=$Q;else if(r4(m))if(lF)N=VQ;else{N=FQ;var _=LQ}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=BQ);if(N&&(N=N(e,d))){oF(h,N,r,u);break e}_&&_(e,m,d),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&o_(m,"number",m.value)}switch(_=d?xu(d):window,e){case"focusin":(r4(_)||_.contentEditable==="true")&&(fu=_,v_=d,Af=null);break;case"focusout":Af=v_=fu=null;break;case"mousedown":b_=!0;break;case"contextmenu":case"mouseup":case"dragend":b_=!1,o4(h,r,u);break;case"selectionchange":if(WQ)break;case"keydown":case"keyup":o4(h,r,u)}var C;if(Tk)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else mu?aF(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(sF&&r.locale!=="ko"&&(mu||S!=="onCompositionStart"?S==="onCompositionEnd"&&mu&&(C=nF()):(xl=u,Sk="value"in xl?xl.value:xl.textContent,mu=!0)),_=yv(d,S),0<_.length&&(S=new ZA(S,e,null,r,u),h.push({event:S,listeners:_}),C?S.data=C:(C=iF(r),C!==null&&(S.data=C)))),(C=OQ?MQ(e,r):RQ(e,r))&&(d=yv(d,"onBeforeInput"),0<d.length&&(u=new ZA("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=C))}yF(h,t)})}function op(e,t,r){return{instance:e,listener:t,currentTarget:r}}function yv(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ep(e,r),i!=null&&s.unshift(op(e,i,a)),i=ep(e,t),i!=null&&s.push(op(e,i,a))),e=e.return}return s}function zd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function d4(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=ep(r,i),c!=null&&o.unshift(op(r,c,l))):a||(c=ep(r,i),c!=null&&o.push(op(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var GQ=/\r\n?/g,YQ=/\u0000|\uFFFD/g;function u4(e){return(typeof e=="string"?e:""+e).replace(GQ,`
`).replace(YQ,"")}function Fg(e,t,r){if(t=u4(t),u4(e)!==t&&r)throw Error(fe(425))}function vv(){}var j_=null,w_=null;function N_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var __=typeof setTimeout=="function"?setTimeout:void 0,XQ=typeof clearTimeout=="function"?clearTimeout:void 0,h4=typeof Promise=="function"?Promise:void 0,QQ=typeof queueMicrotask=="function"?queueMicrotask:typeof h4<"u"?function(e){return h4.resolve(null).then(e).catch(ZQ)}:__;function ZQ(e){setTimeout(function(){throw e})}function Qw(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),np(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);np(t)}function Sl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function m4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var am=Math.random().toString(36).slice(2),fi="__reactFiber$"+am,lp="__reactProps$"+am,vo="__reactContainer$"+am,S_="__reactEvents$"+am,JQ="__reactListeners$"+am,eZ="__reactHandles$"+am;function Pc(e){var t=e[fi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vo]||r[fi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=m4(e);e!==null;){if(r=e[fi])return r;e=m4(e)}return t}e=r,r=e.parentNode}return null}function Mx(e){return e=e[fi]||e[vo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function Pb(e){return e[lp]||null}var C_=[],gu=-1;function Ql(e){return{current:e}}function pr(e){0>gu||(e.current=C_[gu],C_[gu]=null,gu--)}function cr(e,t){gu++,C_[gu]=e.current,e.current=t}var $l={},Hn=Ql($l),vs=Ql(!1),id=$l;function hh(e,t){var r=e.type.contextTypes;if(!r)return $l;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bs(e){return e=e.childContextTypes,e!=null}function bv(){pr(vs),pr(Hn)}function f4(e,t,r){if(Hn.current!==$l)throw Error(fe(168));cr(Hn,t),cr(vs,r)}function bF(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(fe(108,LX(e)||"Unknown",a));return Mr({},r,s)}function jv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$l,id=Hn.current,cr(Hn,e),cr(vs,vs.current),!0}function p4(e,t,r){var s=e.stateNode;if(!s)throw Error(fe(169));r?(e=bF(e,t,id),s.__reactInternalMemoizedMergedChildContext=e,pr(vs),pr(Hn),cr(Hn,e)):pr(vs),cr(vs,r)}var to=null,Ab=!1,Zw=!1;function jF(e){to===null?to=[e]:to.push(e)}function tZ(e){Ab=!0,jF(e)}function Zl(){if(!Zw&&to!==null){Zw=!0;var e=0,t=er;try{var r=to;for(er=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}to=null,Ab=!1}catch(a){throw to!==null&&(to=to.slice(e+1)),HL(jk,Zl),a}finally{er=t,Zw=!1}}return null}var yu=[],vu=0,wv=null,Nv=0,ra=[],na=0,od=null,ao=1,io="";function bc(e,t){yu[vu++]=Nv,yu[vu++]=wv,wv=e,Nv=t}function wF(e,t,r){ra[na++]=ao,ra[na++]=io,ra[na++]=od,od=e;var s=ao;e=io;var a=32-Ha(s)-1;s&=~(1<<a),r+=1;var i=32-Ha(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,ao=1<<32-Ha(t)+a|r<<a|s,io=i+e}else ao=1<<i|r<<a|s,io=e}function Pk(e){e.return!==null&&(bc(e,1),wF(e,1,0))}function Ak(e){for(;e===wv;)wv=yu[--vu],yu[vu]=null,Nv=yu[--vu],yu[vu]=null;for(;e===od;)od=ra[--na],ra[na]=null,io=ra[--na],ra[na]=null,ao=ra[--na],ra[na]=null}var Ls=null,$s=null,yr=!1,Fa=null;function NF(e,t){var r=aa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function x4(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ls=e,$s=Sl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ls=e,$s=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=od!==null?{id:ao,overflow:io}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=aa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ls=e,$s=null,!0):!1;default:return!1}}function k_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function T_(e){if(yr){var t=$s;if(t){var r=t;if(!x4(e,t)){if(k_(e))throw Error(fe(418));t=Sl(r.nextSibling);var s=Ls;t&&x4(e,t)?NF(s,r):(e.flags=e.flags&-4097|2,yr=!1,Ls=e)}}else{if(k_(e))throw Error(fe(418));e.flags=e.flags&-4097|2,yr=!1,Ls=e}}}function g4(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ls=e}function Bg(e){if(e!==Ls)return!1;if(!yr)return g4(e),yr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!N_(e.type,e.memoizedProps)),t&&(t=$s)){if(k_(e))throw _F(),Error(fe(418));for(;t;)NF(e,t),t=Sl(t.nextSibling)}if(g4(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$s=Sl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$s=null}}else $s=Ls?Sl(e.stateNode.nextSibling):null;return!0}function _F(){for(var e=$s;e;)e=Sl(e.nextSibling)}function mh(){$s=Ls=null,yr=!1}function Ok(e){Fa===null?Fa=[e]:Fa.push(e)}var rZ=Mo.ReactCurrentBatchConfig;function qm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var s=r.stateNode}if(!s)throw Error(fe(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function Vg(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function y4(e){var t=e._init;return t(e._payload)}function SF(e){function t(j,y){if(e){var b=j.deletions;b===null?(j.deletions=[y],j.flags|=16):b.push(y)}}function r(j,y){if(!e)return null;for(;y!==null;)t(j,y),y=y.sibling;return null}function s(j,y){for(j=new Map;y!==null;)y.key!==null?j.set(y.key,y):j.set(y.index,y),y=y.sibling;return j}function a(j,y){return j=El(j,y),j.index=0,j.sibling=null,j}function i(j,y,b){return j.index=b,e?(b=j.alternate,b!==null?(b=b.index,b<y?(j.flags|=2,y):b):(j.flags|=2,y)):(j.flags|=1048576,y)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,y,b,w){return y===null||y.tag!==6?(y=a1(b,j.mode,w),y.return=j,y):(y=a(y,b),y.return=j,y)}function c(j,y,b,w){var N=b.type;return N===hu?u(j,y,b.props.children,w,b.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Qo&&y4(N)===y.type)?(w=a(y,b.props),w.ref=qm(j,y,b),w.return=j,w):(w=Gy(b.type,b.key,b.props,null,j.mode,w),w.ref=qm(j,y,b),w.return=j,w)}function d(j,y,b,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=i1(b,j.mode,w),y.return=j,y):(y=a(y,b.children||[]),y.return=j,y)}function u(j,y,b,w,N){return y===null||y.tag!==7?(y=Zc(b,j.mode,w,N),y.return=j,y):(y=a(y,b),y.return=j,y)}function h(j,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=a1(""+y,j.mode,b),y.return=j,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pg:return b=Gy(y.type,y.key,y.props,null,j.mode,b),b.ref=qm(j,null,y),b.return=j,b;case uu:return y=i1(y,j.mode,b),y.return=j,y;case Qo:var w=y._init;return h(j,w(y._payload),b)}if(pf(y)||Bm(y))return y=Zc(y,j.mode,b,null),y.return=j,y;Vg(j,y)}return null}function m(j,y,b,w){var N=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(j,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pg:return b.key===N?c(j,y,b,w):null;case uu:return b.key===N?d(j,y,b,w):null;case Qo:return N=b._init,m(j,y,N(b._payload),w)}if(pf(b)||Bm(b))return N!==null?null:u(j,y,b,w,null);Vg(j,b)}return null}function f(j,y,b,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return j=j.get(b)||null,l(y,j,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pg:return j=j.get(w.key===null?b:w.key)||null,c(y,j,w,N);case uu:return j=j.get(w.key===null?b:w.key)||null,d(y,j,w,N);case Qo:var _=w._init;return f(j,y,b,_(w._payload),N)}if(pf(w)||Bm(w))return j=j.get(b)||null,u(y,j,w,N,null);Vg(y,w)}return null}function p(j,y,b,w){for(var N=null,_=null,C=y,S=y=0,k=null;C!==null&&S<b.length;S++){C.index>S?(k=C,C=null):k=C.sibling;var E=m(j,C,b[S],w);if(E===null){C===null&&(C=k);break}e&&C&&E.alternate===null&&t(j,C),y=i(E,y,S),_===null?N=E:_.sibling=E,_=E,C=k}if(S===b.length)return r(j,C),yr&&bc(j,S),N;if(C===null){for(;S<b.length;S++)C=h(j,b[S],w),C!==null&&(y=i(C,y,S),_===null?N=C:_.sibling=C,_=C);return yr&&bc(j,S),N}for(C=s(j,C);S<b.length;S++)k=f(C,j,S,b[S],w),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?S:k.key),y=i(k,y,S),_===null?N=k:_.sibling=k,_=k);return e&&C.forEach(function(T){return t(j,T)}),yr&&bc(j,S),N}function g(j,y,b,w){var N=Bm(b);if(typeof N!="function")throw Error(fe(150));if(b=N.call(b),b==null)throw Error(fe(151));for(var _=N=null,C=y,S=y=0,k=null,E=b.next();C!==null&&!E.done;S++,E=b.next()){C.index>S?(k=C,C=null):k=C.sibling;var T=m(j,C,E.value,w);if(T===null){C===null&&(C=k);break}e&&C&&T.alternate===null&&t(j,C),y=i(T,y,S),_===null?N=T:_.sibling=T,_=T,C=k}if(E.done)return r(j,C),yr&&bc(j,S),N;if(C===null){for(;!E.done;S++,E=b.next())E=h(j,E.value,w),E!==null&&(y=i(E,y,S),_===null?N=E:_.sibling=E,_=E);return yr&&bc(j,S),N}for(C=s(j,C);!E.done;S++,E=b.next())E=f(C,j,S,E.value,w),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?S:E.key),y=i(E,y,S),_===null?N=E:_.sibling=E,_=E);return e&&C.forEach(function(A){return t(j,A)}),yr&&bc(j,S),N}function v(j,y,b,w){if(typeof b=="object"&&b!==null&&b.type===hu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Pg:e:{for(var N=b.key,_=y;_!==null;){if(_.key===N){if(N=b.type,N===hu){if(_.tag===7){r(j,_.sibling),y=a(_,b.props.children),y.return=j,j=y;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Qo&&y4(N)===_.type){r(j,_.sibling),y=a(_,b.props),y.ref=qm(j,_,b),y.return=j,j=y;break e}r(j,_);break}else t(j,_);_=_.sibling}b.type===hu?(y=Zc(b.props.children,j.mode,w,b.key),y.return=j,j=y):(w=Gy(b.type,b.key,b.props,null,j.mode,w),w.ref=qm(j,y,b),w.return=j,j=w)}return o(j);case uu:e:{for(_=b.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(j,y.sibling),y=a(y,b.children||[]),y.return=j,j=y;break e}else{r(j,y);break}else t(j,y);y=y.sibling}y=i1(b,j.mode,w),y.return=j,j=y}return o(j);case Qo:return _=b._init,v(j,y,_(b._payload),w)}if(pf(b))return p(j,y,b,w);if(Bm(b))return g(j,y,b,w);Vg(j,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(j,y.sibling),y=a(y,b),y.return=j,j=y):(r(j,y),y=a1(b,j.mode,w),y.return=j,j=y),o(j)):r(j,y)}return v}var fh=SF(!0),CF=SF(!1),_v=Ql(null),Sv=null,bu=null,Mk=null;function Rk(){Mk=bu=Sv=null}function Ik(e){var t=_v.current;pr(_v),e._currentValue=t}function E_(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Fu(e,t){Sv=e,Mk=bu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ps=!0),e.firstContext=null)}function fa(e){var t=e._currentValue;if(Mk!==e)if(e={context:e,memoizedValue:t,next:null},bu===null){if(Sv===null)throw Error(fe(308));bu=e,Sv.dependencies={lanes:0,firstContext:e}}else bu=bu.next=e;return t}var Ac=null;function Dk(e){Ac===null?Ac=[e]:Ac.push(e)}function kF(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Dk(t)):(r.next=a.next,a.next=r),t.interleaved=r,bo(e,s)}function bo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Zo=!1;function $k(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ho(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cl(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Rt&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,bo(e,r)}return a=s.interleaved,a===null?(t.next=t,Dk(s)):(t.next=a.next,a.next=t),s.interleaved=t,bo(e,r)}function zy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,wk(e,r)}}function v4(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Cv(e,t,r,s){var a=e.updateQueue;Zo=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,f=l.eventTime;if((s&m)===m){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(m=t,f=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(f,h,m);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,m=typeof p=="function"?p.call(f,h,m):p,m==null)break e;h=Mr({},h,m);break e;case 2:Zo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=h):u=u.next=f,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);cd|=o,e.lanes=o,e.memoizedState=h}}function b4(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(fe(191,a));a.call(s)}}}var Rx={},wi=Ql(Rx),cp=Ql(Rx),dp=Ql(Rx);function Oc(e){if(e===Rx)throw Error(fe(174));return e}function Lk(e,t){switch(cr(dp,t),cr(cp,e),cr(wi,Rx),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:c_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=c_(t,e)}pr(wi),cr(wi,t)}function ph(){pr(wi),pr(cp),pr(dp)}function EF(e){Oc(dp.current);var t=Oc(wi.current),r=c_(t,e.type);t!==r&&(cr(cp,e),cr(wi,r))}function Fk(e){cp.current===e&&(pr(wi),pr(cp))}var Tr=Ql(0);function kv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jw=[];function Bk(){for(var e=0;e<Jw.length;e++)Jw[e]._workInProgressVersionPrimary=null;Jw.length=0}var Uy=Mo.ReactCurrentDispatcher,e1=Mo.ReactCurrentBatchConfig,ld=0,Ar=null,gn=null,Sn=null,Tv=!1,Of=!1,up=0,nZ=0;function Ln(){throw Error(fe(321))}function Vk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ya(e[r],t[r]))return!1;return!0}function zk(e,t,r,s,a,i){if(ld=i,Ar=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Uy.current=e===null||e.memoizedState===null?oZ:lZ,e=r(s,a),Of){i=0;do{if(Of=!1,up=0,25<=i)throw Error(fe(301));i+=1,Sn=gn=null,t.updateQueue=null,Uy.current=cZ,e=r(s,a)}while(Of)}if(Uy.current=Ev,t=gn!==null&&gn.next!==null,ld=0,Sn=gn=Ar=null,Tv=!1,t)throw Error(fe(300));return e}function Uk(){var e=up!==0;return up=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Ar.memoizedState=Sn=e:Sn=Sn.next=e,Sn}function pa(){if(gn===null){var e=Ar.alternate;e=e!==null?e.memoizedState:null}else e=gn.next;var t=Sn===null?Ar.memoizedState:Sn.next;if(t!==null)Sn=t,gn=e;else{if(e===null)throw Error(fe(310));gn=e,e={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},Sn===null?Ar.memoizedState=Sn=e:Sn=Sn.next=e}return Sn}function hp(e,t){return typeof t=="function"?t(e):t}function t1(e){var t=pa(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var s=gn,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ld&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,Ar.lanes|=u,cd|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Ya(s,t.memoizedState)||(ps=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ar.lanes|=i,cd|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function r1(e){var t=pa(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ya(i,t.memoizedState)||(ps=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function PF(){}function AF(e,t){var r=Ar,s=pa(),a=t(),i=!Ya(s.memoizedState,a);if(i&&(s.memoizedState=a,ps=!0),s=s.queue,Wk(RF.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||Sn!==null&&Sn.memoizedState.tag&1){if(r.flags|=2048,mp(9,MF.bind(null,r,s,a,t),void 0,null),Cn===null)throw Error(fe(349));ld&30||OF(r,t,a)}return a}function OF(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ar.updateQueue,t===null?(t={lastEffect:null,stores:null},Ar.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function MF(e,t,r,s){t.value=r,t.getSnapshot=s,IF(t)&&DF(e)}function RF(e,t,r){return r(function(){IF(t)&&DF(e)})}function IF(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ya(e,r)}catch{return!0}}function DF(e){var t=bo(e,1);t!==null&&Ka(t,e,1,-1)}function j4(e){var t=ci();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:e},t.queue=e,e=e.dispatch=iZ.bind(null,Ar,e),[t.memoizedState,e]}function mp(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Ar.updateQueue,t===null?(t={lastEffect:null,stores:null},Ar.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function $F(){return pa().memoizedState}function Wy(e,t,r,s){var a=ci();Ar.flags|=e,a.memoizedState=mp(1|t,r,void 0,s===void 0?null:s)}function Ob(e,t,r,s){var a=pa();s=s===void 0?null:s;var i=void 0;if(gn!==null){var o=gn.memoizedState;if(i=o.destroy,s!==null&&Vk(s,o.deps)){a.memoizedState=mp(t,r,i,s);return}}Ar.flags|=e,a.memoizedState=mp(1|t,r,i,s)}function w4(e,t){return Wy(8390656,8,e,t)}function Wk(e,t){return Ob(2048,8,e,t)}function LF(e,t){return Ob(4,2,e,t)}function FF(e,t){return Ob(4,4,e,t)}function BF(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function VF(e,t,r){return r=r!=null?r.concat([e]):null,Ob(4,4,BF.bind(null,t,e),r)}function qk(){}function zF(e,t){var r=pa();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Vk(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function UF(e,t){var r=pa();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Vk(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function WF(e,t,r){return ld&21?(Ya(r,t)||(r=YL(),Ar.lanes|=r,cd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ps=!0),e.memoizedState=r)}function sZ(e,t){var r=er;er=r!==0&&4>r?r:4,e(!0);var s=e1.transition;e1.transition={};try{e(!1),t()}finally{er=r,e1.transition=s}}function qF(){return pa().memoizedState}function aZ(e,t,r){var s=Tl(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},HF(e))KF(t,r);else if(r=kF(e,t,r,s),r!==null){var a=ns();Ka(r,e,s,a),GF(r,t,s)}}function iZ(e,t,r){var s=Tl(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(HF(e))KF(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ya(l,o)){var c=t.interleaved;c===null?(a.next=a,Dk(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=kF(e,t,a,s),r!==null&&(a=ns(),Ka(r,e,s,a),GF(r,t,s))}}function HF(e){var t=e.alternate;return e===Ar||t!==null&&t===Ar}function KF(e,t){Of=Tv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function GF(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,wk(e,r)}}var Ev={readContext:fa,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},oZ={readContext:fa,useCallback:function(e,t){return ci().memoizedState=[e,t===void 0?null:t],e},useContext:fa,useEffect:w4,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Wy(4194308,4,BF.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Wy(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wy(4,2,e,t)},useMemo:function(e,t){var r=ci();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=ci();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=aZ.bind(null,Ar,e),[s.memoizedState,e]},useRef:function(e){var t=ci();return e={current:e},t.memoizedState=e},useState:j4,useDebugValue:qk,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=j4(!1),t=e[0];return e=sZ.bind(null,e[1]),ci().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Ar,a=ci();if(yr){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),Cn===null)throw Error(fe(349));ld&30||OF(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,w4(RF.bind(null,s,i,e),[e]),s.flags|=2048,mp(9,MF.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=ci(),t=Cn.identifierPrefix;if(yr){var r=io,s=ao;r=(s&~(1<<32-Ha(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=up++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=nZ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lZ={readContext:fa,useCallback:zF,useContext:fa,useEffect:Wk,useImperativeHandle:VF,useInsertionEffect:LF,useLayoutEffect:FF,useMemo:UF,useReducer:t1,useRef:$F,useState:function(){return t1(hp)},useDebugValue:qk,useDeferredValue:function(e){var t=pa();return WF(t,gn.memoizedState,e)},useTransition:function(){var e=t1(hp)[0],t=pa().memoizedState;return[e,t]},useMutableSource:PF,useSyncExternalStore:AF,useId:qF,unstable_isNewReconciler:!1},cZ={readContext:fa,useCallback:zF,useContext:fa,useEffect:Wk,useImperativeHandle:VF,useInsertionEffect:LF,useLayoutEffect:FF,useMemo:UF,useReducer:r1,useRef:$F,useState:function(){return r1(hp)},useDebugValue:qk,useDeferredValue:function(e){var t=pa();return gn===null?t.memoizedState=e:WF(t,gn.memoizedState,e)},useTransition:function(){var e=r1(hp)[0],t=pa().memoizedState;return[e,t]},useMutableSource:PF,useSyncExternalStore:AF,useId:qF,unstable_isNewReconciler:!1};function Oa(e,t){if(e&&e.defaultProps){t=Mr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function P_(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:Mr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Mb={isMounted:function(e){return(e=e._reactInternals)?Td(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=ns(),a=Tl(e),i=ho(s,a);i.payload=t,r!=null&&(i.callback=r),t=Cl(e,i,a),t!==null&&(Ka(t,e,a,s),zy(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=ns(),a=Tl(e),i=ho(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Cl(e,i,a),t!==null&&(Ka(t,e,a,s),zy(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ns(),s=Tl(e),a=ho(r,s);a.tag=2,t!=null&&(a.callback=t),t=Cl(e,a,s),t!==null&&(Ka(t,e,s,r),zy(t,e,s))}};function N4(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!ap(r,s)||!ap(a,i):!0}function YF(e,t,r){var s=!1,a=$l,i=t.contextType;return typeof i=="object"&&i!==null?i=fa(i):(a=bs(t)?id:Hn.current,s=t.contextTypes,i=(s=s!=null)?hh(e,a):$l),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mb,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function _4(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Mb.enqueueReplaceState(t,t.state,null)}function A_(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},$k(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=fa(i):(i=bs(t)?id:Hn.current,a.context=hh(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(P_(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Mb.enqueueReplaceState(a,a.state,null),Cv(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function xh(e,t){try{var r="",s=t;do r+=$X(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function n1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function O_(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var dZ=typeof WeakMap=="function"?WeakMap:Map;function XF(e,t,r){r=ho(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Av||(Av=!0,z_=s),O_(e,t)},r}function QF(e,t,r){r=ho(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){O_(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){O_(e,t),typeof s!="function"&&(kl===null?kl=new Set([this]):kl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function S4(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new dZ;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=_Z.bind(null,e,t,r),t.then(e,e))}function C4(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function k4(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ho(-1,1),t.tag=2,Cl(r,t,1))),r.lanes|=1),e)}var uZ=Mo.ReactCurrentOwner,ps=!1;function Qn(e,t,r,s){t.child=e===null?CF(t,null,r,s):fh(t,e.child,r,s)}function T4(e,t,r,s,a){r=r.render;var i=t.ref;return Fu(t,a),s=zk(e,t,r,s,i,a),r=Uk(),e!==null&&!ps?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,jo(e,t,a)):(yr&&r&&Pk(t),t.flags|=1,Qn(e,t,s,a),t.child)}function E4(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!Jk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,ZF(e,t,i,s,a)):(e=Gy(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ap,r(o,s)&&e.ref===t.ref)return jo(e,t,a)}return t.flags|=1,e=El(i,s),e.ref=t.ref,e.return=t,t.child=e}function ZF(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(ap(i,s)&&e.ref===t.ref)if(ps=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(ps=!0);else return t.lanes=e.lanes,jo(e,t,a)}return M_(e,t,r,s,a)}function JF(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},cr(wu,Ps),Ps|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,cr(wu,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,cr(wu,Ps),Ps|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,cr(wu,Ps),Ps|=s;return Qn(e,t,a,r),t.child}function e6(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function M_(e,t,r,s,a){var i=bs(r)?id:Hn.current;return i=hh(t,i),Fu(t,a),r=zk(e,t,r,s,i,a),s=Uk(),e!==null&&!ps?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,jo(e,t,a)):(yr&&s&&Pk(t),t.flags|=1,Qn(e,t,r,a),t.child)}function P4(e,t,r,s,a){if(bs(r)){var i=!0;jv(t)}else i=!1;if(Fu(t,a),t.stateNode===null)qy(e,t),YF(t,r,s),A_(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=fa(d):(d=bs(r)?id:Hn.current,d=hh(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&_4(t,o,s,d),Zo=!1;var m=t.memoizedState;o.state=m,Cv(t,s,o,a),c=t.memoizedState,l!==s||m!==c||vs.current||Zo?(typeof u=="function"&&(P_(t,r,u,s),c=t.memoizedState),(l=Zo||N4(t,r,l,s,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,TF(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Oa(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=fa(c):(c=bs(r)?id:Hn.current,c=hh(t,c));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&_4(t,o,s,c),Zo=!1,m=t.memoizedState,o.state=m,Cv(t,s,o,a);var p=t.memoizedState;l!==h||m!==p||vs.current||Zo?(typeof f=="function"&&(P_(t,r,f,s),p=t.memoizedState),(d=Zo||N4(t,r,d,s,m,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=p),o.props=s,o.state=p,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return R_(e,t,r,s,i,a)}function R_(e,t,r,s,a,i){e6(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&p4(t,r,!1),jo(e,t,i);s=t.stateNode,uZ.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=fh(t,e.child,null,i),t.child=fh(t,null,l,i)):Qn(e,t,l,i),t.memoizedState=s.state,a&&p4(t,r,!0),t.child}function t6(e){var t=e.stateNode;t.pendingContext?f4(e,t.pendingContext,t.pendingContext!==t.context):t.context&&f4(e,t.context,!1),Lk(e,t.containerInfo)}function A4(e,t,r,s,a){return mh(),Ok(a),t.flags|=256,Qn(e,t,r,s),t.child}var I_={dehydrated:null,treeContext:null,retryLane:0};function D_(e){return{baseLanes:e,cachePool:null,transitions:null}}function r6(e,t,r){var s=t.pendingProps,a=Tr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),cr(Tr,a&1),e===null)return T_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Db(o,s,0,null),e=Zc(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=D_(r),t.memoizedState=I_,e):Hk(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return hZ(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=El(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=El(l,i):(i=Zc(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?D_(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=I_,s}return i=e.child,e=i.sibling,s=El(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Hk(e,t){return t=Db({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zg(e,t,r,s){return s!==null&&Ok(s),fh(t,e.child,null,r),e=Hk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hZ(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=n1(Error(fe(422))),zg(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=Db({mode:"visible",children:s.children},a,0,null),i=Zc(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&fh(t,e.child,null,o),t.child.memoizedState=D_(o),t.memoizedState=I_,i);if(!(t.mode&1))return zg(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(fe(419)),s=n1(i,s,void 0),zg(e,t,o,s)}if(l=(o&e.childLanes)!==0,ps||l){if(s=Cn,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,bo(e,a),Ka(s,e,a,-1))}return Zk(),s=n1(Error(fe(421))),zg(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=SZ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,$s=Sl(a.nextSibling),Ls=t,yr=!0,Fa=null,e!==null&&(ra[na++]=ao,ra[na++]=io,ra[na++]=od,ao=e.id,io=e.overflow,od=t),t=Hk(t,s.children),t.flags|=4096,t)}function O4(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),E_(e.return,t,r)}function s1(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function n6(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Qn(e,t,s.children,r),s=Tr.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&O4(e,r,t);else if(e.tag===19)O4(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(cr(Tr,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&kv(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),s1(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&kv(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}s1(t,!0,r,null,i);break;case"together":s1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),cd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=El(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=El(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mZ(e,t,r){switch(t.tag){case 3:t6(t),mh();break;case 5:EF(t);break;case 1:bs(t.type)&&jv(t);break;case 4:Lk(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;cr(_v,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(cr(Tr,Tr.current&1),t.flags|=128,null):r&t.child.childLanes?r6(e,t,r):(cr(Tr,Tr.current&1),e=jo(e,t,r),e!==null?e.sibling:null);cr(Tr,Tr.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return n6(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),cr(Tr,Tr.current),s)break;return null;case 22:case 23:return t.lanes=0,JF(e,t,r)}return jo(e,t,r)}var s6,$_,a6,i6;s6=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};$_=function(){};a6=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Oc(wi.current);var i=null;switch(r){case"input":a=a_(e,a),s=a_(e,s),i=[];break;case"select":a=Mr({},a,{value:void 0}),s=Mr({},s,{value:void 0}),i=[];break;case"textarea":a=l_(e,a),s=l_(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=vv)}d_(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Zf.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Zf.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&hr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};i6=function(e,t,r,s){r!==s&&(t.flags|=4)};function Hm(e,t){if(!yr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Fn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function fZ(e,t,r){var s=t.pendingProps;switch(Ak(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(t),null;case 1:return bs(t.type)&&bv(),Fn(t),null;case 3:return s=t.stateNode,ph(),pr(vs),pr(Hn),Bk(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Bg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fa!==null&&(q_(Fa),Fa=null))),$_(e,t),Fn(t),null;case 5:Fk(t);var a=Oc(dp.current);if(r=t.type,e!==null&&t.stateNode!=null)a6(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(fe(166));return Fn(t),null}if(e=Oc(wi.current),Bg(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[fi]=t,s[lp]=i,e=(t.mode&1)!==0,r){case"dialog":hr("cancel",s),hr("close",s);break;case"iframe":case"object":case"embed":hr("load",s);break;case"video":case"audio":for(a=0;a<gf.length;a++)hr(gf[a],s);break;case"source":hr("error",s);break;case"img":case"image":case"link":hr("error",s),hr("load",s);break;case"details":hr("toggle",s);break;case"input":VA(s,i),hr("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},hr("invalid",s);break;case"textarea":UA(s,i),hr("invalid",s)}d_(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Fg(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Fg(s.textContent,l,e),a=["children",""+l]):Zf.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&hr("scroll",s)}switch(r){case"input":Ag(s),zA(s,i,!0);break;case"textarea":Ag(s),WA(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=vv)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=RL(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[fi]=t,e[lp]=s,s6(e,t,!1,!1),t.stateNode=e;e:{switch(o=u_(r,s),r){case"dialog":hr("cancel",e),hr("close",e),a=s;break;case"iframe":case"object":case"embed":hr("load",e),a=s;break;case"video":case"audio":for(a=0;a<gf.length;a++)hr(gf[a],e);a=s;break;case"source":hr("error",e),a=s;break;case"img":case"image":case"link":hr("error",e),hr("load",e),a=s;break;case"details":hr("toggle",e),a=s;break;case"input":VA(e,s),a=a_(e,s),hr("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Mr({},s,{value:void 0}),hr("invalid",e);break;case"textarea":UA(e,s),a=l_(e,s),hr("invalid",e);break;default:a=s}d_(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?$L(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&IL(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Jf(e,c):typeof c=="number"&&Jf(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&hr("scroll",e):c!=null&&xk(e,i,c,o))}switch(r){case"input":Ag(e),zA(e,s,!1);break;case"textarea":Ag(e),WA(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Dl(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Iu(e,!!s.multiple,i,!1):s.defaultValue!=null&&Iu(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=vv)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fn(t),null;case 6:if(e&&t.stateNode!=null)i6(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(fe(166));if(r=Oc(dp.current),Oc(wi.current),Bg(t)){if(s=t.stateNode,r=t.memoizedProps,s[fi]=t,(i=s.nodeValue!==r)&&(e=Ls,e!==null))switch(e.tag){case 3:Fg(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fg(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[fi]=t,t.stateNode=s}return Fn(t),null;case 13:if(pr(Tr),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yr&&$s!==null&&t.mode&1&&!(t.flags&128))_F(),mh(),t.flags|=98560,i=!1;else if(i=Bg(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(fe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(fe(317));i[fi]=t}else mh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fn(t),i=!1}else Fa!==null&&(q_(Fa),Fa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Tr.current&1?bn===0&&(bn=3):Zk())),t.updateQueue!==null&&(t.flags|=4),Fn(t),null);case 4:return ph(),$_(e,t),e===null&&ip(t.stateNode.containerInfo),Fn(t),null;case 10:return Ik(t.type._context),Fn(t),null;case 17:return bs(t.type)&&bv(),Fn(t),null;case 19:if(pr(Tr),i=t.memoizedState,i===null)return Fn(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Hm(i,!1);else{if(bn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=kv(e),o!==null){for(t.flags|=128,Hm(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return cr(Tr,Tr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Kr()>gh&&(t.flags|=128,s=!0,Hm(i,!1),t.lanes=4194304)}else{if(!s)if(e=kv(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!yr)return Fn(t),null}else 2*Kr()-i.renderingStartTime>gh&&r!==1073741824&&(t.flags|=128,s=!0,Hm(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Kr(),t.sibling=null,r=Tr.current,cr(Tr,s?r&1|2:r&1),t):(Fn(t),null);case 22:case 23:return Qk(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ps&1073741824&&(Fn(t),t.subtreeFlags&6&&(t.flags|=8192)):Fn(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function pZ(e,t){switch(Ak(t),t.tag){case 1:return bs(t.type)&&bv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ph(),pr(vs),pr(Hn),Bk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fk(t),null;case 13:if(pr(Tr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));mh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pr(Tr),null;case 4:return ph(),null;case 10:return Ik(t.type._context),null;case 22:case 23:return Qk(),null;case 24:return null;default:return null}}var Ug=!1,zn=!1,xZ=typeof WeakSet=="function"?WeakSet:Set,Le=null;function ju(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Vr(e,t,s)}else r.current=null}function L_(e,t,r){try{r()}catch(s){Vr(e,t,s)}}var M4=!1;function gZ(e,t){if(j_=xv,e=uF(),Ek(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var f;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===s&&(c=o),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(w_={focusedElem:e,selectionRange:r},xv=!1,Le=t;Le!==null;)if(t=Le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Le=e;else for(;Le!==null;){t=Le;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,j=t.stateNode,y=j.getSnapshotBeforeUpdate(t.elementType===t.type?g:Oa(t.type,g),v);j.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(w){Vr(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Le=e;break}Le=t.return}return p=M4,M4=!1,p}function Mf(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&L_(t,r,i)}a=a.next}while(a!==s)}}function Rb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function F_(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function o6(e){var t=e.alternate;t!==null&&(e.alternate=null,o6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fi],delete t[lp],delete t[S_],delete t[JQ],delete t[eZ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function l6(e){return e.tag===5||e.tag===3||e.tag===4}function R4(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||l6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function B_(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=vv));else if(s!==4&&(e=e.child,e!==null))for(B_(e,t,r),e=e.sibling;e!==null;)B_(e,t,r),e=e.sibling}function V_(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(V_(e,t,r),e=e.sibling;e!==null;)V_(e,t,r),e=e.sibling}var On=null,Da=!1;function Uo(e,t,r){for(r=r.child;r!==null;)c6(e,t,r),r=r.sibling}function c6(e,t,r){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(Cb,r)}catch{}switch(r.tag){case 5:zn||ju(r,t);case 6:var s=On,a=Da;On=null,Uo(e,t,r),On=s,Da=a,On!==null&&(Da?(e=On,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):On.removeChild(r.stateNode));break;case 18:On!==null&&(Da?(e=On,r=r.stateNode,e.nodeType===8?Qw(e.parentNode,r):e.nodeType===1&&Qw(e,r),np(e)):Qw(On,r.stateNode));break;case 4:s=On,a=Da,On=r.stateNode.containerInfo,Da=!0,Uo(e,t,r),On=s,Da=a;break;case 0:case 11:case 14:case 15:if(!zn&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&L_(r,t,o),a=a.next}while(a!==s)}Uo(e,t,r);break;case 1:if(!zn&&(ju(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Vr(r,t,l)}Uo(e,t,r);break;case 21:Uo(e,t,r);break;case 22:r.mode&1?(zn=(s=zn)||r.memoizedState!==null,Uo(e,t,r),zn=s):Uo(e,t,r);break;default:Uo(e,t,r)}}function I4(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new xZ),t.forEach(function(s){var a=CZ.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Sa(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:On=l.stateNode,Da=!1;break e;case 3:On=l.stateNode.containerInfo,Da=!0;break e;case 4:On=l.stateNode.containerInfo,Da=!0;break e}l=l.return}if(On===null)throw Error(fe(160));c6(i,o,a),On=null,Da=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Vr(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)d6(t,e),t=t.sibling}function d6(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sa(t,e),li(e),s&4){try{Mf(3,e,e.return),Rb(3,e)}catch(g){Vr(e,e.return,g)}try{Mf(5,e,e.return)}catch(g){Vr(e,e.return,g)}}break;case 1:Sa(t,e),li(e),s&512&&r!==null&&ju(r,r.return);break;case 5:if(Sa(t,e),li(e),s&512&&r!==null&&ju(r,r.return),e.flags&32){var a=e.stateNode;try{Jf(a,"")}catch(g){Vr(e,e.return,g)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&OL(a,i),u_(l,o);var d=u_(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?$L(a,h):u==="dangerouslySetInnerHTML"?IL(a,h):u==="children"?Jf(a,h):xk(a,u,h,d)}switch(l){case"input":i_(a,i);break;case"textarea":ML(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Iu(a,!!i.multiple,f,!1):m!==!!i.multiple&&(i.defaultValue!=null?Iu(a,!!i.multiple,i.defaultValue,!0):Iu(a,!!i.multiple,i.multiple?[]:"",!1))}a[lp]=i}catch(g){Vr(e,e.return,g)}}break;case 6:if(Sa(t,e),li(e),s&4){if(e.stateNode===null)throw Error(fe(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Vr(e,e.return,g)}}break;case 3:if(Sa(t,e),li(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{np(t.containerInfo)}catch(g){Vr(e,e.return,g)}break;case 4:Sa(t,e),li(e);break;case 13:Sa(t,e),li(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Yk=Kr())),s&4&&I4(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(zn=(d=zn)||u,Sa(t,e),zn=d):Sa(t,e),li(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Le=e,u=e.child;u!==null;){for(h=Le=u;Le!==null;){switch(m=Le,f=m.child,m.tag){case 0:case 11:case 14:case 15:Mf(4,m,m.return);break;case 1:ju(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){s=m,r=m.return;try{t=s,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Vr(s,r,g)}}break;case 5:ju(m,m.return);break;case 22:if(m.memoizedState!==null){$4(h);continue}}f!==null?(f.return=m,Le=f):$4(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=DL("display",o))}catch(g){Vr(e,e.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Vr(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Sa(t,e),li(e),s&4&&I4(e);break;case 21:break;default:Sa(t,e),li(e)}}function li(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(l6(r)){var s=r;break e}r=r.return}throw Error(fe(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Jf(a,""),s.flags&=-33);var i=R4(e);V_(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=R4(e);B_(e,l,o);break;default:throw Error(fe(161))}}catch(c){Vr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yZ(e,t,r){Le=e,u6(e)}function u6(e,t,r){for(var s=(e.mode&1)!==0;Le!==null;){var a=Le,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Ug;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||zn;l=Ug;var d=zn;if(Ug=o,(zn=c)&&!d)for(Le=a;Le!==null;)o=Le,c=o.child,o.tag===22&&o.memoizedState!==null?L4(a):c!==null?(c.return=o,Le=c):L4(a);for(;i!==null;)Le=i,u6(i),i=i.sibling;Le=a,Ug=l,zn=d}D4(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Le=i):D4(e)}}function D4(e){for(;Le!==null;){var t=Le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zn||Rb(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!zn)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Oa(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&b4(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}b4(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&np(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}zn||t.flags&512&&F_(t)}catch(m){Vr(t,t.return,m)}}if(t===e){Le=null;break}if(r=t.sibling,r!==null){r.return=t.return,Le=r;break}Le=t.return}}function $4(e){for(;Le!==null;){var t=Le;if(t===e){Le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Le=r;break}Le=t.return}}function L4(e){for(;Le!==null;){var t=Le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Rb(4,t)}catch(c){Vr(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Vr(t,a,c)}}var i=t.return;try{F_(t)}catch(c){Vr(t,i,c)}break;case 5:var o=t.return;try{F_(t)}catch(c){Vr(t,o,c)}}}catch(c){Vr(t,t.return,c)}if(t===e){Le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Le=l;break}Le=t.return}}var vZ=Math.ceil,Pv=Mo.ReactCurrentDispatcher,Kk=Mo.ReactCurrentOwner,la=Mo.ReactCurrentBatchConfig,Rt=0,Cn=null,an=null,In=0,Ps=0,wu=Ql(0),bn=0,fp=null,cd=0,Ib=0,Gk=0,Rf=null,fs=null,Yk=0,gh=1/0,Ji=null,Av=!1,z_=null,kl=null,Wg=!1,gl=null,Ov=0,If=0,U_=null,Hy=-1,Ky=0;function ns(){return Rt&6?Kr():Hy!==-1?Hy:Hy=Kr()}function Tl(e){return e.mode&1?Rt&2&&In!==0?In&-In:rZ.transition!==null?(Ky===0&&(Ky=YL()),Ky):(e=er,e!==0||(e=window.event,e=e===void 0?16:rF(e.type)),e):1}function Ka(e,t,r,s){if(50<If)throw If=0,U_=null,Error(fe(185));Ax(e,r,s),(!(Rt&2)||e!==Cn)&&(e===Cn&&(!(Rt&2)&&(Ib|=r),bn===4&&nl(e,In)),js(e,s),r===1&&Rt===0&&!(t.mode&1)&&(gh=Kr()+500,Ab&&Zl()))}function js(e,t){var r=e.callbackNode;rQ(e,t);var s=pv(e,e===Cn?In:0);if(s===0)r!==null&&KA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&KA(r),t===1)e.tag===0?tZ(F4.bind(null,e)):jF(F4.bind(null,e)),QQ(function(){!(Rt&6)&&Zl()}),r=null;else{switch(XL(s)){case 1:r=jk;break;case 4:r=KL;break;case 16:r=fv;break;case 536870912:r=GL;break;default:r=fv}r=v6(r,h6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function h6(e,t){if(Hy=-1,Ky=0,Rt&6)throw Error(fe(327));var r=e.callbackNode;if(Bu()&&e.callbackNode!==r)return null;var s=pv(e,e===Cn?In:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Mv(e,s);else{t=s;var a=Rt;Rt|=2;var i=f6();(Cn!==e||In!==t)&&(Ji=null,gh=Kr()+500,Qc(e,t));do try{wZ();break}catch(l){m6(e,l)}while(!0);Rk(),Pv.current=i,Rt=a,an!==null?t=0:(Cn=null,In=0,t=bn)}if(t!==0){if(t===2&&(a=x_(e),a!==0&&(s=a,t=W_(e,a))),t===1)throw r=fp,Qc(e,0),nl(e,s),js(e,Kr()),r;if(t===6)nl(e,s);else{if(a=e.current.alternate,!(s&30)&&!bZ(a)&&(t=Mv(e,s),t===2&&(i=x_(e),i!==0&&(s=i,t=W_(e,i))),t===1))throw r=fp,Qc(e,0),nl(e,s),js(e,Kr()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(fe(345));case 2:jc(e,fs,Ji);break;case 3:if(nl(e,s),(s&130023424)===s&&(t=Yk+500-Kr(),10<t)){if(pv(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){ns(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=__(jc.bind(null,e,fs,Ji),t);break}jc(e,fs,Ji);break;case 4:if(nl(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Ha(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Kr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*vZ(s/1960))-s,10<s){e.timeoutHandle=__(jc.bind(null,e,fs,Ji),s);break}jc(e,fs,Ji);break;case 5:jc(e,fs,Ji);break;default:throw Error(fe(329))}}}return js(e,Kr()),e.callbackNode===r?h6.bind(null,e):null}function W_(e,t){var r=Rf;return e.current.memoizedState.isDehydrated&&(Qc(e,t).flags|=256),e=Mv(e,t),e!==2&&(t=fs,fs=r,t!==null&&q_(t)),e}function q_(e){fs===null?fs=e:fs.push.apply(fs,e)}function bZ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!Ya(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nl(e,t){for(t&=~Gk,t&=~Ib,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ha(t),s=1<<r;e[r]=-1,t&=~s}}function F4(e){if(Rt&6)throw Error(fe(327));Bu();var t=pv(e,0);if(!(t&1))return js(e,Kr()),null;var r=Mv(e,t);if(e.tag!==0&&r===2){var s=x_(e);s!==0&&(t=s,r=W_(e,s))}if(r===1)throw r=fp,Qc(e,0),nl(e,t),js(e,Kr()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,fs,Ji),js(e,Kr()),null}function Xk(e,t){var r=Rt;Rt|=1;try{return e(t)}finally{Rt=r,Rt===0&&(gh=Kr()+500,Ab&&Zl())}}function dd(e){gl!==null&&gl.tag===0&&!(Rt&6)&&Bu();var t=Rt;Rt|=1;var r=la.transition,s=er;try{if(la.transition=null,er=1,e)return e()}finally{er=s,la.transition=r,Rt=t,!(Rt&6)&&Zl()}}function Qk(){Ps=wu.current,pr(wu)}function Qc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,XQ(r)),an!==null)for(r=an.return;r!==null;){var s=r;switch(Ak(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&bv();break;case 3:ph(),pr(vs),pr(Hn),Bk();break;case 5:Fk(s);break;case 4:ph();break;case 13:pr(Tr);break;case 19:pr(Tr);break;case 10:Ik(s.type._context);break;case 22:case 23:Qk()}r=r.return}if(Cn=e,an=e=El(e.current,null),In=Ps=t,bn=0,fp=null,Gk=Ib=cd=0,fs=Rf=null,Ac!==null){for(t=0;t<Ac.length;t++)if(r=Ac[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}Ac=null}return e}function m6(e,t){do{var r=an;try{if(Rk(),Uy.current=Ev,Tv){for(var s=Ar.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Tv=!1}if(ld=0,Sn=gn=Ar=null,Of=!1,up=0,Kk.current=null,r===null||r.return===null){bn=1,fp=t,an=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=In,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=C4(o);if(f!==null){f.flags&=-257,k4(f,o,l,i,t),f.mode&1&&S4(i,d,t),t=f,c=d;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){S4(i,d,t),Zk();break e}c=Error(fe(426))}}else if(yr&&l.mode&1){var v=C4(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),k4(v,o,l,i,t),Ok(xh(c,l));break e}}i=c=xh(c,l),bn!==4&&(bn=2),Rf===null?Rf=[i]:Rf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var j=XF(i,c,t);v4(i,j);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(kl===null||!kl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=QF(i,l,t);v4(i,w);break e}}i=i.return}while(i!==null)}x6(r)}catch(N){t=N,an===r&&r!==null&&(an=r=r.return);continue}break}while(!0)}function f6(){var e=Pv.current;return Pv.current=Ev,e===null?Ev:e}function Zk(){(bn===0||bn===3||bn===2)&&(bn=4),Cn===null||!(cd&268435455)&&!(Ib&268435455)||nl(Cn,In)}function Mv(e,t){var r=Rt;Rt|=2;var s=f6();(Cn!==e||In!==t)&&(Ji=null,Qc(e,t));do try{jZ();break}catch(a){m6(e,a)}while(!0);if(Rk(),Rt=r,Pv.current=s,an!==null)throw Error(fe(261));return Cn=null,In=0,bn}function jZ(){for(;an!==null;)p6(an)}function wZ(){for(;an!==null&&!KX();)p6(an)}function p6(e){var t=y6(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,t===null?x6(e):an=t,Kk.current=null}function x6(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=pZ(r,t),r!==null){r.flags&=32767,an=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bn=6,an=null;return}}else if(r=fZ(r,t,Ps),r!==null){an=r;return}if(t=t.sibling,t!==null){an=t;return}an=t=e}while(t!==null);bn===0&&(bn=5)}function jc(e,t,r){var s=er,a=la.transition;try{la.transition=null,er=1,NZ(e,t,r,s)}finally{la.transition=a,er=s}return null}function NZ(e,t,r,s){do Bu();while(gl!==null);if(Rt&6)throw Error(fe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(nQ(e,i),e===Cn&&(an=Cn=null,In=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Wg||(Wg=!0,v6(fv,function(){return Bu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=la.transition,la.transition=null;var o=er;er=1;var l=Rt;Rt|=4,Kk.current=null,gZ(e,r),d6(r,e),UQ(w_),xv=!!j_,w_=j_=null,e.current=r,yZ(r),GX(),Rt=l,er=o,la.transition=i}else e.current=r;if(Wg&&(Wg=!1,gl=e,Ov=a),i=e.pendingLanes,i===0&&(kl=null),QX(r.stateNode),js(e,Kr()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Av)throw Av=!1,e=z_,z_=null,e;return Ov&1&&e.tag!==0&&Bu(),i=e.pendingLanes,i&1?e===U_?If++:(If=0,U_=e):If=0,Zl(),null}function Bu(){if(gl!==null){var e=XL(Ov),t=la.transition,r=er;try{if(la.transition=null,er=16>e?16:e,gl===null)var s=!1;else{if(e=gl,gl=null,Ov=0,Rt&6)throw Error(fe(331));var a=Rt;for(Rt|=4,Le=e.current;Le!==null;){var i=Le,o=i.child;if(Le.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Le=d;Le!==null;){var u=Le;switch(u.tag){case 0:case 11:case 15:Mf(8,u,i)}var h=u.child;if(h!==null)h.return=u,Le=h;else for(;Le!==null;){u=Le;var m=u.sibling,f=u.return;if(o6(u),u===d){Le=null;break}if(m!==null){m.return=f,Le=m;break}Le=f}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Le=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Le=o;else e:for(;Le!==null;){if(i=Le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Mf(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,Le=j;break e}Le=i.return}}var y=e.current;for(Le=y;Le!==null;){o=Le;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Le=b;else e:for(o=y;Le!==null;){if(l=Le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Rb(9,l)}}catch(N){Vr(l,l.return,N)}if(l===o){Le=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Le=w;break e}Le=l.return}}if(Rt=a,Zl(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(Cb,e)}catch{}s=!0}return s}finally{er=r,la.transition=t}}return!1}function B4(e,t,r){t=xh(r,t),t=XF(e,t,1),e=Cl(e,t,1),t=ns(),e!==null&&(Ax(e,1,t),js(e,t))}function Vr(e,t,r){if(e.tag===3)B4(e,e,r);else for(;t!==null;){if(t.tag===3){B4(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(kl===null||!kl.has(s))){e=xh(r,e),e=QF(t,e,1),t=Cl(t,e,1),e=ns(),t!==null&&(Ax(t,1,e),js(t,e));break}}t=t.return}}function _Z(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=ns(),e.pingedLanes|=e.suspendedLanes&r,Cn===e&&(In&r)===r&&(bn===4||bn===3&&(In&130023424)===In&&500>Kr()-Yk?Qc(e,0):Gk|=r),js(e,t)}function g6(e,t){t===0&&(e.mode&1?(t=Rg,Rg<<=1,!(Rg&130023424)&&(Rg=4194304)):t=1);var r=ns();e=bo(e,t),e!==null&&(Ax(e,t,r),js(e,r))}function SZ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),g6(e,r)}function CZ(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(fe(314))}s!==null&&s.delete(t),g6(e,r)}var y6;y6=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||vs.current)ps=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ps=!1,mZ(e,t,r);ps=!!(e.flags&131072)}else ps=!1,yr&&t.flags&1048576&&wF(t,Nv,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;qy(e,t),e=t.pendingProps;var a=hh(t,Hn.current);Fu(t,r),a=zk(null,t,s,e,a,r);var i=Uk();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bs(s)?(i=!0,jv(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,$k(t),a.updater=Mb,t.stateNode=a,a._reactInternals=t,A_(t,s,e,r),t=R_(null,t,s,!0,i,r)):(t.tag=0,yr&&i&&Pk(t),Qn(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(qy(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=TZ(s),e=Oa(s,e),a){case 0:t=M_(null,t,s,e,r);break e;case 1:t=P4(null,t,s,e,r);break e;case 11:t=T4(null,t,s,e,r);break e;case 14:t=E4(null,t,s,Oa(s.type,e),r);break e}throw Error(fe(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Oa(s,a),M_(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Oa(s,a),P4(e,t,s,a,r);case 3:e:{if(t6(t),e===null)throw Error(fe(387));s=t.pendingProps,i=t.memoizedState,a=i.element,TF(e,t),Cv(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=xh(Error(fe(423)),t),t=A4(e,t,s,r,a);break e}else if(s!==a){a=xh(Error(fe(424)),t),t=A4(e,t,s,r,a);break e}else for($s=Sl(t.stateNode.containerInfo.firstChild),Ls=t,yr=!0,Fa=null,r=CF(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mh(),s===a){t=jo(e,t,r);break e}Qn(e,t,s,r)}t=t.child}return t;case 5:return EF(t),e===null&&T_(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,N_(s,a)?o=null:i!==null&&N_(s,i)&&(t.flags|=32),e6(e,t),Qn(e,t,o,r),t.child;case 6:return e===null&&T_(t),null;case 13:return r6(e,t,r);case 4:return Lk(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=fh(t,null,s,r):Qn(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Oa(s,a),T4(e,t,s,a,r);case 7:return Qn(e,t,t.pendingProps,r),t.child;case 8:return Qn(e,t,t.pendingProps.children,r),t.child;case 12:return Qn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,cr(_v,s._currentValue),s._currentValue=o,i!==null)if(Ya(i.value,o)){if(i.children===a.children&&!vs.current){t=jo(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=ho(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),E_(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(fe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),E_(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Qn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Fu(t,r),a=fa(a),s=s(a),t.flags|=1,Qn(e,t,s,r),t.child;case 14:return s=t.type,a=Oa(s,t.pendingProps),a=Oa(s.type,a),E4(e,t,s,a,r);case 15:return ZF(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Oa(s,a),qy(e,t),t.tag=1,bs(s)?(e=!0,jv(t)):e=!1,Fu(t,r),YF(t,s,a),A_(t,s,a,r),R_(null,t,s,!0,e,r);case 19:return n6(e,t,r);case 22:return JF(e,t,r)}throw Error(fe(156,t.tag))};function v6(e,t){return HL(e,t)}function kZ(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(e,t,r,s){return new kZ(e,t,r,s)}function Jk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function TZ(e){if(typeof e=="function")return Jk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yk)return 11;if(e===vk)return 14}return 2}function El(e,t){var r=e.alternate;return r===null?(r=aa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gy(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")Jk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case hu:return Zc(r.children,a,i,t);case gk:o=8,a|=8;break;case t_:return e=aa(12,r,t,a|2),e.elementType=t_,e.lanes=i,e;case r_:return e=aa(13,r,t,a),e.elementType=r_,e.lanes=i,e;case n_:return e=aa(19,r,t,a),e.elementType=n_,e.lanes=i,e;case EL:return Db(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kL:o=10;break e;case TL:o=9;break e;case yk:o=11;break e;case vk:o=14;break e;case Qo:o=16,s=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=aa(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function Zc(e,t,r,s){return e=aa(7,e,s,t),e.lanes=r,e}function Db(e,t,r,s){return e=aa(22,e,s,t),e.elementType=EL,e.lanes=r,e.stateNode={isHidden:!1},e}function a1(e,t,r){return e=aa(6,e,null,t),e.lanes=r,e}function i1(e,t,r){return t=aa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function EZ(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bw(0),this.expirationTimes=Bw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bw(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function eT(e,t,r,s,a,i,o,l,c){return e=new EZ(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=aa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$k(i),e}function PZ(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uu,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function b6(e){if(!e)return $l;e=e._reactInternals;e:{if(Td(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(bs(r))return bF(e,r,t)}return t}function j6(e,t,r,s,a,i,o,l,c){return e=eT(r,s,!0,e,a,i,o,l,c),e.context=b6(null),r=e.current,s=ns(),a=Tl(r),i=ho(s,a),i.callback=t??null,Cl(r,i,a),e.current.lanes=a,Ax(e,a,s),js(e,s),e}function $b(e,t,r,s){var a=t.current,i=ns(),o=Tl(a);return r=b6(r),t.context===null?t.context=r:t.pendingContext=r,t=ho(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Cl(a,t,o),e!==null&&(Ka(e,a,o,i),zy(e,a,o)),o}function Rv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function V4(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function tT(e,t){V4(e,t),(e=e.alternate)&&V4(e,t)}function AZ(){return null}var w6=typeof reportError=="function"?reportError:function(e){console.error(e)};function rT(e){this._internalRoot=e}Lb.prototype.render=rT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));$b(e,t,null,null)};Lb.prototype.unmount=rT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dd(function(){$b(null,e,null,null)}),t[vo]=null}};function Lb(e){this._internalRoot=e}Lb.prototype.unstable_scheduleHydration=function(e){if(e){var t=JL();e={blockedOn:null,target:e,priority:t};for(var r=0;r<rl.length&&t!==0&&t<rl[r].priority;r++);rl.splice(r,0,e),r===0&&tF(e)}};function nT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function z4(){}function OZ(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Rv(o);i.call(d)}}var o=j6(t,s,e,0,null,!1,!1,"",z4);return e._reactRootContainer=o,e[vo]=o.current,ip(e.nodeType===8?e.parentNode:e),dd(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Rv(c);l.call(d)}}var c=eT(e,0,!1,null,null,!1,!1,"",z4);return e._reactRootContainer=c,e[vo]=c.current,ip(e.nodeType===8?e.parentNode:e),dd(function(){$b(t,c,r,s)}),c}function Bb(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Rv(o);l.call(c)}}$b(t,o,e,a)}else o=OZ(r,t,e,a,s);return Rv(o)}QL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=xf(t.pendingLanes);r!==0&&(wk(t,r|1),js(t,Kr()),!(Rt&6)&&(gh=Kr()+500,Zl()))}break;case 13:dd(function(){var s=bo(e,1);if(s!==null){var a=ns();Ka(s,e,1,a)}}),tT(e,1)}};Nk=function(e){if(e.tag===13){var t=bo(e,134217728);if(t!==null){var r=ns();Ka(t,e,134217728,r)}tT(e,134217728)}};ZL=function(e){if(e.tag===13){var t=Tl(e),r=bo(e,t);if(r!==null){var s=ns();Ka(r,e,t,s)}tT(e,t)}};JL=function(){return er};eF=function(e,t){var r=er;try{return er=e,t()}finally{er=r}};m_=function(e,t,r){switch(t){case"input":if(i_(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=Pb(s);if(!a)throw Error(fe(90));AL(s),i_(s,a)}}}break;case"textarea":ML(e,r);break;case"select":t=r.value,t!=null&&Iu(e,!!r.multiple,t,!1)}};BL=Xk;VL=dd;var MZ={usingClientEntryPoint:!1,Events:[Mx,xu,Pb,LL,FL,Xk]},Km={findFiberByHostInstance:Pc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RZ={bundleType:Km.bundleType,version:Km.version,rendererPackageName:Km.rendererPackageName,rendererConfig:Km.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=WL(e),e===null?null:e.stateNode},findFiberByHostInstance:Km.findFiberByHostInstance||AZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qg.isDisabled&&qg.supportsFiber)try{Cb=qg.inject(RZ),ji=qg}catch{}}Hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MZ;Hs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nT(t))throw Error(fe(200));return PZ(e,t,null,r)};Hs.createRoot=function(e,t){if(!nT(e))throw Error(fe(299));var r=!1,s="",a=w6;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=eT(e,1,!1,null,null,r,!1,s,a),e[vo]=t.current,ip(e.nodeType===8?e.parentNode:e),new rT(t)};Hs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=WL(t),e=e===null?null:e.stateNode,e};Hs.flushSync=function(e){return dd(e)};Hs.hydrate=function(e,t,r){if(!Fb(t))throw Error(fe(200));return Bb(null,e,t,!0,r)};Hs.hydrateRoot=function(e,t,r){if(!nT(e))throw Error(fe(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=w6;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=j6(t,null,e,1,r??null,a,!1,i,o),e[vo]=t.current,ip(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Lb(t)};Hs.render=function(e,t,r){if(!Fb(t))throw Error(fe(200));return Bb(null,e,t,!1,r)};Hs.unmountComponentAtNode=function(e){if(!Fb(e))throw Error(fe(40));return e._reactRootContainer?(dd(function(){Bb(null,null,e,!1,function(){e._reactRootContainer=null,e[vo]=null})}),!0):!1};Hs.unstable_batchedUpdates=Xk;Hs.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Fb(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return Bb(e,t,r,!1,s)};Hs.version="18.3.1-next-f1338f8080-20240426";function N6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N6)}catch(e){console.error(e)}}N6(),NL.exports=Hs;var Ed=NL.exports;const _6=ar(Ed);var S6,U4=Ed;S6=U4.createRoot,U4.hydrateRoot;const IZ=1,DZ=1e6;let o1=0;function $Z(){return o1=(o1+1)%Number.MAX_SAFE_INTEGER,o1.toString()}const l1=new Map,W4=e=>{if(l1.has(e))return;const t=setTimeout(()=>{l1.delete(e),Df({type:"REMOVE_TOAST",toastId:e})},DZ);l1.set(e,t)},LZ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,IZ)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?W4(r):e.toasts.forEach(s=>{W4(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Yy=[];let Xy={toasts:[]};function Df(e){Xy=LZ(Xy,e),Yy.forEach(t=>{t(Xy)})}function St({...e}){const t=$Z(),r=a=>Df({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Df({type:"DISMISS_TOAST",toastId:t});return Df({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function yt(){const[e,t]=x.useState(Xy);return x.useEffect(()=>(Yy.push(t),()=>{const r=Yy.indexOf(t);r>-1&&Yy.splice(r,1)}),[e]),{...e,toast:St,dismiss:r=>Df({type:"DISMISS_TOAST",toastId:r})}}function me(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function q4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Vb(...e){return t=>{let r=!1;const s=e.map(a=>{const i=q4(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():q4(e[a],null)}}}}function Qe(...e){return x.useCallback(Vb(...e),e)}function FZ(e,t){const r=x.createContext(t),s=i=>{const{children:o,...l}=i,c=x.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function Zr(e,t=[]){let r=[];function s(i,o){const l=x.createContext(o),c=r.length;r=[...r,o];const d=h=>{var j;const{scope:m,children:f,...p}=h,g=((j=m==null?void 0:m[e])==null?void 0:j[c])||l,v=x.useMemo(()=>p,Object.values(p));return n.jsx(g.Provider,{value:v,children:f})};d.displayName=i+"Provider";function u(h,m){var g;const f=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,p=x.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,BZ(a,...t)]}function BZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ll(e){const t=VZ(e),r=x.forwardRef((s,a)=>{const{children:i,...o}=s,l=x.Children.toArray(i),c=l.find(zZ);if(c){const d=c.props.children,u=l.map(h=>h===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:h);return n.jsx(t,{...o,ref:a,children:x.isValidElement(d)?x.cloneElement(d,void 0,u):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var C6=Ll("Slot");function VZ(e){const t=x.forwardRef((r,s)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=WZ(a),l=UZ(i,a.props);return a.type!==x.Fragment&&(l.ref=s?Vb(s,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var k6=Symbol("radix.slottable");function T6(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=k6,t}function zZ(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===k6}function UZ(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function WZ(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function im(e){const t=e+"CollectionProvider",[r,s]=Zr(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:j}=g,y=D.useRef(null),b=D.useRef(new Map).current;return n.jsx(a,{scope:v,itemMap:b,collectionRef:y,children:j})};o.displayName=t;const l=e+"CollectionSlot",c=Ll(l),d=D.forwardRef((g,v)=>{const{scope:j,children:y}=g,b=i(l,j),w=Qe(v,b.collectionRef);return n.jsx(c,{ref:w,children:y})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=Ll(u),f=D.forwardRef((g,v)=>{const{scope:j,children:y,...b}=g,w=D.useRef(null),N=Qe(v,w),_=i(u,j);return D.useEffect(()=>(_.itemMap.set(w,{ref:w,...b}),()=>void _.itemMap.delete(w))),n.jsx(m,{[h]:"",ref:N,children:y})});f.displayName=u;function p(g){const v=i(e+"CollectionConsumer",g);return D.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((_,C)=>b.indexOf(_.ref.current)-b.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:f},p,s]}var qZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ce=qZ.reduce((e,t)=>{const r=Ll(`Primitive.${t}`),s=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function sT(e,t){e&&Ed.flushSync(()=>e.dispatchEvent(t))}function Gr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function HZ(e,t=globalThis==null?void 0:globalThis.document){const r=Gr(e);x.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var KZ="DismissableLayer",H_="dismissableLayer.update",GZ="dismissableLayer.pointerDownOutside",YZ="dismissableLayer.focusOutside",H4,E6=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pd=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=x.useContext(E6),[u,h]=x.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=x.useState({}),p=Qe(t,C=>h(C)),g=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=g.indexOf(v),y=u?g.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,w=y>=j,N=QZ(C=>{const S=C.target,k=[...d.branches].some(E=>E.contains(S));!w||k||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},m),_=ZZ(C=>{const S=C.target;[...d.branches].some(E=>E.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},m);return HZ(C=>{y===d.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),x.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(H4=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),K4(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=H4)}},[u,m,r,d]),x.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),K4())},[u,d]),x.useEffect(()=>{const C=()=>f({});return document.addEventListener(H_,C),()=>document.removeEventListener(H_,C)},[]),n.jsx(Ce.div,{...c,ref:p,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:me(e.onFocusCapture,_.onFocusCapture),onBlurCapture:me(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:me(e.onPointerDownCapture,N.onPointerDownCapture)})});Pd.displayName=KZ;var XZ="DismissableLayerBranch",P6=x.forwardRef((e,t)=>{const r=x.useContext(E6),s=x.useRef(null),a=Qe(t,s);return x.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(Ce.div,{...e,ref:a})});P6.displayName=XZ;function QZ(e,t=globalThis==null?void 0:globalThis.document){const r=Gr(e),s=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){A6(GZ,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function ZZ(e,t=globalThis==null?void 0:globalThis.document){const r=Gr(e),s=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!s.current&&A6(YZ,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function K4(){const e=new CustomEvent(H_);document.dispatchEvent(e)}function A6(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?sT(a,i):a.dispatchEvent(i)}var JZ=Pd,eJ=P6,wn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},tJ="Portal",om=x.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=x.useState(!1);wn(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?_6.createPortal(n.jsx(Ce.div,{...s,ref:t}),o):null});om.displayName=tJ;function rJ(e,t){return x.useReducer((r,s)=>t[r][s]??r,e)}var dn=e=>{const{present:t,children:r}=e,s=nJ(t),a=typeof r=="function"?r({present:s.isPresent}):x.Children.only(r),i=Qe(s.ref,sJ(a));return typeof r=="function"||s.isPresent?x.cloneElement(a,{ref:i}):null};dn.displayName="Presence";function nJ(e){const[t,r]=x.useState(),s=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=rJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const d=Hg(s.current);i.current=l==="mounted"?d:"none"},[l]),wn(()=>{const d=s.current,u=a.current;if(u!==e){const m=i.current,f=Hg(d);e?c("MOUNT"):f==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),wn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=f=>{const g=Hg(s.current).includes(f.animationName);if(f.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},m=f=>{f.target===t&&(i.current=Hg(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(d=>{s.current=d?getComputedStyle(d):null,r(d)},[])}}function Hg(e){return(e==null?void 0:e.animationName)||"none"}function sJ(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var aJ=mk[" useInsertionEffect ".trim().toString()]||wn;function Kn({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=iJ({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=x.useRef(e!==void 0);x.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const d=x.useCallback(u=>{var h;if(l){const m=oJ(u)?u(e):u;m!==e&&((h=o.current)==null||h.call(o,m))}else i(u)},[l,e,i,o]);return[c,d]}function iJ({defaultProp:e,onChange:t}){const[r,s]=x.useState(e),a=x.useRef(r),i=x.useRef(t);return aJ(()=>{i.current=t},[t]),x.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,s,i]}function oJ(e){return typeof e=="function"}var O6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),lJ="VisuallyHidden",zb=x.forwardRef((e,t)=>n.jsx(Ce.span,{...e,ref:t,style:{...O6,...e.style}}));zb.displayName=lJ;var cJ=zb,aT="ToastProvider",[iT,dJ,uJ]=im("Toast"),[M6,Nqe]=Zr("Toast",[uJ]),[hJ,Ub]=M6(aT),R6=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=x.useState(null),[d,u]=x.useState(0),h=x.useRef(!1),m=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${aT}\`. Expected non-empty \`string\`.`),n.jsx(iT.Provider,{scope:t,children:n.jsx(hJ,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>u(f=>f+1),[]),onToastRemove:x.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};R6.displayName=aT;var I6="ToastViewport",mJ=["F8"],K_="toast.viewportPause",G_="toast.viewportResume",D6=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=mJ,label:a="Notifications ({hotkey})",...i}=e,o=Ub(I6,r),l=dJ(r),c=x.useRef(null),d=x.useRef(null),u=x.useRef(null),h=x.useRef(null),m=Qe(t,h,o.onViewportChange),f=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;x.useEffect(()=>{const v=j=>{var b;s.length!==0&&s.every(w=>j[w]||j.code===w)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[s]),x.useEffect(()=>{const v=c.current,j=h.current;if(p&&v&&j){const y=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(K_);j.dispatchEvent(_),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(G_);j.dispatchEvent(_),o.isClosePausedRef.current=!1}},w=_=>{!v.contains(_.relatedTarget)&&b()},N=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",y),v.addEventListener("focusout",w),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",w),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[p,o.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:v})=>{const y=l().map(b=>{const w=b.ref.current,N=[w,...CJ(w)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?y.reverse():y).flat()},[l]);return x.useEffect(()=>{const v=h.current;if(v){const j=y=>{var N,_,C;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const S=document.activeElement,k=y.shiftKey;if(y.target===v&&k){(N=d.current)==null||N.focus();return}const A=g({tabbingDirection:k?"backwards":"forwards"}),B=A.findIndex(R=>R===S);c1(A.slice(B+1))?y.preventDefault():k?(_=d.current)==null||_.focus():(C=u.current)==null||C.focus()}};return v.addEventListener("keydown",j),()=>v.removeEventListener("keydown",j)}},[l,g]),n.jsxs(eJ,{ref:c,role:"region","aria-label":a.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&n.jsx(Y_,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});c1(v)}}),n.jsx(iT.Slot,{scope:r,children:n.jsx(Ce.ol,{tabIndex:-1,...i,ref:m})}),p&&n.jsx(Y_,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});c1(v)}})]})});D6.displayName=I6;var $6="ToastFocusProxy",Y_=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=Ub($6,r);return n.jsx(zb,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});Y_.displayName=$6;var Ix="Toast",fJ="toast.swipeStart",pJ="toast.swipeMove",xJ="toast.swipeCancel",gJ="toast.swipeEnd",L6=x.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Kn({prop:s,defaultProp:a??!0,onChange:i,caller:Ix});return n.jsx(dn,{present:r||l,children:n.jsx(bJ,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Gr(e.onPause),onResume:Gr(e.onResume),onSwipeStart:me(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:me(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});L6.displayName=Ix;var[yJ,vJ]=M6(Ix,{onClose(){}}),bJ=x.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:f,...p}=e,g=Ub(Ix,r),[v,j]=x.useState(null),y=Qe(t,R=>j(R)),b=x.useRef(null),w=x.useRef(null),N=a||g.duration,_=x.useRef(0),C=x.useRef(N),S=x.useRef(0),{onToastAdd:k,onToastRemove:E}=g,T=Gr(()=>{var L;(v==null?void 0:v.contains(document.activeElement))&&((L=g.viewport)==null||L.focus()),o()}),A=x.useCallback(R=>{!R||R===1/0||(window.clearTimeout(S.current),_.current=new Date().getTime(),S.current=window.setTimeout(T,R))},[T]);x.useEffect(()=>{const R=g.viewport;if(R){const L=()=>{A(C.current),d==null||d()},V=()=>{const O=new Date().getTime()-_.current;C.current=C.current-O,window.clearTimeout(S.current),c==null||c()};return R.addEventListener(K_,V),R.addEventListener(G_,L),()=>{R.removeEventListener(K_,V),R.removeEventListener(G_,L)}}},[g.viewport,N,c,d,A]),x.useEffect(()=>{i&&!g.isClosePausedRef.current&&A(N)},[i,N,g.isClosePausedRef,A]),x.useEffect(()=>(k(),()=>E()),[k,E]);const B=x.useMemo(()=>v?q6(v):null,[v]);return g.viewport?n.jsxs(n.Fragment,{children:[B&&n.jsx(jJ,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),n.jsx(yJ,{scope:r,onClose:T,children:Ed.createPortal(n.jsx(iT.ItemSlot,{scope:r,children:n.jsx(JZ,{asChild:!0,onEscapeKeyDown:me(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:me(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:me(e.onPointerDown,R=>{R.button===0&&(b.current={x:R.clientX,y:R.clientY})}),onPointerMove:me(e.onPointerMove,R=>{if(!b.current)return;const L=R.clientX-b.current.x,V=R.clientY-b.current.y,O=!!w.current,P=["left","right"].includes(g.swipeDirection),I=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,G=P?I(0,L):0,re=P?0:I(0,V),X=R.pointerType==="touch"?10:2,W={x:G,y:re},oe={originalEvent:R,delta:W};O?(w.current=W,Kg(pJ,h,oe,{discrete:!1})):G4(W,g.swipeDirection,X)?(w.current=W,Kg(fJ,u,oe,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(L)>X||Math.abs(V)>X)&&(b.current=null)}),onPointerUp:me(e.onPointerUp,R=>{const L=w.current,V=R.target;if(V.hasPointerCapture(R.pointerId)&&V.releasePointerCapture(R.pointerId),w.current=null,b.current=null,L){const O=R.currentTarget,P={originalEvent:R,delta:L};G4(L,g.swipeDirection,g.swipeThreshold)?Kg(gJ,f,P,{discrete:!0}):Kg(xJ,m,P,{discrete:!0}),O.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),jJ=e=>{const{__scopeToast:t,children:r,...s}=e,a=Ub(Ix,t),[i,o]=x.useState(!1),[l,c]=x.useState(!1);return _J(()=>o(!0)),x.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(om,{asChild:!0,children:n.jsx(zb,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},wJ="ToastTitle",F6=x.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Ce.div,{...s,ref:t})});F6.displayName=wJ;var NJ="ToastDescription",B6=x.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Ce.div,{...s,ref:t})});B6.displayName=NJ;var V6="ToastAction",z6=x.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(W6,{altText:r,asChild:!0,children:n.jsx(oT,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${V6}\`. Expected non-empty \`string\`.`),null)});z6.displayName=V6;var U6="ToastClose",oT=x.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=vJ(U6,r);return n.jsx(W6,{asChild:!0,children:n.jsx(Ce.button,{type:"button",...s,ref:t,onClick:me(e.onClick,a.onClose)})})});oT.displayName=U6;var W6=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(Ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function q6(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),SJ(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...q6(s))}}),t}function Kg(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?sT(a,i):a.dispatchEvent(i)}var G4=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function _J(e=()=>{}){const t=Gr(e);wn(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function SJ(e){return e.nodeType===e.ELEMENT_NODE}function CJ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function c1(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var kJ=R6,H6=D6,K6=L6,G6=F6,Y6=B6,X6=z6,Q6=oT;function Z6(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Z6(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Ot(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Z6(e))&&(s&&(s+=" "),s+=t);return s}const Y4=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,X4=Ot,Ad=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return X4(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],h=i==null?void 0:i[d];if(u===null)return null;const m=Y4(u)||Y4(h);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:h,className:m,...f}=u;return Object.entries(f).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...d,h,m]:d},[]);return X4(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J6=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...EJ,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:J6("lucide",a),...l},[...o.map(([d,u])=>x.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=(e,t)=>{const r=x.forwardRef(({className:s,...a},i)=>x.createElement(PJ,{ref:i,iconNode:t,className:J6(`lucide-${TJ(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=Z("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=Z("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=Z("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=Z("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=Z("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=Z("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=Z("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=Z("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Z("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=Z("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=Z("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=Z("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Z("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=Z("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Z("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=Z("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Z("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=Z("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Z("Castle",[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3a3 3 0 0 0-3 3v4",key:"1k4jtn"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=Z("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=Z("Cherry",[["path",{d:"M2 17a5 5 0 0 0 10 0c0-2.76-2.5-5-5-3-2.5-2-5 .24-5 3Z",key:"cvxqlc"}],["path",{d:"M12 17a5 5 0 0 0 10 0c0-2.76-2.5-5-5-3-2.5-2-5 .24-5 3Z",key:"1ostrc"}],["path",{d:"M7 14c3.22-2.91 4.29-8.75 5-12 1.66 2.38 4.94 9 5 12",key:"hqx58h"}],["path",{d:"M22 9c-4.29 0-7.14-2.33-10-7 5.71 0 10 4.67 10 7Z",key:"eykp1o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=Z("Church",[["path",{d:"M10 9h4",key:"u4k05v"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M14 22v-4a2 2 0 0 0-4 0v4",key:"1pdhuj"}],["path",{d:"M18 22V5.618a1 1 0 0 0-.553-.894l-4.553-2.277a2 2 0 0 0-1.788 0L6.553 4.724A1 1 0 0 0 6 5.618V22",key:"1rkokr"}],["path",{d:"m18 7 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9.618a1 1 0 0 1 .553-.894L6 7",key:"1w6esw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Z("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=Z("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=Z("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=Z("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=Z("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=Z("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=Z("CloudFog",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 17H7",key:"pygtm1"}],["path",{d:"M17 21H9",key:"1u2q02"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=Z("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=Z("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=Z("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=Z("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=Z("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=Z("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=Z("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=Z("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=Z("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=Z("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=Z("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=Z("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=Z("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=Z("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Z("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=Z("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Z("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=Z("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Z("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=Z("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=Z("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=Z("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=Z("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=Z("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=Z("Focus",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=Z("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=Z("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=Z("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=Z("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=Z("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=Z("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Z("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=Z("Grape",[["path",{d:"M22 5V2l-5.89 5.89",key:"1eenpo"}],["circle",{cx:"16.6",cy:"15.89",r:"3",key:"xjtalx"}],["circle",{cx:"8.11",cy:"7.4",r:"3",key:"u2fv6i"}],["circle",{cx:"12.35",cy:"11.65",r:"3",key:"i6i8g7"}],["circle",{cx:"13.91",cy:"5.85",r:"3",key:"6ye0dv"}],["circle",{cx:"18.15",cy:"10.09",r:"3",key:"snx9no"}],["circle",{cx:"6.56",cy:"13.2",r:"3",key:"17x4xg"}],["circle",{cx:"10.8",cy:"17.44",r:"3",key:"1hogw9"}],["circle",{cx:"5",cy:"19",r:"3",key:"1sn6vo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=Z("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=Z("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=Z("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=Z("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=Z("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=Z("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=Z("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=Z("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=Z("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=Z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=Z("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=Z("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=Z("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=Z("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=Z("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=Z("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Z("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=Z("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=Z("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=Z("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Z("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=Z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=Z("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=Z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=Z("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Z("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=Z("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=Z("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=Z("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=Z("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=Z("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=Z("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=Z("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=Z("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=Z("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Z("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=Z("Satellite",[["path",{d:"M13 7 9 3 5 7l4 4",key:"vyckw6"}],["path",{d:"m17 11 4 4-4 4-4-4",key:"rchckc"}],["path",{d:"m8 12 4 4 6-6-4-4Z",key:"1sshf7"}],["path",{d:"m16 8 3-3",key:"x428zp"}],["path",{d:"M9 21a6 6 0 0 0-6-6",key:"1iajcf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=Z("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=Z("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=Z("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=Z("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=Z("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=Z("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=Z("Shovel",[["path",{d:"M2 22v-5l5-5 5 5-5 5z",key:"1fh25c"}],["path",{d:"M9.5 14.5 16 8",key:"1smz5x"}],["path",{d:"m17 2 5 5-.5.5a3.53 3.53 0 0 1-5 0s0 0 0 0a3.53 3.53 0 0 1 0-5L17 2",key:"1q8uv5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=Z("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=Z("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=Z("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=Z("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=Z("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=Z("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=Z("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=Z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=Z("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=Z("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=Z("Tornado",[["path",{d:"M21 4H3",key:"1hwok0"}],["path",{d:"M18 8H6",key:"41n648"}],["path",{d:"M19 12H9",key:"1g4lpz"}],["path",{d:"M16 16h-6",key:"1j5d54"}],["path",{d:"M11 20H9",key:"39obr8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=Z("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=Z("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=Z("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=Z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=Z("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=Z("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=Z("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=Z("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=Z("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=Z("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=Z("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=Z("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=Z("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=Z("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Z("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),vT="-",Iee=e=>{const t=$ee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(vT);return l[0]===""&&l.length!==1&&l.shift(),vB(l,t)||Dee(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},vB=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?vB(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(vT);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},nO=/^\[(.+)\]$/,Dee=e=>{if(nO.test(e)){const t=nO.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},$ee=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return Fee(Object.entries(e.classGroups),r).forEach(([i,o])=>{aS(o,s,i,t)}),s},aS=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:sO(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Lee(a)){aS(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{aS(o,sO(t,i),r,s)})})},sO=(e,t)=>{let r=e;return t.split(vT).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},Lee=e=>e.isThemeGetter,Fee=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,Bee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},bB="!",Vee=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let v=0;v<l.length;v++){let j=l[v];if(d===0){if(j===a&&(s||l.slice(v,v+i)===t)){c.push(l.slice(u,v)),u=v+i;continue}if(j==="/"){h=v;continue}}j==="["?d++:j==="]"&&d--}const m=c.length===0?l:l.substring(u),f=m.startsWith(bB),p=f?m.substring(1):m,g=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},zee=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},Uee=e=>({cache:Bee(e.cacheSize),parseClassName:Vee(e),...Iee(e)}),Wee=/\s+/,qee=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Wee);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:f}=r(d);let p=!!f,g=s(p?m.substring(0,f):m);if(!g){if(!p){l=d+(l.length>0?" "+l:l);continue}if(g=s(m),!g){l=d+(l.length>0?" "+l:l);continue}p=!1}const v=zee(u).join(":"),j=h?v+bB:v,y=j+g;if(i.includes(y))continue;i.push(y);const b=a(g,p);for(let w=0;w<b.length;++w){const N=b[w];i.push(j+N)}l=d+(l.length>0?" "+l:l)}return l};function Hee(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=jB(t))&&(s&&(s+=" "),s+=r);return s}const jB=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=jB(e[s]))&&(r&&(r+=" "),r+=t);return r};function Kee(e,...t){let r,s,a,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return r=Uee(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=qee(c,r);return a(c,u),u}return function(){return i(Hee.apply(null,arguments))}}const ur=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},wB=/^\[(?:([a-z-]+):)?(.+)\]$/i,Gee=/^\d+\/\d+$/,Yee=new Set(["px","full","screen"]),Xee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Jee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ete=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ki=e=>Uu(e)||Yee.has(e)||Gee.test(e),Wo=e=>cm(e,"length",lte),Uu=e=>!!e&&!Number.isNaN(Number(e)),p1=e=>cm(e,"number",Uu),Gm=e=>!!e&&Number.isInteger(Number(e)),tte=e=>e.endsWith("%")&&Uu(e.slice(0,-1)),mt=e=>wB.test(e),qo=e=>Xee.test(e),rte=new Set(["length","size","percentage"]),nte=e=>cm(e,rte,NB),ste=e=>cm(e,"position",NB),ate=new Set(["image","url"]),ite=e=>cm(e,ate,dte),ote=e=>cm(e,"",cte),Ym=()=>!0,cm=(e,t,r)=>{const s=wB.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},lte=e=>Qee.test(e)&&!Zee.test(e),NB=()=>!1,cte=e=>Jee.test(e),dte=e=>ete.test(e),ute=()=>{const e=ur("colors"),t=ur("spacing"),r=ur("blur"),s=ur("brightness"),a=ur("borderColor"),i=ur("borderRadius"),o=ur("borderSpacing"),l=ur("borderWidth"),c=ur("contrast"),d=ur("grayscale"),u=ur("hueRotate"),h=ur("invert"),m=ur("gap"),f=ur("gradientColorStops"),p=ur("gradientColorStopPositions"),g=ur("inset"),v=ur("margin"),j=ur("opacity"),y=ur("padding"),b=ur("saturate"),w=ur("scale"),N=ur("sepia"),_=ur("skew"),C=ur("space"),S=ur("translate"),k=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",mt,t],A=()=>[mt,t],B=()=>["",Ki,Wo],R=()=>["auto",Uu,mt],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",mt],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[Uu,mt];return{cacheSize:500,separator:":",theme:{colors:[Ym],spacing:[Ki,Wo],blur:["none","",qo,mt],brightness:re(),borderColor:[e],borderRadius:["none","","full",qo,mt],borderSpacing:A(),borderWidth:B(),contrast:re(),grayscale:I(),hueRotate:re(),invert:I(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[tte,Wo],inset:T(),margin:T(),opacity:re(),padding:A(),saturate:re(),scale:re(),sepia:I(),skew:re(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",mt]}],container:["container"],columns:[{columns:[qo]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),mt]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gm,mt]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",mt]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Gm,mt]}],"grid-cols":[{"grid-cols":[Ym]}],"col-start-end":[{col:["auto",{span:["full",Gm,mt]},mt]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Ym]}],"row-start-end":[{row:["auto",{span:[Gm,mt]},mt]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",mt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",mt,t]}],"min-w":[{"min-w":[mt,t,"min","max","fit"]}],"max-w":[{"max-w":[mt,t,"none","full","min","max","fit","prose",{screen:[qo]},qo]}],h:[{h:[mt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[mt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[mt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[mt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qo,Wo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",p1]}],"font-family":[{font:[Ym]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",mt]}],"line-clamp":[{"line-clamp":["none",Uu,p1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ki,mt]}],"list-image":[{"list-image":["none",mt]}],"list-style-type":[{list:["none","disc","decimal",mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ki,Wo]}],"underline-offset":[{"underline-offset":["auto",Ki,mt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),ste]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nte]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ite]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:V()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Ki,mt]}],"outline-w":[{outline:[Ki,Wo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Ki,Wo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qo,ote]}],"shadow-color":[{shadow:[Ym]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qo,mt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",mt]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",mt]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Gm,mt]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",mt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ki,Wo,p1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hte=Kee(ute);function z(...e){return hte(Ot(e))}const mte=kJ,_B=x.forwardRef(({className:e,...t},r)=>n.jsx(H6,{ref:r,className:z("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));_B.displayName=H6.displayName;const fte=Ad("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),SB=x.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(K6,{ref:s,className:z(fte({variant:t}),e),...r}));SB.displayName=K6.displayName;const pte=x.forwardRef(({className:e,...t},r)=>n.jsx(X6,{ref:r,className:z("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));pte.displayName=X6.displayName;const CB=x.forwardRef(({className:e,...t},r)=>n.jsx(Q6,{ref:r,className:z("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(Vi,{className:"h-4 w-4"})}));CB.displayName=Q6.displayName;const kB=x.forwardRef(({className:e,...t},r)=>n.jsx(G6,{ref:r,className:z("text-sm font-semibold",e),...t}));kB.displayName=G6.displayName;const TB=x.forwardRef(({className:e,...t},r)=>n.jsx(Y6,{ref:r,className:z("text-sm opacity-90",e),...t}));TB.displayName=Y6.displayName;function xte(){const{toasts:e}=yt();return n.jsxs(mte,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){return n.jsxs(SB,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(kB,{children:r}),s&&n.jsx(TB,{children:s})]}),a,n.jsx(CB,{})]},t)}),n.jsx(_B,{})]})}var aO=["light","dark"],gte="(prefers-color-scheme: dark)",yte=x.createContext(void 0),vte={setTheme:e=>{},themes:[]},EB=()=>{var e;return(e=x.useContext(yte))!=null?e:vte};x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=a?aO.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(p,g=!1,v=!0)=>{let j=o?o[p]:p,y=g?p+"|| ''":`'${j}'`,b="";return a&&v&&!g&&aO.includes(p)&&(b+=`d.style.colorScheme = '${p}';`),r==="class"?g||j?b+=`c.add(${y})`:b+="null":j&&(b+=`d[s](n,${y})`),b},f=e?`!function(){${u}${m(e)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${gte}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${h}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var bte=e=>{switch(e){case"success":return Nte;case"info":return Ste;case"warning":return _te;case"error":return Cte;default:return null}},jte=Array(12).fill(0),wte=({visible:e,className:t})=>D.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},D.createElement("div",{className:"sonner-spinner"},jte.map((r,s)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Nte=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_te=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ste=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Cte=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kte=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Tte=()=>{let[e,t]=D.useState(document.hidden);return D.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},iS=1,Ete=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:iS++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...s,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=r!==void 0,i,o=s.then(async c=>{if(i=["resolve",c],D.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(Ate(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||iS++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ms=new Ete,Pte=(e,t)=>{let r=(t==null?void 0:t.id)||iS++;return ms.addToast({title:e,...t,id:r}),r},Ate=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Ote=Pte,Mte=()=>ms.toasts,Rte=()=>ms.getActiveToasts(),We=Object.assign(Ote,{success:ms.success,info:ms.info,warning:ms.warning,error:ms.error,custom:ms.custom,message:ms.message,promise:ms.promise,dismiss:ms.dismiss,loading:ms.loading},{getHistory:Mte,getToasts:Rte});function Ite(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Ite(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Gg(e){return e.label!==void 0}var Dte=3,$te="32px",Lte="16px",iO=4e3,Fte=356,Bte=14,Vte=20,zte=200;function Ca(...e){return e.filter(Boolean).join(" ")}function Ute(e){let[t,r]=e.split("-"),s=[];return t&&s.push(t),r&&s.push(r),s}var Wte=e=>{var t,r,s,a,i,o,l,c,d,u,h;let{invert:m,toast:f,unstyled:p,interacting:g,setHeights:v,visibleToasts:j,heights:y,index:b,toasts:w,expanded:N,removeToast:_,defaultRichColors:C,closeButton:S,style:k,cancelButtonStyle:E,actionButtonStyle:T,className:A="",descriptionClassName:B="",duration:R,position:L,gap:V,loadingIcon:O,expandByDefault:P,classNames:I,icons:G,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:X}=e,[W,oe]=D.useState(null),[je,$e]=D.useState(null),[se,Te]=D.useState(!1),[le,ge]=D.useState(!1),[we,ae]=D.useState(!1),[st,Ze]=D.useState(!1),[Tt,at]=D.useState(!1),[Bt,_r]=D.useState(0),[un,U]=D.useState(0),J=D.useRef(f.duration||R||iO),ie=D.useRef(null),ve=D.useRef(null),be=b===0,pe=b+1<=j,Ee=f.type,pt=f.dismissible!==!1,Et=f.className||"",Jr=f.descriptionClassName||"",Ys=D.useMemo(()=>y.findIndex(ut=>ut.toastId===f.id)||0,[y,f.id]),ii=D.useMemo(()=>{var ut;return(ut=f.closeButton)!=null?ut:S},[f.closeButton,S]),_g=D.useMemo(()=>f.duration||R||iO,[f.duration,R]),fc=D.useRef(0),oi=D.useRef(0),Sg=D.useRef(0),Hi=D.useRef(null),[Ow,Cg]=L.split("-"),OA=D.useMemo(()=>y.reduce((ut,rr,gr)=>gr>=Ys?ut:ut+rr.height,0),[y,Ys]),MA=Tte(),oX=f.invert||m,Mw=Ee==="loading";oi.current=D.useMemo(()=>Ys*V+OA,[Ys,OA]),D.useEffect(()=>{J.current=_g},[_g]),D.useEffect(()=>{Te(!0)},[]),D.useEffect(()=>{let ut=ve.current;if(ut){let rr=ut.getBoundingClientRect().height;return U(rr),v(gr=>[{toastId:f.id,height:rr,position:f.position},...gr]),()=>v(gr=>gr.filter(wa=>wa.toastId!==f.id))}},[v,f.id]),D.useLayoutEffect(()=>{if(!se)return;let ut=ve.current,rr=ut.style.height;ut.style.height="auto";let gr=ut.getBoundingClientRect().height;ut.style.height=rr,U(gr),v(wa=>wa.find(Na=>Na.toastId===f.id)?wa.map(Na=>Na.toastId===f.id?{...Na,height:gr}:Na):[{toastId:f.id,height:gr,position:f.position},...wa])},[se,f.title,f.description,v,f.id]);let Bo=D.useCallback(()=>{ge(!0),_r(oi.current),v(ut=>ut.filter(rr=>rr.toastId!==f.id)),setTimeout(()=>{_(f)},zte)},[f,_,v,oi]);D.useEffect(()=>{if(f.promise&&Ee==="loading"||f.duration===1/0||f.type==="loading")return;let ut;return N||g||X&&MA?(()=>{if(Sg.current<fc.current){let rr=new Date().getTime()-fc.current;J.current=J.current-rr}Sg.current=new Date().getTime()})():J.current!==1/0&&(fc.current=new Date().getTime(),ut=setTimeout(()=>{var rr;(rr=f.onAutoClose)==null||rr.call(f,f),Bo()},J.current)),()=>clearTimeout(ut)},[N,g,f,Ee,X,MA,Bo]),D.useEffect(()=>{f.delete&&Bo()},[Bo,f.delete]);function lX(){var ut,rr,gr;return G!=null&&G.loading?D.createElement("div",{className:Ca(I==null?void 0:I.loader,(ut=f==null?void 0:f.classNames)==null?void 0:ut.loader,"sonner-loader"),"data-visible":Ee==="loading"},G.loading):O?D.createElement("div",{className:Ca(I==null?void 0:I.loader,(rr=f==null?void 0:f.classNames)==null?void 0:rr.loader,"sonner-loader"),"data-visible":Ee==="loading"},O):D.createElement(wte,{className:Ca(I==null?void 0:I.loader,(gr=f==null?void 0:f.classNames)==null?void 0:gr.loader),visible:Ee==="loading"})}return D.createElement("li",{tabIndex:0,ref:ve,className:Ca(A,Et,I==null?void 0:I.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[Ee],(r=f==null?void 0:f.classNames)==null?void 0:r[Ee]),"data-sonner-toast":"","data-rich-colors":(s=f.richColors)!=null?s:C,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":se,"data-promise":!!f.promise,"data-swiped":Tt,"data-removed":le,"data-visible":pe,"data-y-position":Ow,"data-x-position":Cg,"data-index":b,"data-front":be,"data-swiping":we,"data-dismissible":pt,"data-type":Ee,"data-invert":oX,"data-swipe-out":st,"data-swipe-direction":je,"data-expanded":!!(N||P&&se),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${le?Bt:oi.current}px`,"--initial-height":P?"auto":`${un}px`,...k,...f.style},onDragEnd:()=>{ae(!1),oe(null),Hi.current=null},onPointerDown:ut=>{Mw||!pt||(ie.current=new Date,_r(oi.current),ut.target.setPointerCapture(ut.pointerId),ut.target.tagName!=="BUTTON"&&(ae(!0),Hi.current={x:ut.clientX,y:ut.clientY}))},onPointerUp:()=>{var ut,rr,gr,wa;if(st||!pt)return;Hi.current=null;let Na=Number(((ut=ve.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Vo=Number(((rr=ve.current)==null?void 0:rr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),pc=new Date().getTime()-((gr=ie.current)==null?void 0:gr.getTime()),_a=W==="x"?Na:Vo,zo=Math.abs(_a)/pc;if(Math.abs(_a)>=Vte||zo>.11){_r(oi.current),(wa=f.onDismiss)==null||wa.call(f,f),$e(W==="x"?Na>0?"right":"left":Vo>0?"down":"up"),Bo(),Ze(!0),at(!1);return}ae(!1),oe(null)},onPointerMove:ut=>{var rr,gr,wa,Na;if(!Hi.current||!pt||((rr=window.getSelection())==null?void 0:rr.toString().length)>0)return;let Vo=ut.clientY-Hi.current.y,pc=ut.clientX-Hi.current.x,_a=(gr=e.swipeDirections)!=null?gr:Ute(L);!W&&(Math.abs(pc)>1||Math.abs(Vo)>1)&&oe(Math.abs(pc)>Math.abs(Vo)?"x":"y");let zo={x:0,y:0};W==="y"?(_a.includes("top")||_a.includes("bottom"))&&(_a.includes("top")&&Vo<0||_a.includes("bottom")&&Vo>0)&&(zo.y=Vo):W==="x"&&(_a.includes("left")||_a.includes("right"))&&(_a.includes("left")&&pc<0||_a.includes("right")&&pc>0)&&(zo.x=pc),(Math.abs(zo.x)>0||Math.abs(zo.y)>0)&&at(!0),(wa=ve.current)==null||wa.style.setProperty("--swipe-amount-x",`${zo.x}px`),(Na=ve.current)==null||Na.style.setProperty("--swipe-amount-y",`${zo.y}px`)}},ii&&!f.jsx?D.createElement("button",{"aria-label":re,"data-disabled":Mw,"data-close-button":!0,onClick:Mw||!pt?()=>{}:()=>{var ut;Bo(),(ut=f.onDismiss)==null||ut.call(f,f)},className:Ca(I==null?void 0:I.closeButton,(a=f==null?void 0:f.classNames)==null?void 0:a.closeButton)},(i=G==null?void 0:G.close)!=null?i:kte):null,f.jsx||x.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:D.createElement(D.Fragment,null,Ee||f.icon||f.promise?D.createElement("div",{"data-icon":"",className:Ca(I==null?void 0:I.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||lX():null,f.type!=="loading"?f.icon||(G==null?void 0:G[Ee])||bte(Ee):null):null,D.createElement("div",{"data-content":"",className:Ca(I==null?void 0:I.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},D.createElement("div",{"data-title":"",className:Ca(I==null?void 0:I.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?D.createElement("div",{"data-description":"",className:Ca(B,Jr,I==null?void 0:I.description,(d=f==null?void 0:f.classNames)==null?void 0:d.description)},typeof f.description=="function"?f.description():f.description):null),x.isValidElement(f.cancel)?f.cancel:f.cancel&&Gg(f.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||E,onClick:ut=>{var rr,gr;Gg(f.cancel)&&pt&&((gr=(rr=f.cancel).onClick)==null||gr.call(rr,ut),Bo())},className:Ca(I==null?void 0:I.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,x.isValidElement(f.action)?f.action:f.action&&Gg(f.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:ut=>{var rr,gr;Gg(f.action)&&((gr=(rr=f.action).onClick)==null||gr.call(rr,ut),!ut.defaultPrevented&&Bo())},className:Ca(I==null?void 0:I.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function oO(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function qte(e,t){let r={};return[e,t].forEach((s,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?Lte:$te;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):c(l)}),r}var Hte=x.forwardRef(function(e,t){let{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:m,style:f,visibleToasts:p=Dte,toastOptions:g,dir:v=oO(),gap:j=Bte,loadingIcon:y,icons:b,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:N}=e,[_,C]=D.useState([]),S=D.useMemo(()=>Array.from(new Set([s].concat(_.filter(X=>X.position).map(X=>X.position)))),[_,s]),[k,E]=D.useState([]),[T,A]=D.useState(!1),[B,R]=D.useState(!1),[L,V]=D.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=D.useRef(null),P=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=D.useRef(null),G=D.useRef(!1),re=D.useCallback(X=>{C(W=>{var oe;return(oe=W.find(je=>je.id===X.id))!=null&&oe.delete||ms.dismiss(X.id),W.filter(({id:je})=>je!==X.id)})},[]);return D.useEffect(()=>ms.subscribe(X=>{if(X.dismiss){C(W=>W.map(oe=>oe.id===X.id?{...oe,delete:!0}:oe));return}setTimeout(()=>{_6.flushSync(()=>{C(W=>{let oe=W.findIndex(je=>je.id===X.id);return oe!==-1?[...W.slice(0,oe),{...W[oe],...X},...W.slice(oe+1)]:[X,...W]})})})}),[]),D.useEffect(()=>{if(u!=="system"){V(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:W})=>{V(W?"dark":"light")})}catch{X.addListener(({matches:oe})=>{try{V(oe?"dark":"light")}catch(je){console.error(je)}})}},[u]),D.useEffect(()=>{_.length<=1&&A(!1)},[_]),D.useEffect(()=>{let X=W=>{var oe,je;a.every($e=>W[$e]||W.code===$e)&&(A(!0),(oe=O.current)==null||oe.focus()),W.code==="Escape"&&(document.activeElement===O.current||(je=O.current)!=null&&je.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[a]),D.useEffect(()=>{if(O.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,G.current=!1)}},[O.current]),D.createElement("section",{ref:t,"aria-label":`${w} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((X,W)=>{var oe;let[je,$e]=X.split("-");return _.length?D.createElement("ol",{key:X,dir:v==="auto"?oO():v,tabIndex:-1,ref:O,className:l,"data-sonner-toaster":!0,"data-theme":L,"data-y-position":je,"data-lifted":T&&_.length>1&&!i,"data-x-position":$e,style:{"--front-toast-height":`${((oe=k[0])==null?void 0:oe.height)||0}px`,"--width":`${Fte}px`,"--gap":`${j}px`,...f,...qte(c,d)},onBlur:se=>{G.current&&!se.currentTarget.contains(se.relatedTarget)&&(G.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||G.current||(G.current=!0,I.current=se.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{B||A(!1)},onDragEnd:()=>A(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},_.filter(se=>!se.position&&W===0||se.position===X).map((se,Te)=>{var le,ge;return D.createElement(Wte,{key:se.id,icons:b,index:Te,toast:se,defaultRichColors:h,duration:(le=g==null?void 0:g.duration)!=null?le:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:p,closeButton:(ge=g==null?void 0:g.closeButton)!=null?ge:o,interacting:B,position:X,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:re,toasts:_.filter(we=>we.position==se.position),heights:k.filter(we=>we.position==se.position),setHeights:E,expandByDefault:i,gap:j,loadingIcon:y,expanded:T,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const Kte=({...e})=>{const{theme:t="system"}=EB();return n.jsx(Hte,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Gte=mk[" useId ".trim().toString()]||(()=>{}),Yte=0;function ws(e){const[t,r]=x.useState(Gte());return wn(()=>{r(s=>s??String(Yte++))},[e]),t?`radix-${t}`:""}const Xte=["top","right","bottom","left"],zl=Math.min,Ms=Math.max,Fv=Math.round,Yg=Math.floor,Ni=e=>({x:e,y:e}),Qte={left:"right",right:"left",bottom:"top",top:"bottom"},Zte={start:"end",end:"start"};function oS(e,t,r){return Ms(e,zl(t,r))}function wo(e,t){return typeof e=="function"?e(t):e}function No(e){return e.split("-")[0]}function dm(e){return e.split("-")[1]}function bT(e){return e==="x"?"y":"x"}function jT(e){return e==="y"?"height":"width"}const Jte=new Set(["top","bottom"]);function xi(e){return Jte.has(No(e))?"y":"x"}function wT(e){return bT(xi(e))}function ere(e,t,r){r===void 0&&(r=!1);const s=dm(e),a=wT(e),i=jT(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Bv(o)),[o,Bv(o)]}function tre(e){const t=Bv(e);return[lS(e),t,lS(t)]}function lS(e){return e.replace(/start|end/g,t=>Zte[t])}const lO=["left","right"],cO=["right","left"],rre=["top","bottom"],nre=["bottom","top"];function sre(e,t,r){switch(e){case"top":case"bottom":return r?t?cO:lO:t?lO:cO;case"left":case"right":return t?rre:nre;default:return[]}}function are(e,t,r,s){const a=dm(e);let i=sre(No(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(lS)))),i}function Bv(e){return e.replace(/left|right|bottom|top/g,t=>Qte[t])}function ire(e){return{top:0,right:0,bottom:0,left:0,...e}}function PB(e){return typeof e!="number"?ire(e):{top:e,right:e,bottom:e,left:e}}function Vv(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function dO(e,t,r){let{reference:s,floating:a}=e;const i=xi(t),o=wT(t),l=jT(o),c=No(t),d=i==="y",u=s.x+s.width/2-a.width/2,h=s.y+s.height/2-a.height/2,m=s[l]/2-a[l]/2;let f;switch(c){case"top":f={x:u,y:s.y-a.height};break;case"bottom":f={x:u,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:h};break;case"left":f={x:s.x-a.width,y:h};break;default:f={x:s.x,y:s.y}}switch(dm(t)){case"start":f[o]-=m*(r&&d?-1:1);break;case"end":f[o]+=m*(r&&d?-1:1);break}return f}const ore=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=dO(d,s,c),m=s,f={},p=0;for(let g=0;g<l.length;g++){const{name:v,fn:j}=l[g],{x:y,y:b,data:w,reset:N}=await j({x:u,y:h,initialPlacement:s,placement:m,strategy:a,middlewareData:f,rects:d,platform:o,elements:{reference:e,floating:t}});u=y??u,h=b??h,f={...f,[v]:{...f[v],...w}},N&&p<=50&&(p++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:h}=dO(d,m,c)),g=-1)}return{x:u,y:h,placement:m,strategy:a,middlewareData:f}};async function vp(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:f=0}=wo(t,e),p=PB(f),v=l[m?h==="floating"?"reference":"floating":h],j=Vv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=h==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},N=Vv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(j.top-N.top+p.top)/w.y,bottom:(N.bottom-j.bottom+p.bottom)/w.y,left:(j.left-N.left+p.left)/w.x,right:(N.right-j.right+p.right)/w.x}}const lre=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=wo(e,t)||{};if(d==null)return{};const h=PB(u),m={x:r,y:s},f=wT(a),p=jT(f),g=await o.getDimensions(d),v=f==="y",j=v?"top":"left",y=v?"bottom":"right",b=v?"clientHeight":"clientWidth",w=i.reference[p]+i.reference[f]-m[f]-i.floating[p],N=m[f]-i.reference[f],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=_?_[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(_)))&&(C=l.floating[b]||i.floating[p]);const S=w/2-N/2,k=C/2-g[p]/2-1,E=zl(h[j],k),T=zl(h[y],k),A=E,B=C-g[p]-T,R=C/2-g[p]/2+S,L=oS(A,R,B),V=!c.arrow&&dm(a)!=null&&R!==L&&i.reference[p]/2-(R<A?E:T)-g[p]/2<0,O=V?R<A?R-A:R-B:0;return{[f]:m[f]+O,data:{[f]:L,centerOffset:R-L-O,...V&&{alignmentOffset:O}},reset:V}}}),cre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=wo(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const j=No(a),y=xi(l),b=No(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(b||!g?[Bv(l)]:tre(l)),_=p!=="none";!m&&_&&N.push(...are(l,g,p,w));const C=[l,...N],S=await vp(t,v),k=[];let E=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&k.push(S[j]),h){const R=ere(a,o,w);k.push(S[R[0]],S[R[1]])}if(E=[...E,{placement:a,overflows:k}],!k.every(R=>R<=0)){var T,A;const R=(((T=i.flip)==null?void 0:T.index)||0)+1,L=C[R];if(L&&(!(h==="alignment"?y!==xi(L):!1)||E.every(P=>P.overflows[0]>0&&xi(P.placement)===y)))return{data:{index:R,overflows:E},reset:{placement:L}};let V=(A=E.filter(O=>O.overflows[0]<=0).sort((O,P)=>O.overflows[1]-P.overflows[1])[0])==null?void 0:A.placement;if(!V)switch(f){case"bestFit":{var B;const O=(B=E.filter(P=>{if(_){const I=xi(P.placement);return I===y||I==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(I=>I>0).reduce((I,G)=>I+G,0)]).sort((P,I)=>P[1]-I[1])[0])==null?void 0:B[0];O&&(V=O);break}case"initialPlacement":V=l;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function uO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function hO(e){return Xte.some(t=>e[t]>=0)}const dre=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=wo(e,t);switch(s){case"referenceHidden":{const i=await vp(t,{...a,elementContext:"reference"}),o=uO(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:hO(o)}}}case"escaped":{const i=await vp(t,{...a,altBoundary:!0}),o=uO(i,r.floating);return{data:{escapedOffsets:o,escaped:hO(o)}}}default:return{}}}}},AB=new Set(["left","top"]);async function ure(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=No(r),l=dm(r),c=xi(r)==="y",d=AB.has(o)?-1:1,u=i&&c?-1:1,h=wo(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof p=="number"&&(f=l==="end"?p*-1:p),c?{x:f*u,y:m*d}:{x:m*d,y:f*u}}const hre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await ure(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},mre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:j,y}=v;return{x:j,y}}},...c}=wo(e,t),d={x:r,y:s},u=await vp(t,c),h=xi(No(a)),m=bT(h);let f=d[m],p=d[h];if(i){const v=m==="y"?"top":"left",j=m==="y"?"bottom":"right",y=f+u[v],b=f-u[j];f=oS(y,f,b)}if(o){const v=h==="y"?"top":"left",j=h==="y"?"bottom":"right",y=p+u[v],b=p-u[j];p=oS(y,p,b)}const g=l.fn({...t,[m]:f,[h]:p});return{...g,data:{x:g.x-r,y:g.y-s,enabled:{[m]:i,[h]:o}}}}}},fre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=wo(e,t),u={x:r,y:s},h=xi(a),m=bT(h);let f=u[m],p=u[h];const g=wo(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=m==="y"?"height":"width",w=i.reference[m]-i.floating[b]+v.mainAxis,N=i.reference[m]+i.reference[b]-v.mainAxis;f<w?f=w:f>N&&(f=N)}if(d){var j,y;const b=m==="y"?"width":"height",w=AB.has(No(a)),N=i.reference[h]-i.floating[b]+(w&&((j=o.offset)==null?void 0:j[h])||0)+(w?0:v.crossAxis),_=i.reference[h]+i.reference[b]+(w?0:((y=o.offset)==null?void 0:y[h])||0)-(w?v.crossAxis:0);p<N?p=N:p>_&&(p=_)}return{[m]:f,[h]:p}}}},pre=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=wo(e,t),u=await vp(t,d),h=No(a),m=dm(a),f=xi(a)==="y",{width:p,height:g}=i.floating;let v,j;h==="top"||h==="bottom"?(v=h,j=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=h,v=m==="end"?"top":"bottom");const y=g-u.top-u.bottom,b=p-u.left-u.right,w=zl(g-u[v],y),N=zl(p-u[j],b),_=!t.middlewareData.shift;let C=w,S=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(S=b),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(C=y),_&&!m){const E=Ms(u.left,0),T=Ms(u.right,0),A=Ms(u.top,0),B=Ms(u.bottom,0);f?S=p-2*(E!==0||T!==0?E+T:Ms(u.left,u.right)):C=g-2*(A!==0||B!==0?A+B:Ms(u.top,u.bottom))}await c({...t,availableWidth:S,availableHeight:C});const k=await o.getDimensions(l.floating);return p!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function Gb(){return typeof window<"u"}function um(e){return OB(e)?(e.nodeName||"").toLowerCase():"#document"}function Bs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function zi(e){var t;return(t=(OB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function OB(e){return Gb()?e instanceof Node||e instanceof Bs(e).Node:!1}function Qa(e){return Gb()?e instanceof Element||e instanceof Bs(e).Element:!1}function Li(e){return Gb()?e instanceof HTMLElement||e instanceof Bs(e).HTMLElement:!1}function mO(e){return!Gb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Bs(e).ShadowRoot}const xre=new Set(["inline","contents"]);function Ux(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=Za(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!xre.has(a)}const gre=new Set(["table","td","th"]);function yre(e){return gre.has(um(e))}const vre=[":popover-open",":modal"];function Yb(e){return vre.some(t=>{try{return e.matches(t)}catch{return!1}})}const bre=["transform","translate","scale","rotate","perspective"],jre=["transform","translate","scale","rotate","perspective","filter"],wre=["paint","layout","strict","content"];function NT(e){const t=_T(),r=Qa(e)?Za(e):e;return bre.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||jre.some(s=>(r.willChange||"").includes(s))||wre.some(s=>(r.contain||"").includes(s))}function Nre(e){let t=Ul(e);for(;Li(t)&&!vh(t);){if(NT(t))return t;if(Yb(t))return null;t=Ul(t)}return null}function _T(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _re=new Set(["html","body","#document"]);function vh(e){return _re.has(um(e))}function Za(e){return Bs(e).getComputedStyle(e)}function Xb(e){return Qa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ul(e){if(um(e)==="html")return e;const t=e.assignedSlot||e.parentNode||mO(e)&&e.host||zi(e);return mO(t)?t.host:t}function MB(e){const t=Ul(e);return vh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Li(t)&&Ux(t)?t:MB(t)}function bp(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=MB(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=Bs(a);if(i){const l=cS(o);return t.concat(o,o.visualViewport||[],Ux(a)?a:[],l&&r?bp(l):[])}return t.concat(a,bp(a,[],r))}function cS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function RB(e){const t=Za(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Li(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=Fv(r)!==i||Fv(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function ST(e){return Qa(e)?e:e.contextElement}function Wu(e){const t=ST(e);if(!Li(t))return Ni(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=RB(t);let o=(i?Fv(r.width):r.width)/s,l=(i?Fv(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Sre=Ni(0);function IB(e){const t=Bs(e);return!_T()||!t.visualViewport?Sre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Cre(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Bs(e)?!1:t}function md(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=ST(e);let o=Ni(1);t&&(s?Qa(s)&&(o=Wu(s)):o=Wu(e));const l=Cre(i,r,s)?IB(i):Ni(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const m=Bs(i),f=s&&Qa(s)?Bs(s):s;let p=m,g=cS(p);for(;g&&s&&f!==p;){const v=Wu(g),j=g.getBoundingClientRect(),y=Za(g),b=j.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,w=j.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,h*=v.y,c+=b,d+=w,p=Bs(g),g=cS(p)}}return Vv({width:u,height:h,x:c,y:d})}function CT(e,t){const r=Xb(e).scrollLeft;return t?t.left+r:md(zi(e)).left+r}function DB(e,t,r){r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(r?0:CT(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function kre(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=zi(s),l=t?Yb(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Ni(1);const u=Ni(0),h=Li(s);if((h||!h&&!i)&&((um(s)!=="body"||Ux(o))&&(c=Xb(s)),Li(s))){const f=md(s);d=Wu(s),u.x=f.x+s.clientLeft,u.y=f.y+s.clientTop}const m=o&&!h&&!i?DB(o,c,!0):Ni(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-c.scrollTop*d.y+u.y+m.y}}function Tre(e){return Array.from(e.getClientRects())}function Ere(e){const t=zi(e),r=Xb(e),s=e.ownerDocument.body,a=Ms(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Ms(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+CT(e);const l=-r.scrollTop;return Za(s).direction==="rtl"&&(o+=Ms(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Pre(e,t){const r=Bs(e),s=zi(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=_T();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const Are=new Set(["absolute","fixed"]);function Ore(e,t){const r=md(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=Li(e)?Wu(e):Ni(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function fO(e,t,r){let s;if(t==="viewport")s=Pre(e,r);else if(t==="document")s=Ere(zi(e));else if(Qa(t))s=Ore(t,r);else{const a=IB(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Vv(s)}function $B(e,t){const r=Ul(e);return r===t||!Qa(r)||vh(r)?!1:Za(r).position==="fixed"||$B(r,t)}function Mre(e,t){const r=t.get(e);if(r)return r;let s=bp(e,[],!1).filter(l=>Qa(l)&&um(l)!=="body"),a=null;const i=Za(e).position==="fixed";let o=i?Ul(e):e;for(;Qa(o)&&!vh(o);){const l=Za(o),c=NT(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&Are.has(a.position)||Ux(o)&&!c&&$B(e,o))?s=s.filter(u=>u!==o):a=l,o=Ul(o)}return t.set(e,s),s}function Rre(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?Yb(t)?[]:Mre(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,u)=>{const h=fO(t,u,a);return d.top=Ms(h.top,d.top),d.right=zl(h.right,d.right),d.bottom=zl(h.bottom,d.bottom),d.left=Ms(h.left,d.left),d},fO(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ire(e){const{width:t,height:r}=RB(e);return{width:t,height:r}}function Dre(e,t,r){const s=Li(t),a=zi(t),i=r==="fixed",o=md(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ni(0);function d(){c.x=CT(a)}if(s||!s&&!i)if((um(t)!=="body"||Ux(a))&&(l=Xb(t)),s){const f=md(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else a&&d();i&&!s&&a&&d();const u=a&&!s&&!i?DB(a,l):Ni(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function x1(e){return Za(e).position==="static"}function pO(e,t){if(!Li(e)||Za(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return zi(e)===r&&(r=r.ownerDocument.body),r}function LB(e,t){const r=Bs(e);if(Yb(e))return r;if(!Li(e)){let a=Ul(e);for(;a&&!vh(a);){if(Qa(a)&&!x1(a))return a;a=Ul(a)}return r}let s=pO(e,t);for(;s&&yre(s)&&x1(s);)s=pO(s,t);return s&&vh(s)&&x1(s)&&!NT(s)?r:s||Nre(e)||r}const $re=async function(e){const t=this.getOffsetParent||LB,r=this.getDimensions,s=await r(e.floating);return{reference:Dre(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Lre(e){return Za(e).direction==="rtl"}const Fre={convertOffsetParentRelativeRectToViewportRelativeRect:kre,getDocumentElement:zi,getClippingRect:Rre,getOffsetParent:LB,getElementRects:$re,getClientRects:Tre,getDimensions:Ire,getScale:Wu,isElement:Qa,isRTL:Lre};function FB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Bre(e,t){let r=null,s;const a=zi(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:m,height:f}=d;if(l||t(),!m||!f)return;const p=Yg(h),g=Yg(a.clientWidth-(u+m)),v=Yg(a.clientHeight-(h+f)),j=Yg(u),b={rootMargin:-p+"px "+-g+"px "+-v+"px "+-j+"px",threshold:Ms(0,zl(1,c))||1};let w=!0;function N(_){const C=_[0].intersectionRatio;if(C!==c){if(!w)return o();C?o(!1,C):s=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!FB(d,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(N,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,b)}r.observe(e)}return o(!0),i}function Vre(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=ST(e),u=a||i?[...d?bp(d):[],...bp(t)]:[];u.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),i&&j.addEventListener("resize",r)});const h=d&&l?Bre(d,r):null;let m=-1,f=null;o&&(f=new ResizeObserver(j=>{let[y]=j;y&&y.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(t)})),r()}),d&&!c&&f.observe(d),f.observe(t));let p,g=c?md(e):null;c&&v();function v(){const j=md(e);g&&!FB(g,j)&&r(),g=j,p=requestAnimationFrame(v)}return r(),()=>{var j;u.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),h==null||h(),(j=f)==null||j.disconnect(),f=null,c&&cancelAnimationFrame(p)}}const zre=hre,Ure=mre,Wre=cre,qre=pre,Hre=dre,xO=lre,Kre=fre,Gre=(e,t,r)=>{const s=new Map,a={platform:Fre,...r},i={...a.platform,_c:s};return ore(e,t,{...a,platform:i})};var Yre=typeof document<"u",Xre=function(){},Qy=Yre?x.useLayoutEffect:Xre;function zv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!zv(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!zv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function BB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gO(e,t){const r=BB(e);return Math.round(t*r)/r}function g1(e){const t=x.useRef(e);return Qy(()=>{t.current=e}),t}function Qre(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=x.useState(s);zv(m,s)||f(s);const[p,g]=x.useState(null),[v,j]=x.useState(null),y=x.useCallback(P=>{P!==_.current&&(_.current=P,g(P))},[]),b=x.useCallback(P=>{P!==C.current&&(C.current=P,j(P))},[]),w=i||p,N=o||v,_=x.useRef(null),C=x.useRef(null),S=x.useRef(u),k=c!=null,E=g1(c),T=g1(a),A=g1(d),B=x.useCallback(()=>{if(!_.current||!C.current)return;const P={placement:t,strategy:r,middleware:m};T.current&&(P.platform=T.current),Gre(_.current,C.current,P).then(I=>{const G={...I,isPositioned:A.current!==!1};R.current&&!zv(S.current,G)&&(S.current=G,Ed.flushSync(()=>{h(G)}))})},[m,t,r,T,A]);Qy(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(P=>({...P,isPositioned:!1})))},[d]);const R=x.useRef(!1);Qy(()=>(R.current=!0,()=>{R.current=!1}),[]),Qy(()=>{if(w&&(_.current=w),N&&(C.current=N),w&&N){if(E.current)return E.current(w,N,B);B()}},[w,N,B,E,k]);const L=x.useMemo(()=>({reference:_,floating:C,setReference:y,setFloating:b}),[y,b]),V=x.useMemo(()=>({reference:w,floating:N}),[w,N]),O=x.useMemo(()=>{const P={position:r,left:0,top:0};if(!V.floating)return P;const I=gO(V.floating,u.x),G=gO(V.floating,u.y);return l?{...P,transform:"translate("+I+"px, "+G+"px)",...BB(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:G}},[r,l,V.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:B,refs:L,elements:V,floatingStyles:O}),[u,B,L,V,O])}const Zre=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?xO({element:s.current,padding:a}).fn(r):{}:s?xO({element:s,padding:a}).fn(r):{}}}},Jre=(e,t)=>({...zre(e),options:[e,t]}),ene=(e,t)=>({...Ure(e),options:[e,t]}),tne=(e,t)=>({...Kre(e),options:[e,t]}),rne=(e,t)=>({...Wre(e),options:[e,t]}),nne=(e,t)=>({...qre(e),options:[e,t]}),sne=(e,t)=>({...Hre(e),options:[e,t]}),ane=(e,t)=>({...Zre(e),options:[e,t]});var ine="Arrow",VB=x.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(Ce.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});VB.displayName=ine;var one=VB;function Wx(e){const[t,r]=x.useState(void 0);return wn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var kT="Popper",[zB,ec]=Zr(kT),[lne,UB]=zB(kT),WB=e=>{const{__scopePopper:t,children:r}=e,[s,a]=x.useState(null);return n.jsx(lne,{scope:t,anchor:s,onAnchorChange:a,children:r})};WB.displayName=kT;var qB="PopperAnchor",HB=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=UB(qB,r),o=x.useRef(null),l=Qe(t,o);return x.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(Ce.div,{...a,ref:l})});HB.displayName=qB;var TT="PopperContent",[cne,dne]=zB(TT),KB=x.forwardRef((e,t)=>{var se,Te,le,ge,we,ae;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:f="optimized",onPlaced:p,...g}=e,v=UB(TT,r),[j,y]=x.useState(null),b=Qe(t,st=>y(st)),[w,N]=x.useState(null),_=Wx(w),C=(_==null?void 0:_.width)??0,S=(_==null?void 0:_.height)??0,k=s+(i!=="center"?"-"+i:""),E=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},T=Array.isArray(d)?d:[d],A=T.length>0,B={padding:E,boundary:T.filter(hne),altBoundary:A},{refs:R,floatingStyles:L,placement:V,isPositioned:O,middlewareData:P}=Qre({strategy:"fixed",placement:k,whileElementsMounted:(...st)=>Vre(...st,{animationFrame:f==="always"}),elements:{reference:v.anchor},middleware:[Jre({mainAxis:a+S,alignmentAxis:o}),c&&ene({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?tne():void 0,...B}),c&&rne({...B}),nne({...B,apply:({elements:st,rects:Ze,availableWidth:Tt,availableHeight:at})=>{const{width:Bt,height:_r}=Ze.reference,un=st.floating.style;un.setProperty("--radix-popper-available-width",`${Tt}px`),un.setProperty("--radix-popper-available-height",`${at}px`),un.setProperty("--radix-popper-anchor-width",`${Bt}px`),un.setProperty("--radix-popper-anchor-height",`${_r}px`)}}),w&&ane({element:w,padding:l}),mne({arrowWidth:C,arrowHeight:S}),m&&sne({strategy:"referenceHidden",...B})]}),[I,G]=XB(V),re=Gr(p);wn(()=>{O&&(re==null||re())},[O,re]);const X=(se=P.arrow)==null?void 0:se.x,W=(Te=P.arrow)==null?void 0:Te.y,oe=((le=P.arrow)==null?void 0:le.centerOffset)!==0,[je,$e]=x.useState();return wn(()=>{j&&$e(window.getComputedStyle(j).zIndex)},[j]),n.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:O?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(ge=P.transformOrigin)==null?void 0:ge.x,(we=P.transformOrigin)==null?void 0:we.y].join(" "),...((ae=P.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(cne,{scope:r,placedSide:I,onArrowChange:N,arrowX:X,arrowY:W,shouldHideArrow:oe,children:n.jsx(Ce.div,{"data-side":I,"data-align":G,...g,ref:b,style:{...g.style,animation:O?void 0:"none"}})})})});KB.displayName=TT;var GB="PopperArrow",une={top:"bottom",right:"left",bottom:"top",left:"right"},YB=x.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=dne(GB,s),o=une[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(one,{...a,ref:r,style:{...a.style,display:"block"}})})});YB.displayName=GB;function hne(e){return e!==null}var mne=e=>({name:"transformOrigin",options:e,fn(t){var v,j,y;const{placement:r,rects:s,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=XB(r),h={start:"0%",center:"50%",end:"100%"}[u],m=(((j=a.arrow)==null?void 0:j.x)??0)+l/2,f=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let p="",g="";return d==="bottom"?(p=o?h:`${m}px`,g=`${-c}px`):d==="top"?(p=o?h:`${m}px`,g=`${s.floating.height+c}px`):d==="right"?(p=`${-c}px`,g=o?h:`${f}px`):d==="left"&&(p=`${s.floating.width+c}px`,g=o?h:`${f}px`),{data:{x:p,y:g}}}});function XB(e){const[t,r="center"]=e.split("-");return[t,r]}var Qb=WB,qx=HB,Zb=KB,Jb=YB,[ej,_qe]=Zr("Tooltip",[ec]),tj=ec(),QB="TooltipProvider",fne=700,dS="tooltip.open",[pne,ET]=ej(QB),ZB=e=>{const{__scopeTooltip:t,delayDuration:r=fne,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),n.jsx(pne,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};ZB.displayName=QB;var jp="Tooltip",[xne,rj]=ej(jp),JB=e=>{const{__scopeTooltip:t,children:r,open:s,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=ET(jp,e.__scopeTooltip),d=tj(t),[u,h]=x.useState(null),m=ws(),f=x.useRef(0),p=o??c.disableHoverableContent,g=l??c.delayDuration,v=x.useRef(!1),[j,y]=Kn({prop:s,defaultProp:a??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(dS))):c.onClose(),i==null||i(C)},caller:jp}),b=x.useMemo(()=>j?v.current?"delayed-open":"instant-open":"closed",[j]),w=x.useCallback(()=>{window.clearTimeout(f.current),f.current=0,v.current=!1,y(!0)},[y]),N=x.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y(!1)},[y]),_=x.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{v.current=!0,y(!0),f.current=0},g)},[g,y]);return x.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),n.jsx(Qb,{...d,children:n.jsx(xne,{scope:t,contentId:m,open:j,stateAttribute:b,trigger:u,onTriggerChange:h,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?_():w()},[c.isOpenDelayedRef,_,w]),onTriggerLeave:x.useCallback(()=>{p?N():(window.clearTimeout(f.current),f.current=0)},[N,p]),onOpen:w,onClose:N,disableHoverableContent:p,children:r})})};JB.displayName=jp;var uS="TooltipTrigger",e9=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=rj(uS,r),i=ET(uS,r),o=tj(r),l=x.useRef(null),c=Qe(t,l,a.onTriggerChange),d=x.useRef(!1),u=x.useRef(!1),h=x.useCallback(()=>d.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(qx,{asChild:!0,...o,children:n.jsx(Ce.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:me(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:me(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:me(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:me(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:me(e.onBlur,a.onClose),onClick:me(e.onClick,a.onClose)})})});e9.displayName=uS;var gne="TooltipPortal",[Sqe,yne]=ej(gne,{forceMount:void 0}),bh="TooltipContent",t9=x.forwardRef((e,t)=>{const r=yne(bh,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=rj(bh,e.__scopeTooltip);return n.jsx(dn,{present:s||o.open,children:o.disableHoverableContent?n.jsx(r9,{side:a,...i,ref:t}):n.jsx(vne,{side:a,...i,ref:t})})}),vne=x.forwardRef((e,t)=>{const r=rj(bh,e.__scopeTooltip),s=ET(bh,e.__scopeTooltip),a=x.useRef(null),i=Qe(t,a),[o,l]=x.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:h}=s,m=x.useCallback(()=>{l(null),h(!1)},[h]),f=x.useCallback((p,g)=>{const v=p.currentTarget,j={x:p.clientX,y:p.clientY},y=_ne(j,v.getBoundingClientRect()),b=Sne(j,y),w=Cne(g.getBoundingClientRect()),N=Tne([...b,...w]);l(N),h(!0)},[h]);return x.useEffect(()=>()=>m(),[m]),x.useEffect(()=>{if(c&&u){const p=v=>f(v,u),g=v=>f(v,c);return c.addEventListener("pointerleave",p),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",g)}}},[c,u,f,m]),x.useEffect(()=>{if(o){const p=g=>{const v=g.target,j={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),b=!kne(j,o);y?m():b&&(m(),d())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,u,o,d,m]),n.jsx(r9,{...e,ref:i})}),[bne,jne]=ej(jp,{isInside:!1}),wne=T6("TooltipContent"),r9=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=rj(bh,r),d=tj(r),{onClose:u}=c;return x.useEffect(()=>(document.addEventListener(dS,u),()=>document.removeEventListener(dS,u)),[u]),x.useEffect(()=>{if(c.trigger){const h=m=>{const f=m.target;f!=null&&f.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),n.jsx(Pd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:n.jsxs(Zb,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(wne,{children:s}),n.jsx(bne,{scope:r,isInside:!0,children:n.jsx(cJ,{id:c.contentId,role:"tooltip",children:a||s})})]})})});t9.displayName=bh;var n9="TooltipArrow",Nne=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=tj(r);return jne(n9,r).isInside?null:n.jsx(Jb,{...a,...s,ref:t})});Nne.displayName=n9;function _ne(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Sne(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function Cne(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function kne(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>s!=m>s&&r<(h-d)*(s-u)/(m-u)+d&&(a=!a)}return a}function Tne(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),Ene(t)}function Ene(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Pne=ZB,Ane=JB,One=e9,s9=t9;const Hx=Pne,Wl=Ane,ql=One,_o=x.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(s9,{ref:s,sideOffset:t,className:z("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));_o.displayName=s9.displayName;var hm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fd=typeof window>"u"||"Deno"in globalThis;function Zn(){}function Mne(e,t){return typeof e=="function"?e(t):e}function hS(e){return typeof e=="number"&&e>=0&&e!==1/0}function a9(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Pl(e,t){return typeof e=="function"?e(t):e}function ta(e,t){return typeof e=="function"?e(t):e}function yO(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==PT(o,t.options))return!1}else if(!wp(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function vO(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(pd(t.options.mutationKey)!==pd(i))return!1}else if(!wp(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function PT(e,t){return((t==null?void 0:t.queryKeyHashFn)||pd)(e)}function pd(e){return JSON.stringify(e,(t,r)=>mS(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function wp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>wp(e[r],t[r])):!1}function i9(e,t){if(e===t)return e;const r=bO(e)&&bO(t);if(r||mS(e)&&mS(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(s);let d=0;for(let u=0;u<o;u++){const h=r?u:i[u];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=i9(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function Uv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function bO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mS(e){if(!jO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!jO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jO(e){return Object.prototype.toString.call(e)==="[object Object]"}function Rne(e){return new Promise(t=>{setTimeout(t,e)})}function fS(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?i9(e,t):t}function Ine(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function Dne(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var AT=Symbol();function o9(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===AT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function l9(e,t){return typeof e=="function"?e(...t):!!e}var zc,il,Ju,rL,$ne=(rL=class extends hm{constructor(){super();et(this,zc);et(this,il);et(this,Ju);Oe(this,Ju,t=>{if(!fd&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){H(this,il)||this.setEventListener(H(this,Ju))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,il))==null||t.call(this),Oe(this,il,void 0))}setEventListener(t){var r;Oe(this,Ju,t),(r=H(this,il))==null||r.call(this),Oe(this,il,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){H(this,zc)!==t&&(Oe(this,zc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof H(this,zc)=="boolean"?H(this,zc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},zc=new WeakMap,il=new WeakMap,Ju=new WeakMap,rL),OT=new $ne,eh,ol,th,nL,Lne=(nL=class extends hm{constructor(){super();et(this,eh,!0);et(this,ol);et(this,th);Oe(this,th,t=>{if(!fd&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){H(this,ol)||this.setEventListener(H(this,th))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,ol))==null||t.call(this),Oe(this,ol,void 0))}setEventListener(t){var r;Oe(this,th,t),(r=H(this,ol))==null||r.call(this),Oe(this,ol,t(this.setOnline.bind(this)))}setOnline(t){H(this,eh)!==t&&(Oe(this,eh,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return H(this,eh)}},eh=new WeakMap,ol=new WeakMap,th=new WeakMap,nL),Wv=new Lne;function pS(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function Fne(e){return Math.min(1e3*2**e,3e4)}function c9(e){return(e??"online")==="online"?Wv.isOnline():!0}var d9=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function y1(e){return e instanceof d9}function u9(e){let t=!1,r=0,s=!1,a;const i=pS(),o=g=>{var v;s||(m(new d9(g)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>OT.isFocused()&&(e.networkMode==="always"||Wv.isOnline())&&e.canRun(),u=()=>c9(e.networkMode)&&e.canRun(),h=g=>{var v;s||(s=!0,(v=e.onSuccess)==null||v.call(e,g),a==null||a(),i.resolve(g))},m=g=>{var v;s||(s=!0,(v=e.onError)==null||v.call(e,g),a==null||a(),i.reject(g))},f=()=>new Promise(g=>{var v;a=j=>{(s||d())&&g(j)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;a=void 0,s||(g=e.onContinue)==null||g.call(e)}),p=()=>{if(s)return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(j){g=Promise.reject(j)}Promise.resolve(g).then(h).catch(j=>{var _;if(s)return;const y=e.retry??(fd?0:3),b=e.retryDelay??Fne,w=typeof b=="function"?b(r,j):b,N=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,j);if(t||!N){m(j);return}r++,(_=e.onFail)==null||_.call(e,r,j),Rne(w).then(()=>d()?void 0:f()).then(()=>{t?m(j):p()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?p():f().then(p),i)}}var Bne=e=>setTimeout(e,0);function Vne(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=Bne;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var vn=Vne(),Uc,sL,h9=(sL=class{constructor(){et(this,Uc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hS(this.gcTime)&&Oe(this,Uc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(fd?1/0:5*60*1e3))}clearGcTimeout(){H(this,Uc)&&(clearTimeout(H(this,Uc)),Oe(this,Uc,void 0))}},Uc=new WeakMap,sL),rh,Wc,ea,qc,Bn,Cx,Hc,Ra,Zi,aL,zne=(aL=class extends h9{constructor(t){super();et(this,Ra);et(this,rh);et(this,Wc);et(this,ea);et(this,qc);et(this,Bn);et(this,Cx);et(this,Hc);Oe(this,Hc,!1),Oe(this,Cx,t.defaultOptions),this.setOptions(t.options),this.observers=[],Oe(this,qc,t.client),Oe(this,ea,H(this,qc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Oe(this,rh,Une(this.options)),this.state=t.state??H(this,rh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=H(this,Bn))==null?void 0:t.promise}setOptions(t){this.options={...H(this,Cx),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,ea).remove(this)}setData(t,r){const s=fS(this.state.data,t,this.options);return xt(this,Ra,Zi).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){xt(this,Ra,Zi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=H(this,Bn))==null?void 0:s.promise;return(a=H(this,Bn))==null||a.cancel(t),r?r.then(Zn).catch(Zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,rh))}isActive(){return this.observers.some(t=>ta(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===AT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Pl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!a9(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=H(this,Bn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=H(this,Bn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),H(this,ea).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(H(this,Bn)&&(H(this,Hc)?H(this,Bn).cancel({revert:!0}):H(this,Bn).cancelRetry()),this.scheduleGc()),H(this,ea).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xt(this,Ra,Zi).call(this,{type:"invalidate"})}fetch(t,r){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,Bn))return H(this,Bn).continueRetry(),H(this,Bn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(f=>f.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Oe(this,Hc,!0),s.signal)})},i=()=>{const m=o9(this.options,r),p=(()=>{const g={client:H(this,qc),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return Oe(this,Hc,!1),this.options.persister?this.options.persister(m,p,this):m(p)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:H(this,qc),state:this.state,fetchFn:i};return a(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),Oe(this,Wc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&xt(this,Ra,Zi).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=m=>{var f,p,g,v;y1(m)&&m.silent||xt(this,Ra,Zi).call(this,{type:"error",error:m}),y1(m)||((p=(f=H(this,ea).config).onError)==null||p.call(f,m,this),(v=(g=H(this,ea).config).onSettled)==null||v.call(g,this.state.data,m,this)),this.scheduleGc()};return Oe(this,Bn,u9({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var f,p,g,v;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(j){c(j);return}(p=(f=H(this,ea).config).onSuccess)==null||p.call(f,m,this),(v=(g=H(this,ea).config).onSettled)==null||v.call(g,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,f)=>{xt(this,Ra,Zi).call(this,{type:"failed",failureCount:m,error:f})},onPause:()=>{xt(this,Ra,Zi).call(this,{type:"pause"})},onContinue:()=>{xt(this,Ra,Zi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),H(this,Bn).start()}},rh=new WeakMap,Wc=new WeakMap,ea=new WeakMap,qc=new WeakMap,Bn=new WeakMap,Cx=new WeakMap,Hc=new WeakMap,Ra=new WeakSet,Zi=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...m9(s.data,this.options),fetchMeta:t.meta??null};case"success":return Oe(this,Wc,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return y1(a)&&a.revert&&H(this,Wc)?{...H(this,Wc),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),vn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),H(this,ea).notify({query:this,type:"updated",action:t})})},aL);function m9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:c9(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Une(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ui,iL,Wne=(iL=class extends hm{constructor(t={}){super();et(this,ui);this.config=t,Oe(this,ui,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??PT(a,r);let o=this.get(i);return o||(o=new zne({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){H(this,ui).has(t.queryHash)||(H(this,ui).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=H(this,ui).get(t.queryHash);r&&(t.destroy(),r===t&&H(this,ui).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){vn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return H(this,ui).get(t)}getAll(){return[...H(this,ui).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>yO(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>yO(t,s)):r}notify(t){vn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){vn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){vn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ui=new WeakMap,iL),hi,Yn,Kc,mi,Ko,oL,qne=(oL=class extends h9{constructor(t){super();et(this,mi);et(this,hi);et(this,Yn);et(this,Kc);this.mutationId=t.mutationId,Oe(this,Yn,t.mutationCache),Oe(this,hi,[]),this.state=t.state||f9(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){H(this,hi).includes(t)||(H(this,hi).push(t),this.clearGcTimeout(),H(this,Yn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Oe(this,hi,H(this,hi).filter(r=>r!==t)),this.scheduleGc(),H(this,Yn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){H(this,hi).length||(this.state.status==="pending"?this.scheduleGc():H(this,Yn).remove(this))}continue(){var t;return((t=H(this,Kc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,h,m,f,p,g,v,j,y,b,w,N,_,C,S;const r=()=>{xt(this,mi,Ko).call(this,{type:"continue"})};Oe(this,Kc,u9({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,E)=>{xt(this,mi,Ko).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{xt(this,mi,Ko).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Yn).canRun(this)}));const s=this.state.status==="pending",a=!H(this,Kc).canStart();try{if(s)r();else{xt(this,mi,Ko).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=H(this,Yn).config).onMutate)==null?void 0:o.call(i,t,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));E!==this.state.context&&xt(this,mi,Ko).call(this,{type:"pending",context:E,variables:t,isPaused:a})}const k=await H(this,Kc).start();return await((u=(d=H(this,Yn).config).onSuccess)==null?void 0:u.call(d,k,t,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,k,t,this.state.context)),await((p=(f=H(this,Yn).config).onSettled)==null?void 0:p.call(f,k,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,k,null,t,this.state.context)),xt(this,mi,Ko).call(this,{type:"success",data:k}),k}catch(k){try{throw await((y=(j=H(this,Yn).config).onError)==null?void 0:y.call(j,k,t,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,k,t,this.state.context)),await((_=(N=H(this,Yn).config).onSettled)==null?void 0:_.call(N,void 0,k,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,k,t,this.state.context)),k}finally{xt(this,mi,Ko).call(this,{type:"error",error:k})}}finally{H(this,Yn).runNext(this)}}},hi=new WeakMap,Yn=new WeakMap,Kc=new WeakMap,mi=new WeakSet,Ko=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),vn.batch(()=>{H(this,hi).forEach(s=>{s.onMutationUpdate(t)}),H(this,Yn).notify({mutation:this,type:"updated",action:t})})},oL);function f9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ro,Ia,kx,lL,Hne=(lL=class extends hm{constructor(t={}){super();et(this,ro);et(this,Ia);et(this,kx);this.config=t,Oe(this,ro,new Set),Oe(this,Ia,new Map),Oe(this,kx,0)}build(t,r,s){const a=new qne({mutationCache:this,mutationId:++kg(this,kx)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){H(this,ro).add(t);const r=Xg(t);if(typeof r=="string"){const s=H(this,Ia).get(r);s?s.push(t):H(this,Ia).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(H(this,ro).delete(t)){const r=Xg(t);if(typeof r=="string"){const s=H(this,Ia).get(r);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&H(this,Ia).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Xg(t);if(typeof r=="string"){const s=H(this,Ia).get(r),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const r=Xg(t);if(typeof r=="string"){const a=(s=H(this,Ia).get(r))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){vn.batch(()=>{H(this,ro).forEach(t=>{this.notify({type:"removed",mutation:t})}),H(this,ro).clear(),H(this,Ia).clear()})}getAll(){return Array.from(H(this,ro))}find(t){const r={exact:!0,...t};return this.getAll().find(s=>vO(r,s))}findAll(t={}){return this.getAll().filter(r=>vO(t,r))}notify(t){vn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return vn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Zn))))}},ro=new WeakMap,Ia=new WeakMap,kx=new WeakMap,lL);function Xg(e){var t;return(t=e.options.scope)==null?void 0:t.id}function wO(e){return{onFetch:(t,r)=>{var u,h,m,f,p;const s=t.options,a=(m=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},j=o9(t.options,t.fetchOptions),y=async(b,w,N)=>{if(g)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:w,direction:N?"backward":"forward",meta:t.options.meta};return v(T),T})(),S=await j(C),{maxPages:k}=t.options,E=N?Dne:Ine;return{pages:E(b.pages,S,k),pageParams:E(b.pageParams,w,k)}};if(a&&i.length){const b=a==="backward",w=b?Kne:NO,N={pages:i,pageParams:o},_=w(s,N);l=await y(N,_,b)}else{const b=e??i.length;do{const w=c===0?o[0]??s.initialPageParam:NO(s,l);if(c>0&&w==null)break;l=await y(l,w),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function NO(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function Kne(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var $r,ll,cl,nh,sh,dl,ah,ih,cL,Gne=(cL=class{constructor(e={}){et(this,$r);et(this,ll);et(this,cl);et(this,nh);et(this,sh);et(this,dl);et(this,ah);et(this,ih);Oe(this,$r,e.queryCache||new Wne),Oe(this,ll,e.mutationCache||new Hne),Oe(this,cl,e.defaultOptions||{}),Oe(this,nh,new Map),Oe(this,sh,new Map),Oe(this,dl,0)}mount(){kg(this,dl)._++,H(this,dl)===1&&(Oe(this,ah,OT.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,$r).onFocus())})),Oe(this,ih,Wv.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,$r).onOnline())})))}unmount(){var e,t;kg(this,dl)._--,H(this,dl)===0&&((e=H(this,ah))==null||e.call(this),Oe(this,ah,void 0),(t=H(this,ih))==null||t.call(this),Oe(this,ih,void 0))}isFetching(e){return H(this,$r).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return H(this,ll).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=H(this,$r).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=H(this,$r).build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Pl(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return H(this,$r).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=H(this,$r).get(s.queryHash),i=a==null?void 0:a.state.data,o=Mne(t,i);if(o!==void 0)return H(this,$r).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return vn.batch(()=>H(this,$r).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=H(this,$r).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=H(this,$r);vn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=H(this,$r);return vn.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=vn.batch(()=>H(this,$r).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(Zn).catch(Zn)}invalidateQueries(e,t={}){return vn.batch(()=>(H(this,$r).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=vn.batch(()=>H(this,$r).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Zn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Zn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=H(this,$r).build(this,t);return r.isStaleByTime(Pl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zn).catch(Zn)}fetchInfiniteQuery(e){return e.behavior=wO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zn).catch(Zn)}ensureInfiniteQueryData(e){return e.behavior=wO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wv.isOnline()?H(this,ll).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,$r)}getMutationCache(){return H(this,ll)}getDefaultOptions(){return H(this,cl)}setDefaultOptions(e){Oe(this,cl,e)}setQueryDefaults(e,t){H(this,nh).set(pd(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...H(this,nh).values()],r={};return t.forEach(s=>{wp(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){H(this,sh).set(pd(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...H(this,sh).values()],r={};return t.forEach(s=>{wp(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...H(this,cl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=PT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===AT&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...H(this,cl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){H(this,$r).clear(),H(this,ll).clear()}},$r=new WeakMap,ll=new WeakMap,cl=new WeakMap,nh=new WeakMap,sh=new WeakMap,dl=new WeakMap,ah=new WeakMap,ih=new WeakMap,cL),ds,Pt,Tx,Xn,Gc,oh,ul,hl,Ex,lh,ch,Yc,Xc,ml,dh,Yt,yf,xS,gS,yS,vS,bS,jS,wS,p9,dL,Yne=(dL=class extends hm{constructor(t,r){super();et(this,Yt);et(this,ds);et(this,Pt);et(this,Tx);et(this,Xn);et(this,Gc);et(this,oh);et(this,ul);et(this,hl);et(this,Ex);et(this,lh);et(this,ch);et(this,Yc);et(this,Xc);et(this,ml);et(this,dh,new Set);this.options=r,Oe(this,ds,t),Oe(this,hl,null),Oe(this,ul,pS()),this.options.experimental_prefetchInRender||H(this,ul).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,Pt).addObserver(this),_O(H(this,Pt),this.options)?xt(this,Yt,yf).call(this):this.updateResult(),xt(this,Yt,vS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return NS(H(this,Pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return NS(H(this,Pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,xt(this,Yt,bS).call(this),xt(this,Yt,jS).call(this),H(this,Pt).removeObserver(this)}setOptions(t){const r=this.options,s=H(this,Pt);if(this.options=H(this,ds).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ta(this.options.enabled,H(this,Pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");xt(this,Yt,wS).call(this),H(this,Pt).setOptions(this.options),r._defaulted&&!Uv(this.options,r)&&H(this,ds).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,Pt),observer:this});const a=this.hasListeners();a&&SO(H(this,Pt),s,this.options,r)&&xt(this,Yt,yf).call(this),this.updateResult(),a&&(H(this,Pt)!==s||ta(this.options.enabled,H(this,Pt))!==ta(r.enabled,H(this,Pt))||Pl(this.options.staleTime,H(this,Pt))!==Pl(r.staleTime,H(this,Pt)))&&xt(this,Yt,xS).call(this);const i=xt(this,Yt,gS).call(this);a&&(H(this,Pt)!==s||ta(this.options.enabled,H(this,Pt))!==ta(r.enabled,H(this,Pt))||i!==H(this,ml))&&xt(this,Yt,yS).call(this,i)}getOptimisticResult(t){const r=H(this,ds).getQueryCache().build(H(this,ds),t),s=this.createResult(r,t);return Qne(this,s)&&(Oe(this,Xn,s),Oe(this,oh,this.options),Oe(this,Gc,H(this,Pt).state)),s}getCurrentResult(){return H(this,Xn)}trackResult(t,r){return new Proxy(t,{get:(s,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(s,a))})}trackProp(t){H(this,dh).add(t)}getCurrentQuery(){return H(this,Pt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=H(this,ds).defaultQueryOptions(t),s=H(this,ds).getQueryCache().build(H(this,ds),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return xt(this,Yt,yf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,Xn)))}createResult(t,r){var k;const s=H(this,Pt),a=this.options,i=H(this,Xn),o=H(this,Gc),l=H(this,oh),d=t!==s?t.state:H(this,Tx),{state:u}=t;let h={...u},m=!1,f;if(r._optimisticResults){const E=this.hasListeners(),T=!E&&_O(t,r),A=E&&SO(t,s,r,a);(T||A)&&(h={...h,...m9(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:v}=h;f=h.data;let j=!1;if(r.placeholderData!==void 0&&f===void 0&&v==="pending"){let E;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(E=i.data,j=!0):E=typeof r.placeholderData=="function"?r.placeholderData((k=H(this,ch))==null?void 0:k.state.data,H(this,ch)):r.placeholderData,E!==void 0&&(v="success",f=fS(i==null?void 0:i.data,E,r),m=!0)}if(r.select&&f!==void 0&&!j)if(i&&f===(o==null?void 0:o.data)&&r.select===H(this,Ex))f=H(this,lh);else try{Oe(this,Ex,r.select),f=r.select(f),f=fS(i==null?void 0:i.data,f,r),Oe(this,lh,f),Oe(this,hl,null)}catch(E){Oe(this,hl,E)}H(this,hl)&&(p=H(this,hl),f=H(this,lh),g=Date.now(),v="error");const y=h.fetchStatus==="fetching",b=v==="pending",w=v==="error",N=b&&y,_=f!==void 0,S={status:v,fetchStatus:h.fetchStatus,isPending:b,isSuccess:v==="success",isError:w,isInitialLoading:N,isLoading:N,data:f,dataUpdatedAt:h.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:w&&!_,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:w&&_,isStale:MT(t,r),refetch:this.refetch,promise:H(this,ul),isEnabled:ta(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=B=>{S.status==="error"?B.reject(S.error):S.data!==void 0&&B.resolve(S.data)},T=()=>{const B=Oe(this,ul,S.promise=pS());E(B)},A=H(this,ul);switch(A.status){case"pending":t.queryHash===s.queryHash&&E(A);break;case"fulfilled":(S.status==="error"||S.data!==A.value)&&T();break;case"rejected":(S.status!=="error"||S.error!==A.reason)&&T();break}}return S}updateResult(){const t=H(this,Xn),r=this.createResult(H(this,Pt),this.options);if(Oe(this,Gc,H(this,Pt).state),Oe(this,oh,this.options),H(this,Gc).data!==void 0&&Oe(this,ch,H(this,Pt)),Uv(r,t))return;Oe(this,Xn,r);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!H(this,dh).size)return!0;const o=new Set(i??H(this,dh));return this.options.throwOnError&&o.add("error"),Object.keys(H(this,Xn)).some(l=>{const c=l;return H(this,Xn)[c]!==t[c]&&o.has(c)})};xt(this,Yt,p9).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&xt(this,Yt,vS).call(this)}},ds=new WeakMap,Pt=new WeakMap,Tx=new WeakMap,Xn=new WeakMap,Gc=new WeakMap,oh=new WeakMap,ul=new WeakMap,hl=new WeakMap,Ex=new WeakMap,lh=new WeakMap,ch=new WeakMap,Yc=new WeakMap,Xc=new WeakMap,ml=new WeakMap,dh=new WeakMap,Yt=new WeakSet,yf=function(t){xt(this,Yt,wS).call(this);let r=H(this,Pt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Zn)),r},xS=function(){xt(this,Yt,bS).call(this);const t=Pl(this.options.staleTime,H(this,Pt));if(fd||H(this,Xn).isStale||!hS(t))return;const s=a9(H(this,Xn).dataUpdatedAt,t)+1;Oe(this,Yc,setTimeout(()=>{H(this,Xn).isStale||this.updateResult()},s))},gS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,Pt)):this.options.refetchInterval)??!1},yS=function(t){xt(this,Yt,jS).call(this),Oe(this,ml,t),!(fd||ta(this.options.enabled,H(this,Pt))===!1||!hS(H(this,ml))||H(this,ml)===0)&&Oe(this,Xc,setInterval(()=>{(this.options.refetchIntervalInBackground||OT.isFocused())&&xt(this,Yt,yf).call(this)},H(this,ml)))},vS=function(){xt(this,Yt,xS).call(this),xt(this,Yt,yS).call(this,xt(this,Yt,gS).call(this))},bS=function(){H(this,Yc)&&(clearTimeout(H(this,Yc)),Oe(this,Yc,void 0))},jS=function(){H(this,Xc)&&(clearInterval(H(this,Xc)),Oe(this,Xc,void 0))},wS=function(){const t=H(this,ds).getQueryCache().build(H(this,ds),this.options);if(t===H(this,Pt))return;const r=H(this,Pt);Oe(this,Pt,t),Oe(this,Tx,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},p9=function(t){vn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(H(this,Xn))}),H(this,ds).getQueryCache().notify({query:H(this,Pt),type:"observerResultsUpdated"})})},dL);function Xne(e,t){return ta(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function _O(e,t){return Xne(e,t)||e.state.data!==void 0&&NS(e,t,t.refetchOnMount)}function NS(e,t,r){if(ta(t.enabled,e)!==!1&&Pl(t.staleTime,e)!=="static"){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&MT(e,t)}return!1}function SO(e,t,r,s){return(e!==t||ta(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&MT(e,r)}function MT(e,t){return ta(t.enabled,e)!==!1&&e.isStaleByTime(Pl(t.staleTime,e))}function Qne(e,t){return!Uv(e.getCurrentResult(),t)}var fl,pl,us,no,go,Zy,_S,uL,Zne=(uL=class extends hm{constructor(r,s){super();et(this,go);et(this,fl);et(this,pl);et(this,us);et(this,no);Oe(this,fl,r),this.setOptions(s),this.bindMethods(),xt(this,go,Zy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=H(this,fl).defaultMutationOptions(r),Uv(this.options,s)||H(this,fl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:H(this,us),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&pd(s.mutationKey)!==pd(this.options.mutationKey)?this.reset():((a=H(this,us))==null?void 0:a.state.status)==="pending"&&H(this,us).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=H(this,us))==null||r.removeObserver(this)}onMutationUpdate(r){xt(this,go,Zy).call(this),xt(this,go,_S).call(this,r)}getCurrentResult(){return H(this,pl)}reset(){var r;(r=H(this,us))==null||r.removeObserver(this),Oe(this,us,void 0),xt(this,go,Zy).call(this),xt(this,go,_S).call(this)}mutate(r,s){var a;return Oe(this,no,s),(a=H(this,us))==null||a.removeObserver(this),Oe(this,us,H(this,fl).getMutationCache().build(H(this,fl),this.options)),H(this,us).addObserver(this),H(this,us).execute(r)}},fl=new WeakMap,pl=new WeakMap,us=new WeakMap,no=new WeakMap,go=new WeakSet,Zy=function(){var s;const r=((s=H(this,us))==null?void 0:s.state)??f9();Oe(this,pl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},_S=function(r){vn.batch(()=>{var s,a,i,o,l,c,d,u;if(H(this,no)&&this.hasListeners()){const h=H(this,pl).variables,m=H(this,pl).context;(r==null?void 0:r.type)==="success"?((a=(s=H(this,no)).onSuccess)==null||a.call(s,r.data,h,m),(o=(i=H(this,no)).onSettled)==null||o.call(i,r.data,null,h,m)):(r==null?void 0:r.type)==="error"&&((c=(l=H(this,no)).onError)==null||c.call(l,r.error,h,m),(u=(d=H(this,no)).onSettled)==null||u.call(d,void 0,r.error,h,m))}this.listeners.forEach(h=>{h(H(this,pl))})})},uL),x9=x.createContext(void 0),ze=e=>{const t=x.useContext(x9);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Jne=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(x9.Provider,{value:e,children:t})),g9=x.createContext(!1),ese=()=>x.useContext(g9);g9.Provider;function tse(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var rse=x.createContext(tse()),nse=()=>x.useContext(rse),sse=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ase=e=>{x.useEffect(()=>{e.clearReset()},[e])},ise=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||l9(r,[e.error,s])),ose=e=>{if(e.suspense){const t=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>t(r(...s)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},lse=(e,t)=>e.isLoading&&e.isFetching&&!t,cse=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,CO=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function dse(e,t,r){var h,m,f,p,g;const s=ese(),a=nse(),i=ze(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",ose(o),sse(o,a),ase(a);const l=!i.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!s&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const j=u?c.subscribe(vn.batchCalls(v)):Zn;return c.updateResult(),j},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),cse(o,d))throw CO(o,c,a);if(ise({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((p=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,o,d),o.experimental_prefetchInRender&&!fd&&lse(d,s)){const v=l?CO(o,c,a):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;v==null||v.catch(Zn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function ft(e,t){return dse(e,Yne)}function Be(e,t){const r=ze(),[s]=x.useState(()=>new Zne(r,e));x.useEffect(()=>{s.setOptions(e)},[s,e]);const a=x.useSyncExternalStore(x.useCallback(o=>s.subscribe(vn.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=x.useCallback((o,l)=>{s.mutate(o,l).catch(Zn)},[s]);if(a.error&&l9(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Np.apply(this,arguments)}var yl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yl||(yl={}));const kO="popstate";function use(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return SS("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:qv(a)}return mse(t,r,null,e)}function Ur(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function y9(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hse(){return Math.random().toString(36).substr(2,8)}function TO(e,t){return{usr:e.state,key:e.key,idx:t}}function SS(e,t,r,s){return r===void 0&&(r=null),Np({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?mm(t):t,{state:r,key:t&&t.key||s||hse()})}function qv(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function mm(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function mse(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=yl.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Np({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=yl.Pop;let v=u(),j=v==null?null:v-d;d=v,c&&c({action:l,location:g.location,delta:j})}function m(v,j){l=yl.Push;let y=SS(g.location,v,j);d=u()+1;let b=TO(y,d),w=g.createHref(y);try{o.pushState(b,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(w)}i&&c&&c({action:l,location:g.location,delta:1})}function f(v,j){l=yl.Replace;let y=SS(g.location,v,j);d=u();let b=TO(y,d),w=g.createHref(y);o.replaceState(b,"",w),i&&c&&c({action:l,location:g.location,delta:0})}function p(v){let j=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof v=="string"?v:qv(v);return y=y.replace(/ $/,"%20"),Ur(j,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,j)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(kO,h),c=v,()=>{a.removeEventListener(kO,h),c=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let j=p(v);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:m,replace:f,go(v){return o.go(v)}};return g}var EO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(EO||(EO={}));function fse(e,t,r){return r===void 0&&(r="/"),pse(e,t,r,!1)}function pse(e,t,r,s){let a=typeof t=="string"?mm(t):t,i=jh(a.pathname||"/",r);if(i==null)return null;let o=v9(e);xse(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=kse(i);l=Sse(o[c],d,s)}return l}function v9(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ur(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Al([s,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Ur(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),v9(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Nse(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of b9(i.path))a(i,o,c)}),t}function b9(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=b9(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function xse(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:_se(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const gse=/^:[\w-]+$/,yse=3,vse=2,bse=1,jse=10,wse=-2,PO=e=>e==="*";function Nse(e,t){let r=e.split("/"),s=r.length;return r.some(PO)&&(s+=wse),t&&(s+=vse),r.filter(a=>!PO(a)).reduce((a,i)=>a+(gse.test(i)?yse:i===""?bse:jse),s)}function _se(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function Sse(e,t,r){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=Hv({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&r&&!s[s.length-1].route.index&&(h=Hv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Al([i,h.pathname]),pathnameBase:Ase(Al([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Al([i,h.pathnameBase]))}return o}function Hv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=Cse(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:m,isOptional:f}=u;if(m==="*"){let g=l[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[h];return f&&!p?d[m]=void 0:d[m]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Cse(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),y9(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function kse(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return y9(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function jh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function Tse(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?mm(e):e;return{pathname:r?r.startsWith("/")?r:Ese(r,t):t,search:Ose(s),hash:Mse(a)}}function Ese(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function v1(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pse(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function j9(e,t){let r=Pse(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function w9(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=mm(e):(a=Np({},e),Ur(!a.pathname||!a.pathname.includes("?"),v1("?","pathname","search",a)),Ur(!a.pathname||!a.pathname.includes("#"),v1("#","pathname","hash",a)),Ur(!a.search||!a.search.includes("#"),v1("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=Tse(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Al=e=>e.join("/").replace(/\/\/+/g,"/"),Ase=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ose=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Mse=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Rse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const N9=["post","put","patch","delete"];new Set(N9);const Ise=["get",...N9];new Set(Ise);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},_p.apply(this,arguments)}const nj=x.createContext(null),_9=x.createContext(null),tc=x.createContext(null),sj=x.createContext(null),rc=x.createContext({outlet:null,matches:[],isDataRoute:!1}),S9=x.createContext(null);function Dse(e,t){let{relative:r}=t===void 0?{}:t;Kx()||Ur(!1);let{basename:s,navigator:a}=x.useContext(tc),{hash:i,pathname:o,search:l}=aj(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:Al([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Kx(){return x.useContext(sj)!=null}function Ro(){return Kx()||Ur(!1),x.useContext(sj).location}function C9(e){x.useContext(tc).static||x.useLayoutEffect(e)}function Qt(){let{isDataRoute:e}=x.useContext(rc);return e?Yse():$se()}function $se(){Kx()||Ur(!1);let e=x.useContext(nj),{basename:t,future:r,navigator:s}=x.useContext(tc),{matches:a}=x.useContext(rc),{pathname:i}=Ro(),o=JSON.stringify(j9(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return C9(()=>{l.current=!0}),x.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=w9(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Al([t,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[t,s,o,i,e])}function RT(){let{matches:e}=x.useContext(rc),t=e[e.length-1];return t?t.params:{}}function aj(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=x.useContext(tc),{matches:a}=x.useContext(rc),{pathname:i}=Ro(),o=JSON.stringify(j9(a,s.v7_relativeSplatPath));return x.useMemo(()=>w9(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Lse(e,t){return Fse(e,t)}function Fse(e,t,r,s){Kx()||Ur(!1);let{navigator:a}=x.useContext(tc),{matches:i}=x.useContext(rc),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Ro(),u;if(t){var h;let v=typeof t=="string"?mm(t):t;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||Ur(!1),u=v}else u=d;let m=u.pathname||"/",f=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=fse(e,{pathname:f}),g=Wse(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Al([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Al([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,s);return t&&g?x.createElement(sj.Provider,{value:{location:_p({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:yl.Pop}},g):g}function Bse(){let e=Gse(),t=Rse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const Vse=x.createElement(Bse,null);class zse extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(rc.Provider,{value:this.props.routeContext},x.createElement(S9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Use(e){let{routeContext:t,match:r,children:s}=e,a=x.useContext(nj);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(rc.Provider,{value:t},s)}function Wse(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Ur(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:f}=r,p=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||p){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let f,p=!1,g=null,v=null;r&&(f=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||Vse,c&&(d<0&&m===0?(p=!0,v=null):d===m&&(p=!0,v=h.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,m+1)),y=()=>{let b;return f?b=g:p?b=v:h.route.Component?b=x.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,x.createElement(Use,{match:h,routeContext:{outlet:u,matches:j,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?x.createElement(zse,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):y()},null)}var k9=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(k9||{}),Kv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kv||{});function qse(e){let t=x.useContext(nj);return t||Ur(!1),t}function Hse(e){let t=x.useContext(_9);return t||Ur(!1),t}function Kse(e){let t=x.useContext(rc);return t||Ur(!1),t}function T9(e){let t=Kse(),r=t.matches[t.matches.length-1];return r.route.id||Ur(!1),r.route.id}function Gse(){var e;let t=x.useContext(S9),r=Hse(Kv.UseRouteError),s=T9(Kv.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Yse(){let{router:e}=qse(k9.UseNavigateStable),t=T9(Kv.UseNavigateStable),r=x.useRef(!1);return C9(()=>{r.current=!0}),x.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,_p({fromRouteId:t},i)))},[e,t])}function Xse(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Dt(e){Ur(!1)}function Qse(e){let{basename:t="/",children:r=null,location:s,navigationType:a=yl.Pop,navigator:i,static:o=!1,future:l}=e;Kx()&&Ur(!1);let c=t.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:c,navigator:i,static:o,future:_p({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=mm(s));let{pathname:u="/",search:h="",hash:m="",state:f=null,key:p="default"}=s,g=x.useMemo(()=>{let v=jh(u,c);return v==null?null:{location:{pathname:v,search:h,hash:m,state:f,key:p},navigationType:a}},[c,u,h,m,f,p,a]);return g==null?null:x.createElement(tc.Provider,{value:d},x.createElement(sj.Provider,{children:r,value:g}))}function Zse(e){let{children:t,location:r}=e;return Lse(CS(t),r)}new Promise(()=>{});function CS(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(s,a)=>{if(!x.isValidElement(s))return;let i=[...t,a];if(s.type===x.Fragment){r.push.apply(r,CS(s.props.children,i));return}s.type!==Dt&&Ur(!1),!s.props.index||!s.props.children||Ur(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=CS(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Gv.apply(this,arguments)}function E9(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Jse(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eae(e,t){return e.button===0&&(!t||t==="_self")&&!Jse(e)}function kS(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function tae(e,t){let r=kS(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const rae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nae=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],sae="6";try{window.__reactRouterVersion=sae}catch{}const aae=x.createContext({isTransitioning:!1}),iae="startTransition",AO=mk[iae];function oae(e){let{basename:t,children:r,future:s,window:a}=e,i=x.useRef();i.current==null&&(i.current=use({window:a,v5Compat:!0}));let o=i.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=x.useCallback(h=>{d&&AO?AO(()=>c(h)):c(h)},[c,d]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>Xse(s),[s]),x.createElement(Qse,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const lae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ca=x.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=E9(t,rae),{basename:f}=x.useContext(tc),p,g=!1;if(typeof d=="string"&&cae.test(d)&&(p=d,lae))try{let b=new URL(window.location.href),w=d.startsWith("//")?new URL(b.protocol+d):new URL(d),N=jh(w.pathname,f);w.origin===b.origin&&N!=null?d=N+w.search+w.hash:g=!0}catch{}let v=Dse(d,{relative:a}),j=hae(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function y(b){s&&s(b),b.defaultPrevented||j(b)}return x.createElement("a",Gv({},m,{href:p||v,onClick:g||i?s:y,ref:r,target:c}))}),dae=x.forwardRef(function(t,r){let{"aria-current":s="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,h=E9(t,nae),m=aj(c,{relative:h.relative}),f=Ro(),p=x.useContext(_9),{navigator:g,basename:v}=x.useContext(tc),j=p!=null&&mae(m)&&d===!0,y=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,b=f.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;a||(b=b.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&v&&(w=jh(w,v)||w);const N=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let _=b===y||!o&&b.startsWith(y)&&b.charAt(N)==="/",C=w!=null&&(w===y||!o&&w.startsWith(y)&&w.charAt(y.length)==="/"),S={isActive:_,isPending:C,isTransitioning:j},k=_?s:void 0,E;typeof i=="function"?E=i(S):E=[i,_?"active":null,C?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let T=typeof l=="function"?l(S):l;return x.createElement(ca,Gv({},h,{"aria-current":k,className:E,ref:r,style:T,to:c,viewTransition:d}),typeof u=="function"?u(S):u)});var TS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(TS||(TS={}));var OO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(OO||(OO={}));function uae(e){let t=x.useContext(nj);return t||Ur(!1),t}function hae(e,t){let{target:r,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Qt(),d=Ro(),u=aj(e,{relative:o});return x.useCallback(h=>{if(eae(h,r)){h.preventDefault();let m=s!==void 0?s:qv(d)===qv(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,r,e,i,o,l])}function P9(e){let t=x.useRef(kS(e)),r=x.useRef(!1),s=Ro(),a=x.useMemo(()=>tae(s.search,r.current?null:t.current),[s.search]),i=Qt(),o=x.useCallback((l,c)=>{const d=kS(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}function mae(e,t){t===void 0&&(t={});let r=x.useContext(aae);r==null&&Ur(!1);let{basename:s}=uae(TS.useViewTransitionState),a=aj(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=jh(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=jh(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Hv(a.pathname,o)!=null||Hv(a.pathname,i)!=null}const A9="accessibility-settings",O9=()=>typeof window>"u"?{}:{reducedMotion:window.matchMedia("(prefers-reduced-motion: reduce)").matches,highContrast:window.matchMedia("(prefers-contrast: more)").matches},vf={reducedMotion:!1,focusMode:!1,highContrast:!1,showTimeEstimates:!0,largeText:!1,screenReaderOptimized:!1},fae=()=>{if(typeof window>"u")return vf;const e=localStorage.getItem(A9),t=O9();if(e)try{return{...vf,...t,...JSON.parse(e)}}catch{return{...vf,...t}}return{...vf,...t}},M9=x.createContext(null);function pae({children:e}){const[t,r]=x.useState(fae);x.useEffect(()=>{const o=window.matchMedia("(prefers-reduced-motion: reduce)"),l=window.matchMedia("(prefers-contrast: more)"),c=u=>{r(h=>({...h,reducedMotion:u.matches}))},d=u=>{r(h=>({...h,highContrast:u.matches}))};return o.addEventListener("change",c),l.addEventListener("change",d),()=>{o.removeEventListener("change",c),l.removeEventListener("change",d)}},[]),x.useEffect(()=>{const o=document.documentElement;t.reducedMotion?o.classList.add("reduce-motion"):o.classList.remove("reduce-motion"),t.highContrast?o.classList.add("high-contrast"):o.classList.remove("high-contrast"),t.focusMode?o.classList.add("focus-mode"):o.classList.remove("focus-mode"),t.largeText?o.classList.add("large-text"):o.classList.remove("large-text"),localStorage.setItem(A9,JSON.stringify(t))},[t]);const s=(o,l)=>{r(c=>({...c,[o]:l}))},a=o=>{r(l=>({...l,[o]:!l[o]}))},i=()=>{const o=O9();r({...vf,...o})};return n.jsx(M9.Provider,{value:{settings:t,updateSetting:s,toggleSetting:a,resetToDefaults:i},children:e})}function ij(){const e=x.useContext(M9);if(!e)throw new Error("useAccessibility must be used within an AccessibilityProvider");return e}const Qg={"entity-type":{minutes:2,label:"~2 min"},"basic-info":{minutes:1,label:"~1 min"},ein:{minutes:1,label:"~1 min"},ownership:{minutes:3,label:"~3 min"},address:{minutes:1,label:"~1 min"},review:{minutes:2,label:"~2 min"},"tax-profile":{minutes:2,label:"~2 min"},"tax-forms":{minutes:1,label:"~1 min"},"form-1040":{minutes:45,label:"~45 min"},"ssa-1099":{minutes:5,label:"~5 min"},"form-1065":{minutes:60,label:"~60 min"},"schedule-k1":{minutes:20,label:"~20 min"},"form-4562":{minutes:25,label:"~25 min"},"schedule-e":{minutes:15,label:"~15 min"},"schedule-se":{minutes:10,label:"~10 min"}},IT=x.createContext({});function DT(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const $T=typeof window<"u",R9=$T?x.useLayoutEffect:x.useEffect,oj=x.createContext(null);function LT(e,t){e.indexOf(t)===-1&&e.push(t)}function FT(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const So=(e,t,r)=>r>t?t:r<e?e:r;let Yv=()=>{};const Co={},I9=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function D9(e){return typeof e=="object"&&e!==null}const $9=e=>/^0[^.\s]+$/u.test(e);function BT(e){let t;return()=>(t===void 0&&(t=e()),t)}const da=e=>e,xae=(e,t)=>r=>t(e(r)),Gx=(...e)=>e.reduce(xae),Sp=(e,t,r)=>{const s=t-e;return s===0?1:(r-e)/s};class VT{constructor(){this.subscriptions=[]}add(t){return LT(this.subscriptions,t),()=>FT(this.subscriptions,t)}notify(t,r,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _i=e=>e*1e3,ia=e=>e/1e3;function L9(e,t){return t?e*(1e3/t):0}const F9=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,gae=1e-7,yae=12;function vae(e,t,r,s,a){let i,o,l=0;do o=t+(r-t)/2,i=F9(o,s,a)-e,i>0?r=o:t=o;while(Math.abs(i)>gae&&++l<yae);return o}function Yx(e,t,r,s){if(e===t&&r===s)return da;const a=i=>vae(i,0,1,e,r);return i=>i===0||i===1?i:F9(a(i),t,s)}const B9=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,V9=e=>t=>1-e(1-t),z9=Yx(.33,1.53,.69,.99),zT=V9(z9),U9=B9(zT),W9=e=>(e*=2)<1?.5*zT(e):.5*(2-Math.pow(2,-10*(e-1))),UT=e=>1-Math.sin(Math.acos(e)),q9=V9(UT),H9=B9(UT),bae=Yx(.42,0,1,1),jae=Yx(0,0,.58,1),K9=Yx(.42,0,.58,1),wae=e=>Array.isArray(e)&&typeof e[0]!="number",G9=e=>Array.isArray(e)&&typeof e[0]=="number",MO={linear:da,easeIn:bae,easeInOut:K9,easeOut:jae,circIn:UT,circInOut:H9,circOut:q9,backIn:zT,backInOut:U9,backOut:z9,anticipate:W9},Nae=e=>typeof e=="string",RO=e=>{if(G9(e)){Yv(e.length===4);const[t,r,s,a]=e;return Yx(t,r,s,a)}else if(Nae(e))return Yv(MO[e]!==void 0),MO[e];return e},Zg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],IO={value:null,addProjectionMetrics:null};function _ae(e,t){let r=new Set,s=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){o.has(h)&&(u.schedule(h),e()),c++,h(l)}const u={schedule:(h,m=!1,f=!1)=>{const g=f&&a?r:s;return m&&o.add(h),g.has(h)||g.add(h),h},cancel:h=>{s.delete(h),o.delete(h)},process:h=>{if(l=h,a){i=!0;return}a=!0,[r,s]=[s,r],r.forEach(d),t&&IO.value&&IO.value.frameloop[t].push(c),c=0,r.clear(),a=!1,i&&(i=!1,u.process(h))}};return u}const Sae=40;function Y9(e,t){let r=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Zg.reduce((b,w)=>(b[w]=_ae(i,t?w:void 0),b),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:m,render:f,postRender:p}=o,g=()=>{const b=Co.useManualTiming?a.timestamp:performance.now();r=!1,Co.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(b-a.timestamp,Sae),1)),a.timestamp=b,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),m.process(a),f.process(a),p.process(a),a.isProcessing=!1,r&&t&&(s=!1,e(g))},v=()=>{r=!0,s=!0,a.isProcessing||e(g)};return{schedule:Zg.reduce((b,w)=>{const N=o[w];return b[w]=(_,C=!1,S=!1)=>(r||v(),N.schedule(_,C,S)),b},{}),cancel:b=>{for(let w=0;w<Zg.length;w++)o[Zg[w]].cancel(b)},state:a,steps:o}}const{schedule:vr,cancel:Hl,state:Mn,steps:b1}=Y9(typeof requestAnimationFrame<"u"?requestAnimationFrame:da,!0);let Jy;function Cae(){Jy=void 0}const xs={now:()=>(Jy===void 0&&xs.set(Mn.isProcessing||Co.useManualTiming?Mn.timestamp:performance.now()),Jy),set:e=>{Jy=e,queueMicrotask(Cae)}},X9=e=>t=>typeof t=="string"&&t.startsWith(e),Q9=X9("--"),kae=X9("var(--"),WT=e=>kae(e)?Tae.test(e.split("/*")[0].trim()):!1,Tae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Cp={...fm,transform:e=>So(0,1,e)},Jg={...fm,default:1},$f=e=>Math.round(e*1e5)/1e5,qT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Eae(e){return e==null}const Pae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,HT=(e,t)=>r=>!!(typeof r=="string"&&Pae.test(r)&&r.startsWith(e)||t&&!Eae(r)&&Object.prototype.hasOwnProperty.call(r,t)),Z9=(e,t,r)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match(qT);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Aae=e=>So(0,255,e),j1={...fm,transform:e=>Math.round(Aae(e))},Mc={test:HT("rgb","red"),parse:Z9("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:s=1})=>"rgba("+j1.transform(e)+", "+j1.transform(t)+", "+j1.transform(r)+", "+$f(Cp.transform(s))+")"};function Oae(e){let t="",r="",s="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const ES={test:HT("#"),parse:Oae,transform:Mc.transform},Xx=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Go=Xx("deg"),Si=Xx("%"),it=Xx("px"),Mae=Xx("vh"),Rae=Xx("vw"),DO={...Si,parse:e=>Si.parse(e)/100,transform:e=>Si.transform(e*100)},Nu={test:HT("hsl","hue"),parse:Z9("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:s=1})=>"hsla("+Math.round(e)+", "+Si.transform($f(t))+", "+Si.transform($f(r))+", "+$f(Cp.transform(s))+")"},nn={test:e=>Mc.test(e)||ES.test(e)||Nu.test(e),parse:e=>Mc.test(e)?Mc.parse(e):Nu.test(e)?Nu.parse(e):ES.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Mc.transform(e):Nu.transform(e),getAnimatableNone:e=>{const t=nn.parse(e);return t.alpha=0,nn.transform(t)}},Iae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Dae(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(qT))==null?void 0:t.length)||0)+(((r=e.match(Iae))==null?void 0:r.length)||0)>0}const J9="number",e8="color",$ae="var",Lae="var(",$O="${}",Fae=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kp(e){const t=e.toString(),r=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(Fae,c=>(nn.test(c)?(s.color.push(i),a.push(e8),r.push(nn.parse(c))):c.startsWith(Lae)?(s.var.push(i),a.push($ae),r.push(c)):(s.number.push(i),a.push(J9),r.push(parseFloat(c))),++i,$O)).split($O);return{values:r,split:l,indexes:s,types:a}}function t8(e){return kp(e).values}function r8(e){const{split:t,types:r}=kp(e),s=t.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===J9?i+=$f(a[o]):l===e8?i+=nn.transform(a[o]):i+=a[o]}return i}}const Bae=e=>typeof e=="number"?0:nn.test(e)?nn.getAnimatableNone(e):e;function Vae(e){const t=t8(e);return r8(e)(t.map(Bae))}const Kl={test:Dae,parse:t8,createTransformer:r8,getAnimatableNone:Vae};function w1(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function zae({hue:e,saturation:t,lightness:r,alpha:s}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=w1(c,l,e+1/3),i=w1(c,l,e),o=w1(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function Xv(e,t){return r=>r>0?t:e}const Er=(e,t,r)=>e+(t-e)*r,N1=(e,t,r)=>{const s=e*e,a=r*(t*t-s)+s;return a<0?0:Math.sqrt(a)},Uae=[ES,Mc,Nu],Wae=e=>Uae.find(t=>t.test(e));function LO(e){const t=Wae(e);if(!t)return!1;let r=t.parse(e);return t===Nu&&(r=zae(r)),r}const FO=(e,t)=>{const r=LO(e),s=LO(t);if(!r||!s)return Xv(e,t);const a={...r};return i=>(a.red=N1(r.red,s.red,i),a.green=N1(r.green,s.green,i),a.blue=N1(r.blue,s.blue,i),a.alpha=Er(r.alpha,s.alpha,i),Mc.transform(a))},PS=new Set(["none","hidden"]);function qae(e,t){return PS.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Hae(e,t){return r=>Er(e,t,r)}function KT(e){return typeof e=="number"?Hae:typeof e=="string"?WT(e)?Xv:nn.test(e)?FO:Yae:Array.isArray(e)?n8:typeof e=="object"?nn.test(e)?FO:Kae:Xv}function n8(e,t){const r=[...e],s=r.length,a=e.map((i,o)=>KT(i)(i,t[o]));return i=>{for(let o=0;o<s;o++)r[o]=a[o](i);return r}}function Kae(e,t){const r={...e,...t},s={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(s[a]=KT(e[a])(e[a],t[a]));return a=>{for(const i in s)r[i]=s[i](a);return r}}function Gae(e,t){const r=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][s[i]],l=e.values[o]??0;r[a]=l,s[i]++}return r}const Yae=(e,t)=>{const r=Kl.createTransformer(t),s=kp(e),a=kp(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?PS.has(e)&&!a.values.length||PS.has(t)&&!s.values.length?qae(e,t):Gx(n8(Gae(s,a),a.values),r):Xv(e,t)};function s8(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Er(e,t,r):KT(e)(e,t)}const Xae=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>vr.update(t,r),stop:()=>Hl(t),now:()=>Mn.isProcessing?Mn.timestamp:xs.now()}},a8=(e,t,r=10)=>{let s="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)s+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Qv=2e4;function GT(e){let t=0;const r=50;let s=e.next(t);for(;!s.done&&t<Qv;)t+=r,s=e.next(t);return t>=Qv?1/0:t}function Qae(e,t=100,r){const s=r({...e,keyframes:[0,t]}),a=Math.min(GT(s),Qv);return{type:"keyframes",ease:i=>s.next(a*i).value/t,duration:ia(a)}}const Zae=5;function i8(e,t,r){const s=Math.max(t-Zae,0);return L9(r-e(s),t-s)}const Fr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_1=.001;function Jae({duration:e=Fr.duration,bounce:t=Fr.bounce,velocity:r=Fr.velocity,mass:s=Fr.mass}){let a,i,o=1-t;o=So(Fr.minDamping,Fr.maxDamping,o),e=So(Fr.minDuration,Fr.maxDuration,ia(e)),o<1?(a=d=>{const u=d*o,h=u*e,m=u-r,f=AS(d,o),p=Math.exp(-h);return _1-m/f*p},i=d=>{const h=d*o*e,m=h*r+r,f=Math.pow(o,2)*Math.pow(d,2)*e,p=Math.exp(-h),g=AS(Math.pow(d,2),o);return(-a(d)+_1>0?-1:1)*((m-f)*p)/g}):(a=d=>{const u=Math.exp(-d*e),h=(d-r)*e+1;return-_1+u*h},i=d=>{const u=Math.exp(-d*e),h=(r-d)*(e*e);return u*h});const l=5/e,c=tie(a,i,l);if(e=_i(e),isNaN(c))return{stiffness:Fr.stiffness,damping:Fr.damping,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const eie=12;function tie(e,t,r){let s=r;for(let a=1;a<eie;a++)s=s-e(s)/t(s);return s}function AS(e,t){return e*Math.sqrt(1-t*t)}const rie=["duration","bounce"],nie=["stiffness","damping","mass"];function BO(e,t){return t.some(r=>e[r]!==void 0)}function sie(e){let t={velocity:Fr.velocity,stiffness:Fr.stiffness,damping:Fr.damping,mass:Fr.mass,isResolvedFromDuration:!1,...e};if(!BO(e,nie)&&BO(e,rie))if(e.visualDuration){const r=e.visualDuration,s=2*Math.PI/(r*1.2),a=s*s,i=2*So(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Fr.mass,stiffness:a,damping:i}}else{const r=Jae(e);t={...t,...r,mass:Fr.mass},t.isResolvedFromDuration=!0}return t}function Zv(e=Fr.visualDuration,t=Fr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:f}=sie({...r,velocity:-ia(r.velocity||0)}),p=m||0,g=d/(2*Math.sqrt(c*u)),v=o-i,j=ia(Math.sqrt(c/u)),y=Math.abs(v)<5;s||(s=y?Fr.restSpeed.granular:Fr.restSpeed.default),a||(a=y?Fr.restDelta.granular:Fr.restDelta.default);let b;if(g<1){const N=AS(j,g);b=_=>{const C=Math.exp(-g*j*_);return o-C*((p+g*j*v)/N*Math.sin(N*_)+v*Math.cos(N*_))}}else if(g===1)b=N=>o-Math.exp(-j*N)*(v+(p+j*v)*N);else{const N=j*Math.sqrt(g*g-1);b=_=>{const C=Math.exp(-g*j*_),S=Math.min(N*_,300);return o-C*((p+g*j*v)*Math.sinh(S)+N*v*Math.cosh(S))/N}}const w={calculatedDuration:f&&h||null,next:N=>{const _=b(N);if(f)l.done=N>=h;else{let C=N===0?p:0;g<1&&(C=N===0?_i(p):i8(b,N,_));const S=Math.abs(C)<=s,k=Math.abs(o-_)<=a;l.done=S&&k}return l.value=l.done?o:_,l},toString:()=>{const N=Math.min(GT(w),Qv),_=a8(C=>w.next(N*C).value,N,30);return N+"ms "+_},toTransition:()=>{}};return w}Zv.applyToOptions=e=>{const t=Qae(e,100,Zv);return e.ease=t.ease,e.duration=_i(t.duration),e.type="keyframes",e};function OS({keyframes:e,velocity:t=0,power:r=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},f=S=>l!==void 0&&S<l||c!==void 0&&S>c,p=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let g=r*t;const v=h+g,j=o===void 0?v:o(v);j!==v&&(g=j-h);const y=S=>-g*Math.exp(-S/s),b=S=>j+y(S),w=S=>{const k=y(S),E=b(S);m.done=Math.abs(k)<=d,m.value=m.done?j:E};let N,_;const C=S=>{f(m.value)&&(N=S,_=Zv({keyframes:[m.value,p(m.value)],velocity:i8(b,S,m.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return C(0),{calculatedDuration:null,next:S=>{let k=!1;return!_&&N===void 0&&(k=!0,w(S),C(S)),N!==void 0&&S>=N?_.next(S-N):(!k&&w(S),m)}}}function aie(e,t,r){const s=[],a=r||Co.mix||s8,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||da:t;l=Gx(c,l)}s.push(l)}return s}function iie(e,t,{clamp:r=!0,ease:s,mixer:a}={}){const i=e.length;if(Yv(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=aie(t,s,a),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const m=Sp(e[h],e[h+1],u);return l[h](m)};return r?u=>d(So(e[0],e[i-1],u)):d}function oie(e,t){const r=e[e.length-1];for(let s=1;s<=t;s++){const a=Sp(0,t,s);e.push(Er(r,1,a))}}function lie(e){const t=[0];return oie(t,e.length-1),t}function cie(e,t){return e.map(r=>r*t)}function die(e,t){return e.map(()=>t||K9).splice(0,e.length-1)}function Lf({duration:e=300,keyframes:t,times:r,ease:s="easeInOut"}){const a=wae(s)?s.map(RO):RO(s),i={done:!1,value:t[0]},o=cie(r&&r.length===t.length?r:lie(t),e),l=iie(o,t,{ease:Array.isArray(a)?a:die(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const uie=e=>e!==null;function YT(e,{repeat:t,repeatType:r="loop"},s,a=1){const i=e.filter(uie),l=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const hie={decay:OS,inertia:OS,tween:Lf,keyframes:Lf,spring:Zv};function o8(e){typeof e.type=="string"&&(e.type=hie[e.type])}class XT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const mie=e=>e/100;class QT extends XT{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:r}=this.options;r&&r.updatedAt!==xs.now()&&this.tick(xs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;o8(t);const{type:r=Lf,repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||Lf;c!==Lf&&typeof l[0]!="number"&&(this.mixKeyframes=Gx(mie,s8(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=GT(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=d}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:s,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:f,type:p,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const j=this.currentTime-d*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let b=this.currentTime,w=s;if(h){const S=Math.min(this.currentTime,a)/l;let k=Math.floor(S),E=S%1;!E&&S>=1&&(E=1),E===1&&k--,k=Math.min(k,h+1),!!(k%2)&&(m==="reverse"?(E=1-E,f&&(E-=f/l)):m==="mirror"&&(w=o)),b=So(0,1,E)*l}const N=y?{done:!1,value:u[0]}:w.next(b);i&&(N.value=i(N.value));let{done:_}=N;!y&&c!==null&&(_=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return C&&p!==OS&&(N.value=YT(u,this.options,v,this.speed)),g&&g(N.value),C&&this.finish(),N}then(t,r){return this.finished.then(t,r)}get duration(){return ia(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ia(t)}get time(){return ia(this.currentTime)}set time(t){var r;t=_i(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(xs.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ia(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=Xae,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function fie(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Rc=e=>e*180/Math.PI,MS=e=>{const t=Rc(Math.atan2(e[1],e[0]));return RS(t)},pie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:MS,rotateZ:MS,skewX:e=>Rc(Math.atan(e[1])),skewY:e=>Rc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},RS=e=>(e=e%360,e<0&&(e+=360),e),VO=MS,zO=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),UO=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),xie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zO,scaleY:UO,scale:e=>(zO(e)+UO(e))/2,rotateX:e=>RS(Rc(Math.atan2(e[6],e[5]))),rotateY:e=>RS(Rc(Math.atan2(-e[2],e[0]))),rotateZ:VO,rotate:VO,skewX:e=>Rc(Math.atan(e[4])),skewY:e=>Rc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function IS(e){return e.includes("scale")?1:0}function DS(e,t){if(!e||e==="none")return IS(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(r)s=xie,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=pie,a=l}if(!a)return IS(t);const i=s[t],o=a[1].split(",").map(yie);return typeof i=="function"?i(o):o[i]}const gie=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return DS(r,t)};function yie(e){return parseFloat(e.trim())}const pm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xm=new Set(pm),WO=e=>e===fm||e===it,vie=new Set(["x","y","z"]),bie=pm.filter(e=>!vie.has(e));function jie(e){const t=[];return bie.forEach(r=>{const s=e.getValue(r);s!==void 0&&(t.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),t}const Jc={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>DS(t,"x"),y:(e,{transform:t})=>DS(t,"y")};Jc.translateX=Jc.x;Jc.translateY=Jc.y;const ed=new Set;let $S=!1,LS=!1,FS=!1;function l8(){if(LS){const e=Array.from(ed).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),r=new Map;t.forEach(s=>{const a=jie(s);a.length&&(r.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=r.get(s);a&&a.forEach(([i,o])=>{var l;(l=s.getValue(i))==null||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}LS=!1,$S=!1,ed.forEach(e=>e.complete(FS)),ed.clear()}function c8(){ed.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(LS=!0)})}function wie(){FS=!0,c8(),l8(),FS=!1}class ZT{constructor(t,r,s,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ed.add(this),$S||($S=!0,vr.read(c8),vr.resolveKeyframes(l8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:s,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(s&&r){const l=s.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}fie(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ed.delete(this)}cancel(){this.state==="scheduled"&&(ed.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Nie=e=>e.startsWith("--");function _ie(e,t,r){Nie(t)?e.style.setProperty(t,r):e.style[t]=r}const Sie=BT(()=>window.ScrollTimeline!==void 0),Cie={};function kie(e,t){const r=BT(e);return()=>Cie[t]??r()}const d8=kie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bf=([e,t,r,s])=>`cubic-bezier(${e}, ${t}, ${r}, ${s})`,qO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bf([0,.65,.55,1]),circOut:bf([.55,0,1,.45]),backIn:bf([.31,.01,.66,-.59]),backOut:bf([.33,1.53,.69,.99])};function u8(e,t){if(e)return typeof e=="function"?d8()?a8(e,t):"ease-out":G9(e)?bf(e):Array.isArray(e)?e.map(r=>u8(r,t)||qO.easeOut):qO[e]}function Tie(e,t,r,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:r};c&&(u.offset=c);const h=u8(l,a);Array.isArray(h)&&(u.easing=h);const m={delay:s,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(u,m)}function h8(e){return typeof e=="function"&&"applyToOptions"in e}function Eie({type:e,...t}){return h8(e)&&d8()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Pie extends XT{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:s,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Yv(typeof t.type!="string");const d=Eie(t);this.animation=Tie(r,s,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=YT(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):_ie(r,s,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,s;const t=((s=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:s.call(r).duration)||0;return ia(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ia(t)}get time(){return ia(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=_i(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Sie()?(this.animation.timeline=t,da):r(this)}}const m8={anticipate:W9,backInOut:U9,circInOut:H9};function Aie(e){return e in m8}function Oie(e){typeof e.ease=="string"&&Aie(e.ease)&&(e.ease=m8[e.ease])}const HO=10;class Mie extends Pie{constructor(t){Oie(t),o8(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:s,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new QT({...o,autoplay:!1}),c=_i(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-HO).value,l.sample(c).value,HO),l.stop()}}const KO=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Kl.test(e)||e==="0")&&!e.startsWith("url("));function Rie(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Iie(e,t,r,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=KO(a,t),l=KO(i,t);return!o||!l?!1:Rie(e)||(r==="spring"||h8(r))&&s}function BS(e){e.duration=0,e.type="keyframes"}const Die=new Set(["opacity","clipPath","filter","transform"]),$ie=BT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Lie(e){var u;const{motionValue:t,name:r,repeatDelay:s,repeatType:a,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return $ie()&&r&&Die.has(r)&&(r!=="transform"||!d)&&!c&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}const Fie=40;class Bie extends XT{constructor({autoplay:t=!0,delay:r=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var p;super(),this.stop=()=>{var g,v;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=xs.now();const m={autoplay:t,delay:r,type:s,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},f=(u==null?void 0:u.KeyframeResolver)||ZT;this.keyframeResolver=new f(l,(g,v,j)=>this.onKeyframesResolved(g,v,m,!j),c,d,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,r,s,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=xs.now(),Iie(t,i,o,l)||((Co.instantAnimations||!c)&&(u==null||u(YT(t,s,r))),t[0]=t[t.length-1],BS(s),s.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Fie?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...s,keyframes:t},f=!d&&Lie(m)?new Mie({...m,element:m.motionValue.owner.current}):new QT(m);f.finished.then(()=>this.notifyFinished()).catch(da),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),wie()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Vie=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zie(e){const t=Vie.exec(e);if(!t)return[,];const[,r,s,a]=t;return[`--${r??s}`,a]}function f8(e,t,r=1){const[s,a]=zie(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return I9(o)?parseFloat(o):o}return WT(a)?f8(a,t,r+1):a}function JT(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const p8=new Set(["width","height","top","left","right","bottom",...pm]),Uie={test:e=>e==="auto",parse:e=>e},x8=e=>t=>t.test(e),g8=[fm,it,Si,Go,Rae,Mae,Uie],GO=e=>g8.find(x8(e));function Wie(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$9(e):!0}const qie=new Set(["brightness","contrast","saturate","opacity"]);function Hie(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=r.match(qT)||[];if(!s)return e;const a=r.replace(s,"");let i=qie.has(t)?1:0;return s!==r&&(i*=100),t+"("+i+a+")"}const Kie=/\b([a-z-]*)\(.*?\)/gu,VS={...Kl,getAnimatableNone:e=>{const t=e.match(Kie);return t?t.map(Hie).join(" "):e}},YO={...fm,transform:Math.round},Gie={rotate:Go,rotateX:Go,rotateY:Go,rotateZ:Go,scale:Jg,scaleX:Jg,scaleY:Jg,scaleZ:Jg,skew:Go,skewX:Go,skewY:Go,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:Cp,originX:DO,originY:DO,originZ:it},eE={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,backgroundPositionX:it,backgroundPositionY:it,...Gie,zIndex:YO,fillOpacity:Cp,strokeOpacity:Cp,numOctaves:YO},Yie={...eE,color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:VS,WebkitFilter:VS},y8=e=>Yie[e];function v8(e,t){let r=y8(e);return r!==VS&&(r=Kl),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Xie=new Set(["auto","none","0"]);function Qie(e,t,r){let s=0,a;for(;s<e.length&&!a;){const i=e[s];typeof i=="string"&&!Xie.has(i)&&kp(i).values.length&&(a=e[s]),s++}if(a&&r)for(const i of t)e[i]=v8(r,a)}class Zie extends ZT{constructor(t,r,s,a,i){super(t,r,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),WT(d))){const u=f8(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!p8.has(s)||t.length!==2)return;const[a,i]=t,o=GO(a),l=GO(i);if(o!==l)if(WO(o)&&WO(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Jc[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||Wie(t[a]))&&s.push(a);s.length&&Qie(t,s,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jc[s](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=Jc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function Jie(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const a=document.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const b8=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function j8(e){return D9(e)&&"offsetHeight"in e}const XO=30,eoe=e=>!isNaN(parseFloat(e));class toe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var i;const a=xs.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=xs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=eoe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new VT);const s=this.events[t].add(r);return t==="change"?()=>{s(),vr.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=xs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>XO)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,XO);return L9(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wh(e,t){return new toe(e,t)}const{schedule:tE,cancel:kqe}=Y9(queueMicrotask,!1),Pa={x:!1,y:!1};function w8(){return Pa.x||Pa.y}function roe(e){return e==="x"||e==="y"?Pa[e]?null:(Pa[e]=!0,()=>{Pa[e]=!1}):Pa.x||Pa.y?null:(Pa.x=Pa.y=!0,()=>{Pa.x=Pa.y=!1})}function N8(e,t){const r=Jie(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[r,a,()=>s.abort()]}function QO(e){return!(e.pointerType==="touch"||w8())}function noe(e,t,r={}){const[s,a,i]=N8(e,r),o=l=>{if(!QO(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=h=>{QO(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const _8=(e,t)=>t?e===t?!0:_8(e,t.parentElement):!1,rE=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,soe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aoe(e){return soe.has(e.tagName)||e.tabIndex!==-1}const ev=new WeakSet;function ZO(e){return t=>{t.key==="Enter"&&e(t)}}function S1(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ioe=(e,t)=>{const r=e.currentTarget;if(!r)return;const s=ZO(()=>{if(ev.has(r))return;S1(r,"down");const a=ZO(()=>{S1(r,"up")}),i=()=>S1(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",s,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),t)};function JO(e){return rE(e)&&!w8()}function ooe(e,t,r={}){const[s,a,i]=N8(e,r),o=l=>{const c=l.currentTarget;if(!JO(l))return;ev.add(c);const d=t(c,l),u=(f,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),ev.has(c)&&ev.delete(c),JO(f)&&typeof d=="function"&&d(f,{success:p})},h=f=>{u(f,c===window||c===document||r.useGlobalTarget||_8(c,f.target))},m=f=>{u(f,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",m,a)};return s.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),j8(l)&&(l.addEventListener("focus",d=>ioe(d,a)),!aoe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function S8(e){return D9(e)&&"ownerSVGElement"in e}function loe(e){return S8(e)&&e.tagName==="svg"}const qn=e=>!!(e&&e.getVelocity),coe=[...g8,nn,Kl],doe=e=>coe.find(x8(e)),nE=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function e5(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function uoe(...e){return t=>{let r=!1;const s=e.map(a=>{const i=e5(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():e5(e[a],null)}}}}function hoe(...e){return x.useCallback(uoe(...e),e)}class moe extends x.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const s=r.offsetParent,a=j8(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function foe({children:e,isPresent:t,anchorX:r,root:s}){const a=x.useId(),i=x.useRef(null),o=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=x.useContext(nE),c=hoe(i,e==null?void 0:e.ref);return x.useInsertionEffect(()=>{const{width:d,height:u,top:h,left:m,right:f}=o.current;if(t||!i.current||!d||!u)return;const p=r==="left"?`left: ${m}`:`right: ${f}`;i.current.dataset.motionPopId=a;const g=document.createElement("style");l&&(g.nonce=l);const v=s??document.head;return v.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${p}px !important;
            top: ${h}px !important;
          }
        `),()=>{v.contains(g)&&v.removeChild(g)}},[t]),n.jsx(moe,{isPresent:t,childRef:i,sizeRef:o,children:x.cloneElement(e,{ref:c})})}const poe=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=DT(xoe),u=x.useId();let h=!0,m=x.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:r,custom:a,onExitComplete:f=>{d.set(f,!0);for(const p of d.values())if(!p)return;s&&s()},register:f=>(d.set(f,!1),()=>d.delete(f))}),[r,d,s]);return i&&h&&(m={...m}),x.useMemo(()=>{d.forEach((f,p)=>d.set(p,!1))},[r]),x.useEffect(()=>{!r&&!d.size&&s&&s()},[r]),o==="popLayout"&&(e=n.jsx(foe,{isPresent:r,anchorX:l,root:c,children:e})),n.jsx(oj.Provider,{value:m,children:e})};function xoe(){return new Map}function C8(e=!0){const t=x.useContext(oj);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:a}=t,i=x.useId();x.useEffect(()=>{if(e)return a(i)},[e]);const o=x.useCallback(()=>e&&s&&s(i),[i,s,e]);return!r&&s?[!1,o]:[!0]}const ey=e=>e.key||"";function t5(e){const t=[];return x.Children.forEach(e,r=>{x.isValidElement(r)&&t.push(r)}),t}const Qr=({children:e,custom:t,initial:r=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=C8(o),h=x.useMemo(()=>t5(e),[e]),m=o&&!d?[]:h.map(ey),f=x.useRef(!0),p=x.useRef(h),g=DT(()=>new Map),[v,j]=x.useState(h),[y,b]=x.useState(h);R9(()=>{f.current=!1,p.current=h;for(let _=0;_<y.length;_++){const C=ey(y[_]);m.includes(C)?g.delete(C):g.get(C)!==!0&&g.set(C,!1)}},[y,m.length,m.join("-")]);const w=[];if(h!==v){let _=[...h];for(let C=0;C<y.length;C++){const S=y[C],k=ey(S);m.includes(k)||(_.splice(C,0,S),w.push(S))}return i==="wait"&&w.length&&(_=w),b(t5(_)),j(h),null}const{forceRender:N}=x.useContext(IT);return n.jsx(n.Fragment,{children:y.map(_=>{const C=ey(_),S=o&&!d?!1:h===y||m.includes(C),k=()=>{if(g.has(C))g.set(C,!0);else return;let E=!0;g.forEach(T=>{T||(E=!1)}),E&&(N==null||N(),b(p.current),o&&(u==null||u()),s&&s())};return n.jsx(poe,{isPresent:S,initial:!f.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:S?void 0:k,anchorX:l,children:_},C)})})},k8=x.createContext({strict:!1}),r5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nh={};for(const e in r5)Nh[e]={isEnabled:t=>r5[e].some(r=>!!t[r])};function goe(e){for(const t in e)Nh[t]={...Nh[t],...e[t]}}const yoe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||yoe.has(e)}let T8=e=>!Jv(e);function voe(e){typeof e=="function"&&(T8=t=>t.startsWith("on")?!Jv(t):e(t))}try{voe(require("@emotion/is-prop-valid").default)}catch{}function boe(e,t,r){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(T8(a)||r===!0&&Jv(a)||!t&&!Jv(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const lj=x.createContext({});function cj(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Tp(e){return typeof e=="string"||Array.isArray(e)}const sE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],aE=["initial",...sE];function dj(e){return cj(e.animate)||aE.some(t=>Tp(e[t]))}function E8(e){return!!(dj(e)||e.variants)}function joe(e,t){if(dj(e)){const{initial:r,animate:s}=e;return{initial:r===!1||Tp(r)?r:void 0,animate:Tp(s)?s:void 0}}return e.inherit!==!1?t:{}}function woe(e){const{initial:t,animate:r}=joe(e,x.useContext(lj));return x.useMemo(()=>({initial:t,animate:r}),[n5(t),n5(r)])}function n5(e){return Array.isArray(e)?e.join(" "):e}function s5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Xm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(it.test(e))e=parseFloat(e);else return e;const r=s5(e,t.target.x),s=s5(e,t.target.y);return`${r}% ${s}%`}},Noe={correct:(e,{treeScale:t,projectionDelta:r})=>{const s=e,a=Kl.parse(e);if(a.length>5)return s;const i=Kl.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=Er(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}},zS={borderRadius:{...Xm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xm,borderTopRightRadius:Xm,borderBottomLeftRadius:Xm,borderBottomRightRadius:Xm,boxShadow:Noe};function P8(e,{layout:t,layoutId:r}){return xm.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!zS[e]||e==="opacity")}const _oe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Soe=pm.length;function Coe(e,t,r){let s="",a=!0;for(let i=0;i<Soe;i++){const o=pm[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=b8(l,eE[o]);if(!c){a=!1;const u=_oe[o]||o;s+=`${u}(${d}) `}r&&(t[o]=d)}}return s=s.trim(),r?s=r(t,a?"":s):a&&(s="none"),s}function iE(e,t,r){const{style:s,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(xm.has(c)){o=!0;continue}else if(Q9(c)){a[c]=d;continue}else{const u=b8(d,eE[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(t.transform||(o||r?s.transform=Coe(t,e.transform,r):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const oE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function A8(e,t,r){for(const s in t)!qn(t[s])&&!P8(s,r)&&(e[s]=t[s])}function koe({transformTemplate:e},t){return x.useMemo(()=>{const r=oE();return iE(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Toe(e,t){const r=e.style||{},s={};return A8(s,r,e),Object.assign(s,koe(e,t)),s}function Eoe(e,t){const r={},s=Toe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const Poe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Aoe={offset:"strokeDashoffset",array:"strokeDasharray"};function Ooe(e,t,r=1,s=0,a=!0){e.pathLength=1;const i=a?Poe:Aoe;e[i.offset]=it.transform(-s);const o=it.transform(t),l=it.transform(r);e[i.array]=`${o} ${l}`}function O8(e,{attrX:t,attrY:r,attrScale:s,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(iE(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),s!==void 0&&(h.scale=s),a!==void 0&&Ooe(h,a,i,o,!1)}const M8=()=>({...oE(),attrs:{}}),R8=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Moe(e,t,r,s){const a=x.useMemo(()=>{const i=M8();return O8(i,t,R8(s),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};A8(i,e.style,e),a.style={...i,...a.style}}return a}const Roe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lE(e){return typeof e!="string"||e.includes("-")?!1:!!(Roe.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ioe(e,t,r,{latestValues:s},a,i=!1){const l=(lE(e)?Moe:Eoe)(t,s,a,e),c=boe(t,typeof e=="string",i),d=e!==x.Fragment?{...c,...l,ref:r}:{},{children:u}=t,h=x.useMemo(()=>qn(u)?u.get():u,[u]);return x.createElement(e,{...d,children:h})}function a5(e){const t=[{},{}];return e==null||e.values.forEach((r,s)=>{t[0][s]=r.get(),t[1][s]=r.getVelocity()}),t}function cE(e,t,r,s){if(typeof t=="function"){const[a,i]=a5(s);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=a5(s);t=t(r!==void 0?r:e.custom,a,i)}return t}function tv(e){return qn(e)?e.get():e}function Doe({scrapeMotionValuesFromProps:e,createRenderState:t},r,s,a){return{latestValues:$oe(r,s,a,e),renderState:t()}}function $oe(e,t,r,s){const a={},i=s(e,{});for(const m in i)a[m]=tv(i[m]);let{initial:o,animate:l}=e;const c=dj(e),d=E8(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!cj(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const p=cE(e,m[f]);if(p){const{transitionEnd:g,transition:v,...j}=p;for(const y in j){let b=j[y];if(Array.isArray(b)){const w=u?b.length-1:0;b=b[w]}b!==null&&(a[y]=b)}for(const y in g)a[y]=g[y]}}}return a}const I8=e=>(t,r)=>{const s=x.useContext(lj),a=x.useContext(oj),i=()=>Doe(e,t,s,a);return r?i():DT(i)};function dE(e,t,r){var i;const{style:s}=e,a={};for(const o in s)(qn(s[o])||t.style&&qn(t.style[o])||P8(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=s[o]);return a}const Loe=I8({scrapeMotionValuesFromProps:dE,createRenderState:oE});function D8(e,t,r){const s=dE(e,t,r);for(const a in e)if(qn(e[a])||qn(t[a])){const i=pm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=e[a]}return s}const Foe=I8({scrapeMotionValuesFromProps:D8,createRenderState:M8}),Boe=Symbol.for("motionComponentSymbol");function _u(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Voe(e,t,r){return x.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),r&&(typeof r=="function"?r(s):_u(r)&&(r.current=s))},[t])}const uE=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zoe="framerAppearId",$8="data-"+uE(zoe),L8=x.createContext({});function Uoe(e,t,r,s,a){var g,v;const{visualElement:i}=x.useContext(lj),o=x.useContext(k8),l=x.useContext(oj),c=x.useContext(nE).reducedMotion,d=x.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=x.useContext(L8);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Woe(d.current,r,a,h);const m=x.useRef(!1);x.useInsertionEffect(()=>{u&&m.current&&u.update(r,l)});const f=r[$8],p=x.useRef(!!f&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,f))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,f)));return R9(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),x.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,f)}),p.current=!1),u.enteringChildren=void 0)}),u}function Woe(e,t,r,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:F8(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&_u(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function F8(e){if(e)return e.options.allowProjection!==!1?e.projection:F8(e.parent)}function C1(e,{forwardMotionProps:t=!1}={},r,s){r&&goe(r);const a=lE(e)?Foe:Loe;function i(l,c){let d;const u={...x.useContext(nE),...l,layoutId:qoe(l)},{isStatic:h}=u,m=woe(l),f=a(l,h);if(!h&&$T){Hoe();const p=Koe(u);d=p.MeasureLayout,m.visualElement=Uoe(e,f,u,s,p.ProjectionNode)}return n.jsxs(lj.Provider,{value:m,children:[d&&m.visualElement?n.jsx(d,{visualElement:m.visualElement,...u}):null,Ioe(e,l,Voe(f,m.visualElement,c),f,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=x.forwardRef(i);return o[Boe]=e,o}function qoe({layoutId:e}){const t=x.useContext(IT).id;return t&&e!==void 0?t+"-"+e:e}function Hoe(e,t){x.useContext(k8).strict}function Koe(e){const{drag:t,layout:r}=Nh;if(!t&&!r)return{};const s={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Goe(e,t){if(typeof Proxy>"u")return C1;const r=new Map,s=(i,o)=>C1(i,o,e,t),a=(i,o)=>s(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?s:(r.has(o)||r.set(o,C1(o,void 0,e,t)),r.get(o))})}function B8({top:e,left:t,right:r,bottom:s}){return{x:{min:t,max:r},y:{min:e,max:s}}}function Yoe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Xoe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function k1(e){return e===void 0||e===1}function US({scale:e,scaleX:t,scaleY:r}){return!k1(e)||!k1(t)||!k1(r)}function wc(e){return US(e)||V8(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function V8(e){return i5(e.x)||i5(e.y)}function i5(e){return e&&e!=="0%"}function e0(e,t,r){const s=e-r,a=t*s;return r+a}function o5(e,t,r,s,a){return a!==void 0&&(e=e0(e,a,s)),e0(e,r,s)+t}function WS(e,t=0,r=1,s,a){e.min=o5(e.min,t,r,s,a),e.max=o5(e.max,t,r,s,a)}function z8(e,{x:t,y:r}){WS(e.x,t.translate,t.scale,t.originPoint),WS(e.y,r.translate,r.scale,r.originPoint)}const l5=.999999999999,c5=1.0000000000001;function Qoe(e,t,r,s=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Cu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,z8(e,o)),s&&wc(i.latestValues)&&Cu(e,i.latestValues))}t.x<c5&&t.x>l5&&(t.x=1),t.y<c5&&t.y>l5&&(t.y=1)}function Su(e,t){e.min=e.min+t,e.max=e.max+t}function d5(e,t,r,s,a=.5){const i=Er(e.min,e.max,a);WS(e,t,r,i,s)}function Cu(e,t){d5(e.x,t.x,t.scaleX,t.scale,t.originX),d5(e.y,t.y,t.scaleY,t.scale,t.originY)}function U8(e,t){return B8(Xoe(e.getBoundingClientRect(),t))}function Zoe(e,t,r){const s=U8(e,r),{scroll:a}=t;return a&&(Su(s.x,a.offset.x),Su(s.y,a.offset.y)),s}const u5=()=>({translate:0,scale:1,origin:0,originPoint:0}),ku=()=>({x:u5(),y:u5()}),h5=()=>({min:0,max:0}),xn=()=>({x:h5(),y:h5()}),qS={current:null},W8={current:!1};function Joe(){if(W8.current=!0,!!$T)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>qS.current=e.matches;e.addEventListener("change",t),t()}else qS.current=!1}const ele=new WeakMap;function tle(e,t,r){for(const s in t){const a=t[s],i=r[s];if(qn(a))e.addValue(s,a);else if(qn(i))e.addValue(s,wh(a,{owner:e}));else if(i!==a)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(s);e.addValue(s,wh(o!==void 0?o:a,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const m5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rle{scrapeMotionValuesFromProps(t,r,s){return{}}constructor({parent:t,props:r,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ZT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=xs.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,vr.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=dj(r),this.isVariantNode=E8(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in h){const f=h[m];c[m]!==void 0&&qn(f)&&f.set(c[m])}}mount(t){var r;this.current=t,ele.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),W8.current||Joe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qS.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Hl(this.notifyUpdate),Hl(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const s=this.features[r];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=xm.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&vr.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Nh){const r=Nh[t];if(!r)continue;const{isEnabled:s,Feature:a}=r;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<m5.length;s++){const a=m5[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=tle(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const s=this.values.get(t);r!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&r!==void 0&&(s=wh(r===null?void 0:r,{owner:this}),this.addValue(t,s)),s}readValue(t,r){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(I9(s)||$9(s))?s=parseFloat(s):!doe(s)&&Kl.test(r)&&(s=v8(t,r)),this.setBaseTarget(t,qn(s)?s.get():s)),qn(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=cE(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!qn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new VT),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){tE.render(this.render)}}class q8 extends rle{constructor(){super(...arguments),this.KeyframeResolver=Zie}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:s}){delete r[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function H8(e,{style:t,vars:r},s,a){const i=e.style;let o;for(o in t)i[o]=t[o];a==null||a.applyProjectionStyles(i,s);for(o in r)i.setProperty(o,r[o])}function nle(e){return window.getComputedStyle(e)}class sle extends q8{constructor(){super(...arguments),this.type="html",this.renderInstance=H8}readValueFromInstance(t,r){var s;if(xm.has(r))return(s=this.projection)!=null&&s.isProjecting?IS(r):gie(t,r);{const a=nle(t),i=(Q9(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return U8(t,r)}build(t,r,s){iE(t,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,r,s){return dE(t,r,s)}}const K8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ale(e,t,r,s){H8(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(K8.has(a)?a:uE(a),t.attrs[a])}class ile extends q8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(xm.has(r)){const s=y8(r);return s&&s.default||0}return r=K8.has(r)?r:uE(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,s){return D8(t,r,s)}build(t,r,s){O8(t,r,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,r,s,a){ale(t,r,s,a)}mount(t){this.isSVGTag=R8(t.tagName),super.mount(t)}}const ole=(e,t)=>lE(e)?new ile(t):new sle(t,{allowProjection:e!==x.Fragment});function qu(e,t,r){const s=e.getProps();return cE(s,t,r!==void 0?r:s.custom,e)}const HS=e=>Array.isArray(e);function lle(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,wh(r))}function cle(e){return HS(e)?e[e.length-1]||0:e}function dle(e,t){const r=qu(e,t);let{transitionEnd:s={},transition:a={},...i}=r||{};i={...i,...s};for(const o in i){const l=cle(i[o]);lle(e,o,l)}}function ule(e){return!!(qn(e)&&e.add)}function KS(e,t){const r=e.getValue("willChange");if(ule(r))return r.add(t);if(!r&&Co.WillChange){const s=new Co.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function G8(e){return e.props[$8]}const hle=e=>e!==null;function mle(e,{repeat:t,repeatType:r="loop"},s){const a=e.filter(hle),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||s===void 0?a[i]:s}const fle={type:"spring",stiffness:500,damping:25,restSpeed:10},ple=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),xle={type:"keyframes",duration:.8},gle={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yle=(e,{keyframes:t})=>t.length>2?xle:xm.has(e)?e.startsWith("scale")?ple(t[1]):fle:gle;function vle({when:e,delay:t,delayChildren:r,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const hE=(e,t,r,s={},a,i)=>o=>{const l=JT(s,e)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-_i(c);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};vle(l)||Object.assign(u,yle(e,u)),u.duration&&(u.duration=_i(u.duration)),u.repeatDelay&&(u.repeatDelay=_i(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(BS(u),u.delay===0&&(h=!0)),(Co.instantAnimations||Co.skipAnimations)&&(h=!0,BS(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const m=mle(u.keyframes,l);if(m!==void 0){vr.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new QT(u):new Bie(u)};function ble({protectedKeys:e,needsAnimating:t},r){const s=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,s}function Y8(e,t,{delay:r=0,transitionOverride:s,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;s&&(i=s);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const u in l){const h=e.getValue(u,e.latestValues[u]??null),m=l[u];if(m===void 0||d&&ble(d,u))continue;const f={delay:r,...JT(i||{},u)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===p&&!f.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const j=G8(e);if(j){const y=window.MotionHandoffAnimation(j,u,vr);y!==null&&(f.startTime=y,g=!0)}}KS(e,u),h.start(hE(u,h,m,e.shouldReduceMotion&&p8.has(u)?{type:!1}:f,e,g));const v=h.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{vr.update(()=>{o&&dle(e,o)})}),c}function X8(e,t,r,s=0,a=1){const i=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),o=e.size,l=(o-1)*s;return typeof r=="function"?r(i,o):a===1?i*s:l-i*s}function GS(e,t,r={}){var c;const s=qu(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(a=r.transitionOverride);const i=s?()=>Promise.all(Y8(e,s,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=a;return jle(e,t,d,u,h,m,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function jle(e,t,r=0,s=0,a=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(GS(c,t,{...o,delay:r+(typeof s=="function"?0:s)+X8(e.variantChildren,c,s,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function wle(e,t,r={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(i=>GS(e,i,r));s=Promise.all(a)}else if(typeof t=="string")s=GS(e,t,r);else{const a=typeof t=="function"?qu(e,t,r.custom):t;s=Promise.all(Y8(e,a,r))}return s.then(()=>{e.notify("AnimationComplete",t)})}function Q8(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(t[s]!==e[s])return!1;return!0}const Nle=aE.length;function Z8(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Z8(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Nle;r++){const s=aE[r],a=e.props[s];(Tp(a)||a===!1)&&(t[s]=a)}return t}const _le=[...sE].reverse(),Sle=sE.length;function Cle(e){return t=>Promise.all(t.map(({animation:r,options:s})=>wle(e,r,s)))}function kle(e){let t=Cle(e),r=f5(),s=!0;const a=c=>(d,u)=>{var m;const h=qu(e,u,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:f,transitionEnd:p,...g}=h;d={...d,...g,...p}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=Z8(e.parent)||{},h=[],m=new Set;let f={},p=1/0;for(let v=0;v<Sle;v++){const j=_le[v],y=r[j],b=d[j]!==void 0?d[j]:u[j],w=Tp(b),N=j===c?y.isActive:null;N===!1&&(p=v);let _=b===u[j]&&b!==d[j]&&w;if(_&&s&&e.manuallyAnimateOnMount&&(_=!1),y.protectedKeys={...f},!y.isActive&&N===null||!b&&!y.prevProp||cj(b)||typeof b=="boolean")continue;const C=Tle(y.prevProp,b);let S=C||j===c&&y.isActive&&!_&&w||v>p&&w,k=!1;const E=Array.isArray(b)?b:[b];let T=E.reduce(a(j),{});N===!1&&(T={});const{prevResolvedValues:A={}}=y,B={...A,...T},R=O=>{S=!0,m.has(O)&&(k=!0,m.delete(O)),y.needsAnimating[O]=!0;const P=e.getValue(O);P&&(P.liveStyle=!1)};for(const O in B){const P=T[O],I=A[O];if(f.hasOwnProperty(O))continue;let G=!1;HS(P)&&HS(I)?G=!Q8(P,I):G=P!==I,G?P!=null?R(O):m.add(O):P!==void 0&&m.has(O)?R(O):y.protectedKeys[O]=!0}y.prevProp=b,y.prevResolvedValues=T,y.isActive&&(f={...f,...T}),s&&e.blockInitialAnimation&&(S=!1);const L=_&&C;S&&(!L||k)&&h.push(...E.map(O=>{const P={type:j};if(typeof O=="string"&&s&&!L&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,G=qu(I,O);if(I.enteringChildren&&G){const{delayChildren:re}=G.transition||{};P.delay=X8(I.enteringChildren,e,re)}}return{animation:O,options:P}}))}if(m.size){const v={};if(typeof d.initial!="boolean"){const j=qu(e,Array.isArray(d.initial)?d.initial[0]:d.initial);j&&j.transition&&(v.transition=j.transition)}m.forEach(j=>{const y=e.getBaseTarget(j),b=e.getValue(j);b&&(b.liveStyle=!0),v[j]=y??null}),h.push({animation:v})}let g=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),s=!1,g?t(h):Promise.resolve()}function l(c,d){var h;if(r[c].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(m=>{var f;return(f=m.animationState)==null?void 0:f.setActive(c,d)}),r[c].isActive=d;const u=o(c);for(const m in r)r[m].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=f5()}}}function Tle(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Q8(t,e):!1}function xc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function f5(){return{animate:xc(!0),whileInView:xc(),whileHover:xc(),whileTap:xc(),whileDrag:xc(),whileFocus:xc(),exit:xc()}}class nc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Ele extends nc{constructor(t){super(t),t.animationState||(t.animationState=kle(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();cj(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Ple=0;class Ale extends nc{constructor(){super(...arguments),this.id=Ple++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Ole={animation:{Feature:Ele},exit:{Feature:Ale}};function Ep(e,t,r,s={passive:!0}){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r)}function Qx(e){return{point:{x:e.pageX,y:e.pageY}}}const Mle=e=>t=>rE(t)&&e(t,Qx(t));function Ff(e,t,r,s){return Ep(e,t,Mle(r),s)}const J8=1e-4,Rle=1-J8,Ile=1+J8,eV=.01,Dle=0-eV,$le=0+eV;function ts(e){return e.max-e.min}function Lle(e,t,r){return Math.abs(e-t)<=r}function p5(e,t,r,s=.5){e.origin=s,e.originPoint=Er(t.min,t.max,e.origin),e.scale=ts(r)/ts(t),e.translate=Er(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Rle&&e.scale<=Ile||isNaN(e.scale))&&(e.scale=1),(e.translate>=Dle&&e.translate<=$le||isNaN(e.translate))&&(e.translate=0)}function Bf(e,t,r,s){p5(e.x,t.x,r.x,s?s.originX:void 0),p5(e.y,t.y,r.y,s?s.originY:void 0)}function x5(e,t,r){e.min=r.min+t.min,e.max=e.min+ts(t)}function Fle(e,t,r){x5(e.x,t.x,r.x),x5(e.y,t.y,r.y)}function g5(e,t,r){e.min=t.min-r.min,e.max=e.min+ts(t)}function t0(e,t,r){g5(e.x,t.x,r.x),g5(e.y,t.y,r.y)}function Js(e){return[e("x"),e("y")]}const tV=({current:e})=>e?e.ownerDocument.defaultView:null,y5=(e,t)=>Math.abs(e-t);function Ble(e,t){const r=y5(e.x,t.x),s=y5(e.y,t.y);return Math.sqrt(r**2+s**2)}class rV{constructor(t,r,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=E1(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=Ble(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!p)return;const{point:g}=m,{timestamp:v}=Mn;this.history.push({...g,timestamp:v});const{onStart:j,onMove:y}=this.handlers;f||(j&&j(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,m)},this.handlePointerMove=(m,f)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=T1(f,this.transformPagePoint),vr.update(this.updatePoint,!0)},this.handlePointerUp=(m,f)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=E1(m.type==="pointercancel"?this.lastMoveEventInfo:T1(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,j),g&&g(m,j)},!rE(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=a||window;const l=Qx(t),c=T1(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=Mn;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=r;h&&h(t,E1(c,this.history)),this.removeListeners=Gx(Ff(this.contextWindow,"pointermove",this.handlePointerMove),Ff(this.contextWindow,"pointerup",this.handlePointerUp),Ff(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Hl(this.updatePoint)}}function T1(e,t){return t?{point:t(e.point)}:e}function v5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function E1({point:e},t){return{point:e,delta:v5(e,nV(t)),offset:v5(e,Vle(t)),velocity:zle(t,.1)}}function Vle(e){return e[0]}function nV(e){return e[e.length-1]}function zle(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,s=null;const a=nV(e);for(;r>=0&&(s=e[r],!(a.timestamp-s.timestamp>_i(t)));)r--;if(!s)return{x:0,y:0};const i=ia(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ule(e,{min:t,max:r},s){return t!==void 0&&e<t?e=s?Er(t,e,s.min):Math.max(e,t):r!==void 0&&e>r&&(e=s?Er(r,e,s.max):Math.min(e,r)),e}function b5(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Wle(e,{top:t,left:r,bottom:s,right:a}){return{x:b5(e.x,r,a),y:b5(e.y,t,s)}}function j5(e,t){let r=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,s]=[s,r]),{min:r,max:s}}function qle(e,t){return{x:j5(e.x,t.x),y:j5(e.y,t.y)}}function Hle(e,t){let r=.5;const s=ts(e),a=ts(t);return a>s?r=Sp(t.min,t.max-s,e.min):s>a&&(r=Sp(e.min,e.max-a,t.min)),So(0,1,r)}function Kle(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const YS=.35;function Gle(e=YS){return e===!1?e=0:e===!0&&(e=YS),{x:w5(e,"left","right"),y:w5(e,"top","bottom")}}function w5(e,t,r){return{min:N5(e,t),max:N5(e,r)}}function N5(e,t){return typeof e=="number"?e:e[t]||0}const Yle=new WeakMap;class Xle{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Qx(h).point)},o=(h,m)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=roe(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Js(j=>{let y=this.getAxisMotionValue(j).get()||0;if(Si.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[j];w&&(y=ts(w)*(parseFloat(y)/100))}}this.originPoint[j]=y}),g&&vr.postRender(()=>g(h,m)),KS(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:j}=m;if(p&&this.currentDirection===null){this.currentDirection=Qle(j),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",m.point,j),this.updateAxis("y",m.point,j),this.visualElement.render(),v&&v(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Js(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new rV(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:tV(this.visualElement)})}stop(t,r){const s=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!s)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&vr.postRender(()=>l(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,s){const{drag:a}=this.getProps();if(!s||!ty(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=Ule(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&_u(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=Wle(s.layoutBox,t):this.constraints=!1,this.elastic=Gle(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Js(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Kle(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!_u(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Zoe(s,a.root,this.visualElement.getTransformPagePoint());let o=qle(a.layout.layoutBox,i);if(r){const l=r(Yoe(o));this.hasMutatedConstraints=!!l,l&&(o=B8(l))}return o}startAnimation(t){const{drag:r,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Js(u=>{if(!ty(u,r,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=a?200:1e6,f=a?40:1e7,p={type:"inertia",velocity:s?t[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,p)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const s=this.getAxisMotionValue(t);return KS(this.visualElement,t),s.start(hE(t,s,0,r,this.visualElement,!1))}stopAnimation(){Js(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Js(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[r];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Js(r=>{const{drag:s}=this.getProps();if(!ty(r,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-Er(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!_u(r)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Js(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=Hle({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Js(o=>{if(!ty(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Er(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;Yle.set(this.visualElement,this);const t=this.visualElement.current,r=Ff(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();_u(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),vr.read(s);const o=Ep(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Js(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=YS,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function ty(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Qle(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Zle extends nc{constructor(t){super(t),this.removeGroupControls=da,this.removeListeners=da,this.controls=new Xle(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||da}unmount(){this.removeGroupControls(),this.removeListeners()}}const _5=e=>(t,r)=>{e&&vr.postRender(()=>e(t,r))};class Jle extends nc{constructor(){super(...arguments),this.removePointerDownListener=da}onPointerDown(t){this.session=new rV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:_5(t),onStart:_5(r),onMove:s,onEnd:(i,o)=>{delete this.session,a&&vr.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Ff(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let P1=!1;class ece extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=t;i&&(r.group&&r.group.add(i),s&&s.register&&a&&s.register(i),P1&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),rv.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:s,drag:a,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,P1=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||vr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),tE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:a}=t;P1=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sV(e){const[t,r]=C8(),s=x.useContext(IT);return n.jsx(ece,{...e,layoutGroup:s,switchLayoutGroup:x.useContext(L8),isPresent:t,safeToRemove:r})}function tce(e,t,r){const s=qn(e)?e:wh(e);return s.start(hE("",s,t,r)),s.animation}const rce=(e,t)=>e.depth-t.depth;class nce{constructor(){this.children=[],this.isDirty=!1}add(t){LT(this.children,t),this.isDirty=!0}remove(t){FT(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(rce),this.isDirty=!1,this.children.forEach(t)}}function sce(e,t){const r=xs.now(),s=({timestamp:a})=>{const i=a-r;i>=t&&(Hl(s),e(i-t))};return vr.setup(s,!0),()=>Hl(s)}const aV=["TopLeft","TopRight","BottomLeft","BottomRight"],ace=aV.length,S5=e=>typeof e=="string"?parseFloat(e):e,C5=e=>typeof e=="number"||it.test(e);function ice(e,t,r,s,a,i){a?(e.opacity=Er(0,r.opacity??1,oce(s)),e.opacityExit=Er(t.opacity??1,0,lce(s))):i&&(e.opacity=Er(t.opacity??1,r.opacity??1,s));for(let o=0;o<ace;o++){const l=`border${aV[o]}Radius`;let c=k5(t,l),d=k5(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||C5(c)===C5(d)?(e[l]=Math.max(Er(S5(c),S5(d),s),0),(Si.test(d)||Si.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=Er(t.rotate||0,r.rotate||0,s))}function k5(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const oce=iV(0,.5,q9),lce=iV(.5,.95,da);function iV(e,t,r){return s=>s<e?0:s>t?1:r(Sp(e,t,s))}function T5(e,t){e.min=t.min,e.max=t.max}function ka(e,t){T5(e.x,t.x),T5(e.y,t.y)}function E5(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function P5(e,t,r,s,a){return e-=t,e=e0(e,1/r,s),a!==void 0&&(e=e0(e,1/a,s)),e}function cce(e,t=0,r=1,s=.5,a,i=e,o=e){if(Si.test(t)&&(t=parseFloat(t),t=Er(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Er(i.min,i.max,s);e===i&&(l-=t),e.min=P5(e.min,t,r,l,a),e.max=P5(e.max,t,r,l,a)}function A5(e,t,[r,s,a],i,o){cce(e,t[r],t[s],t[a],t.scale,i,o)}const dce=["x","scaleX","originX"],uce=["y","scaleY","originY"];function O5(e,t,r,s){A5(e.x,t,dce,r?r.x:void 0,s?s.x:void 0),A5(e.y,t,uce,r?r.y:void 0,s?s.y:void 0)}function M5(e){return e.translate===0&&e.scale===1}function oV(e){return M5(e.x)&&M5(e.y)}function R5(e,t){return e.min===t.min&&e.max===t.max}function hce(e,t){return R5(e.x,t.x)&&R5(e.y,t.y)}function I5(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function lV(e,t){return I5(e.x,t.x)&&I5(e.y,t.y)}function D5(e){return ts(e.x)/ts(e.y)}function $5(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class mce{constructor(){this.members=[]}add(t){LT(this.members,t),t.scheduleRender()}remove(t){if(FT(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let s;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,r){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,r&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:s}=t;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fce(e,t,r){let s="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:p}=r;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),m&&(s+=`rotateY(${m}deg) `),f&&(s+=`skewX(${f}deg) `),p&&(s+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const A1=["","X","Y","Z"],pce=1e3;let xce=0;function O1(e,t,r,s){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function cV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=G8(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",vr,!(a||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&cV(s)}function dV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=xce++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vce),this.nodes.forEach(Nce),this.nodes.forEach(_ce),this.nodes.forEach(bce)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new nce)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new VT),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=S8(o)&&!loe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,h=0;const m=()=>this.root.updateBlockedByResize=!1;vr.read(()=>{h=window.innerWidth}),e(o,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,u&&u(),u=sce(m,250),rv.hasAnimatedSinceResize&&(rv.hasAnimatedSinceResize=!1,this.nodes.forEach(B5)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||Ece,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=d.getProps(),j=!this.targetLayout||!lV(this.targetLayout,f),y=!h&&m;if(this.options.layoutRoot||this.resumeFrom||y||h&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...JT(p,"layout"),onPlay:g,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,y)}else h||B5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Sce),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(L5);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(F5);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wce),this.nodes.forEach(gce),this.nodes.forEach(yce)):this.nodes.forEach(F5),this.clearAllSnapshots();const l=xs.now();Mn.delta=So(0,1e3/60,l-Mn.timestamp),Mn.timestamp=l,Mn.isProcessing=!0,b1.update.process(Mn),b1.preRender.process(Mn),b1.render.process(Mn),Mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jce),this.sharedNodes.forEach(Cce)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ts(this.snapshot.measuredBox.x)&&!ts(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=xn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!oV(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||wc(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Pce(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return xn();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Ace))){const{scroll:u}=this.root;u&&(Su(l.x,u.offset.x),Su(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=xn();if(ka(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&ka(l,o),Su(l.x,h.offset.x),Su(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=xn();ka(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Cu(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),wc(u.latestValues)&&Cu(c,u.latestValues)}return wc(this.latestValues)&&Cu(c,this.latestValues),c}removeTransform(o){const l=xn();ka(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!wc(d.latestValues))continue;US(d.latestValues)&&d.updateSnapshot();const u=xn(),h=d.measurePageBox();ka(u,h),O5(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return wc(this.latestValues)&&O5(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!this.layout||!(u||h))return;this.resolvedRelativeTargetAt=Mn.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xn(),this.targetWithTransforms=xn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Fle(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ka(this.target,this.layout.layoutBox),z8(this.target,this.targetDelta)):ka(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||US(this.parent.latestValues)||V8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xn(),this.relativeTargetOrigin=xn(),t0(this.relativeTargetOrigin,l,c),ka(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var p;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Mn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;ka(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Qoe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=xn());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(E5(this.prevProjectionDelta.x,this.projectionDelta.x),E5(this.prevProjectionDelta.y,this.projectionDelta.y)),Bf(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!$5(this.projectionDelta.x,this.prevProjectionDelta.x)||!$5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ku(),this.projectionDelta=ku(),this.projectionDeltaWithTransform=ku()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=ku();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=xn(),f=c?c.source:void 0,p=this.layout?this.layout.source:void 0,g=f!==p,v=this.getStack(),j=!v||v.members.length<=1,y=!!(g&&!j&&this.options.crossfade===!0&&!this.path.some(Tce));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const N=w/1e3;V5(h.x,o.x,N),V5(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(t0(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kce(this.relativeTarget,this.relativeTargetOrigin,m,N),b&&hce(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=xn()),ka(b,this.relativeTarget)),g&&(this.animationValues=u,ice(u,d,this.latestValues,N,y,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Hl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vr.update(()=>{rv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wh(0)),this.currentAnimation=tce(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pce),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&uV(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||xn();const h=ts(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=ts(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}ka(l,c),Cu(l,u),Bf(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new mce),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&O1("z",o,d,this.animationValues);for(let u=0;u<A1.length;u++)O1(`rotate${A1[u]}`,o,d,this.animationValues),O1(`skew${A1[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=tv(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=tv(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!wc(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=fce(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:m,y:f}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${f.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in zS){if(u[p]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:j}=zS[p],y=h==="none"?u[p]:g(u[p],d);if(v){const b=v.length;for(let w=0;w<b;w++)o[v[w]]=y}else j?this.options.visualElement.renderState.vars[p]=y:o[p]=y}this.options.layoutId&&(o.pointerEvents=d===this?tv(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(L5),this.root.sharedNodes.clear()}}}function gce(e){e.updateLayout()}function yce(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Js(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],f=ts(m);m.min=s[h].min,m.max=m.min+f}):uV(i,t.layoutBox,s)&&Js(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],f=ts(s[h]);m.max=m.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=ku();Bf(l,s,t.layoutBox);const c=ku();o?Bf(c,e.applyTransform(a,!0),t.measuredBox):Bf(c,s,t.layoutBox);const d=!oV(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const p=xn();t0(p,t.layoutBox,m.layoutBox);const g=xn();t0(g,s,f.layoutBox),lV(p,g)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function vce(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function bce(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function jce(e){e.clearSnapshot()}function L5(e){e.clearMeasurements()}function F5(e){e.isLayoutDirty=!1}function wce(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function B5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Nce(e){e.resolveTargetDelta()}function _ce(e){e.calcProjection()}function Sce(e){e.resetSkewAndRotation()}function Cce(e){e.removeLeadSnapshot()}function V5(e,t,r){e.translate=Er(t.translate,0,r),e.scale=Er(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function z5(e,t,r,s){e.min=Er(t.min,r.min,s),e.max=Er(t.max,r.max,s)}function kce(e,t,r,s){z5(e.x,t.x,r.x,s),z5(e.y,t.y,r.y,s)}function Tce(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ece={duration:.45,ease:[.4,0,.1,1]},U5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),W5=U5("applewebkit/")&&!U5("chrome/")?Math.round:da;function q5(e){e.min=W5(e.min),e.max=W5(e.max)}function Pce(e){q5(e.x),q5(e.y)}function uV(e,t,r){return e==="position"||e==="preserve-aspect"&&!Lle(D5(t),D5(r),.2)}function Ace(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Oce=dV({attachResizeListener:(e,t)=>Ep(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),M1={current:void 0},hV=dV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!M1.current){const e=new Oce({});e.mount(window),e.setOptions({layoutScroll:!0}),M1.current=e}return M1.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Mce={pan:{Feature:Jle},drag:{Feature:Zle,ProjectionNode:hV,MeasureLayout:sV}};function H5(e,t,r){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=s[a];i&&vr.postRender(()=>i(t,Qx(t)))}class Rce extends nc{mount(){const{current:t}=this.node;t&&(this.unmount=noe(t,(r,s)=>(H5(this.node,s,"Start"),a=>H5(this.node,a,"End"))))}unmount(){}}class Ice extends nc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gx(Ep(this.node.current,"focus",()=>this.onFocus()),Ep(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function K5(e,t,r){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=s[a];i&&vr.postRender(()=>i(t,Qx(t)))}class Dce extends nc{mount(){const{current:t}=this.node;t&&(this.unmount=ooe(t,(r,s)=>(K5(this.node,s,"Start"),(a,{success:i})=>K5(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const XS=new WeakMap,R1=new WeakMap,$ce=e=>{const t=XS.get(e.target);t&&t(e)},Lce=e=>{e.forEach($ce)};function Fce({root:e,...t}){const r=e||document;R1.has(r)||R1.set(r,{});const s=R1.get(r),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(Lce,{root:e,...t})),s[a]}function Bce(e,t,r){const s=Fce(t);return XS.set(e,r),s.observe(e),()=>{XS.delete(e),s.unobserve(e)}}const Vce={some:0,all:1};class zce extends nc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:s,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Vce[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return Bce(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Uce(t,r))&&this.startObserver()}unmount(){}}function Uce({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Wce={inView:{Feature:zce},tap:{Feature:Dce},focus:{Feature:Ice},hover:{Feature:Rce}},qce={layout:{ProjectionNode:hV,MeasureLayout:sV}},Hce={...Ole,...Wce,...Mce,...qce},ee=Goe(Hce,ole),Qm={cognitiveMode:"oz-cognitive-mode",powerModeConsent:"oz-power-mode-consent",introSeen:"oz-intro-seen",neuroProfile:"oz-neuro-profile",accessibility:"oz-accessibility-settings"},I1="flow";function mV(){const[e,t]=x.useState(()=>typeof window>"u"?I1:localStorage.getItem(Qm.cognitiveMode)||I1),[r,s]=x.useState(()=>typeof window>"u"?!1:localStorage.getItem(Qm.powerModeConsent)==="true"),a=x.useCallback(l=>{t(l),localStorage.setItem(Qm.cognitiveMode,l)},[]),i=x.useCallback(()=>{s(!0),localStorage.setItem(Qm.powerModeConsent,"true")},[]),o=x.useCallback(()=>{s(!1),localStorage.removeItem(Qm.powerModeConsent)},[]);return x.useEffect(()=>{e==="power"&&!r&&a(I1)},[e,r,a]),{mode:e,setMode:a,hasConsentedToPowerMode:r,grantPowerModeConsent:i,revokePowerModeConsent:o,needsConsentForPowerMode:!r}}function G5(e){if(typeof window>"u")return e;const t=window.innerWidth-100,r=window.innerHeight-100;return{x:Math.max(-t,Math.min(t,e.x)),y:Math.max(-r,Math.min(r,e.y))}}function Kce(e,t={x:0,y:0}){const[r,s]=x.useState(t),[a,i]=x.useState(!1);x.useEffect(()=>{const d=localStorage.getItem(e);if(d)try{const u=JSON.parse(d);s(G5(u))}catch{}},[e]),x.useEffect(()=>{a||localStorage.setItem(e,JSON.stringify(r))},[r,a,e]);const o=x.useCallback(()=>{i(!0)},[]),l=x.useCallback((d,u)=>{i(!1),s(h=>G5({x:h.x+d,y:h.y+u}))},[]),c=x.useCallback(()=>{s(t),localStorage.removeItem(e)},[t,e]);return{offset:r,isDragging:a,onDragStart:o,onDragEnd:l,resetPosition:c}}x.createContext(null);function fV({children:e,storageKey:t,className:r="fixed bottom-24 right-6"}){const s=x.useRef(null),{offset:a,onDragStart:i,onDragEnd:o}=Kce(t);return n.jsxs(n.Fragment,{children:[n.jsx("div",{ref:s,className:"fixed inset-0 pointer-events-none z-40",style:{margin:"1rem"}}),n.jsx(ee.div,{drag:!0,dragConstraints:s,dragElastic:.1,dragMomentum:!1,onDragStart:i,onDragEnd:(l,c)=>o(c.offset.x,c.offset.y),style:{x:a.x,y:a.y},className:`${r} z-50 cursor-grab active:cursor-grabbing`,whileDrag:{scale:1.05},children:e})]})}const Gce="/assets/oz-tornado-icon-CaWOO5fx.png";function Yce(){const e=Qt();return Ro().pathname==="/tornado-alley"?null:n.jsx(fV,{storageKey:"tornado-button-position",className:"fixed top-20 right-6",children:n.jsxs(ee.button,{onClick:()=>e("/tornado-alley"),className:"group","aria-label":"Go to Tornado Alley - Emergency overwhelm support",whileHover:{scale:1.05},whileTap:{scale:.95},children:[n.jsx(ee.div,{className:"absolute inset-0 rounded-full bg-amber-500/20",animate:{scale:[1,1.3,1],opacity:[.3,.1,.3]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},style:{width:"100%",height:"100%"}}),n.jsxs("div",{className:"relative w-20 h-20 rounded-full overflow-hidden border-2 border-amber-500/50 shadow-lg shadow-amber-500/20 group-hover:border-amber-400 group-hover:shadow-amber-400/30 transition-all duration-300 bg-slate-900/80 backdrop-blur-sm",children:[n.jsx(ee.img,{src:Gce,alt:"Tornado Alley",className:"w-full h-full object-cover",animate:{rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),n.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-t from-amber-500/30 via-transparent to-transparent",animate:{opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),n.jsx("div",{className:"absolute bottom-0 right-0 bg-amber-600 rounded-full p-1.5 border-2 border-slate-900 shadow-lg",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"}),n.jsx("path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2"}),n.jsx("path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2"})]})})]}),n.jsx(ee.span,{className:"absolute left-1/2 -translate-x-1/2 top-full mt-1 text-xs font-medium text-amber-400/80 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-slate-900/80 px-2 py-0.5 rounded",initial:!1,children:"Tornado Alley"})]})})}var pi=function(){return pi=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},pi.apply(this,arguments)};function gm(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function Xce(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})}function Qce(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}const Zce=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class mE extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class Jce extends mE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Y5 extends mE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class X5 extends mE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var QS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(QS||(QS={}));class ede{constructor(t,{headers:r={},customFetch:s,region:a=QS.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Zce(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Xce(this,arguments,void 0,function*(r,s={}){var a;let i,o;try{const{headers:l,method:c,body:d,signal:u,timeout:h}=s;let m={},{region:f}=s;f||(f=this.region);const p=new URL(`${this.url}/${r}`);f&&f!=="any"&&(m["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(m["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(m["Content-Type"]="application/json",g=JSON.stringify(d)):g=d;let v=u;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),u?(v=o.signal,u.addEventListener("abort",()=>o.abort())):v=o.signal);const j=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:g,signal:v}).catch(N=>{throw new Jce(N)}),y=j.headers.get("x-relay-error");if(y&&y==="true")throw new Y5(j);if(!j.ok)throw new X5(j);let b=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),w;return b==="application/json"?w=yield j.json():b==="application/octet-stream"||b==="application/pdf"?w=yield j.blob():b==="text/event-stream"?w=j:b==="multipart/form-data"?w=yield j.formData():w=yield j.text(),{data:w,error:null,response:j}}catch(l){return{data:null,error:l,response:l instanceof X5||l instanceof Y5?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var tde=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},rde=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,d=i.status,u=i.statusText;if(i.ok){var h,m;if(r.method!=="HEAD"){var f;const j=await i.text();j===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?l=j:l=JSON.parse(j))}const g=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),v=(m=i.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");g&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,d=406,u="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var p;const g=await i.text();try{o=JSON.parse(g),Array.isArray(o)&&i.status===404&&(l=[],o=null,d=200,u="OK")}catch{i.status===404&&g===""?(d=204,u="No Content"):o={message:g}}if(o&&r.isMaybeSingle&&(!(o==null||(p=o.details)===null||p===void 0)&&p.includes("0 rows"))&&(o=null,d=200,u="OK"),o&&r.shouldThrowOnError)throw new tde(o)}return{error:o,data:l,count:c,status:d,statusText:u}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var d,u,h,m;const p=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",g=(u=c==null?void 0:c.code)!==null&&u!==void 0?u:"";l=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(m=c==null?void 0:c.name)!==null&&m!==void 0?m:"Error"}: ${p}`,g&&(l+=` (${g})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var f;l=(f=i==null?void 0:i.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},nde=class extends rde{select(e){let t=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Q5=new RegExp("[,()]");var iu=class extends nde{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&Q5.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&Q5.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},sde=class{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=s}select(e,t){const{head:r=!1,count:s}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new iu({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var s;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new iu({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new iu({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const s="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new iu({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new iu({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},ade=class pV{constructor(t,{headers:r={},schema:s,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=s,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sde(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new pV(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:s=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;s||a?(l=s?"HEAD":"GET",Object.entries(r).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{c.searchParams.append(h,m)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new iu({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class ide{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const s=this.getWebSocketConstructor();return new s(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ode="2.89.0",lde=`realtime-js/${ode}`,xV="1.0.0",cde="2.0.0",Z5=xV,ZS=1e4,dde=1e3,ude=100;var Jo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Jo||(Jo={}));var fn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(fn||(fn={}));var $a;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($a||($a={}));var JS;(function(e){e.websocket="websocket"})(JS||(JS={}));var Tc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Tc||(Tc={}));class hde{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,s;const a=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,s;const a=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,s){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",d=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+d.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+m);let p=new DataView(f),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,c.length),p.setUint8(g++,l.length),p.setUint8(g++,o.length),p.setUint8(g++,d.length),p.setUint8(g++,h.length),p.setUint8(g++,r),Array.from(c,j=>p.setUint8(g++,j.charCodeAt(0))),Array.from(l,j=>p.setUint8(g++,j.charCodeAt(0))),Array.from(o,j=>p.setUint8(g++,j.charCodeAt(0))),Array.from(d,j=>p.setUint8(g++,j.charCodeAt(0))),Array.from(h,j=>p.setUint8(g++,j.charCodeAt(0)));var v=new Uint8Array(f.byteLength+s.byteLength);return v.set(new Uint8Array(f),0),v.set(new Uint8Array(s),f.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return r(s)}if(typeof t=="string"){const s=JSON.parse(t),[a,i,o,l,c]=s;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),s=r.getUint8(0),a=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,s){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=s.decode(t.slice(c,c+a));c=c+a;const u=s.decode(t.slice(c,c+i));c=c+i;const h=s.decode(t.slice(c,c+o));c=c+o;const m=t.slice(c,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(s.decode(m)):m,p={type:this.BROADCAST_EVENT,event:u,payload:f};return o>0&&(p.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>r.includes(s)))}}class gV{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ir;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ir||(ir={}));const J5=(e,t,r={})=>{var s;const a=(s=r.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=mde(o,e,t,a),i),{}):{}},mde=(e,t,r,s)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!s.includes(i)?yV(i,o):e2(o)},yV=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return gde(t,r)}switch(e){case ir.bool:return fde(t);case ir.float4:case ir.float8:case ir.int2:case ir.int4:case ir.int8:case ir.numeric:case ir.oid:return pde(t);case ir.json:case ir.jsonb:return xde(t);case ir.timestamp:return yde(t);case ir.abstime:case ir.date:case ir.daterange:case ir.int4range:case ir.int8range:case ir.money:case ir.reltime:case ir.text:case ir.time:case ir.timestamptz:case ir.timetz:case ir.tsrange:case ir.tstzrange:return e2(t);default:return e2(t)}},e2=e=>e,fde=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},pde=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},xde=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},gde=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>yV(t,l))}return e},yde=e=>typeof e=="string"?e.replace(" ","T"):e,vV=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class D1{constructor(t,r,s={},a=ZS){this.channel=t,this.event=r,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var eM;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(eM||(eM={}));class Vf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vf.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Vf.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Vf.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const m=u.map(v=>v.presence_ref),f=h.map(v=>v.presence_ref),p=u.filter(v=>f.indexOf(v.presence_ref)<0),g=h.filter(v=>m.indexOf(v.presence_ref)<0);p.length>0&&(l[d]=p),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},s,a)}static syncDiff(t,r,s,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(f=>f.presence_ref),m=u.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...m)}s(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const a=t[s];return"metas"in a?r[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tM;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(tM||(tM={}));var zf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(zf||(zf={}));var eo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(eo||(eo={}));class Tu{constructor(t,r={config:{}},s){var a,i;if(this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=fn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new D1(this,$a.join,this.params,this.timeout),this.rejoinTimer=new gV(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this._on($a.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Vf(this),this.broadcastEndpointURL=vV(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var s,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==fn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[zf.PRESENCE]&&this.bindings[zf.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(eo.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(eo.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(eo.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,j=[];for(let y=0;y<v;y++){const b=g[y],{filter:{event:w,schema:N,table:_,filter:C}}=b,S=f&&f[y];if(S&&S.event===w&&Tu.isFilterValueEqual(S.schema,N)&&Tu.isFilterValueEqual(S.table,_)&&Tu.isFilterValueEqual(S.filter,C))j.push(Object.assign(Object.assign({},b),{id:S.id}));else{this.unsubscribe(),this.state=fn.errored,t==null||t(eo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(eo.SUBSCRIBED);return}}).receive("error",f=>{this.state=fn.errored,t==null||t(eo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(eo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this.state===fn.joined&&t===zf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,s)}async httpSend(t,r,s={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=fn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($a.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new D1(this,$a.leave,{},t),s.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fn.closed,this.bindings={}}async _fetchWithTimeout(t,r,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new D1(this,t,r,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ude){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=$a;if(s&&[l,c,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,r,s);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(f=>{var p,g,v;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(g=f.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(f=>f.callback(m,s)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var p,g,v,j,y,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const w=f.id,N=(p=f.filter)===null||p===void 0?void 0:p.event;return w&&((g=r.ids)===null||g===void 0?void 0:g.includes(w))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const w=(y=(j=f==null?void 0:f.filter)===null||j===void 0?void 0:j.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return w==="*"||w===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof m=="object"&&"ids"in m){const p=m.data,{schema:g,table:v,commit_timestamp:j,type:y,errors:b}=p;m=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:j,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(p))}f.callback(m,s)})}_isClosed(){return this.state===fn.closed}_isJoined(){return this.state===fn.joined}_isJoining(){return this.state===fn.joining}_isLeaving(){return this.state===fn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Tu.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($a.close,{},t)}_onError(t){this._on($a.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=J5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=J5(t.columns,t.old_record)),r}}const $1=()=>{},ry={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vde=[1e3,2e3,5e3,1e4],bde=1e4,jde=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wde{constructor(t,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ZS,this.transport=null,this.heartbeatIntervalMs=ry.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$1,this.ref=0,this.reconnectTimer=null,this.vsn=Z5,this.logger=$1,this.conn=null,this.sendBuffer=[],this.serializer=new hde,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${JS.websocket}`,this.httpEndpoint=vV(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ide.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Jo.connecting:return Tc.Connecting;case Jo.open:return Tc.Open;case Jo.closing:return Tc.Closing;default:return Tc.Closed}}isConnected(){return this.connectionState()===Tc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const s=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new Tu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:s,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(dde,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ry.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${s} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Jo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Jo.open||this.conn.readyState===Jo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger($a.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${s}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([jde],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,s=!1;if(t)r=t,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:lde};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push($a.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new gV(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ry.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,s,a,i,o,l,c,d,u,h,m,f;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:ZS,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:ry.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:$1,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Z5,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:p=>vde[p-1]||bde,this.vsn){case xV:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(p,g)=>g(JSON.stringify(p)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(p,g)=>g(JSON.parse(p));break;case cde:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Pp=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Nde(e,t,r){const s=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&s.searchParams.set(a,i);return s.toString()}async function _de(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Sde(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:a,body:i,headers:o}){const l=Nde(e.baseUrl,s,a),c=await _de(e.auth),d=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),u=await d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),m=h&&u?JSON.parse(u):u;if(!d.ok){const f=h?m:void 0,p=f==null?void 0:f.error;throw new Pp((p==null?void 0:p.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:p==null?void 0:p.type,icebergCode:p==null?void 0:p.code,details:f})}return{status:d.status,headers:d.headers,data:m}}}}function ny(e){return e.join("")}var Cde=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ny(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ny(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ny(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ny(e.namespace)}`}),!0}catch(t){if(t instanceof Pp&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Pp&&r.status===409)return;throw r}}};function Ud(e){return e.join("")}var kde=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ud(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ud(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ud(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ud(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ud(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ud(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Pp&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Pp&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Tde=class{constructor(e){var s;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Sde({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(s=e.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new Cde(this.client,t),this.tableOps=new kde(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},uj=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Cr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ede=class extends uj{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},t2=class extends uj{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const fE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Pde=()=>Response,r2=e=>{if(Array.isArray(e))return e.map(r=>r2(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=r2(s)}),t},Ade=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ode=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function Mde(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ap(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rde(e){var t=Mde(e,"string");return Ap(t)=="symbol"?t:t+""}function Ide(e,t,r){return(t=Rde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(r),!0).forEach(function(s){Ide(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const L1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Dde=async(e,t,r)=>{e instanceof await Pde()&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,i=(s==null?void 0:s.statusCode)||a+"";t(new Ede(L1(s),a,i))}).catch(s=>{t(new t2(L1(s),s))}):t(new t2(L1(e),e))},$de=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?a:(Ade(s)?(a.headers=nt({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,t!=null&&t.duplex&&(a.duplex=t.duplex),nt(nt({},a),r))};async function Zx(e,t,r,s,a,i){return new Promise((o,l)=>{e(r,$de(t,s,a,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Dde(c,l,s))})}async function Op(e,t,r,s){return Zx(e,"GET",t,r,s)}async function Ma(e,t,r,s,a){return Zx(e,"POST",t,s,a,r)}async function n2(e,t,r,s,a){return Zx(e,"PUT",t,s,a,r)}async function Lde(e,t,r,s){return Zx(e,"HEAD",t,nt(nt({},r),{},{noResolveJson:!0}),s)}async function pE(e,t,r,s,a){return Zx(e,"DELETE",t,s,a,r)}var Fde=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Cr(t))return{data:null,error:t};throw t}}};let bV;bV=Symbol.toStringTag;var Bde=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[bV]="BlobDownloadBuilder",this.promise=null}asStream(){return new Fde(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Cr(t))return{data:null,error:t};throw t}}};const Vde={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var zde=class{constructor(e,t={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=fE(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,s){var a=this;try{let i;const o=nt(nt({},nM),s);let l=nt(nt({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=nt(nt({},l),s.headers));const d=a._removeEmptyFolders(t),u=a._getFinalPath(d),h=await(e=="PUT"?n2:Ma)(a.fetch,`${a.url}/object/${u}`,i,nt({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Cr(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,s){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const d=nt({upsert:nM.upsert},s),u=nt(nt({},a.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType),{data:{path:i,fullPath:(await n2(a.fetch,l.toString(),c,{headers:u})).Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(Cr(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let s=r._getFinalPath(e);const a=nt({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Ma(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new uj("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Cr(s))return{data:null,error:s};throw s}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var s=this;try{return{data:await Ma(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Cr(a))return{data:null,error:a};throw a}}async copy(e,t,r){var s=this;try{return{data:{path:(await Ma(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers})).Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Cr(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var s=this;try{let a=s._getFinalPath(e),i=await Ma(s.fetch,`${s.url}/object/sign/${a}`,nt({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:s.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${s.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Cr(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var s=this;try{const a=await Ma(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:e},{headers:s.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>nt(nt({},o),{},{signedUrl:o.signedURL?encodeURI(`${s.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Cr(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=s?`?${s}`:"",i=this._getFinalPath(e),o=()=>Op(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new Bde(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:r2(await Op(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Cr(s))return{data:null,error:s};throw s}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Lde(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Cr(s)&&s instanceof t2){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&s.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&s.push(o);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await pE(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}}async list(e,t,r){var s=this;try{const a=nt(nt(nt({},Vde),t),{},{prefix:e||""});return{data:await Ma(s.fetch,`${s.url}/object/list/${s.bucketId}`,a,{headers:s.headers},r),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Cr(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const s=nt({},e);return{data:await Ma(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},t),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Cr(s))return{data:null,error:s};throw s}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const jV="2.89.0",wV={"X-Client-Info":`storage-js/${jV}`};var Ude=class{constructor(e,t={},r,s){this.shouldThrowOnError=!1;const a=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=nt(nt({},wV),t),this.fetch=fE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Op(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Op(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Ma(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Cr(s))return{data:null,error:s};throw s}}async updateBucket(e,t){var r=this;try{return{data:await n2(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Cr(s))return{data:null,error:s};throw s}}async emptyBucket(e){var t=this;try{return{data:await Ma(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await pE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Wde=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=nt(nt({},wV),t),this.fetch=fE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ma(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const s=r.toString(),a=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return{data:await Op(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await pE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!Ode(e))throw new uj("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Tde({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(s)throw c;return{data:null,error:c}}}}})}};const xE={"X-Client-Info":`storage-js/${jV}`,"Content-Type":"application/json"};var NV=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Rs(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var F1=class extends NV{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qde=class extends NV{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const gE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Hde=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sM=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Kde=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new F1(sM(i),s,o))}).catch(()=>{const i=s+"";t(new F1(a.statusText||`HTTP ${s} error`,s,i))});else{const i=s+"";t(new F1(a.statusText||`HTTP ${s} error`,s,i))}}else t(new qde(sM(e),e))},Gde=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return s?(Hde(s)?(a.headers=nt({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,nt(nt({},a),r)):a};async function Yde(e,t,r,s,a,i){return new Promise((o,l)=>{e(r,Gde(t,s,a,i)).then(c=>{if(!c.ok)throw c;if(s!=null&&s.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>Kde(c,l,s))})}async function Is(e,t,r,s,a){return Yde(e,"POST",t,s,a,r)}var Xde=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=nt(nt({},xE),t),this.fetch=gE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Is(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rs(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Is(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Rs(s))return{data:null,error:s};throw s}}async listIndexes(e){var t=this;try{return{data:await Is(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rs(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Is(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Rs(s))return{data:null,error:s};throw s}}},Qde=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=nt(nt({},xE),t),this.fetch=gE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Is(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rs(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Is(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rs(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Is(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rs(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Is(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rs(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Is(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rs(r))return{data:null,error:r};throw r}}},Zde=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=nt(nt({},xE),t),this.fetch=gE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Is(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rs(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Is(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rs(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Is(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rs(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Is(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rs(r))return{data:null,error:r};throw r}}},Jde=class extends Zde{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new eue(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},eue=class extends Xde{constructor(e,t,r,s){super(e,t,s),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,nt(nt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,nt(nt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new tue(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},tue=class extends Qde{constructor(e,t,r,s,a){super(e,t,a),this.vectorBucketName=r,this.indexName=s}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,nt(nt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,nt(nt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,nt(nt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,nt(nt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,nt(nt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},rue=class extends Ude{constructor(e,t={},r,s){super(e,t,r,s)}from(e){return new zde(this.url,this.headers,e,this.fetch)}get vectors(){return new Jde(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Wde(this.url+"/iceberg",this.headers,this.fetch)}};const _V="2.89.0",ou=30*1e3,s2=3,B1=s2*ou,nue="http://localhost:9999",sue="supabase.auth.token",aue={"X-Client-Info":`gotrue-js/${_V}`},a2="X-Supabase-Api-Version",SV={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iue=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oue=10*60*1e3;class Mp extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function He(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lue extends Mp{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function cue(e){return He(e)&&e.name==="AuthApiError"}class Ec extends Mp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Io extends Mp{constructor(t,r,s,a){super(t,s,a),this.name=r,this.status=s}}class ks extends Io{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function due(e){return He(e)&&e.name==="AuthSessionMissingError"}class Wd extends Io{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sy extends Io{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ay extends Io{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uue(e){return He(e)&&e.name==="AuthImplicitGrantRedirectError"}class aM extends Io{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hue extends Io{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class i2 extends Io{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function V1(e){return He(e)&&e.name==="AuthRetryableFetchError"}class iM extends Io{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class o2 extends Io{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const r0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oM=` 	
\r=`.split(""),mue=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<oM.length;t+=1)e[oM[t].charCodeAt(0)]=-2;for(let t=0;t<r0.length;t+=1)e[r0[t].charCodeAt(0)]=t;return e})();function lM(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(r0[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(r0[s]),t.queuedBits-=6}}function CV(e,t,r){const s=mue[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function cM(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{xue(o,s,r)};for(let o=0;o<e.length;o+=1)CV(e.charCodeAt(o),a,i);return t.join("")}function fue(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function pue(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}fue(s,t)}}function xue(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Hu(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)CV(e.charCodeAt(a),r,s);return new Uint8Array(t)}function gue(e){const t=[];return pue(e,r=>t.push(r)),new Uint8Array(t)}function Ic(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};return e.forEach(a=>lM(a,r,s)),lM(null,r,s),t.join("")}function yue(e){return Math.round(Date.now()/1e3)+e}function vue(){return Symbol("auth-callback")}const Pn=()=>typeof window<"u"&&typeof document<"u",gc={tested:!1,writable:!1},kV=()=>{if(!Pn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gc.tested)return gc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),gc.tested=!0,gc.writable=!0}catch{gc.tested=!0,gc.writable=!1}return gc.writable};function bue(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((s,a)=>{t[a]=s}),t}const TV=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jue=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},yc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},En=async(e,t)=>{await e.removeItem(t)};class hj{constructor(){this.promise=new hj.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}hj.promiseConstructor=Promise;function z1(e){const t=e.split(".");if(t.length!==3)throw new o2("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!iue.test(t[s]))throw new o2("JWT not in base64url format");return{header:JSON.parse(cM(t[0])),payload:JSON.parse(cM(t[1])),signature:Hu(t[2]),raw:{header:t[0],payload:t[1]}}}async function wue(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Nue(e,t){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function _ue(e){return("0"+e.toString(16)).substr(-2)}function Sue(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,_ue).join("")}async function Cue(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function kue(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Cue(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qd(e,t,r=!1){const s=Sue();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await lu(e,`${t}-code-verifier`,a);const i=await kue(s);return[i,s===i?"plain":"s256"]}const Tue=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Eue(e){const t=e.headers.get(a2);if(!t||!t.match(Tue))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Pue(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Aue(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Oue=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hd(e){if(!Oue.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function U1(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mue(e,t){return new Proxy(e,{get:(r,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,a)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,s,a)}})}function dM(e){return JSON.parse(JSON.stringify(e))}const Nc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Rue=[502,503,504];async function uM(e){var t;if(!jue(e))throw new i2(Nc(e),0);if(Rue.includes(e.status))throw new i2(Nc(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ec(Nc(i),i)}let s;const a=Eue(e);if(a&&a.getTime()>=SV["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new iM(Nc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new ks}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new iM(Nc(r),e.status,r.weak_password.reasons);throw new lue(Nc(r),e.status||500,s)}const Iue=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))};async function rt(e,t,r,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[a2]||(i[a2]=SV["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Due(e,t,r+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function Due(e,t,r,s,a,i){const o=Iue(t,s,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new i2(Nc(c),0)}if(l.ok||await uM(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await uM(c)}}function Ea(e){var t;let r=null;Fue(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=yue(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function hM(e){const t=Ea(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function sl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $ue(e){return{data:e,error:null}}function Lue(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i}=e,o=gm(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function mM(e){return e}function Fue(e){return e.access_token&&e.refresh_token&&e.expires_in}const W1=["global","local","others"];class Bue{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=TV(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=W1[0]){if(W1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${W1.join(", ")}`);try{return await rt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(He(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:sl})}catch(s){if(He(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=gm(t,["options"]),a=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Lue,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(He(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await rt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:sl})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:mM});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);d[`${v}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(He(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Hd(t);try{return await rt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:sl})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Hd(t);try{return await rt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:sl})}catch(s){if(He(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){Hd(t);try{return await rt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:sl})}catch(s){if(He(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Hd(t.userId);try{const{data:r,error:s}=await rt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:s}}catch(r){if(He(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Hd(t.userId),Hd(t.id);try{return{data:await rt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await rt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:mM});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);d[`${v}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(He(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await rt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await rt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await rt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(He(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await rt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await rt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}}function fM(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Kd={debug:!!(globalThis&&kV()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class EV extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Vue extends EV{}async function zue(e,t,r){Kd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Kd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Kd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Kd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Kd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Vue(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Kd.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Uue(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function PV(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Wue(e){return parseInt(e,16)}function que(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function Hue(e){var t;const{chainId:r,domain:s,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:h,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=PV(e.address),p=u?`${u}://${s}`:s,g=e.statement?`${e.statement}
`:"",v=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`;let j=`URI: ${h}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),l&&(j+=`
Not Before: ${l.toISOString()}`),c&&(j+=`
Request ID: ${c}`),d){let y=`
Resources:`;for(const b of d){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);y+=`
- ${b}`}j+=y}return`${v}
${j}`}class rn extends Error{constructor({message:t,code:r,cause:s,name:a}){var i;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=a??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class n0 extends rn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Kue({error:e,options:t}){var r,s,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new rn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new rn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new rn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new rn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new rn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new rn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new rn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(AV(o)){if(i.rp.id!==o)return new rn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new rn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new rn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Gue({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new rn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(AV(s)){if(r.rpId!==s)return new rn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new rn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Yue{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Xue=new Yue;function Que(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:s}=e,a=gm(e,["challenge","user","excludeCredentials"]),i=Hu(t).buffer,o=Object.assign(Object.assign({},r),{id:Hu(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(s&&s.length>0){l.excludeCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const d=s[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Hu(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function Zue(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,s=gm(e,["challenge","allowCredentials"]),a=Hu(t).buffer,i=Object.assign(Object.assign({},s),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Hu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Jue(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ic(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ic(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ehe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,s=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ic(new Uint8Array(a.authenticatorData)),clientDataJSON:Ic(new Uint8Array(a.clientDataJSON)),signature:Ic(new Uint8Array(a.signature)),userHandle:a.userHandle?Ic(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function AV(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function pM(){var e,t;return!!(Pn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function the(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new n0("Browser returned unexpected credential type",t)}:{data:null,error:new n0("Empty credential response",t)}}catch(t){return{data:null,error:Kue({error:t,options:e})}}}async function rhe(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new n0("Browser returned unexpected credential type",t)}:{data:null,error:new n0("Empty credential response",t)}}catch(t){return{data:null,error:Gue({error:t,options:e})}}}const nhe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},she={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function s0(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(t(o)){const l=s[i];t(l)?s[i]=s0(l,o):s[i]=s0(o)}else s[i]=o}return s}function ahe(e,t){return s0(nhe,e,t||{})}function ihe(e,t){return s0(she,e,t||{})}class ohe{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:s,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??Xue.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${s}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=ahe(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await the({publicKey:d,signal:c});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const d=ihe(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await rhe(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return He(o)?{data:null,error:o}:{data:null,error:new Ec("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Mp("rpId is required for WebAuthn authentication")};try{if(!pM())return{data:null,error:new Ec("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:s},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:s,credential_response:c.credential_response}})}catch(o){return He(o)?{data:null,error:o}:{data:null,error:new Ec("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Mp("rpId is required for WebAuthn registration")};try{if(!pM())return{data:null,error:new Ec("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:s,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return He(o)?{data:null,error:o}:{data:null,error:new Ec("Unexpected error in register",o)}}}}Uue();const lhe={url:nue,storageKey:sue,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aue,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function xM(e,t,r){return await r()}const Gd={};class Rp{get jwks(){var t,r;return(r=(t=Gd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Gd[this.storageKey]=Object.assign(Object.assign({},Gd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Gd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Gd[this.storageKey]=Object.assign(Object.assign({},Gd[this.storageKey]),{cachedAt:t})}constructor(t){var r,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},lhe),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Rp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Rp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Pn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Bue({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=TV(i.fetch),this.lock=i.lock||xM,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Pn()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=zue:this.lock=xM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ohe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:kV()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fM(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=fM(this.memoryStorage)),Pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${_V}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},s="none";if(Pn()&&(r=bue(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),Pn()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),uue(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return He(r)?this._returnResult({error:r}):this._returnResult({error:new Ec("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,a;try{const i=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ea}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(He(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,s,a;try{let i;if("email"in t){const{email:u,password:h,options:m}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await qd(this.storage,this.storageKey)),i=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:p},xform:Ea})}else if("phone"in t){const{phone:u,password:h,options:m}=t;i=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ea})}else throw new sy("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await En(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(await En(this.storage,`${this.storageKey}-code-verifier`),He(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:hM})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:hM})}else throw new sy("You must provide either an email or phone number and a password");const{data:s,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const i=new Wd;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(r){if(He(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,s,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,s,a,i,o,l,c,d,u,h,m;let f,p;if("message"in t)f=t.message,p=t.signature;else{const{chain:g,wallet:v,statement:j,options:y}=t;let b;if(Pn())if(typeof v=="object")b=v;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")b=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const w=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),N=await b.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=PV(N[0]);let C=(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!C){const k=await b.request({method:"eth_chainId"});C=Wue(k)}const S={domain:w.host,address:_,statement:j,uri:w.href,version:"1",chainId:C,nonce:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=Hue(S),p=await b.request({method:"personal_sign",params:[que(f),_]})}try{const{data:g,error:v}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ea});if(v)throw v;if(!g||!g.session||!g.user){const j=new Wd;return this._returnResult({data:{user:null,session:null},error:j})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(He(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,s,a,i,o,l,c,d,u,h,m,f;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:v,wallet:j,statement:y,options:b}=t;let w;if(Pn())if(typeof j=="object")w=j;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))w=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=j}const N=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const _=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),y?{statement:y}:null));let C;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")C=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)C=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)p=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${N.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(s=b==null?void 0:b.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const _=await w.signMessage(new TextEncoder().encode(p),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=_}}try{const{data:v,error:j}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Ic(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ea});if(j)throw j;if(!v||!v.session||!v.user){const y=new Wd;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:j})}catch(v){if(He(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await yc(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new hue;const{data:i,error:o}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Ea});if(await En(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Wd;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await En(this.storage,`${this.storageKey}-code-verifier`),He(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:s,token:a,access_token:i,nonce:o}=t,l=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ea}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const u=new Wd;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(He(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,s,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await qd(this.storage,this.storageKey));const{error:h}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new sy("You must provide either an email or phone number.")}catch(l){if(await En(this.storage,`${this.storageKey}-code-verifier`),He(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,s;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ea});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(He(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,s,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await qd(this.storage,this.storageKey));const d=await rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:$ue});return!((i=d.data)===null||i===void 0)&&i.url&&Pn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await En(this.storage,`${this.storageKey}-code-verifier`),He(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new ks;const{error:a}=await rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(He(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:i}=t,{error:o}=await rt(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:s,type:a,options:i}=t,{data:o,error:l}=await rt(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new sy("You must provide either an email or phone number and a type")}catch(r){if(He(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await yc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<B1:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await yc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=U1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Mue(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:sl}):await this._useSession(async r=>{var s,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ks}:await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:sl})})}catch(r){if(He(r))return due(r)&&(await this._removeSession(),await En(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new ks;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await qd(this.storage,this.storageKey));const{data:d,error:u}=await rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:sl});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(await En(this.storage,`${this.storageKey}-code-verifier`),He(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ks;const r=Date.now()/1e3;let s=r,a=!0,i=null;const{payload:o}=z1(t.access_token);if(o.exp&&(s=o.exp,a=s<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(He(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new ks;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(He(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Pn())throw new ay("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ay(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new aM("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ay("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new aM("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new ay("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let m=u+h;c&&(m=parseInt(c));const f=m-u;f*1e3<=ou&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=m-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,m,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,m,u);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const j={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(s){if(He(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await yc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(cue(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await En(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=vue(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await qd(this.storage,this.storageKey,!0));try{return await rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await En(this.storage,`${this.storageKey}-code-verifier`),He(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:s,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:m}=i;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await rt(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Pn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:t.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(He(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var s;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:d,nonce:u}=t,h=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ea}),{data:m,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Wd}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:f}))}catch(a){if(await En(this.storage,`${this.storageKey}-code-verifier`),He(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)throw o;return await rt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await Nue(async a=>(a>0&&await wue(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ea})),(a,i)=>{const o=200*Math.pow(2,a);return i&&V1(i)&&Date.now()+o-s<ou})}catch(s){if(this._debug(r,"error",s),He(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),Pn()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await yc(this.storage,this.storageKey);if(a&&this.userStorage){let o=await yc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await lu(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:U1()}else if(a&&!a.user&&!a.user){const o=await yc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await En(this.storage,this.storageKey+"-user"),await lu(this.storage,this.storageKey,a)):a.user=U1()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<B1;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${B1}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),V1(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new ks;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new hj;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ks;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),He(i)){const o={data:null,error:i};return V1(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await En(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await lu(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=dM(a);await lu(this.storage,this.storageKey,i)}else{const a=dM(r);await lu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await En(this.storage,this.storageKey),await En(this.storage,this.storageKey+"-code-verifier"),await En(this.storage,this.storageKey+"-user"),this.userStorage&&await En(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ou);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/ou);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ou}ms, refresh threshold is ${s2} ticks`),a<=s2&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof EV)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const a=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await qd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await rt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await rt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Jue(t.webauthn.credential_response):ehe(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await rt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await rt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Que(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Zue(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=z1(s.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?await rt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ks})})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new ks});const o=await rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Pn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(He(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new ks});const o=await rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Pn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(He(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await rt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ks})})}catch(t){if(He(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?(await rt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ks})})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(l=>l.kid===t);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+oue>a)return s;const{data:i,error:o}=await rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,r={}){try{let s=t;if(!s){const{data:f,error:p}=await this.getSession();if(p||!f.session)return this._returnResult({data:null,error:p});s=f.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=z1(s);r!=null&&r.allowExpired||Pue(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:i,header:a,signature:o},error:null}}const u=Aue(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,gue(`${l}.${c}`)))throw new o2("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(He(s))return this._returnResult({data:null,error:s});throw s}}}Rp.nextInstanceID={};const che=Rp,dhe="2.89.0";let jf="";typeof Deno<"u"?jf="deno":typeof document<"u"?jf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jf="react-native":jf="node";const uhe={"X-Client-Info":`supabase-js-${jf}/${dhe}`},hhe={headers:uhe},mhe={schema:"public"},fhe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},phe={};function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function xhe(e,t){if(Ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ip(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ghe(e){var t=xhe(e,"string");return Ip(t)=="symbol"?t:t+""}function yhe(e,t,r){return(t=ghe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(r),!0).forEach(function(s){yhe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const vhe=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bhe=()=>Headers,jhe=(e,t,r)=>{const s=vhe(r),a=bhe();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(i,Lr(Lr({},o),{},{headers:d}))}};function whe(e){return e.endsWith("/")?e:e+"/"}function Nhe(e,t){var r,s;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,m={db:Lr(Lr({},c),a),auth:Lr(Lr({},d),i),realtime:Lr(Lr({},u),o),storage:{},global:Lr(Lr(Lr({},h),l),{},{headers:Lr(Lr({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function _he(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(whe(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var She=class extends che{constructor(e){super(e)}},Che=class{constructor(e,t,r){var s,a;this.supabaseUrl=e,this.supabaseKey=t;const i=_he(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:mhe,realtime:phe,auth:Lr(Lr({},fhe),{},{storageKey:o}),global:hhe},c=Nhe(r??{},l);if(this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=c.auth)!==null&&d!==void 0?d:{},this.headers,c.global.fetch)}this.fetch=jhe(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Lr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new ade(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new rue(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new ede(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:s}=await e.auth.getSession();return(t=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:d},u,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new She({url:this.authUrl.href,headers:Lr(Lr({},m),u),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new wde(this.realtimeUrl.href,Lr(Lr({},e),{},{params:Lr(Lr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const khe=(e,t,r)=>new Che(e,t,r);function The(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}The()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ehe="https://mahtiidzvwzqeteljvip.supabase.co",Phe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1haHRpaWR6dnd6cWV0ZWxqdmlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY4NjE3MTIsImV4cCI6MjA4MjQzNzcxMn0.WLMmKsyvjFegjOoRv2T6o9hLtAuJ-toh5qergereNj0",Y=khe(Ehe,Phe,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Dp=Ad("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=x.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?C6:"button";return n.jsx(o,{className:z(Dp({variant:t,size:r,className:e})),ref:i,...a})});$.displayName="Button";const OV="/assets/emerald-road-hero-5FBynx36.jpg",q1=[{character:"",title:"Your brain feels like a tornado",description:"A million thoughts. Nothing sticks. You can't even remember what you were doing 5 minutes ago.",bgClass:"from-slate-800 via-slate-700 to-slate-900",isImageSlide:!1},{character:"",title:"Life is a yellow brick road",description:"We're all walking toward our own Emerald City. The perfect life. But here's the secret...",bgClass:"from-yellow-900 via-amber-900 to-slate-900",isImageSlide:!0},{character:"",title:"It's about the journey, not the destination",description:"That perfect city? It's always ahead. But the road is where we learn. Where we grow. Where we find our friends.",bgClass:"from-emerald-900 via-green-900 to-slate-900",isImageSlide:!1},{character:"",title:`"I feel like I don't have a brain"`,description:"That's the Scarecrow in you. So much going on up there that it feels like... nothing. Overload. The Scarecrow needed a brain  you need to dump yours out and organize it.",bgClass:"from-amber-900 via-yellow-900 to-slate-900",isImageSlide:!1},{character:"",title:'"I feel heartless"',description:"That's the Tin Man. When you're so overwhelmed you snap at people you love. When emotions feel rusty and stuck. He needed a heart  you need to reconnect with yours.",bgClass:"from-red-900 via-rose-900 to-slate-900",isImageSlide:!1},{character:"",title:`"I'm scared to start"`,description:"That's the Lion. The task feels too big. The fear is real. He needed courage  and so do you. One tiny step. That's all it takes.",bgClass:"from-orange-900 via-amber-900 to-slate-900",isImageSlide:!1},{character:"",title:"You're Dorothy. And this is your Toto.",description:"This app is your companion. When you feel like a Scarecrow, Tin Man, or Lion... you'll know exactly what to do. Patterns that work in the app AND in real life.",bgClass:"from-blue-900 via-indigo-900 to-slate-900",isImageSlide:!1},{character:"",title:"Ready to walk the road?",description:"Your Emerald City is waiting. And these friends will help you get there  step by step, brain dump by brain dump.",bgClass:"from-emerald-800 via-teal-900 to-slate-900",isImageSlide:!1}];function yM({onComplete:e,onSignIn:t}){const[r,s]=x.useState(0),a=q1[r],i=r===q1.length-1,o=()=>{i?e():s(c=>c+1)},l=()=>{r>0&&s(c=>c-1)};return n.jsxs("div",{className:`min-h-screen bg-gradient-to-br ${a.bgClass} flex flex-col items-center justify-center p-6 transition-all duration-700 relative overflow-hidden`,children:[a.isImageSlide&&n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:.3},exit:{opacity:0},className:"absolute inset-0 z-0",children:[n.jsx("img",{src:OV,alt:"Yellow brick road to Emerald City",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/60 to-transparent"})]}),n.jsx("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 flex gap-2 z-50",children:q1.map((c,d)=>n.jsx("button",{onClick:()=>s(d),className:`w-2 h-2 rounded-full transition-all duration-300 ${d===r?"bg-white w-6":d<r?"bg-white/60":"bg-white/30"}`},d))}),n.jsx("button",{onClick:e,className:"fixed top-6 right-6 text-white/50 hover:text-white text-sm transition-colors z-50",children:"Skip intro"}),n.jsx(Qr,{mode:"wait",children:n.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"text-center max-w-lg mx-auto relative z-10",children:[n.jsx(ee.div,{className:"text-7xl md:text-8xl mb-8",initial:{scale:.8,rotate:-5},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200},children:a.character}),n.jsx("h1",{className:`text-2xl md:text-3xl font-display font-bold text-white mb-4 ${a.title.startsWith('"')?"italic":""}`,children:a.title}),n.jsx("p",{className:"text-lg text-white/80 leading-relaxed mb-12",children:a.description})]},r)}),n.jsxs("div",{className:"fixed bottom-8 left-0 right-0 flex items-center justify-center gap-4 px-6 z-50",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:l,disabled:r===0,className:"text-white/50 hover:text-white hover:bg-white/10 disabled:opacity-0",children:n.jsx(lm,{className:"w-6 h-6"})}),n.jsxs($,{onClick:o,size:"lg",className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 min-w-40",children:[i?"Let's Go!":"Continue",!i&&n.jsx(as,{className:"w-5 h-5 ml-2"})]}),n.jsx($,{variant:"ghost",size:"icon",onClick:o,className:"text-white/50 hover:text-white hover:bg-white/10",children:n.jsx(as,{className:"w-6 h-6"})})]}),n.jsx("button",{onClick:t,className:"fixed bottom-8 right-6 text-white/40 hover:text-white text-sm transition-colors z-50",children:"Already have an account? Sign in"})]})}const vM=[{name:"Dorothy",image:"/dorothy-casual-green.jpg",angle:0},{name:"Scarecrow",image:"/scarecrow-hacker.png",angle:45},{name:"Tin Man",image:"/tinman-cyborg.png",angle:90},{name:"Lion",image:"/lion-cosplay-warrior.png",angle:135},{name:"Glinda",image:"/glinda-good-witch-final.webp",angle:180},{name:"Bad Witch",image:"/bad-witch-tall-hat.webp",angle:225},{name:"Toto",image:"/toto-guy-dog-cosplay.png",angle:270},{name:"Tornado Alley",image:"/tornado-chaos.png",angle:315}];function Ahe({onComplete:e}){const[r,s]=x.useState(!1),a=()=>{s(!0),setTimeout(()=>{e()},2500)};return n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(/emerald-gateway-bg.png)"}}),n.jsx("div",{className:"absolute inset-0 bg-black/20"}),n.jsxs("div",{className:"relative w-full max-w-4xl aspect-square flex items-center justify-center",children:[n.jsx(ee.div,{initial:{scale:0,opacity:0},animate:{scale:r?[1,1.2,0]:1,opacity:r?[1,.5,0]:1,rotate:r?[0,180,360]:0},transition:{delay:r?.5:.2,duration:r?1.5:.6,type:"spring"},className:"absolute z-20",children:n.jsxs("div",{className:"relative w-56 h-56 md:w-72 md:h-72",children:[n.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-emerald-400/60",style:{boxShadow:"0 0 30px rgba(52, 211, 153, 0.6), 0 0 60px rgba(163, 230, 53, 0.3)"}}),n.jsxs("div",{className:"absolute inset-4 md:inset-6 rounded-full overflow-hidden border-4 border-emerald-400",style:{boxShadow:"0 0 40px rgba(52, 211, 153, 0.8), 0 0 80px rgba(52, 211, 153, 0.4), inset 0 0 20px rgba(52, 211, 153, 0.2)"},children:[n.jsx("img",{src:"/oz-wizard-center.jpg",alt:"Oz",className:"w-full h-full object-cover object-top"}),n.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-t from-emerald-900/40 to-transparent"})]})]})}),vM.map((i,o)=>{const l=i.angle*Math.PI/180,c=Math.cos(l)*280,d=Math.sin(l)*280;return n.jsx(ee.div,{initial:{scale:0,opacity:0,x:0,y:0},animate:{scale:r?[1,.8,0]:1,opacity:r?[1,.3,0]:1,x:r?[c,c*.5,0]:c,y:r?[d,d*.5,0]:d,rotate:r?[0,360*(o%2===0?1:-1)]:0},transition:{delay:r?o*.1:.4+o*.1,duration:r?1.2:.5,type:"spring",stiffness:100},className:"absolute z-10",children:n.jsxs("div",{className:`relative ${i.name==="Tornado Alley"?"w-36 h-36 md:w-44 md:h-44":"w-28 h-28 md:w-36 md:h-36"}`,children:[n.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full rounded-full object-cover object-center border-4 border-emerald-400 shadow-2xl hover:border-yellow-400 transition-all duration-300 hover:scale-110 cursor-pointer",style:{boxShadow:"0 0 30px rgba(52, 211, 153, 0.9), 0 0 60px rgba(163, 230, 53, 0.5), inset 0 0 15px rgba(52, 211, 153, 0.3)"}}),n.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-t from-black/30 to-transparent"})]})},i.name)}),n.jsxs("svg",{className:"absolute inset-0 w-full h-full z-0 opacity-20",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"roadGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"#FFD700"}),n.jsx("stop",{offset:"100%",stopColor:"#FFA500"})]})}),vM.map((i,o)=>{const l=i.angle*Math.PI/180,c=Math.cos(l)*280+280*1.4,d=Math.sin(l)*280+280*1.4,u=280*1.4,h=280*1.4;return n.jsx(ee.line,{initial:{pathLength:0,opacity:0},animate:{pathLength:r?[1,0]:1,opacity:r?[.3,0]:.3},transition:{delay:r?0:.8+o*.05,duration:r?.8:.4},x1:u,y1:h,x2:c,y2:d,stroke:"url(#roadGradient)",strokeWidth:"2",strokeDasharray:"5,5"},`line-${o}`)})]})]}),n.jsx(Qr,{children:r&&n.jsxs(n.Fragment,{children:[n.jsx(ee.div,{initial:{scale:0,opacity:0,rotate:0},animate:{scale:[0,2,3,4],opacity:[0,.8,.9,0],rotate:[0,360,720,1080]},exit:{opacity:0},transition:{duration:2.5,ease:"easeInOut"},className:"absolute inset-0 z-40 flex items-center justify-center pointer-events-none",children:n.jsx("img",{src:"/tornado-chaos.png",alt:"Tornado",className:"w-96 h-96 object-contain"})}),[...Array(20)].map((i,o)=>n.jsx(ee.div,{initial:{x:Math.cos(o/20*Math.PI*2)*100,y:Math.sin(o/20*Math.PI*2)*100,scale:0,opacity:0},animate:{x:[Math.cos(o/20*Math.PI*2)*100,Math.cos(o/20*Math.PI*2+Math.PI)*300,0],y:[Math.sin(o/20*Math.PI*2)*100,Math.sin(o/20*Math.PI*2+Math.PI)*300,0],scale:[0,1,0],opacity:[0,.6,0],rotate:[0,720]},transition:{duration:2,delay:o*.05,ease:"easeInOut"},className:"absolute top-1/2 left-1/2 w-4 h-4 bg-emerald-400 rounded-full z-30",style:{filter:"blur(2px)"}},`particle-${o}`)),n.jsx(ee.div,{initial:{opacity:0},animate:{opacity:[0,.3,0]},transition:{duration:2.5},className:"absolute inset-0 bg-white z-50 pointer-events-none"})]})}),!r&&n.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.5,duration:.5},className:"mt-12 z-30",children:n.jsx($,{onClick:a,size:"lg",className:"bg-emerald-600 hover:bg-emerald-500 text-white px-12 py-6 text-lg shadow-lg shadow-emerald-500/50",children:"Enter Neurooz"})}),!r&&n.jsx("button",{onClick:a,className:"fixed top-6 right-6 text-white/50 hover:text-white text-sm transition-colors z-50",children:"Skip"})]})}var Ohe=x.createContext(void 0);function sc(e){const t=x.useContext(Ohe);return e||t||"ltr"}var H1=0;function mj(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??bM()),document.body.insertAdjacentElement("beforeend",e[1]??bM()),H1++,()=>{H1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),H1--}},[])}function bM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var K1="focusScope.autoFocusOnMount",G1="focusScope.autoFocusOnUnmount",jM={bubbles:!1,cancelable:!0},Mhe="FocusScope",Jx=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),d=Gr(a),u=Gr(i),h=x.useRef(null),m=Qe(t,g=>c(g)),f=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(s){let g=function(b){if(f.paused||!l)return;const w=b.target;l.contains(w)?h.current=w:Yo(h.current,{select:!0})},v=function(b){if(f.paused||!l)return;const w=b.relatedTarget;w!==null&&(l.contains(w)||Yo(h.current,{select:!0}))},j=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Yo(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const y=new MutationObserver(j);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),y.disconnect()}}},[s,l,f.paused]),x.useEffect(()=>{if(l){NM.add(f);const g=document.activeElement;if(!l.contains(g)){const j=new CustomEvent(K1,jM);l.addEventListener(K1,d),l.dispatchEvent(j),j.defaultPrevented||(Rhe(Fhe(MV(l)),{select:!0}),document.activeElement===g&&Yo(l))}return()=>{l.removeEventListener(K1,d),setTimeout(()=>{const j=new CustomEvent(G1,jM);l.addEventListener(G1,u),l.dispatchEvent(j),j.defaultPrevented||Yo(g??document.body,{select:!0}),l.removeEventListener(G1,u),NM.remove(f)},0)}}},[l,d,u,f]);const p=x.useCallback(g=>{if(!r&&!s||f.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,j=document.activeElement;if(v&&j){const y=g.currentTarget,[b,w]=Ihe(y);b&&w?!g.shiftKey&&j===w?(g.preventDefault(),r&&Yo(b,{select:!0})):g.shiftKey&&j===b&&(g.preventDefault(),r&&Yo(w,{select:!0})):j===y&&g.preventDefault()}},[r,s,f.paused]);return n.jsx(Ce.div,{tabIndex:-1,...o,ref:m,onKeyDown:p})});Jx.displayName=Mhe;function Rhe(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Yo(s,{select:t}),document.activeElement!==r)return}function Ihe(e){const t=MV(e),r=wM(t,e),s=wM(t.reverse(),e);return[r,s]}function MV(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function wM(e,t){for(const r of e)if(!Dhe(r,{upTo:t}))return r}function Dhe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $he(e){return e instanceof HTMLInputElement&&"select"in e}function Yo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&$he(e)&&t&&e.select()}}var NM=Lhe();function Lhe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=_M(e,t),e.unshift(t)},remove(t){var r;e=_M(e,t),(r=e[0])==null||r.resume()}}}function _M(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Fhe(e){return e.filter(t=>t.tagName!=="A")}var Y1="rovingFocusGroup.onEntryFocus",Bhe={bubbles:!1,cancelable:!0},eg="RovingFocusGroup",[l2,RV,Vhe]=im(eg),[zhe,ym]=Zr(eg,[Vhe]),[Uhe,Whe]=zhe(eg),IV=x.forwardRef((e,t)=>n.jsx(l2.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(l2.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(qhe,{...e,ref:t})})}));IV.displayName=eg;var qhe=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,m=x.useRef(null),f=Qe(t,m),p=sc(i),[g,v]=Kn({prop:o,defaultProp:l??null,onChange:c,caller:eg}),[j,y]=x.useState(!1),b=Gr(d),w=RV(r),N=x.useRef(!1),[_,C]=x.useState(0);return x.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(Y1,b),()=>S.removeEventListener(Y1,b)},[b]),n.jsx(Uhe,{scope:r,orientation:s,dir:p,loop:a,currentTabStopId:g,onItemFocus:x.useCallback(S=>v(S),[v]),onItemShiftTab:x.useCallback(()=>y(!0),[]),onFocusableItemAdd:x.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:x.useCallback(()=>C(S=>S-1),[]),children:n.jsx(Ce.div,{tabIndex:j||_===0?-1:0,"data-orientation":s,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:me(e.onMouseDown,()=>{N.current=!0}),onFocus:me(e.onFocus,S=>{const k=!N.current;if(S.target===S.currentTarget&&k&&!j){const E=new CustomEvent(Y1,Bhe);if(S.currentTarget.dispatchEvent(E),!E.defaultPrevented){const T=w().filter(V=>V.focusable),A=T.find(V=>V.active),B=T.find(V=>V.id===g),L=[A,B,...T].filter(Boolean).map(V=>V.ref.current);LV(L,u)}}N.current=!1}),onBlur:me(e.onBlur,()=>y(!1))})})}),DV="RovingFocusGroupItem",$V=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=ws(),d=i||c,u=Whe(DV,r),h=u.currentTabStopId===d,m=RV(r),{onFocusableItemAdd:f,onFocusableItemRemove:p,currentTabStopId:g}=u;return x.useEffect(()=>{if(s)return f(),()=>p()},[s,f,p]),n.jsx(l2.ItemSlot,{scope:r,id:d,focusable:s,active:a,children:n.jsx(Ce.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:me(e.onMouseDown,v=>{s?u.onItemFocus(d):v.preventDefault()}),onFocus:me(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:me(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const j=Ghe(v,u.orientation,u.dir);if(j!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=m().filter(w=>w.focusable).map(w=>w.ref.current);if(j==="last")b.reverse();else if(j==="prev"||j==="next"){j==="prev"&&b.reverse();const w=b.indexOf(v.currentTarget);b=u.loop?Yhe(b,w+1):b.slice(w+1)}setTimeout(()=>LV(b))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});$V.displayName=DV;var Hhe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Khe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ghe(e,t,r){const s=Khe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Hhe[s]}function LV(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function Yhe(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var yE=IV,vE=$V,Xhe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yd=new WeakMap,iy=new WeakMap,oy={},X1=0,FV=function(e){return e&&(e.host||FV(e.parentNode))},Qhe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=FV(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Zhe=function(e,t,r,s){var a=Qhe(t,Array.isArray(e)?e:[e]);oy[r]||(oy[r]=new WeakMap);var i=oy[r],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var f=m.getAttribute(s),p=f!==null&&f!=="false",g=(Yd.get(m)||0)+1,v=(i.get(m)||0)+1;Yd.set(m,g),i.set(m,v),o.push(m),g===1&&p&&iy.set(m,!0),v===1&&m.setAttribute(r,"true"),p||m.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",m,j)}})};return u(t),l.clear(),X1++,function(){o.forEach(function(h){var m=Yd.get(h)-1,f=i.get(h)-1;Yd.set(h,m),i.set(h,f),m||(iy.has(h)||h.removeAttribute(s),iy.delete(h)),f||h.removeAttribute(r)}),X1--,X1||(Yd=new WeakMap,Yd=new WeakMap,iy=new WeakMap,oy={})}},fj=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=Xhe(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),Zhe(s,a,r,"aria-hidden")):function(){return null}},nv="right-scroll-bar-position",sv="width-before-scroll-bar",Jhe="with-scroll-bars-hidden",eme="--removed-body-scroll-bar-size";function Q1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tme(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var rme=typeof window<"u"?x.useLayoutEffect:x.useEffect,SM=new WeakMap;function nme(e,t){var r=tme(null,function(s){return e.forEach(function(a){return Q1(a,s)})});return rme(function(){var s=SM.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Q1(l,null)}),i.forEach(function(l){a.has(l)||Q1(l,o)})}SM.set(r,e)},[e]),r}function sme(e){return e}function ame(e,t){t===void 0&&(t=sme);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function ime(e){e===void 0&&(e={});var t=ame(null);return t.options=pi({async:!0,ssr:!1},e),t}var BV=function(e){var t=e.sideCar,r=gm(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return x.createElement(s,pi({},r))};BV.isSideCarExport=!0;function ome(e,t){return e.useMedium(t),BV}var VV=ime(),Z1=function(){},pj=x.forwardRef(function(e,t){var r=x.useRef(null),s=x.useState({onScrollCapture:Z1,onWheelCapture:Z1,onTouchMoveCapture:Z1}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,f=e.noRelative,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,j=e.as,y=j===void 0?"div":j,b=e.gapMode,w=gm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,_=nme([r,t]),C=pi(pi({},w),a);return x.createElement(x.Fragment,null,u&&x.createElement(N,{sideCar:VV,removeScrollBar:d,shards:h,noRelative:f,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:b}),o?x.cloneElement(x.Children.only(l),pi(pi({},C),{ref:_})):x.createElement(y,pi({},C,{className:c,ref:_}),l))});pj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pj.classNames={fullWidth:sv,zeroRight:nv};var lme=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cme(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=lme();return t&&e.setAttribute("nonce",t),e}function dme(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ume(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var hme=function(){var e=0,t=null;return{add:function(r){e==0&&(t=cme())&&(dme(t,r),ume(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},mme=function(){var e=hme();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},zV=function(){var e=mme(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},fme={left:0,top:0,right:0,gap:0},J1=function(e){return parseInt(e||"",10)||0},pme=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[J1(r),J1(s),J1(a)]},xme=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fme;var t=pme(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},gme=zV(),Ku="data-scroll-locked",yme=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Jhe,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Ku,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nv,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(sv,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(nv," .").concat(nv,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(sv," .").concat(sv,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ku,`] {
    `).concat(eme,": ").concat(l,`px;
  }
`)},CM=function(){var e=parseInt(document.body.getAttribute(Ku)||"0",10);return isFinite(e)?e:0},vme=function(){x.useEffect(function(){return document.body.setAttribute(Ku,(CM()+1).toString()),function(){var e=CM()-1;e<=0?document.body.removeAttribute(Ku):document.body.setAttribute(Ku,e.toString())}},[])},bme=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;vme();var i=x.useMemo(function(){return xme(a)},[a]);return x.createElement(gme,{styles:yme(i,!t,a,r?"":"!important")})},c2=!1;if(typeof window<"u")try{var ly=Object.defineProperty({},"passive",{get:function(){return c2=!0,!0}});window.addEventListener("test",ly,ly),window.removeEventListener("test",ly,ly)}catch{c2=!1}var Xd=c2?{passive:!1}:!1,jme=function(e){return e.tagName==="TEXTAREA"},UV=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!jme(e)&&r[t]==="visible")},wme=function(e){return UV(e,"overflowY")},Nme=function(e){return UV(e,"overflowX")},kM=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=WV(e,s);if(a){var i=qV(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},_me=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},Sme=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},WV=function(e,t){return e==="v"?wme(t):Nme(t)},qV=function(e,t){return e==="v"?_me(t):Sme(t)},Cme=function(e,t){return e==="h"&&t==="rtl"?-1:1},kme=function(e,t,r,s,a){var i=Cme(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var f=qV(e,l),p=f[0],g=f[1],v=f[2],j=g-v-i*p;(p||j)&&WV(e,l)&&(h+=j,m+=p);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},cy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},TM=function(e){return[e.deltaX,e.deltaY]},EM=function(e){return e&&"current"in e?e.current:e},Tme=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Eme=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Pme=0,Qd=[];function Ame(e){var t=x.useRef([]),r=x.useRef([0,0]),s=x.useRef(),a=x.useState(Pme++)[0],i=x.useState(zV)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=Qce([e.lockRef.current],(e.shards||[]).map(EM),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var j=cy(g),y=r.current,b="deltaX"in g?g.deltaX:y[0]-j[0],w="deltaY"in g?g.deltaY:y[1]-j[1],N,_=g.target,C=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in g&&C==="h"&&_.type==="range")return!1;var S=kM(C,_);if(!S)return!0;if(S?N=C:(N=C==="v"?"h":"v",S=kM(C,_)),!S)return!1;if(!s.current&&"changedTouches"in g&&(b||w)&&(s.current=N),!N)return!0;var k=s.current||N;return kme(k,v,g,k==="h"?b:w,!0)},[]),c=x.useCallback(function(g){var v=g;if(!(!Qd.length||Qd[Qd.length-1]!==i)){var j="deltaY"in v?TM(v):cy(v),y=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&Tme(N.delta,j)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(EM).filter(Boolean).filter(function(N){return N.contains(v.target)}),w=b.length>0?l(v,b[0]):!o.current.noIsolation;w&&v.cancelable&&v.preventDefault()}}},[]),d=x.useCallback(function(g,v,j,y){var b={name:g,delta:v,target:j,should:y,shadowParent:Ome(j)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(w){return w!==b})},1)},[]),u=x.useCallback(function(g){r.current=cy(g),s.current=void 0},[]),h=x.useCallback(function(g){d(g.type,TM(g),g.target,l(g,e.lockRef.current))},[]),m=x.useCallback(function(g){d(g.type,cy(g),g.target,l(g,e.lockRef.current))},[]);x.useEffect(function(){return Qd.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Xd),document.addEventListener("touchmove",c,Xd),document.addEventListener("touchstart",u,Xd),function(){Qd=Qd.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Xd),document.removeEventListener("touchmove",c,Xd),document.removeEventListener("touchstart",u,Xd)}},[]);var f=e.removeScrollBar,p=e.inert;return x.createElement(x.Fragment,null,p?x.createElement(i,{styles:Eme(a)}):null,f?x.createElement(bme,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Ome(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Mme=ome(VV,Ame);var tg=x.forwardRef(function(e,t){return x.createElement(pj,pi({},e,{ref:t,sideCar:Mme}))});tg.classNames=pj.classNames;var d2=["Enter"," "],Rme=["ArrowDown","PageUp","Home"],HV=["ArrowUp","PageDown","End"],Ime=[...Rme,...HV],Dme={ltr:[...d2,"ArrowRight"],rtl:[...d2,"ArrowLeft"]},$me={ltr:["ArrowLeft"],rtl:["ArrowRight"]},rg="Menu",[$p,Lme,Fme]=im(rg),[Id,KV]=Zr(rg,[Fme,ec,ym]),xj=ec(),GV=ym(),[Bme,Dd]=Id(rg),[Vme,ng]=Id(rg),YV=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=xj(t),[c,d]=x.useState(null),u=x.useRef(!1),h=Gr(i),m=sc(a);return x.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),n.jsx(Qb,{...l,children:n.jsx(Bme,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:d,children:n.jsx(Vme,{scope:t,onClose:x.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:s})})})};YV.displayName=rg;var zme="MenuAnchor",bE=x.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=xj(r);return n.jsx(qx,{...a,...s,ref:t})});bE.displayName=zme;var jE="MenuPortal",[Ume,XV]=Id(jE,{forceMount:void 0}),QV=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=Dd(jE,t);return n.jsx(Ume,{scope:t,forceMount:r,children:n.jsx(dn,{present:r||i.open,children:n.jsx(om,{asChild:!0,container:a,children:s})})})};QV.displayName=jE;var ua="MenuContent",[Wme,wE]=Id(ua),ZV=x.forwardRef((e,t)=>{const r=XV(ua,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=Dd(ua,e.__scopeMenu),o=ng(ua,e.__scopeMenu);return n.jsx($p.Provider,{scope:e.__scopeMenu,children:n.jsx(dn,{present:s||i.open,children:n.jsx($p.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(qme,{...a,ref:t}):n.jsx(Hme,{...a,ref:t})})})})}),qme=x.forwardRef((e,t)=>{const r=Dd(ua,e.__scopeMenu),s=x.useRef(null),a=Qe(t,s);return x.useEffect(()=>{const i=s.current;if(i)return fj(i)},[]),n.jsx(NE,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:me(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Hme=x.forwardRef((e,t)=>{const r=Dd(ua,e.__scopeMenu);return n.jsx(NE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Kme=Ll("MenuContent.ScrollLock"),NE=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:f,disableOutsideScroll:p,...g}=e,v=Dd(ua,r),j=ng(ua,r),y=xj(r),b=GV(r),w=Lme(r),[N,_]=x.useState(null),C=x.useRef(null),S=Qe(t,C,v.onContentChange),k=x.useRef(0),E=x.useRef(""),T=x.useRef(0),A=x.useRef(null),B=x.useRef("right"),R=x.useRef(0),L=p?tg:x.Fragment,V=p?{as:Kme,allowPinchZoom:!0}:void 0,O=I=>{var se,Te;const G=E.current+I,re=w().filter(le=>!le.disabled),X=document.activeElement,W=(se=re.find(le=>le.ref.current===X))==null?void 0:se.textValue,oe=re.map(le=>le.textValue),je=afe(oe,G,W),$e=(Te=re.find(le=>le.textValue===je))==null?void 0:Te.ref.current;(function le(ge){E.current=ge,window.clearTimeout(k.current),ge!==""&&(k.current=window.setTimeout(()=>le(""),1e3))})(G),$e&&setTimeout(()=>$e.focus())};x.useEffect(()=>()=>window.clearTimeout(k.current),[]),mj();const P=x.useCallback(I=>{var re,X;return B.current===((re=A.current)==null?void 0:re.side)&&ofe(I,(X=A.current)==null?void 0:X.area)},[]);return n.jsx(Wme,{scope:r,searchRef:E,onItemEnter:x.useCallback(I=>{P(I)&&I.preventDefault()},[P]),onItemLeave:x.useCallback(I=>{var G;P(I)||((G=C.current)==null||G.focus(),_(null))},[P]),onTriggerLeave:x.useCallback(I=>{P(I)&&I.preventDefault()},[P]),pointerGraceTimerRef:T,onPointerGraceIntentChange:x.useCallback(I=>{A.current=I},[]),children:n.jsx(L,{...V,children:n.jsx(Jx,{asChild:!0,trapped:a,onMountAutoFocus:me(i,I=>{var G;I.preventDefault(),(G=C.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(Pd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:f,children:n.jsx(yE,{asChild:!0,...b,dir:j.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:_,onEntryFocus:me(c,I=>{j.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(Zb,{role:"menu","aria-orientation":"vertical","data-state":f7(v.open),"data-radix-menu-content":"",dir:j.dir,...y,...g,ref:S,style:{outline:"none",...g.style},onKeyDown:me(g.onKeyDown,I=>{const re=I.target.closest("[data-radix-menu-content]")===I.currentTarget,X=I.ctrlKey||I.altKey||I.metaKey,W=I.key.length===1;re&&(I.key==="Tab"&&I.preventDefault(),!X&&W&&O(I.key));const oe=C.current;if(I.target!==oe||!Ime.includes(I.key))return;I.preventDefault();const $e=w().filter(se=>!se.disabled).map(se=>se.ref.current);HV.includes(I.key)&&$e.reverse(),nfe($e)}),onBlur:me(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(k.current),E.current="")}),onPointerMove:me(e.onPointerMove,Lp(I=>{const G=I.target,re=R.current!==I.clientX;if(I.currentTarget.contains(G)&&re){const X=I.clientX>R.current?"right":"left";B.current=X,R.current=I.clientX}}))})})})})})})});ZV.displayName=ua;var Gme="MenuGroup",_E=x.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Ce.div,{role:"group",...s,ref:t})});_E.displayName=Gme;var Yme="MenuLabel",JV=x.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Ce.div,{...s,ref:t})});JV.displayName=Yme;var a0="MenuItem",PM="menu.itemSelect",gj=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=x.useRef(null),o=ng(a0,e.__scopeMenu),l=wE(a0,e.__scopeMenu),c=Qe(t,i),d=x.useRef(!1),u=()=>{const h=i.current;if(!r&&h){const m=new CustomEvent(PM,{bubbles:!0,cancelable:!0});h.addEventListener(PM,f=>s==null?void 0:s(f),{once:!0}),sT(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(e7,{...a,ref:c,disabled:r,onClick:me(e.onClick,u),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:me(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:me(e.onKeyDown,h=>{const m=l.searchRef.current!=="";r||m&&h.key===" "||d2.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});gj.displayName=a0;var e7=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=wE(a0,r),l=GV(r),c=x.useRef(null),d=Qe(t,c),[u,h]=x.useState(!1),[m,f]=x.useState("");return x.useEffect(()=>{const p=c.current;p&&f((p.textContent??"").trim())},[i.children]),n.jsx($p.ItemSlot,{scope:r,disabled:s,textValue:a??m,children:n.jsx(vE,{asChild:!0,...l,focusable:!s,children:n.jsx(Ce.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:me(e.onPointerMove,Lp(p=>{s?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:me(e.onPointerLeave,Lp(p=>o.onItemLeave(p))),onFocus:me(e.onFocus,()=>h(!0)),onBlur:me(e.onBlur,()=>h(!1))})})})}),Xme="MenuCheckboxItem",t7=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(i7,{scope:e.__scopeMenu,checked:r,children:n.jsx(gj,{role:"menuitemcheckbox","aria-checked":i0(r)?"mixed":r,...a,ref:t,"data-state":CE(r),onSelect:me(a.onSelect,()=>s==null?void 0:s(i0(r)?!0:!r),{checkForDefaultPrevented:!1})})})});t7.displayName=Xme;var r7="MenuRadioGroup",[Qme,Zme]=Id(r7,{value:void 0,onValueChange:()=>{}}),n7=x.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=Gr(s);return n.jsx(Qme,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(_E,{...a,ref:t})})});n7.displayName=r7;var s7="MenuRadioItem",a7=x.forwardRef((e,t)=>{const{value:r,...s}=e,a=Zme(s7,e.__scopeMenu),i=r===a.value;return n.jsx(i7,{scope:e.__scopeMenu,checked:i,children:n.jsx(gj,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":CE(i),onSelect:me(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});a7.displayName=s7;var SE="MenuItemIndicator",[i7,Jme]=Id(SE,{checked:!1}),o7=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=Jme(SE,r);return n.jsx(dn,{present:s||i0(i.checked)||i.checked===!0,children:n.jsx(Ce.span,{...a,ref:t,"data-state":CE(i.checked)})})});o7.displayName=SE;var efe="MenuSeparator",l7=x.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Ce.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});l7.displayName=efe;var tfe="MenuArrow",c7=x.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=xj(r);return n.jsx(Jb,{...a,...s,ref:t})});c7.displayName=tfe;var rfe="MenuSub",[Eqe,d7]=Id(rfe),wf="MenuSubTrigger",u7=x.forwardRef((e,t)=>{const r=Dd(wf,e.__scopeMenu),s=ng(wf,e.__scopeMenu),a=d7(wf,e.__scopeMenu),i=wE(wf,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>u,[u]),x.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),n.jsx(bE,{asChild:!0,...d,children:n.jsx(e7,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":f7(r.open),...e,ref:Vb(t,a.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:me(e.onPointerMove,Lp(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:me(e.onPointerLeave,Lp(h=>{var f,p;u();const m=(f=r.content)==null?void 0:f.getBoundingClientRect();if(m){const g=(p=r.content)==null?void 0:p.dataset.side,v=g==="right",j=v?-5:5,y=m[v?"left":"right"],b=m[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+j,y:h.clientY},{x:y,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:y,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:me(e.onKeyDown,h=>{var f;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||Dme[s.dir].includes(h.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),h.preventDefault())})})})});u7.displayName=wf;var h7="MenuSubContent",m7=x.forwardRef((e,t)=>{const r=XV(ua,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=Dd(ua,e.__scopeMenu),o=ng(ua,e.__scopeMenu),l=d7(h7,e.__scopeMenu),c=x.useRef(null),d=Qe(t,c);return n.jsx($p.Provider,{scope:e.__scopeMenu,children:n.jsx(dn,{present:s||i.open,children:n.jsx($p.Slot,{scope:e.__scopeMenu,children:n.jsx(NE,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:me(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:me(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:me(e.onKeyDown,u=>{var f;const h=u.currentTarget.contains(u.target),m=$me[o.dir].includes(u.key);h&&m&&(i.onOpenChange(!1),(f=l.trigger)==null||f.focus(),u.preventDefault())})})})})})});m7.displayName=h7;function f7(e){return e?"open":"closed"}function i0(e){return e==="indeterminate"}function CE(e){return i0(e)?"indeterminate":e?"checked":"unchecked"}function nfe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function sfe(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function afe(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=sfe(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function ife(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>s!=m>s&&r<(h-d)*(s-u)/(m-u)+d&&(a=!a)}return a}function ofe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return ife(r,t)}function Lp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var lfe=YV,cfe=bE,dfe=QV,ufe=ZV,hfe=_E,mfe=JV,ffe=gj,pfe=t7,xfe=n7,gfe=a7,yfe=o7,vfe=l7,bfe=c7,jfe=u7,wfe=m7,yj="DropdownMenu",[Nfe,Pqe]=Zr(yj,[KV]),cs=KV(),[_fe,p7]=Nfe(yj),x7=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=cs(t),d=x.useRef(null),[u,h]=Kn({prop:a,defaultProp:i??!1,onChange:o,caller:yj});return n.jsx(_fe,{scope:t,triggerId:ws(),triggerRef:d,contentId:ws(),open:u,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),modal:l,children:n.jsx(lfe,{...c,open:u,onOpenChange:h,dir:s,modal:l,children:r})})};x7.displayName=yj;var g7="DropdownMenuTrigger",y7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=p7(g7,r),o=cs(r);return n.jsx(cfe,{asChild:!0,...o,children:n.jsx(Ce.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Vb(t,i.triggerRef),onPointerDown:me(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:me(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});y7.displayName=g7;var Sfe="DropdownMenuPortal",v7=e=>{const{__scopeDropdownMenu:t,...r}=e,s=cs(t);return n.jsx(dfe,{...s,...r})};v7.displayName=Sfe;var b7="DropdownMenuContent",j7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=p7(b7,r),i=cs(r),o=x.useRef(!1);return n.jsx(ufe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:me(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:me(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});j7.displayName=b7;var Cfe="DropdownMenuGroup",kfe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=cs(r);return n.jsx(hfe,{...a,...s,ref:t})});kfe.displayName=Cfe;var Tfe="DropdownMenuLabel",w7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=cs(r);return n.jsx(mfe,{...a,...s,ref:t})});w7.displayName=Tfe;var Efe="DropdownMenuItem",N7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=cs(r);return n.jsx(ffe,{...a,...s,ref:t})});N7.displayName=Efe;var Pfe="DropdownMenuCheckboxItem",_7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=cs(r);return n.jsx(pfe,{...a,...s,ref:t})});_7.displayName=Pfe;var Afe="DropdownMenuRadioGroup",Ofe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=cs(r);return n.jsx(xfe,{...a,...s,ref:t})});Ofe.displayName=Afe;var Mfe="DropdownMenuRadioItem",S7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=cs(r);return n.jsx(gfe,{...a,...s,ref:t})});S7.displayName=Mfe;var Rfe="DropdownMenuItemIndicator",C7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=cs(r);return n.jsx(yfe,{...a,...s,ref:t})});C7.displayName=Rfe;var Ife="DropdownMenuSeparator",k7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=cs(r);return n.jsx(vfe,{...a,...s,ref:t})});k7.displayName=Ife;var Dfe="DropdownMenuArrow",$fe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=cs(r);return n.jsx(bfe,{...a,...s,ref:t})});$fe.displayName=Dfe;var Lfe="DropdownMenuSubTrigger",T7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=cs(r);return n.jsx(jfe,{...a,...s,ref:t})});T7.displayName=Lfe;var Ffe="DropdownMenuSubContent",E7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=cs(r);return n.jsx(wfe,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});E7.displayName=Ffe;var Bfe=x7,Vfe=y7,zfe=v7,P7=j7,A7=w7,O7=N7,M7=_7,R7=S7,I7=C7,D7=k7,$7=T7,L7=E7;const vj=Bfe,bj=Vfe,Ufe=x.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs($7,{ref:a,className:z("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...s,children:[r,n.jsx(as,{className:"ml-auto h-4 w-4"})]}));Ufe.displayName=$7.displayName;const Wfe=x.forwardRef(({className:e,...t},r)=>n.jsx(L7,{ref:r,className:z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Wfe.displayName=L7.displayName;const sg=x.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(zfe,{children:n.jsx(P7,{ref:s,sideOffset:t,className:z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));sg.displayName=P7.displayName;const yn=x.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(O7,{ref:s,className:z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));yn.displayName=O7.displayName;const qfe=x.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(M7,{ref:a,className:z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(I7,{children:n.jsx(ss,{className:"h-4 w-4"})})}),t]}));qfe.displayName=M7.displayName;const Hfe=x.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(R7,{ref:s,className:z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(I7,{children:n.jsx(Fx,{className:"h-2 w-2 fill-current"})})}),t]}));Hfe.displayName=R7.displayName;const u2=x.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(A7,{ref:s,className:z("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));u2.displayName=A7.displayName;const td=x.forwardRef(({className:e,...t},r)=>n.jsx(D7,{ref:r,className:z("-mx-1 my-1 h-px bg-muted",e),...t}));td.displayName=D7.displayName;const Kfe=[{emoji:"",character:"Scarecrow",feeling:"My brain is mush",subtext:"Too many thoughts. Can't remember what I was doing 5 minutes ago.",action:"dump",color:"from-amber-600 to-yellow-700",hoverColor:"hover:from-amber-500 hover:to-yellow-600"},{emoji:"",character:"Tin Man",feeling:"I need to deal with feelings",subtext:"Bottled up emotions. Need to tell someone how I feel. Or process anger.",action:"heart",color:"from-rose-600 to-red-700",hoverColor:"hover:from-rose-500 hover:to-red-600"},{emoji:"",character:"Lion",feeling:"I need to do something scary",subtext:"Ask for a raise. Make that phone call. Send that email. Be brave.",action:"courage",color:"from-orange-600 to-amber-700",hoverColor:"hover:from-orange-500 hover:to-amber-600"}];function Gfe({userEmail:e}){const t=Qt(),[r,s]=x.useState(null),a=async()=>{await Y.auth.signOut(),We.success("See you on the road!"),t("/")},i=o=>{s(o),setTimeout(()=>{t("/onboarding")},300)};return n.jsxs("div",{className:"min-h-screen flex flex-col relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx("img",{src:OV,alt:"Your path to the Emerald City",className:"w-full h-full object-cover opacity-40"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/80 to-slate-900/40"})]}),n.jsxs("header",{className:"relative z-10 flex items-center justify-between p-4",children:[n.jsx("div",{className:"text-white/60 text-sm",children:e}),n.jsxs(vj,{children:[n.jsx(bj,{asChild:!0,children:n.jsx($,{variant:"ghost",size:"icon",className:"text-white/60 hover:text-white hover:bg-white/10",children:n.jsx(uee,{className:"w-5 h-5"})})}),n.jsxs(sg,{align:"end",className:"w-56",children:[n.jsx(yn,{onClick:()=>t("/oz-engine"),children:" Oz Engine"}),n.jsx(yn,{onClick:()=>t("/projects"),children:" Projects"}),n.jsx(td,{}),n.jsx(yn,{onClick:()=>t("/vine-tracker"),children:" Vine Tracker"}),n.jsx(yn,{onClick:()=>t("/business-setup"),children:" Business Setup"}),n.jsx(yn,{onClick:()=>t("/tax-forms"),children:" Tax Forms"}),n.jsx(yn,{onClick:()=>t("/donations"),children:" Donations"}),n.jsx(td,{}),n.jsx(yn,{onClick:()=>t("/pricing"),children:" Pricing"}),n.jsx(td,{}),n.jsxs(yn,{onClick:a,className:"text-red-400",children:[n.jsx(cee,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})]}),n.jsxs("main",{className:"relative z-10 flex-1 flex flex-col items-center justify-center p-6",children:[n.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[n.jsx("div",{className:"text-5xl mb-3",children:""}),n.jsx("p",{className:"text-white/50 text-sm",children:"Your Emerald City awaits"})]}),n.jsxs(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"text-center mb-10",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 text-4xl mb-4",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"text-2xl",children:" that's you"})]}),n.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold text-white mb-2",children:"You're Dorothy. How are you feeling?"}),n.jsx("p",{className:"text-white/60",children:"Which friend do you need right now?"})]}),n.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"w-full max-w-md space-y-4",children:Kfe.map((o,l)=>n.jsx(ee.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+l*.1},onClick:()=>i(o.action),className:`w-full p-4 rounded-xl bg-gradient-to-r ${o.color} ${o.hoverColor} 
                text-left transition-all duration-300 transform hover:scale-[1.02] 
                shadow-lg hover:shadow-xl border border-white/10
                ${r===o.action?"ring-2 ring-white scale-[1.02]":""}`,children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("span",{className:"text-4xl",children:o.emoji}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"font-bold text-white",children:o.character}),n.jsx(ht,{className:"w-4 h-4 text-white/60"})]}),n.jsx("p",{className:"text-white font-medium",children:o.feeling}),n.jsx("p",{className:"text-white/70 text-sm mt-1",children:o.subtext})]})]})},o.action))}),n.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-8",children:n.jsx("button",{onClick:()=>t("/projects"),className:"text-white/50 hover:text-white text-sm transition-colors",children:"Or just check my projects "})})]}),n.jsx("footer",{className:"relative z-10 p-4 text-center",children:n.jsx("p",{className:"text-white/30 text-xs",children:"The more you use this, the more you'll know which friend you need "})})]})}const AM=()=>{const[e,t]=x.useState(null),[r,s]=x.useState(!0),[a,i]=x.useState(!1),[o,l]=x.useState(!1),c=Qt();x.useEffect(()=>{const{data:{subscription:m}}=Y.auth.onAuthStateChange((f,p)=>{t((p==null?void 0:p.user)??null),s(!1)});return Y.auth.getSession().then(({data:{session:f}})=>{t((f==null?void 0:f.user)??null),s(!1)}),()=>m.unsubscribe()},[]);const d=()=>{l(!0)},u=()=>{localStorage.setItem("oz-intro-seen","true"),i(!0),c("/auth")},h=()=>{c("/auth")};return r?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:n.jsx("div",{className:"text-6xl opacity-70",children:""})}):e?n.jsx(Gfe,{userEmail:e.email}):o?a?n.jsx(yM,{onComplete:u,onSignIn:h}):n.jsx(yM,{onComplete:u,onSignIn:h}):n.jsx(Ahe,{onComplete:d})};function $d(){return ft({queryKey:["projects"],queryFn:async()=>{const{data:e,error:t}=await Y.from("projects").select("*").order("created_at",{ascending:!1});if(t)throw t;return e}})}function h2(e){return ft({queryKey:["action-items",e],queryFn:async()=>{let t=Y.from("action_items").select("*").order("is_completed",{ascending:!0}).order("due_date",{ascending:!0,nullsFirst:!1}).order("created_at",{ascending:!1});e&&(t=t.eq("project_id",e));const{data:r,error:s}=await t;if(s)throw s;return r}})}function F7(){const e=ze();return Be({mutationFn:async t=>{const{data:r,error:s}=await Y.from("projects").insert(t).select().single();if(s)throw s;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["projects"]}),St({title:"Project created!"})},onError:t=>{St({title:"Error creating project",description:t.message,variant:"destructive"})}})}function kE(){const e=ze();return Be({mutationFn:async({id:t,...r})=>{const{data:s,error:a}=await Y.from("projects").update(r).eq("id",t).select().single();if(a)throw a;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["projects"]})}})}function Yfe(){const e=ze();return Be({mutationFn:async t=>{const{error:r}=await Y.from("projects").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["projects"]}),e.invalidateQueries({queryKey:["action-items"]}),St({title:"Project deleted"})}})}function TE(){const e=ze();return Be({mutationFn:async t=>{const{data:r,error:s}=await Y.from("action_items").insert(t).select().single();if(s)throw s;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["action-items"]}),St({title:"Action item created!"})},onError:t=>{St({title:"Error creating action item",description:t.message,variant:"destructive"})}})}function vm(){const e=ze();return Be({mutationFn:async({id:t,...r})=>{const{data:s,error:a}=await Y.from("action_items").update(r).eq("id",t).select().single();if(a)throw a;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["action-items"]})}})}function Xfe(){const e=ze();return Be({mutationFn:async t=>{const{error:r}=await Y.from("action_items").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["action-items"]}),St({title:"Action item deleted"})}})}function Qfe(e){return ft({queryKey:["project-items",e],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await Y.from("project_items").select("*").eq("project_id",e).order("created_at",{ascending:!1});if(r)throw r;return t},enabled:!!e})}function Zfe(){const e=ze();return Be({mutationFn:async({projectId:t,items:r})=>{const s=r.map(o=>o.trim()).filter(o=>o.length>0).map(o=>({project_id:t,title:o}));if(s.length===0)throw new Error("No valid items to add");const{data:a,error:i}=await Y.from("project_items").insert(s).select();if(i)throw i;return a},onSuccess:t=>{e.invalidateQueries({queryKey:["project-items"]}),St({title:`${t.length} items added!`})},onError:t=>{St({title:"Error adding items",description:t.message,variant:"destructive"})}})}function Jfe(){const e=ze();return Be({mutationFn:async({projectItemId:t,projectId:r,title:s,description:a,priority:i="medium"})=>{const{data:o,error:l}=await Y.from("action_items").insert({project_id:r,title:s,description:a,priority:i}).select().single();if(l)throw l;const{error:c}=await Y.from("project_items").update({is_action_item:!0,action_item_id:o.id}).eq("id",t);if(c)throw c;return o},onSuccess:()=>{e.invalidateQueries({queryKey:["project-items"]}),e.invalidateQueries({queryKey:["action-items"]}),St({title:"Converted to action item!"})},onError:t=>{St({title:"Error converting item",description:t.message,variant:"destructive"})}})}function epe(){const e=ze();return Be({mutationFn:async t=>{const{error:r}=await Y.from("project_items").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["project-items"]}),St({title:"Item removed"})}})}function B7(e){const t=new Date().toISOString().split("T")[0];return ft({queryKey:["project-checkin",e,t],queryFn:async()=>{const{data:r,error:s}=await Y.from("project_checkins").select("*").eq("project_id",e).eq("checkin_date",t).maybeSingle();if(s)throw s;return r},enabled:!!e})}function tpe(){const e=ze();return Be({mutationFn:async t=>{const{data:r,error:s}=await Y.from("project_checkins").upsert({...t,checkin_date:new Date().toISOString().split("T")[0]},{onConflict:"project_id,checkin_date"}).select().single();if(s)throw s;return r},onSuccess:(t,r)=>{const s=new Date().toISOString().split("T")[0];e.invalidateQueries({queryKey:["project-checkin",r.project_id,s]})}})}function V7(e){return ft({queryKey:["focus-patterns",e],queryFn:async()=>{let t=Y.from("focus_patterns").select("*").order("times_occurred",{ascending:!1});e&&(t=t.eq("project_id",e));const{data:r,error:s}=await t;if(s)throw s;return r}})}function rpe(){const e=ze();return Be({mutationFn:async t=>{const{data:r,error:s}=await Y.from("focus_patterns").insert(t).select().single();if(s)throw s;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["focus-patterns"]})}})}const npe=Ad("rounded-lg border bg-card text-card-foreground shadow-sm",{variants:{variant:{default:"",vine:"vine-border card-vine-glow",leaf:"leaf-corner card-vine-glow"}},defaultVariants:{variant:"default"}}),q=x.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,className:z(npe({variant:t,className:e})),...r}));q.displayName="Card";const de=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:z("flex flex-col space-y-1.5 p-6",e),...t}));de.displayName="CardHeader";const ce=x.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:z("text-2xl font-semibold leading-none tracking-tight",e),...t}));ce.displayName="CardTitle";const ye=x.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:z("text-sm text-muted-foreground",e),...t}));ye.displayName="CardDescription";const K=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:z("p-6 pt-0",e),...t}));K.displayName="CardContent";const spe=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:z("flex items-center p-6 pt-0",e),...t}));spe.displayName="CardFooter";function ag(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var jj="Checkbox",[ape,Aqe]=Zr(jj),[ipe,EE]=ape(jj);function ope(e){const{__scopeCheckbox:t,checked:r,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=e,[m,f]=Kn({prop:r,defaultProp:a??!1,onChange:c,caller:jj}),[p,g]=x.useState(null),[v,j]=x.useState(null),y=x.useRef(!1),b=p?!!o||!!p.closest("form"):!0,w={checked:m,disabled:i,setChecked:f,control:p,setControl:g,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:y,required:d,defaultChecked:Ol(a)?!1:a,isFormControl:b,bubbleInput:v,setBubbleInput:j};return n.jsx(ipe,{scope:t,...w,children:lpe(h)?h(w):s})}var z7="CheckboxTrigger",U7=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:f,bubbleInput:p}=EE(z7,e),g=Qe(a,u),v=x.useRef(c);return x.useEffect(()=>{const j=i==null?void 0:i.form;if(j){const y=()=>h(v.current);return j.addEventListener("reset",y),()=>j.removeEventListener("reset",y)}},[i,h]),n.jsx(Ce.button,{type:"button",role:"checkbox","aria-checked":Ol(c)?"mixed":c,"aria-required":d,"data-state":G7(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:g,onKeyDown:me(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:me(r,j=>{h(y=>Ol(y)?!0:!y),p&&f&&(m.current=j.isPropagationStopped(),m.current||j.stopPropagation())})})});U7.displayName=z7;var PE=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return n.jsx(ope,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>n.jsxs(n.Fragment,{children:[n.jsx(U7,{...h,ref:t,__scopeCheckbox:r}),m&&n.jsx(K7,{__scopeCheckbox:r})]})})});PE.displayName=jj;var W7="CheckboxIndicator",q7=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=EE(W7,r);return n.jsx(dn,{present:s||Ol(i.checked)||i.checked===!0,children:n.jsx(Ce.span,{"data-state":G7(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});q7.displayName=W7;var H7="CheckboxBubbleInput",K7=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:m,setBubbleInput:f}=EE(H7,e),p=Qe(r,f),g=ag(i),v=Wx(s);x.useEffect(()=>{const y=m;if(!y)return;const b=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(b,"checked").set,_=!a.current;if(g!==i&&N){const C=new Event("click",{bubbles:_});y.indeterminate=Ol(i),N.call(y,Ol(i)?!1:i),y.dispatchEvent(C)}},[m,g,i,a]);const j=x.useRef(Ol(i)?!1:i);return n.jsx(Ce.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??j.current,required:l,disabled:c,name:d,value:u,form:h,...t,tabIndex:-1,ref:p,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});K7.displayName=H7;function lpe(e){return typeof e=="function"}function Ol(e){return e==="indeterminate"}function G7(e){return Ol(e)?"indeterminate":e?"checked":"unchecked"}const ga=x.forwardRef(({className:e,...t},r)=>n.jsx(PE,{ref:r,className:z("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(q7,{className:z("flex items-center justify-center text-current"),children:n.jsx(ss,{className:"h-4 w-4"})})}));ga.displayName=PE.displayName;function cpe({project:e,actionItemCount:t,onSelect:r,onDelete:s,onEdit:a}){const i=kE(),o=l=>{l.stopPropagation(),i.mutate({id:e.id,is_completed:!e.is_completed,completed_at:e.is_completed?null:new Date().toISOString()})};return n.jsxs(q,{variant:"vine",className:z("cursor-pointer transition-all hover:shadow-lg hover:scale-[1.02] border-l-4",e.is_completed&&"opacity-70 bg-muted/30"),style:{borderLeftColor:e.color},onClick:r,children:[n.jsx(de,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx(ga,{checked:e.is_completed,onClick:o,className:"flex-shrink-0"}),n.jsx(ce,{className:z("text-lg font-semibold truncate",e.is_completed&&"line-through text-muted-foreground"),children:e.name}),e.is_completed&&n.jsx(At,{className:"h-4 w-4 text-green-600 flex-shrink-0"})]}),n.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[n.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:l=>{l.stopPropagation(),a()},children:n.jsx(xee,{className:"h-4 w-4"})}),n.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:l=>{l.stopPropagation(),s()},children:n.jsx(xr,{className:"h-4 w-4"})})]})]})}),n.jsxs(K,{children:[e.description&&n.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:e.description}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(oB,{className:"h-4 w-4"}),n.jsxs("span",{children:[t," action item",t!==1?"s":""]})]}),e.assigned_to&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx($i,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate max-w-[100px]",children:e.assigned_to})]})]})]})]})}function Fp(e,[t,r]){return Math.min(r,Math.max(t,e))}var dpe=[" ","Enter","ArrowUp","ArrowDown"],upe=[" ","Enter"],xd="Select",[wj,Nj,hpe]=im(xd),[bm,Oqe]=Zr(xd,[hpe,ec]),_j=ec(),[mpe,ac]=bm(xd),[fpe,ppe]=bm(xd),Y7=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:f,form:p}=e,g=_j(t),[v,j]=x.useState(null),[y,b]=x.useState(null),[w,N]=x.useState(!1),_=sc(d),[C,S]=Kn({prop:s,defaultProp:a??!1,onChange:i,caller:xd}),[k,E]=Kn({prop:o,defaultProp:l,onChange:c,caller:xd}),T=x.useRef(null),A=v?p||!!v.closest("form"):!0,[B,R]=x.useState(new Set),L=Array.from(B).map(V=>V.props.value).join(";");return n.jsx(Qb,{...g,children:n.jsxs(mpe,{required:f,scope:t,trigger:v,onTriggerChange:j,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:ws(),value:k,onValueChange:E,open:C,onOpenChange:S,dir:_,triggerPointerDownPosRef:T,disabled:m,children:[n.jsx(wj.Provider,{scope:t,children:n.jsx(fpe,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(V=>{R(O=>new Set(O).add(V))},[]),onNativeOptionRemove:x.useCallback(V=>{R(O=>{const P=new Set(O);return P.delete(V),P})},[]),children:r})}),A?n.jsxs(vz,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:k,onChange:V=>E(V.target.value),disabled:m,form:p,children:[k===void 0?n.jsx("option",{value:""}):null,Array.from(B)]},L):null]})})};Y7.displayName=xd;var X7="SelectTrigger",Q7=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=_j(r),o=ac(X7,r),l=o.disabled||s,c=Qe(t,o.onTriggerChange),d=Nj(r),u=x.useRef("touch"),[h,m,f]=jz(g=>{const v=d().filter(b=>!b.disabled),j=v.find(b=>b.value===o.value),y=wz(v,g,j);y!==void 0&&o.onValueChange(y.value)}),p=g=>{l||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return n.jsx(qx,{asChild:!0,...i,children:n.jsx(Ce.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":bz(o.value)?"":void 0,...a,ref:c,onClick:me(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&p(g)}),onPointerDown:me(a.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:me(a.onKeyDown,g=>{const v=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(v&&g.key===" ")&&dpe.includes(g.key)&&(p(),g.preventDefault())})})})});Q7.displayName=X7;var Z7="SelectValue",J7=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=ac(Z7,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=Qe(t,c.onValueNodeChange);return wn(()=>{d(u)},[d,u]),n.jsx(Ce.span,{...l,ref:h,style:{pointerEvents:"none"},children:bz(c.value)?n.jsx(n.Fragment,{children:o}):i})});J7.displayName=Z7;var xpe="SelectIcon",ez=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(Ce.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});ez.displayName=xpe;var gpe="SelectPortal",tz=e=>n.jsx(om,{asChild:!0,...e});tz.displayName=gpe;var gd="SelectContent",rz=x.forwardRef((e,t)=>{const r=ac(gd,e.__scopeSelect),[s,a]=x.useState();if(wn(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?Ed.createPortal(n.jsx(nz,{scope:e.__scopeSelect,children:n.jsx(wj.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(sz,{...e,ref:t})});rz.displayName=gd;var Aa=10,[nz,ic]=bm(gd),ype="SelectContentImpl",vpe=Ll("SelectContent.RemoveScroll"),sz=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:p,hideWhenDetached:g,avoidCollisions:v,...j}=e,y=ac(gd,r),[b,w]=x.useState(null),[N,_]=x.useState(null),C=Qe(t,se=>w(se)),[S,k]=x.useState(null),[E,T]=x.useState(null),A=Nj(r),[B,R]=x.useState(!1),L=x.useRef(!1);x.useEffect(()=>{if(b)return fj(b)},[b]),mj();const V=x.useCallback(se=>{const[Te,...le]=A().map(ae=>ae.ref.current),[ge]=le.slice(-1),we=document.activeElement;for(const ae of se)if(ae===we||(ae==null||ae.scrollIntoView({block:"nearest"}),ae===Te&&N&&(N.scrollTop=0),ae===ge&&N&&(N.scrollTop=N.scrollHeight),ae==null||ae.focus(),document.activeElement!==we))return},[A,N]),O=x.useCallback(()=>V([S,b]),[V,S,b]);x.useEffect(()=>{B&&O()},[B,O]);const{onOpenChange:P,triggerPointerDownPosRef:I}=y;x.useEffect(()=>{if(b){let se={x:0,y:0};const Te=ge=>{var we,ae;se={x:Math.abs(Math.round(ge.pageX)-(((we=I.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((ae=I.current)==null?void 0:ae.y)??0))}},le=ge=>{se.x<=10&&se.y<=10?ge.preventDefault():b.contains(ge.target)||P(!1),document.removeEventListener("pointermove",Te),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",le,{capture:!0})}}},[b,P,I]),x.useEffect(()=>{const se=()=>P(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[P]);const[G,re]=jz(se=>{const Te=A().filter(we=>!we.disabled),le=Te.find(we=>we.ref.current===document.activeElement),ge=wz(Te,se,le);ge&&setTimeout(()=>ge.ref.current.focus())}),X=x.useCallback((se,Te,le)=>{const ge=!L.current&&!le;(y.value!==void 0&&y.value===Te||ge)&&(k(se),ge&&(L.current=!0))},[y.value]),W=x.useCallback(()=>b==null?void 0:b.focus(),[b]),oe=x.useCallback((se,Te,le)=>{const ge=!L.current&&!le;(y.value!==void 0&&y.value===Te||ge)&&T(se)},[y.value]),je=s==="popper"?m2:az,$e=je===m2?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:p,hideWhenDetached:g,avoidCollisions:v}:{};return n.jsx(nz,{scope:r,content:b,viewport:N,onViewportChange:_,itemRefCallback:X,selectedItem:S,onItemLeave:W,itemTextRefCallback:oe,focusSelectedItem:O,selectedItemText:E,position:s,isPositioned:B,searchRef:G,children:n.jsx(tg,{as:vpe,allowPinchZoom:!0,children:n.jsx(Jx,{asChild:!0,trapped:y.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:me(a,se=>{var Te;(Te=y.trigger)==null||Te.focus({preventScroll:!0}),se.preventDefault()}),children:n.jsx(Pd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:n.jsx(je,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:se=>se.preventDefault(),...j,...$e,onPlaced:()=>R(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:me(j.onKeyDown,se=>{const Te=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!Te&&se.key.length===1&&re(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let ge=A().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(se.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const we=se.target,ae=ge.indexOf(we);ge=ge.slice(ae+1)}setTimeout(()=>V(ge)),se.preventDefault()}})})})})})})});sz.displayName=ype;var bpe="SelectItemAlignedPosition",az=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=ac(gd,r),o=ic(gd,r),[l,c]=x.useState(null),[d,u]=x.useState(null),h=Qe(t,C=>u(C)),m=Nj(r),f=x.useRef(!1),p=x.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:j,focusSelectedItem:y}=o,b=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&v&&j){const C=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),E=j.getBoundingClientRect();if(i.dir!=="rtl"){const we=E.left-S.left,ae=k.left-we,st=C.left-ae,Ze=C.width+st,Tt=Math.max(Ze,S.width),at=window.innerWidth-Aa,Bt=Fp(ae,[Aa,Math.max(Aa,at-Tt)]);l.style.minWidth=Ze+"px",l.style.left=Bt+"px"}else{const we=S.right-E.right,ae=window.innerWidth-k.right-we,st=window.innerWidth-C.right-ae,Ze=C.width+st,Tt=Math.max(Ze,S.width),at=window.innerWidth-Aa,Bt=Fp(ae,[Aa,Math.max(Aa,at-Tt)]);l.style.minWidth=Ze+"px",l.style.right=Bt+"px"}const T=m(),A=window.innerHeight-Aa*2,B=g.scrollHeight,R=window.getComputedStyle(d),L=parseInt(R.borderTopWidth,10),V=parseInt(R.paddingTop,10),O=parseInt(R.borderBottomWidth,10),P=parseInt(R.paddingBottom,10),I=L+V+B+P+O,G=Math.min(v.offsetHeight*5,I),re=window.getComputedStyle(g),X=parseInt(re.paddingTop,10),W=parseInt(re.paddingBottom,10),oe=C.top+C.height/2-Aa,je=A-oe,$e=v.offsetHeight/2,se=v.offsetTop+$e,Te=L+V+se,le=I-Te;if(Te<=oe){const we=T.length>0&&v===T[T.length-1].ref.current;l.style.bottom="0px";const ae=d.clientHeight-g.offsetTop-g.offsetHeight,st=Math.max(je,$e+(we?W:0)+ae+O),Ze=Te+st;l.style.height=Ze+"px"}else{const we=T.length>0&&v===T[0].ref.current;l.style.top="0px";const st=Math.max(oe,L+g.offsetTop+(we?X:0)+$e)+le;l.style.height=st+"px",g.scrollTop=Te-oe+g.offsetTop}l.style.margin=`${Aa}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=A+"px",s==null||s(),requestAnimationFrame(()=>f.current=!0)}},[m,i.trigger,i.valueNode,l,d,g,v,j,i.dir,s]);wn(()=>b(),[b]);const[w,N]=x.useState();wn(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const _=x.useCallback(C=>{C&&p.current===!0&&(b(),y==null||y(),p.current=!1)},[b,y]);return n.jsx(wpe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:_,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:n.jsx(Ce.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});az.displayName=bpe;var jpe="SelectPopperPosition",m2=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=Aa,...i}=e,o=_j(r);return n.jsx(Zb,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});m2.displayName=jpe;var[wpe,AE]=bm(gd,{}),f2="SelectViewport",iz=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=ic(f2,r),o=AE(f2,r),l=Qe(t,i.onViewportChange),c=x.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(wj.Slot,{scope:r,children:n.jsx(Ce.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:me(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const f=Math.abs(c.current-u.scrollTop);if(f>0){const p=window.innerHeight-Aa*2,g=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),j=Math.max(g,v);if(j<p){const y=j+f,b=Math.min(p,y),w=y-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});iz.displayName=f2;var oz="SelectGroup",[Npe,_pe]=bm(oz),Spe=x.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=ws();return n.jsx(Npe,{scope:r,id:a,children:n.jsx(Ce.div,{role:"group","aria-labelledby":a,...s,ref:t})})});Spe.displayName=oz;var lz="SelectLabel",cz=x.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=_pe(lz,r);return n.jsx(Ce.div,{id:a.id,...s,ref:t})});cz.displayName=lz;var o0="SelectItem",[Cpe,dz]=bm(o0),uz=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=ac(o0,r),c=ic(o0,r),d=l.value===s,[u,h]=x.useState(i??""),[m,f]=x.useState(!1),p=Qe(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,s,a)}),g=ws(),v=x.useRef("touch"),j=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(Cpe,{scope:r,value:s,disabled:a,textId:g,isSelected:d,onItemTextChange:x.useCallback(y=>{h(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:n.jsx(wj.ItemSlot,{scope:r,value:s,disabled:a,textValue:u,children:n.jsx(Ce.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:p,onFocus:me(o.onFocus,()=>f(!0)),onBlur:me(o.onBlur,()=>f(!1)),onClick:me(o.onClick,()=>{v.current!=="mouse"&&j()}),onPointerUp:me(o.onPointerUp,()=>{v.current==="mouse"&&j()}),onPointerDown:me(o.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:me(o.onPointerMove,y=>{var b;v.current=y.pointerType,a?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:me(o.onKeyDown,y=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&y.key===" "||(upe.includes(y.key)&&j(),y.key===" "&&y.preventDefault())})})})})});uz.displayName=o0;var Nf="SelectItemText",hz=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=ac(Nf,r),l=ic(Nf,r),c=dz(Nf,r),d=ppe(Nf,r),[u,h]=x.useState(null),m=Qe(t,j=>h(j),c.onItemTextChange,j=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,j,c.value,c.disabled)}),f=u==null?void 0:u.textContent,p=x.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=d;return wn(()=>(g(p),()=>v(p)),[g,v,p]),n.jsxs(n.Fragment,{children:[n.jsx(Ce.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ed.createPortal(i.children,o.valueNode):null]})});hz.displayName=Nf;var mz="SelectItemIndicator",fz=x.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return dz(mz,r).isSelected?n.jsx(Ce.span,{"aria-hidden":!0,...s,ref:t}):null});fz.displayName=mz;var p2="SelectScrollUpButton",pz=x.forwardRef((e,t)=>{const r=ic(p2,e.__scopeSelect),s=AE(p2,e.__scopeSelect),[a,i]=x.useState(!1),o=Qe(t,s.onScrollButtonChange);return wn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(gz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});pz.displayName=p2;var x2="SelectScrollDownButton",xz=x.forwardRef((e,t)=>{const r=ic(x2,e.__scopeSelect),s=AE(x2,e.__scopeSelect),[a,i]=x.useState(!1),o=Qe(t,s.onScrollButtonChange);return wn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(gz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});xz.displayName=x2;var gz=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=ic("SelectScrollButton",r),o=x.useRef(null),l=Nj(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),wn(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(Ce.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:me(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:me(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:me(a.onPointerLeave,()=>{c()})})}),kpe="SelectSeparator",yz=x.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(Ce.div,{"aria-hidden":!0,...s,ref:t})});yz.displayName=kpe;var g2="SelectArrow",Tpe=x.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=_j(r),i=ac(g2,r),o=ic(g2,r);return i.open&&o.position==="popper"?n.jsx(Jb,{...a,...s,ref:t}):null});Tpe.displayName=g2;var Epe="SelectBubbleInput",vz=x.forwardRef(({__scopeSelect:e,value:t,...r},s)=>{const a=x.useRef(null),i=Qe(s,a),o=ag(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),n.jsx(Ce.select,{...r,style:{...O6,...r.style},ref:i,defaultValue:t})});vz.displayName=Epe;function bz(e){return e===""||e===void 0}function jz(e){const t=Gr(e),r=x.useRef(""),s=x.useRef(0),a=x.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function wz(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Ppe(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Ppe(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var Ape=Y7,Nz=Q7,Ope=J7,Mpe=ez,Rpe=tz,_z=rz,Ipe=iz,Sz=cz,Cz=uz,Dpe=hz,$pe=fz,kz=pz,Tz=xz,Ez=yz;const Re=Ape,Ie=Ope,Pe=x.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Nz,{ref:s,className:z("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(Mpe,{asChild:!0,children:n.jsx(Jl,{className:"h-4 w-4 opacity-50"})})]}));Pe.displayName=Nz.displayName;const Pz=x.forwardRef(({className:e,...t},r)=>n.jsx(kz,{ref:r,className:z("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(nB,{className:"h-4 w-4"})}));Pz.displayName=kz.displayName;const Az=x.forwardRef(({className:e,...t},r)=>n.jsx(Tz,{ref:r,className:z("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Jl,{className:"h-4 w-4"})}));Az.displayName=Tz.displayName;const Ae=x.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(Rpe,{children:n.jsxs(_z,{ref:a,className:z("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(Pz,{}),n.jsx(Ipe,{className:z("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(Az,{})]})}));Ae.displayName=_z.displayName;const Lpe=x.forwardRef(({className:e,...t},r)=>n.jsx(Sz,{ref:r,className:z("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Lpe.displayName=Sz.displayName;const he=x.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Cz,{ref:s,className:z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx($pe,{children:n.jsx(ss,{className:"h-4 w-4"})})}),n.jsx(Dpe,{children:t})]}));he.displayName=Cz.displayName;const Fpe=x.forwardRef(({className:e,...t},r)=>n.jsx(Ez,{ref:r,className:z("-mx-1 my-1 h-px bg-muted",e),...t}));Fpe.displayName=Ez.displayName;function lt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ss(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Jn(e,t){const r=lt(e);return isNaN(t)?Ss(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Ja(e,t){const r=lt(e);if(isNaN(t))return Ss(e,NaN);if(!t)return r;const s=r.getDate(),a=Ss(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}const OE=6048e5,Bpe=864e5,dy=43200,OM=1440;let Vpe={};function jm(){return Vpe}function Fi(e,t){var l,c,d,u;const r=jm(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=lt(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function yd(e){return Fi(e,{weekStartsOn:1})}function Oz(e){const t=lt(e),r=t.getFullYear(),s=Ss(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=yd(s),i=Ss(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=yd(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function _h(e){const t=lt(e);return t.setHours(0,0,0,0),t}function Sh(e){const t=lt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function gi(e,t){const r=_h(e),s=_h(t),a=+r-Sh(r),i=+s-Sh(s);return Math.round((a-i)/Bpe)}function zpe(e){const t=Oz(e),r=Ss(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),yd(r)}function y2(e,t){const r=t*7;return Jn(e,r)}function Upe(e,t){return Ja(e,t*12)}function Wpe(e){let t;return e.forEach(function(r){const s=lt(r);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function qpe(e){let t;return e.forEach(r=>{const s=lt(r);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function av(e,t){const r=lt(e),s=lt(t),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}function Hpe(e){return Ss(e,Date.now())}function gs(e,t){const r=_h(e),s=_h(t);return+r==+s}function ME(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Kpe(e){if(!ME(e)&&typeof e!="number")return!1;const t=lt(e);return!isNaN(Number(t))}function Ch(e,t){const r=lt(e),s=lt(t),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function Gpe(e,t,r){const s=Fi(e,r),a=Fi(t,r),i=+s-Sh(s),o=+a-Sh(a);return Math.round((i-o)/OE)}function Ype(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function Xpe(e,t){return+lt(e)-+lt(t)}function Qpe(e){const t=lt(e);return t.setHours(23,59,59,999),t}function Sj(e){const t=lt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Zpe(e){const t=lt(e);return+Qpe(t)==+Sj(t)}function Jpe(e,t){const r=lt(e),s=lt(t),a=av(r,s),i=Math.abs(Ch(r,s));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=av(r,s)===-a;Zpe(lt(e))&&i===1&&av(e,s)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function exe(e,t,r){const s=Xpe(e,t)/1e3;return Ype(r==null?void 0:r.roundingMethod)(s)}function Ns(e){const t=lt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Mz(e){const t=lt(e),r=Ss(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function RE(e,t){var l,c,d,u;const r=jm(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=lt(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function Rz(e){return RE(e,{weekStartsOn:1})}const txe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rxe=(e,t,r)=>{let s;const a=txe[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function eN(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const nxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},axe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ixe={date:eN({formats:nxe,defaultWidth:"full"}),time:eN({formats:sxe,defaultWidth:"full"}),dateTime:eN({formats:axe,defaultWidth:"full"})},oxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lxe=(e,t,r,s)=>oxe[e];function Zm(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const cxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uxe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pxe=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xxe={ordinalNumber:pxe,era:Zm({values:cxe,defaultWidth:"wide"}),quarter:Zm({values:dxe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zm({values:uxe,defaultWidth:"wide"}),day:Zm({values:hxe,defaultWidth:"wide"}),dayPeriod:Zm({values:mxe,defaultWidth:"wide",formattingValues:fxe,defaultFormattingWidth:"wide"})};function Jm(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?yxe(l,h=>h.test(o)):gxe(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function gxe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function yxe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function vxe(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const bxe=/^(\d+)(th|st|nd|rd)?/i,jxe=/\d+/i,wxe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Nxe={any:[/^b/i,/^(a|c)/i]},_xe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Sxe={any:[/1/i,/2/i,/3/i,/4/i]},Cxe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kxe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Txe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Exe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pxe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Axe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Oxe={ordinalNumber:vxe({matchPattern:bxe,parsePattern:jxe,valueCallback:e=>parseInt(e,10)}),era:Jm({matchPatterns:wxe,defaultMatchWidth:"wide",parsePatterns:Nxe,defaultParseWidth:"any"}),quarter:Jm({matchPatterns:_xe,defaultMatchWidth:"wide",parsePatterns:Sxe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jm({matchPatterns:Cxe,defaultMatchWidth:"wide",parsePatterns:kxe,defaultParseWidth:"any"}),day:Jm({matchPatterns:Txe,defaultMatchWidth:"wide",parsePatterns:Exe,defaultParseWidth:"any"}),dayPeriod:Jm({matchPatterns:Pxe,defaultMatchWidth:"any",parsePatterns:Axe,defaultParseWidth:"any"})},IE={code:"en-US",formatDistance:rxe,formatLong:ixe,formatRelative:lxe,localize:xxe,match:Oxe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mxe(e){const t=lt(e);return gi(t,Mz(t))+1}function Iz(e){const t=lt(e),r=+yd(t)-+zpe(t);return Math.round(r/OE)+1}function Dz(e,t){var u,h,m,f;const r=lt(e),s=r.getFullYear(),a=jm(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(m=a.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,o=Ss(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Fi(o,t),c=Ss(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=Fi(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function Rxe(e,t){var l,c,d,u;const r=jm(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=Dz(e,t),i=Ss(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Fi(i,t)}function $z(e,t){const r=lt(e),s=+Fi(r,t)-+Rxe(r,t);return Math.round(s/OE)+1}function Jt(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const Ho={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return Jt(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Jt(r+1,2)},d(e,t){return Jt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Jt(e.getHours()%12||12,t.length)},H(e,t){return Jt(e.getHours(),t.length)},m(e,t){return Jt(e.getMinutes(),t.length)},s(e,t){return Jt(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return Jt(a,t.length)}},Zd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},MM={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Ho.y(e,t)},Y:function(e,t,r,s){const a=Dz(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Jt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Jt(i,t.length)},R:function(e,t){const r=Oz(e);return Jt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Jt(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Jt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Jt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return Ho.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Jt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=$z(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Jt(a,t.length)},I:function(e,t,r){const s=Iz(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):Jt(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ho.d(e,t)},D:function(e,t,r){const s=Mxe(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Jt(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Jt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Jt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Jt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=Zd.noon:s===0?a=Zd.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=Zd.evening:s>=12?a=Zd.afternoon:s>=4?a=Zd.morning:a=Zd.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ho.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ho.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Jt(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):Jt(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ho.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ho.s(e,t)},S:function(e,t){return Ho.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return IM(s);case"XXXX":case"XX":return _c(s);case"XXXXX":case"XXX":default:return _c(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return IM(s);case"xxxx":case"xx":return _c(s);case"xxxxx":case"xxx":default:return _c(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+RM(s,":");case"OOOO":default:return"GMT"+_c(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+RM(s,":");case"zzzz":default:return"GMT"+_c(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return Jt(s,t.length)},T:function(e,t,r){const s=e.getTime();return Jt(s,t.length)}};function RM(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+Jt(i,2)}function IM(e,t){return e%60===0?(e>0?"-":"+")+Jt(Math.abs(e)/60,2):_c(e,t)}function _c(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Jt(Math.trunc(s/60),2),i=Jt(s%60,2);return r+a+t+i}const DM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Lz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ixe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return DM(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",DM(s,t)).replace("{{time}}",Lz(a,t))},Dxe={p:Lz,P:Ixe},$xe=/^D+$/,Lxe=/^Y+$/,Fxe=["D","DD","YY","YYYY"];function Bxe(e){return $xe.test(e)}function Vxe(e){return Lxe.test(e)}function zxe(e,t,r){const s=Uxe(e,t,r);if(console.warn(s),Fxe.includes(e))throw new RangeError(s)}function Uxe(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Wxe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qxe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hxe=/^'([^]*?)'?$/,Kxe=/''/g,Gxe=/[a-zA-Z]/;function _t(e,t,r){var u,h,m,f,p,g,v,j;const s=jm(),a=(r==null?void 0:r.locale)??s.locale??IE,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(m=s.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((j=(v=s.locale)==null?void 0:v.options)==null?void 0:j.weekStartsOn)??0,l=lt(e);if(!Kpe(l))throw new RangeError("Invalid time value");let c=t.match(qxe).map(y=>{const b=y[0];if(b==="p"||b==="P"){const w=Dxe[b];return w(y,a.formatLong)}return y}).join("").match(Wxe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:Yxe(y)};if(MM[b])return{isToken:!0,value:y};if(b.match(Gxe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Vxe(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Bxe(b))&&zxe(b,t,String(e));const w=MM[b[0]];return w(l,b,a.localize,d)}).join("")}function Yxe(e){const t=e.match(Hxe);return t?t[1].replace(Kxe,"'"):e}function Xxe(e,t,r){const s=jm(),a=(r==null?void 0:r.locale)??s.locale??IE,i=2520,o=av(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=lt(t),d=lt(e)):(c=lt(e),d=lt(t));const u=exe(d,c),h=(Sh(d)-Sh(c))/1e3,m=Math.round((u-h)/60);let f;if(m<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<OM){const p=Math.round(m/60);return a.formatDistance("aboutXHours",p,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<dy){const p=Math.round(m/OM);return a.formatDistance("xDays",p,l)}else if(m<dy*2)return f=Math.round(m/dy),a.formatDistance("aboutXMonths",f,l)}if(f=Jpe(d,c),f<12){const p=Math.round(m/dy);return a.formatDistance("xMonths",p,l)}else{const p=f%12,g=Math.trunc(f/12);return p<3?a.formatDistance("aboutXYears",g,l):p<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function Fz(e,t){return Xxe(e,Hpe(e),t)}function Qxe(e){const t=lt(e),r=t.getFullYear(),s=t.getMonth(),a=Ss(e,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function Zxe(e){return Math.trunc(+lt(e)/1e3)}function Jxe(e){const t=lt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function ege(e,t){return Gpe(Jxe(e),Ns(e),t)+1}function v2(e,t){const r=lt(e),s=lt(t);return r.getTime()>s.getTime()}function Bz(e,t){const r=lt(e),s=lt(t);return+r<+s}function DE(e,t){const r=lt(e),s=lt(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function tge(e,t){const r=lt(e),s=lt(t);return r.getFullYear()===s.getFullYear()}function tN(e,t){return Jn(e,-t)}function rN(e,t){const r=lt(e),s=r.getFullYear(),a=r.getDate(),i=Ss(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const o=Qxe(i);return r.setMonth(t,Math.min(a,o)),r}function $M(e,t){const r=lt(e);return isNaN(+r)?Ss(e,NaN):(r.setFullYear(t),r)}const rge={low:"bg-green-500/10 text-green-600 border-green-500/20",medium:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",high:"bg-red-500/10 text-red-600 border-red-500/20"},nge={low:2,medium:5,high:10};function LM({item:e}){const t=vm(),r=Xfe(),[s,a]=x.useState(!1),[i,o]=x.useState(e.is_completed);x.useEffect(()=>{if(e.is_completed&&!i){a(!0);const d=setTimeout(()=>a(!1),2e3);return()=>clearTimeout(d)}o(e.is_completed)},[e.is_completed,i]);const l=()=>{t.mutate({id:e.id,is_completed:!e.is_completed})},c=d=>{t.mutate({id:e.id,priority:d})};return n.jsxs("div",{className:z("relative flex items-center gap-3 p-4 rounded-lg border bg-card transition-all",e.is_completed&&"opacity-60"),children:[s&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-10",children:n.jsxs("div",{className:"animate-bounce flex items-center gap-2 bg-green-100 text-green-700 px-4 py-2 rounded-full shadow-lg border border-green-200",children:[n.jsx(ht,{className:"h-4 w-4"}),n.jsxs("span",{className:"font-bold",children:["+",nge[e.priority]," Garden Points!"]}),n.jsx("span",{className:"text-lg",children:""})]})}),n.jsx(ga,{checked:e.is_completed,onCheckedChange:l,className:"h-5 w-5"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:z("font-medium truncate",e.is_completed&&"line-through text-muted-foreground"),children:e.title}),e.description&&n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:e.description})]}),n.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.due_date&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[n.jsx(_s,{className:"h-3 w-3"}),n.jsx("span",{children:_t(new Date(e.due_date),"MMM d")})]}),n.jsxs(Re,{value:e.priority,onValueChange:d=>c(d),children:[n.jsx(Pe,{className:z("w-[100px] h-8 text-xs capitalize",rge[e.priority]),children:n.jsx(Ie,{})}),n.jsxs(Ae,{className:"bg-card border shadow-lg z-50",children:[n.jsx(he,{value:"high",className:"text-red-600",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs",children:""}),n.jsx("span",{children:"High (+10 pts)"})]})}),n.jsx(he,{value:"medium",className:"text-yellow-600",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs",children:""}),n.jsx("span",{children:"Medium (+5 pts)"})]})}),n.jsx(he,{value:"low",className:"text-green-600",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs",children:""}),n.jsx("span",{children:"Low (+2 pts)"})]})})]})]}),n.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>r.mutate(e.id),children:n.jsx(xr,{className:"h-4 w-4"})})]})]})}function sge({item:e,projectId:t}){const r=Jfe(),s=epe(),a=()=>{r.mutate({projectItemId:e.id,projectId:t,title:e.title,description:e.description||void 0})};return n.jsxs(q,{className:z("p-3 flex items-center gap-3 transition-all",e.is_action_item?"bg-green-50/50 dark:bg-green-950/20 border-green-200/50":"hover:shadow-sm"),children:[n.jsx("div",{className:"flex-shrink-0",children:e.is_action_item?n.jsx(At,{className:"h-5 w-5 text-green-600"}):n.jsx(Fx,{className:"h-5 w-5 text-muted-foreground/40"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:z("font-medium truncate",e.is_action_item&&"text-green-700 dark:text-green-400"),children:e.title}),e.description&&n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:e.description})]}),n.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[!e.is_action_item&&n.jsx(Hx,{children:n.jsxs(Wl,{children:[n.jsx(ql,{asChild:!0,children:n.jsxs($,{variant:"ghost",size:"sm",className:"h-8 px-2 text-primary hover:text-primary hover:bg-primary/10",onClick:a,disabled:r.isPending,children:[n.jsx(kn,{className:"h-4 w-4 mr-1"}),"Make Action"]})}),n.jsx(_o,{children:"Convert to action item"})]})}),e.is_action_item&&n.jsx("span",{className:"text-xs text-green-600 font-medium px-2",children:"Action Item "}),n.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>s.mutate(e.id),children:n.jsx(xr,{className:"h-4 w-4"})})]})]})}var Cj="Dialog",[Vz,zz]=Zr(Cj),[age,ni]=Vz(Cj),Uz=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[d,u]=Kn({prop:s,defaultProp:a??!1,onChange:i,caller:Cj});return n.jsx(age,{scope:t,triggerRef:l,contentRef:c,contentId:ws(),titleId:ws(),descriptionId:ws(),open:d,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};Uz.displayName=Cj;var Wz="DialogTrigger",qz=x.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ni(Wz,r),i=Qe(t,a.triggerRef);return n.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":FE(a.open),...s,ref:i,onClick:me(e.onClick,a.onOpenToggle)})});qz.displayName=Wz;var $E="DialogPortal",[ige,Hz]=Vz($E,{forceMount:void 0}),Kz=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=ni($E,t);return n.jsx(ige,{scope:t,forceMount:r,children:x.Children.map(s,o=>n.jsx(dn,{present:r||i.open,children:n.jsx(om,{asChild:!0,container:a,children:o})}))})};Kz.displayName=$E;var l0="DialogOverlay",Gz=x.forwardRef((e,t)=>{const r=Hz(l0,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=ni(l0,e.__scopeDialog);return i.modal?n.jsx(dn,{present:s||i.open,children:n.jsx(lge,{...a,ref:t})}):null});Gz.displayName=l0;var oge=Ll("DialogOverlay.RemoveScroll"),lge=x.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ni(l0,r);return n.jsx(tg,{as:oge,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(Ce.div,{"data-state":FE(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),vd="DialogContent",Yz=x.forwardRef((e,t)=>{const r=Hz(vd,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=ni(vd,e.__scopeDialog);return n.jsx(dn,{present:s||i.open,children:i.modal?n.jsx(cge,{...a,ref:t}):n.jsx(dge,{...a,ref:t})})});Yz.displayName=vd;var cge=x.forwardRef((e,t)=>{const r=ni(vd,e.__scopeDialog),s=x.useRef(null),a=Qe(t,r.contentRef,s);return x.useEffect(()=>{const i=s.current;if(i)return fj(i)},[]),n.jsx(Xz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:me(e.onFocusOutside,i=>i.preventDefault())})}),dge=x.forwardRef((e,t)=>{const r=ni(vd,e.__scopeDialog),s=x.useRef(!1),a=x.useRef(!1);return n.jsx(Xz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Xz=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ni(vd,r),c=x.useRef(null),d=Qe(t,c);return mj(),n.jsxs(n.Fragment,{children:[n.jsx(Jx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(Pd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":FE(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(hge,{titleId:l.titleId}),n.jsx(fge,{contentRef:c,descriptionId:l.descriptionId})]})]})}),LE="DialogTitle",Qz=x.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ni(LE,r);return n.jsx(Ce.h2,{id:a.titleId,...s,ref:t})});Qz.displayName=LE;var Zz="DialogDescription",Jz=x.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ni(Zz,r);return n.jsx(Ce.p,{id:a.descriptionId,...s,ref:t})});Jz.displayName=Zz;var eU="DialogClose",tU=x.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ni(eU,r);return n.jsx(Ce.button,{type:"button",...s,ref:t,onClick:me(e.onClick,()=>a.onOpenChange(!1))})});tU.displayName=eU;function FE(e){return e?"open":"closed"}var rU="DialogTitleWarning",[uge,nU]=FZ(rU,{contentName:vd,titleName:LE,docsSlug:"dialog"}),hge=({titleId:e})=>{const t=nU(rU),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},mge="DialogDescriptionWarning",fge=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nU(mge).contentName}}.`;return x.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},BE=Uz,VE=qz,zE=Kz,ig=Gz,og=Yz,lg=Qz,cg=Jz,kj=tU;const Xt=BE,qr=VE,pge=zE,sU=x.forwardRef(({className:e,...t},r)=>n.jsx(ig,{ref:r,className:z("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));sU.displayName=ig.displayName;const qt=x.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(pge,{children:[n.jsx(sU,{}),n.jsxs(og,{ref:s,className:z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(kj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[n.jsx(Vi,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qt.displayName=og.displayName;const Ht=({className:e,...t})=>n.jsx("div",{className:z("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ht.displayName="DialogHeader";const Tj=({className:e,...t})=>n.jsx("div",{className:z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Tj.displayName="DialogFooter";const Kt=x.forwardRef(({className:e,...t},r)=>n.jsx(lg,{ref:r,className:z("text-lg font-semibold leading-none tracking-tight",e),...t}));Kt.displayName=lg.displayName;const ko=x.forwardRef(({className:e,...t},r)=>n.jsx(cg,{ref:r,className:z("text-sm text-muted-foreground",e),...t}));ko.displayName=cg.displayName;const F=x.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));F.displayName="Input";const wr=x.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:z("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));wr.displayName="Textarea";var xge="Label",aU=x.forwardRef((e,t)=>n.jsx(Ce.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));aU.displayName=xge;var iU=aU;const gge=Ad("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),M=x.forwardRef(({className:e,...t},r)=>n.jsx(iU,{ref:r,className:z(gge(),e),...t}));M.displayName=iU.displayName;const nN=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16"];function FM(){const[e,t]=x.useState(!1),[r,s]=x.useState(""),[a,i]=x.useState(""),[o,l]=x.useState(""),[c,d]=x.useState(nN[0]),u=F7(),h=m=>{m.preventDefault(),r.trim()&&u.mutate({name:r.trim(),description:a.trim()||void 0,color:c,assigned_to:o.trim()||void 0},{onSuccess:()=>{t(!1),s(""),i(""),l(""),d(nN[0])}})};return n.jsxs(Xt,{open:e,onOpenChange:t,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{className:"gap-2",children:[n.jsx(jr,{className:"h-4 w-4"}),"New Project"]})}),n.jsxs(qt,{children:[n.jsx(Ht,{children:n.jsx(Kt,{children:"Create New Project"})}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"name",children:"Project Name"}),n.jsx(F,{id:"name",value:r,onChange:m=>s(m.target.value),placeholder:"My awesome project",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"description",children:"Description (optional)"}),n.jsx(wr,{id:"description",value:a,onChange:m=>i(m.target.value),placeholder:"What's this project about?",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"assigned",children:"Assigned To (optional)"}),n.jsx(F,{id:"assigned",value:o,onChange:m=>l(m.target.value),placeholder:"Team member name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Color"}),n.jsx("div",{className:"flex gap-2 flex-wrap",children:nN.map(m=>n.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border-2 transition-all ${c===m?"border-foreground scale-110":"border-transparent"}`,style:{backgroundColor:m},onClick:()=>d(m)},m))})]}),n.jsx($,{type:"submit",className:"w-full",disabled:u.isPending,children:u.isPending?"Creating...":"Create Project"})]})]})]})}function sN({projectId:e,projects:t}){const[r,s]=x.useState(!1),[a,i]=x.useState(""),[o,l]=x.useState(""),[c,d]=x.useState(e||""),[u,h]=x.useState(""),[m,f]=x.useState("medium"),p=TE(),g=v=>{v.preventDefault(),a.trim()&&p.mutate({title:a.trim(),description:o.trim()||void 0,project_id:c||void 0,due_date:u||void 0,priority:m},{onSuccess:()=>{s(!1),i(""),l(""),h(""),f("medium"),e||d("")}})};return n.jsxs(Xt,{open:r,onOpenChange:s,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{variant:"outline",className:"gap-2",children:[n.jsx(jr,{className:"h-4 w-4"}),"Add Action Item"]})}),n.jsxs(qt,{children:[n.jsx(Ht,{children:n.jsx(Kt,{children:"Add Action Item"})}),n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"title",children:"Title"}),n.jsx(F,{id:"title",value:a,onChange:v=>i(v.target.value),placeholder:"What needs to be done?",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"description",children:"Description (optional)"}),n.jsx(wr,{id:"description",value:o,onChange:v=>l(v.target.value),placeholder:"Add more details...",rows:2})]}),!e&&t&&t.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Project (optional)"}),n.jsxs(Re,{value:c,onValueChange:d,children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Select a project"})}),n.jsx(Ae,{children:t.map(v=>n.jsx(he,{value:v.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:v.color}}),v.name]})},v.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"dueDate",children:"Due Date (optional)"}),n.jsx(F,{id:"dueDate",type:"date",value:u,onChange:v=>h(v.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Priority"}),n.jsxs(Re,{value:m,onValueChange:v=>f(v),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"low",children:"Low"}),n.jsx(he,{value:"medium",children:"Medium"}),n.jsx(he,{value:"high",children:"High"})]})]})]})]}),n.jsx($,{type:"submit",className:"w-full",disabled:p.isPending,children:p.isPending?"Adding...":"Add Action Item"})]})]})]})}function BM({projectId:e}){const[t,r]=x.useState(!1),[s,a]=x.useState(""),i=Zfe(),o=c=>{c.preventDefault();const d=s.split(`
`).filter(u=>u.trim().length>0);d.length!==0&&i.mutate({projectId:e,items:d},{onSuccess:()=>{r(!1),a("")}})},l=s.split(`
`).filter(c=>c.trim().length>0).length;return n.jsxs(Xt,{open:t,onOpenChange:r,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{variant:"outline",size:"sm",className:"gap-2",children:[n.jsx(yp,{className:"h-4 w-4"}),"Bulk Add"]})}),n.jsxs(qt,{className:"sm:max-w-lg",children:[n.jsxs(Ht,{children:[n.jsxs(Kt,{className:"flex items-center gap-2",children:[n.jsx(wt,{className:"h-5 w-5"}),"Bulk Add Items"]}),n.jsx(ko,{children:"Add multiple items at once. Enter each item on a new line. They'll be added to the project and can later be converted to action items."})]}),n.jsxs("form",{onSubmit:o,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"items",children:"Items (one per line)"}),n.jsx(wr,{id:"items",value:s,onChange:c=>a(c.target.value),placeholder:`Review tax documents
Call accountant
Update financial records
Prepare quarterly report
...`,rows:10,className:"font-mono text-sm"})]}),l>0&&n.jsxs("div",{className:"text-sm text-muted-foreground bg-muted/50 rounded-lg px-3 py-2",children:["Ready to add ",n.jsx("span",{className:"font-semibold text-foreground",children:l})," item",l!==1?"s":""]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx($,{type:"button",variant:"outline",className:"flex-1",onClick:()=>r(!1),children:"Cancel"}),n.jsx($,{type:"submit",className:"flex-1",disabled:i.isPending||l===0,children:i.isPending?"Adding...":`Add ${l} Item${l!==1?"s":""}`})]})]})]})]})}const VM=({style:e,delay:t=0})=>n.jsx("div",{className:"absolute text-amber-400 animate-bounce",style:{...e,animationDuration:"1.5s",animationDelay:`${t}s`},children:n.jsxs("svg",{className:"w-3 h-3 drop-shadow-sm",viewBox:"0 0 24 24",fill:"currentColor",style:{animation:`buzz ${.3+t*.1}s ease-in-out infinite alternate`},children:[n.jsx("ellipse",{cx:"12",cy:"14",rx:"5",ry:"6",fill:"#f59e0b"}),n.jsx("rect",{x:"7",y:"12",width:"10",height:"2",fill:"#1f2937",rx:"1"}),n.jsx("rect",{x:"7",y:"16",width:"10",height:"2",fill:"#1f2937",rx:"1"}),n.jsx("circle",{cx:"12",cy:"7",r:"3",fill:"#1f2937"}),n.jsx("ellipse",{cx:"7",cy:"11",rx:"3",ry:"4",fill:"white",opacity:"0.7"}),n.jsx("ellipse",{cx:"17",cy:"11",rx:"3",ry:"4",fill:"white",opacity:"0.7"}),n.jsx("path",{d:"M10 5 L8 2",stroke:"#1f2937",strokeWidth:"1",fill:"none"}),n.jsx("path",{d:"M14 5 L16 2",stroke:"#1f2937",strokeWidth:"1",fill:"none"})]})}),zM=({style:e,delay:t=0})=>n.jsx("div",{className:"absolute",style:{...e,animation:`crawl ${4+t}s ease-in-out infinite`,animationDelay:`${t}s`},children:n.jsxs("svg",{className:"w-4 h-4 drop-shadow-sm",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("ellipse",{cx:"12",cy:"14",rx:"7",ry:"8",fill:"#dc2626"}),n.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"22",stroke:"#1f2937",strokeWidth:"1"}),n.jsx("circle",{cx:"9",cy:"11",r:"1.5",fill:"#1f2937"}),n.jsx("circle",{cx:"15",cy:"11",r:"1.5",fill:"#1f2937"}),n.jsx("circle",{cx:"8",cy:"16",r:"1.5",fill:"#1f2937"}),n.jsx("circle",{cx:"16",cy:"16",r:"1.5",fill:"#1f2937"}),n.jsx("circle",{cx:"12",cy:"14",r:"1",fill:"#1f2937"}),n.jsx("circle",{cx:"12",cy:"5",r:"3",fill:"#1f2937"}),n.jsx("path",{d:"M10 3 L8 0",stroke:"#1f2937",strokeWidth:"1",fill:"none"}),n.jsx("path",{d:"M14 3 L16 0",stroke:"#1f2937",strokeWidth:"1",fill:"none"}),n.jsx("path",{d:"M5 12 L3 10",stroke:"#1f2937",strokeWidth:"1",fill:"none"}),n.jsx("path",{d:"M5 16 L2 17",stroke:"#1f2937",strokeWidth:"1",fill:"none"}),n.jsx("path",{d:"M19 12 L21 10",stroke:"#1f2937",strokeWidth:"1",fill:"none"}),n.jsx("path",{d:"M19 16 L22 17",stroke:"#1f2937",strokeWidth:"1",fill:"none"})]})}),aN=({style:e,variant:t=1,size:r="sm"})=>{const s=["text-pink-300","text-rose-300","text-pink-200","text-white","text-fuchsia-200"],a=s[t%s.length],i={xs:"w-2 h-2",sm:"w-3 h-3",md:"w-4 h-4"},o=t%3;return n.jsx("div",{className:`absolute ${a} drop-shadow-sm`,style:e,children:o===0?n.jsx(Wb,{className:`${i[r]} animate-pulse`,style:{animationDuration:`${2+t}s`}}):o===1?n.jsx(rB,{className:`${i[r]}`}):n.jsx(ht,{className:`${i[r]} animate-pulse`,style:{animationDuration:`${3+t}s`}})})},yge=({isOpen:e=!1,className:t=""})=>n.jsxs("div",{className:`relative flex items-center justify-center ${t}`,children:[n.jsxs("div",{className:`w-8 h-20 bg-gradient-to-b from-white via-gray-50 to-gray-100 rounded-t-lg border border-gray-200/50 shadow-md transition-transform duration-700 origin-left ${e?"-rotate-[70deg]":"rotate-0"}`,style:{transformStyle:"preserve-3d"},children:[n.jsx("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 w-1 h-3 bg-amber-700/30 rounded"}),n.jsx("div",{className:"absolute top-8 left-1/2 -translate-x-1/2 w-1 h-3 bg-amber-700/30 rounded"}),n.jsx("div",{className:"absolute top-14 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-amber-600/50 rounded-full"})]}),n.jsxs("div",{className:`w-8 h-20 bg-gradient-to-b from-white via-gray-50 to-gray-100 rounded-t-lg border border-gray-200/50 shadow-md transition-transform duration-700 origin-right ${e?"rotate-[70deg]":"rotate-0"}`,style:{transformStyle:"preserve-3d"},children:[n.jsx("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 w-1 h-3 bg-amber-700/30 rounded"}),n.jsx("div",{className:"absolute top-8 left-1/2 -translate-x-1/2 w-1 h-3 bg-amber-700/30 rounded"}),n.jsx("div",{className:"absolute top-14 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-amber-600/50 rounded-full"})]})]}),vge=({className:e="",showFlowers:t=!0,showGate:r=!1})=>{const a=Math.floor(12.5);return n.jsxs("div",{className:`relative w-full overflow-hidden ${e}`,children:[n.jsx("div",{className:"absolute bottom-6 left-0 right-0 h-2 bg-gradient-to-b from-white to-gray-100 shadow-sm"}),n.jsx("div",{className:"absolute bottom-12 left-0 right-0 h-2 bg-gradient-to-b from-white to-gray-100 shadow-sm"}),t&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-4 flex items-end justify-around px-8",children:Array.from({length:12}).map((i,o)=>n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-1 h-3 bg-gradient-to-t from-green-600 to-green-400 rounded-t-full"}),o%3===0&&n.jsx(Wb,{className:"absolute -top-2 -left-1 w-3 h-3 text-pink-300 drop-shadow-sm"})]},`ground-${o}`))}),n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"flex gap-3 items-end",children:Array.from({length:25}).map((i,o)=>{if(r&&o===a)return n.jsx(yge,{className:"mx-2"},"gate");const l=t&&(o%3===0||o%5===0||o%7===0),c=o*17%20-10;return n.jsxs("div",{className:"relative",style:{animationDelay:`${o*.05}s`},children:[l&&n.jsxs(n.Fragment,{children:[n.jsx(aN,{variant:o,size:"sm",style:{top:`${4+o%4*3}px`,left:`${c-4}px`}}),o%4===0&&n.jsx(aN,{variant:o+2,size:"xs",style:{top:`${12+o%3*4}px`,right:`${-2+o%2*3}px`}})]}),t&&o%6===1&&n.jsx(aN,{variant:o+5,size:"md",style:{top:"-8px",left:"50%",transform:"translateX(-50%)"}}),n.jsxs("div",{className:"w-4 h-16 bg-gradient-to-b from-white via-gray-50 to-gray-100 rounded-t-sm shadow-sm border border-gray-200/50",children:[n.jsx("div",{className:"absolute -top-2 left-0 w-0 h-0",style:{borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"8px solid white"}}),n.jsx("div",{className:"absolute top-4 left-1 w-0.5 h-8 bg-gray-200/40 rounded"})]}),t&&o%5===2&&n.jsxs("div",{className:"absolute -left-1 top-6 w-2 h-8",children:[n.jsx("div",{className:"w-0.5 h-full bg-gradient-to-t from-green-500 to-green-300 rounded-full mx-auto"}),n.jsx("div",{className:"absolute top-1 -left-1 w-2 h-1.5 bg-green-400 rounded-full rotate-45"}),n.jsx("div",{className:"absolute top-4 left-1 w-2 h-1.5 bg-green-400 rounded-full -rotate-45"})]}),t&&o%7===0&&n.jsx(VM,{delay:o*.2,style:{top:"-4px",left:`${8+o%3*4}px`}}),t&&o%11===0&&n.jsx(VM,{delay:o*.15+.5,style:{top:`${6+o%4*2}px`,right:"-6px"}}),t&&o%8===3&&n.jsx(zM,{delay:o*.3,style:{top:`${20+o%5*4}px`,left:"1px"}}),t&&o%13===0&&n.jsx(zM,{delay:o*.25+1,style:{top:`${30+o%3*5}px`,right:"-2px"}})]},o)})})})]})};function bge(){const e=ze(),{data:t=[],isLoading:r}=ft({queryKey:["co2-leaderboard"],queryFn:async()=>{const{data:s,error:a}=await Y.from("user_co2_stats").select("*").order("total_co2_saved",{ascending:!1}).limit(10);if(a)throw a;return(s||[]).map((i,o)=>({...i,rank:o+1}))}});return x.useEffect(()=>{const s=Y.channel("co2-leaderboard-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_co2_stats"},()=>{e.invalidateQueries({queryKey:["co2-leaderboard"]})}).subscribe();return()=>{Y.removeChannel(s)}},[e]),{leaderboard:t,isLoading:r}}function jge(){const e=ze();return Be({mutationFn:async({totalCO2Saved:t,completedTasksCount:r,displayName:s,currentSeason:a})=>{var c;const{data:{user:i}}=await Y.auth.getUser();if(!i)throw new Error("Not authenticated");const{data:o,error:l}=await Y.from("user_co2_stats").upsert({user_id:i.id,total_co2_saved:t,completed_tasks_count:r,display_name:s||((c=i.email)==null?void 0:c.split("@")[0])||"Anonymous",current_season:a},{onConflict:"user_id"}).select().single();if(l)throw l;return o},onSuccess:()=>{e.invalidateQueries({queryKey:["co2-leaderboard"]})}})}function wge(){return ft({queryKey:["current-user-rank"],queryFn:async()=>{const{data:{user:e}}=await Y.auth.getUser();if(!e)return null;const{data:t,error:r}=await Y.from("user_co2_stats").select("user_id, total_co2_saved").order("total_co2_saved",{ascending:!1});if(r)throw r;const s=t==null?void 0:t.findIndex(a=>a.user_id===e.id);return s===-1||s===void 0?null:s+1}})}const zt=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:z("w-full caption-bottom text-sm",e),...t})}));zt.displayName="Table";const Ut=x.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:z("[&_tr]:border-b",e),...t}));Ut.displayName="TableHeader";const Wt=x.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:z("[&_tr:last-child]:border-0",e),...t}));Wt.displayName="TableBody";const Nge=x.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:z("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Nge.displayName="TableFooter";const Ve=x.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:z("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Ve.displayName="TableRow";const te=x.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:z("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));te.displayName="TableHead";const Q=x.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:z("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Q.displayName="TableCell";const _ge=x.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:z("mt-4 text-sm text-muted-foreground",e),...t}));_ge.displayName="TableCaption";function al({className:e,...t}){return n.jsx("div",{className:z("animate-pulse rounded-md bg-muted",e),...t})}const Sge=e=>{switch(e){case 1:return n.jsx(ri,{className:"h-5 w-5 text-yellow-500"});case 2:return n.jsx(tO,{className:"h-5 w-5 text-slate-400"});case 3:return n.jsx(tO,{className:"h-5 w-5 text-amber-600"});default:return n.jsx("span",{className:"text-muted-foreground font-medium",children:e})}},Cge=e=>{switch(e){case 1:return"bg-yellow-500/10 border-yellow-500/30";case 2:return"bg-slate-400/10 border-slate-400/30";case 3:return"bg-amber-600/10 border-amber-600/30";default:return""}};function kge(){const{leaderboard:e,isLoading:t}=bge(),{data:r}=wge();return t?n.jsxs(q,{className:"border-primary/20 bg-card/80 backdrop-blur-sm",children:[n.jsx(de,{className:"pb-3",children:n.jsxs(ce,{className:"flex items-center gap-2 text-lg",children:[n.jsx(Fs,{className:"h-5 w-5 text-primary"}),"CO Leaderboard"]})}),n.jsx(K,{children:n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(s=>n.jsx(al,{className:"h-12 w-full"},s))})})]}):e.length===0?n.jsxs(q,{className:"border-primary/20 bg-card/80 backdrop-blur-sm",children:[n.jsx(de,{className:"pb-3",children:n.jsxs(ce,{className:"flex items-center gap-2 text-lg",children:[n.jsx(Fs,{className:"h-5 w-5 text-primary"}),"CO Leaderboard"]})}),n.jsx(K,{children:n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Dv,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),n.jsx("p",{children:"No gardeners yet!"}),n.jsx("p",{className:"text-sm",children:"Complete tasks to join the leaderboard."})]})})]}):n.jsxs(q,{className:"border-primary/20 bg-card/80 backdrop-blur-sm",children:[n.jsx(de,{className:"pb-3",children:n.jsxs(ce,{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2 text-lg",children:[n.jsx(Fs,{className:"h-5 w-5 text-primary"}),"CO Leaderboard"]}),r&&n.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["Your rank: #",r]})]})}),n.jsx(K,{className:"pt-0",children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{className:"hover:bg-transparent",children:[n.jsx(te,{className:"w-16",children:"Rank"}),n.jsx(te,{children:"Gardener"}),n.jsx(te,{className:"text-right",children:"CO Saved"}),n.jsx(te,{className:"text-right hidden sm:table-cell",children:"Tasks"})]})}),n.jsx(Wt,{children:e.map(s=>n.jsxs(Ve,{className:z("transition-colors",s.rank&&s.rank<=3&&Cge(s.rank)),children:[n.jsx(Q,{className:"font-medium",children:n.jsx("div",{className:"flex items-center justify-center w-8 h-8",children:Sge(s.rank||0)})}),n.jsx(Q,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:n.jsx(Dv,{className:"h-4 w-4 text-primary"})}),n.jsx("span",{className:"font-medium truncate max-w-[120px] sm:max-w-[200px]",children:s.display_name||"Anonymous Gardener"})]})}),n.jsx(Q,{className:"text-right",children:n.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:[s.total_co2_saved.toFixed(1)," kg"]})}),n.jsx(Q,{className:"text-right hidden sm:table-cell text-muted-foreground",children:s.completed_tasks_count})]},s.id))})]})})]})}const c0={spring:{name:"Spring Blossom Garden",description:"Cherry blossoms, tulips, and fresh spring blooms",icon:rB,background:"from-pink-100 via-rose-50 to-green-100",skyGradient:"from-sky-200/40 to-pink-100/20",sunColor:"bg-yellow-300",groundColor:"from-amber-700/30 via-green-600/20 to-transparent",borderColor:"border-pink-300/50",textColor:"text-pink-800",subtextColor:"text-pink-600",plants:[{id:"cherry_blossom",name:"Cherry Blossom",co2:45,icon:"",requiredPoints:12},{id:"tulip",name:"Tulip",co2:8,icon:"",requiredPoints:4},{id:"daisy",name:"Daisy",co2:5,icon:"",requiredPoints:3},{id:"butterfly",name:"Butterfly Bush",co2:25,icon:"",requiredPoints:10},{id:"daffodil",name:"Daffodil",co2:6,icon:"",requiredPoints:4},{id:"magnolia",name:"Magnolia",co2:60,icon:"",requiredPoints:20}],decorations:["","",""],weather:""},summer:{name:"Tropical Paradise",description:"Palm trees, hibiscus, and summer sunshine",icon:Lv,background:"from-cyan-100 via-sky-50 to-yellow-100",skyGradient:"from-sky-300/30 to-cyan-100/20",sunColor:"bg-orange-400",groundColor:"from-amber-800/40 via-yellow-600/20 to-transparent",borderColor:"border-cyan-300/50",textColor:"text-cyan-800",subtextColor:"text-cyan-600",plants:[{id:"palm",name:"Palm Tree",co2:80,icon:"",requiredPoints:25},{id:"hibiscus",name:"Hibiscus",co2:15,icon:"",requiredPoints:6},{id:"sunflower",name:"Sunflower",co2:18,icon:"",requiredPoints:7},{id:"cactus",name:"Cactus",co2:12,icon:"",requiredPoints:5},{id:"tropical",name:"Tropical Flower",co2:20,icon:"",requiredPoints:8},{id:"coconut",name:"Coconut Palm",co2:100,icon:"",requiredPoints:35}],decorations:["","",""],weather:""},fall:{name:"Harvest Garden",description:"Pumpkins, corn, and autumn colors",icon:Dv,background:"from-orange-100 via-amber-50 to-yellow-100",skyGradient:"from-orange-200/30 to-amber-100/20",sunColor:"bg-amber-400",groundColor:"from-amber-900/50 via-orange-700/30 to-transparent",borderColor:"border-orange-300/50",textColor:"text-orange-800",subtextColor:"text-orange-600",plants:[{id:"pumpkin",name:"Pumpkin",co2:15,icon:"",requiredPoints:6},{id:"corn",name:"Corn",co2:22,icon:"",requiredPoints:8},{id:"maple",name:"Maple Tree",co2:90,icon:"",requiredPoints:30},{id:"apple",name:"Apple Tree",co2:70,icon:"",requiredPoints:22},{id:"wheat",name:"Wheat",co2:10,icon:"",requiredPoints:4},{id:"mushroom",name:"Mushroom",co2:3,icon:"",requiredPoints:2}],decorations:["","",""],weather:""},winter:{name:"Evergreen Wonderland",description:"Pine trees, holly, and winter magic",icon:See,background:"from-slate-100 via-blue-50 to-white",skyGradient:"from-blue-200/40 to-slate-100/30",sunColor:"bg-blue-200",groundColor:"from-slate-300/50 via-blue-100/30 to-transparent",borderColor:"border-blue-200/50",textColor:"text-blue-800",subtextColor:"text-blue-600",plants:[{id:"pine",name:"Pine Tree",co2:85,icon:"",requiredPoints:28},{id:"holly",name:"Holly Bush",co2:20,icon:"",requiredPoints:8},{id:"snowdrop",name:"Snowdrop",co2:5,icon:"",requiredPoints:3},{id:"spruce",name:"Blue Spruce",co2:95,icon:"",requiredPoints:32},{id:"mistletoe",name:"Mistletoe",co2:8,icon:"",requiredPoints:4},{id:"poinsettia",name:"Poinsettia",co2:12,icon:"",requiredPoints:5}],decorations:["","",""],weather:""}};function Tge(){const e=new Date().getMonth();return e>=2&&e<=4?"spring":e>=5&&e<=7?"summer":e>=8&&e<=10?"fall":"winter"}const Ege=[{id:"hoe",name:"Garden Hoe",icon:"",description:"Complete 2+ high-priority tasks"},{id:"soil",name:"Rich Soil",icon:"",description:"Complete 5+ total tasks"},{id:"water",name:"Water Can",icon:"",description:"Complete 3+ tasks"}],Pge={spring:[{id:"spring_sprout",name:"Spring Sprout",icon:"",description:"Complete 3 tasks in spring",requirement:3,tier:"bronze"},{id:"spring_bloomer",name:"Spring Bloomer",icon:"",description:"Complete 7 tasks in spring",requirement:7,tier:"silver"},{id:"spring_master",name:"Blossom Master",icon:"",description:"Complete 15 tasks in spring",requirement:15,tier:"gold"}],summer:[{id:"summer_starter",name:"Summer Starter",icon:"",description:"Complete 3 tasks in summer",requirement:3,tier:"bronze"},{id:"summer_surfer",name:"Wave Rider",icon:"",description:"Complete 7 tasks in summer",requirement:7,tier:"silver"},{id:"summer_champion",name:"Beach Champion",icon:"",description:"Complete 15 tasks in summer",requirement:15,tier:"gold"}],fall:[{id:"fall_harvester",name:"Fall Harvester",icon:"",description:"Complete 3 tasks in fall",requirement:3,tier:"bronze"},{id:"fall_gatherer",name:"Harvest Gatherer",icon:"",description:"Complete 7 tasks in fall",requirement:7,tier:"silver"},{id:"fall_legend",name:"Autumn Legend",icon:"",description:"Complete 15 tasks in fall",requirement:15,tier:"gold"}],winter:[{id:"winter_walker",name:"Winter Walker",icon:"",description:"Complete 3 tasks in winter",requirement:3,tier:"bronze"},{id:"winter_warrior",name:"Frost Warrior",icon:"",description:"Complete 7 tasks in winter",requirement:7,tier:"silver"},{id:"winter_champion",name:"Winter Champion",icon:"",description:"Complete 15 tasks in winter",requirement:15,tier:"gold"}]};function Age({plant:e,index:t,season:r}){const s=t*.1,a=c0[r];return n.jsxs("div",{className:"flex flex-col items-center transition-all duration-500 animate-fade-in",style:{animationDelay:`${s}s`},children:[n.jsx("span",{className:"text-2xl md:text-3xl drop-shadow-md hover:scale-110 transition-transform cursor-default",role:"img","aria-label":e.name,children:e.icon}),n.jsxs("div",{className:z("text-[10px] text-center mt-1 font-medium px-1 rounded bg-white/70",a.textColor),children:[e.co2,"kg CO"]})]})}function Oge({tool:e,earned:t}){return n.jsxs("div",{className:z("flex items-center gap-2 px-3 py-2 rounded-lg border transition-all",t?"bg-amber-50 border-amber-200 text-amber-800":"bg-gray-100 border-gray-200 text-gray-400 opacity-50"),children:[n.jsx("span",{className:"text-xl",children:e.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:e.name}),n.jsx("div",{className:"text-[10px]",children:t?"Earned!":e.description})]})]})}function Mge({achievement:e,earned:t,progress:r,season:s}){const a={bronze:"from-amber-600 to-amber-400 border-amber-500",silver:"from-slate-400 to-slate-200 border-slate-400",gold:"from-yellow-500 to-amber-300 border-yellow-500"};return n.jsx(Hx,{children:n.jsxs(Wl,{children:[n.jsx(ql,{asChild:!0,children:n.jsxs("div",{className:z("relative flex flex-col items-center p-2 rounded-xl border-2 transition-all cursor-default min-w-[70px]",t?`bg-gradient-to-b ${a[e.tier]} shadow-lg`:"bg-gray-100/80 border-gray-300 opacity-60"),children:[n.jsx("span",{className:z("text-2xl transition-all",t?"drop-shadow-md":"grayscale"),children:e.icon}),n.jsx("div",{className:z("text-[9px] font-bold text-center mt-1 leading-tight",t?"text-white drop-shadow":"text-gray-500"),children:e.name}),!t&&n.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-[80%] h-1 bg-gray-300 rounded-full overflow-hidden",children:n.jsx("div",{className:z("h-full rounded-full transition-all",s==="spring"?"bg-pink-500":s==="summer"?"bg-cyan-500":s==="fall"?"bg-orange-500":"bg-blue-400"),style:{width:`${Math.min(100,r/e.requirement*100)}%`}})}),t&&n.jsx("div",{className:"absolute -top-1 -right-1 text-xs",children:e.tier==="gold"?"":e.tier==="silver"?"":""})]})}),n.jsx(_o,{side:"top",className:"max-w-[200px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"font-bold",children:e.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:e.description}),n.jsx("div",{className:"text-xs mt-1 font-medium",children:t?" Achieved!":`Progress: ${r}/${e.requirement}`})]})})]})})}function Rge({currentSeason:e,selectedSeason:t,onSeasonChange:r}){const s=["spring","summer","fall","winter"];return n.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[n.jsx("div",{className:"flex gap-1",children:s.map(a=>{const i=c0[a],o=i.icon,l=a===t,c=a===e;return n.jsxs("button",{onClick:()=>r(a),className:z("flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium transition-all",l?`${i.textColor} bg-white shadow-md border ${i.borderColor}`:"text-gray-400 bg-gray-100/50 hover:bg-gray-200/50",c&&!l&&"ring-1 ring-offset-1 ring-gray-300"),title:c?`${a} (current)`:a,children:[n.jsx(o,{className:"h-3 w-3"}),n.jsx("span",{className:"capitalize hidden sm:inline",children:a})]},a)})}),n.jsxs(Re,{value:t,onValueChange:a=>r(a),children:[n.jsx(Pe,{className:"w-[140px] h-8 text-xs sm:hidden",children:n.jsx(Ie,{})}),n.jsx(Ae,{children:s.map(a=>{const o=c0[a].icon,l=a===e;return n.jsx(he,{value:a,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(o,{className:"h-3 w-3"}),n.jsx("span",{className:"capitalize",children:a}),l&&n.jsx("span",{className:"text-muted-foreground",children:"(now)"})]})},a)})})]})]})}function UM({actionItems:e,className:t}){const r=Tge(),[s,a]=x.useState(r),i=c0[s],o=i.icon,l=jge(),c=x.useMemo(()=>{const d=e.filter(_=>_.is_completed),u=d.filter(_=>_.priority==="high"),h=d.filter(_=>_.priority==="medium");let m=0;d.forEach(_=>{_.priority==="high"?m+=10:_.priority==="medium"?m+=5:m+=2});let f=0;const p=[];let g=m;const v=[...i.plants].sort((_,C)=>C.requiredPoints-_.requiredPoints);for(const _ of v)for(;g>=_.requiredPoints;)p.push(_),f+=_.co2,g-=_.requiredPoints;const j={hoe:u.length>=2,soil:d.length>=5,water:h.length>=3||d.length>=3},y=Math.min(...i.plants.map(_=>_.requiredPoints)),b=g<y?y-g:0,N=Pge[s].map(_=>({..._,earned:d.length>=_.requirement}));return{completedCount:d.length,points:m,totalCo2:f,earnedPlants:p.slice(0,20),earnedTools:j,pointsToNext:b,remainingPoints:g,earnedAchievements:N}},[e,i.plants,s]);return x.useEffect(()=>{c.completedCount>0&&l.mutate({totalCO2Saved:c.totalCo2,completedTasksCount:c.completedCount,currentSeason:s})},[c.totalCo2,c.completedCount,s]),n.jsxs("div",{className:z("relative",t),children:[n.jsx(Rge,{currentSeason:r,selectedSeason:s,onSeasonChange:a}),n.jsxs("div",{className:"text-center mb-4",children:[n.jsxs("h3",{className:z("text-lg font-bold flex items-center justify-center gap-2",i.textColor),children:[n.jsx(o,{className:"h-5 w-5"}),i.name]}),n.jsx("p",{className:z("text-sm",i.subtextColor),children:i.description})]}),n.jsxs("div",{className:"flex justify-center gap-6 mb-4 text-sm",children:[n.jsxs("div",{className:z("flex items-center gap-1",i.textColor),children:[n.jsx(Tee,{className:"h-4 w-4"}),n.jsx("span",{className:"font-bold",children:c.earnedPlants.length})," plants"]}),n.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[n.jsx(HJ,{className:"h-4 w-4"}),n.jsx("span",{className:"font-bold",children:c.totalCo2}),"kg CO saved"]}),n.jsxs("div",{className:"flex items-center gap-1 text-amber-600",children:[n.jsx(Nee,{className:"h-4 w-4"}),n.jsx("span",{className:"font-bold",children:c.points})," garden points"]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[n.jsx(ri,{className:z("h-4 w-4",i.textColor)}),n.jsxs("span",{className:z("text-sm font-semibold",i.textColor),children:[s.charAt(0).toUpperCase()+s.slice(1)," Achievements"]})]}),n.jsx("div",{className:"flex justify-center gap-2 flex-wrap",children:c.earnedAchievements.map(d=>n.jsx(Mge,{achievement:d,earned:d.earned,progress:c.completedCount,season:s},d.id))})]}),n.jsx("div",{className:"flex justify-center gap-3 mb-4 flex-wrap",children:Ege.map(d=>n.jsx(Oge,{tool:d,earned:c.earnedTools[d.id]},d.id))}),n.jsxs("div",{className:z("relative rounded-2xl overflow-hidden border-4",`bg-gradient-to-b ${i.background}`,i.borderColor),children:[n.jsx("div",{className:z("absolute inset-0 h-1/2",`bg-gradient-to-b ${i.skyGradient}`)}),n.jsx("div",{className:z("absolute top-4 right-6 w-10 h-10 rounded-full shadow-lg animate-pulse",i.sunColor)}),n.jsx("div",{className:"absolute top-6 left-10 text-2xl opacity-60",children:i.weather}),n.jsx("div",{className:"absolute top-8 left-1/3 text-xl opacity-40",children:i.weather}),n.jsx("div",{className:"absolute top-12 right-1/4 text-lg opacity-50 animate-bounce",style:{animationDuration:"3s"},children:i.decorations[0]}),n.jsx("div",{className:"absolute top-16 left-1/4 text-lg opacity-40 animate-bounce",style:{animationDuration:"4s",animationDelay:"1s"},children:i.decorations[1]}),n.jsx("div",{className:"relative pt-16 pb-8 px-6 min-h-[160px]",children:c.earnedPlants.length===0?n.jsxs("div",{className:z("text-center py-8 opacity-60",i.subtextColor),children:[n.jsx(Wb,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsxs("p",{className:"text-sm",children:["Complete tasks to grow your ",s," garden!"]}),n.jsxs("p",{className:"text-xs mt-1",children:["Next plant in ",n.jsx("span",{className:"font-bold",children:c.pointsToNext})," points"]})]}):n.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:c.earnedPlants.map((d,u)=>n.jsx(Age,{plant:d,index:u,season:s},`${d.id}-${u}`))})}),n.jsx("div",{className:z("h-6",`bg-gradient-to-t ${i.groundColor}`)}),n.jsx("div",{className:"relative -mb-4",children:n.jsx(vge,{className:"h-20",showFlowers:s==="spring"||s==="summer"})})]}),c.pointsToNext>0&&n.jsxs("div",{className:"mt-3 text-center",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.jsxs("span",{className:"font-medium",children:[c.pointsToNext," more points"]})," until next ",s," plant"]}),n.jsx("div",{className:"w-32 h-1.5 bg-gray-200 rounded-full mx-auto mt-1 overflow-hidden",children:n.jsx("div",{className:z("h-full rounded-full transition-all duration-500",s==="spring"?"bg-pink-500":s==="summer"?"bg-cyan-500":s==="fall"?"bg-orange-500":"bg-blue-400"),style:{width:`${Math.min(100,c.remainingPoints/Math.min(...i.plants.map(d=>d.requiredPoints))*100)}%`}})})]}),n.jsx("div",{className:"mt-6",children:n.jsx(kge,{})})]})}var Ej="Popover",[oU,Mqe]=Zr(Ej,[ec]),dg=ec(),[Ige,oc]=oU(Ej),lU=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=dg(t),c=x.useRef(null),[d,u]=x.useState(!1),[h,m]=Kn({prop:s,defaultProp:a??!1,onChange:i,caller:Ej});return n.jsx(Qb,{...l,children:n.jsx(Ige,{scope:t,contentId:ws(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(f=>!f),[m]),hasCustomAnchor:d,onCustomAnchorAdd:x.useCallback(()=>u(!0),[]),onCustomAnchorRemove:x.useCallback(()=>u(!1),[]),modal:o,children:r})})};lU.displayName=Ej;var cU="PopoverAnchor",Dge=x.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=oc(cU,r),i=dg(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(qx,{...i,...s,ref:t})});Dge.displayName=cU;var dU="PopoverTrigger",uU=x.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=oc(dU,r),i=dg(r),o=Qe(t,a.triggerRef),l=n.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":xU(a.open),...s,ref:o,onClick:me(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(qx,{asChild:!0,...i,children:l})});uU.displayName=dU;var UE="PopoverPortal",[$ge,Lge]=oU(UE,{forceMount:void 0}),hU=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,i=oc(UE,t);return n.jsx($ge,{scope:t,forceMount:r,children:n.jsx(dn,{present:r||i.open,children:n.jsx(om,{asChild:!0,container:a,children:s})})})};hU.displayName=UE;var kh="PopoverContent",mU=x.forwardRef((e,t)=>{const r=Lge(kh,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,i=oc(kh,e.__scopePopover);return n.jsx(dn,{present:s||i.open,children:i.modal?n.jsx(Bge,{...a,ref:t}):n.jsx(Vge,{...a,ref:t})})});mU.displayName=kh;var Fge=Ll("PopoverContent.RemoveScroll"),Bge=x.forwardRef((e,t)=>{const r=oc(kh,e.__scopePopover),s=x.useRef(null),a=Qe(t,s),i=x.useRef(!1);return x.useEffect(()=>{const o=s.current;if(o)return fj(o)},[]),n.jsx(tg,{as:Fge,allowPinchZoom:!0,children:n.jsx(fU,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:me(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Vge=x.forwardRef((e,t)=>{const r=oc(kh,e.__scopePopover),s=x.useRef(!1),a=x.useRef(!1);return n.jsx(fU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),fU=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,m=oc(kh,r),f=dg(r);return mj(),n.jsx(Jx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(Pd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:n.jsx(Zb,{"data-state":xU(m.open),role:"dialog",id:m.contentId,...f,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),pU="PopoverClose",zge=x.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=oc(pU,r);return n.jsx(Ce.button,{type:"button",...s,ref:t,onClick:me(e.onClick,()=>a.onOpenChange(!1))})});zge.displayName=pU;var Uge="PopoverArrow",Wge=x.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=dg(r);return n.jsx(Jb,{...a,...s,ref:t})});Wge.displayName=Uge;function xU(e){return e?"open":"closed"}var qge=lU,Hge=uU,Kge=hU,gU=mU;const WM=qge,qM=Hge,b2=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},a)=>n.jsx(Kge,{children:n.jsx(gU,{ref:a,align:t,sideOffset:r,className:z("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));b2.displayName=gU.displayName;var ot=function(){return ot=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ot.apply(this,arguments)};function Gge(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function yU(e,t,r){for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function ug(e){return e.mode==="multiple"}function hg(e){return e.mode==="range"}function Pj(e){return e.mode==="single"}var Yge={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Xge(e,t){return _t(e,"LLLL y",t)}function Qge(e,t){return _t(e,"d",t)}function Zge(e,t){return _t(e,"LLLL",t)}function Jge(e){return"".concat(e)}function eye(e,t){return _t(e,"cccccc",t)}function tye(e,t){return _t(e,"yyyy",t)}var rye=Object.freeze({__proto__:null,formatCaption:Xge,formatDay:Qge,formatMonthCaption:Zge,formatWeekNumber:Jge,formatWeekdayName:eye,formatYearCaption:tye}),nye=function(e,t,r){return _t(e,"do MMMM (EEEE)",r)},sye=function(){return"Month: "},aye=function(){return"Go to next month"},iye=function(){return"Go to previous month"},oye=function(e,t){return _t(e,"cccc",t)},lye=function(e){return"Week n. ".concat(e)},cye=function(){return"Year: "},dye=Object.freeze({__proto__:null,labelDay:nye,labelMonthDropdown:sye,labelNext:aye,labelPrevious:iye,labelWeekNumber:lye,labelWeekday:oye,labelYearDropdown:cye});function uye(){var e="buttons",t=Yge,r=IE,s={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:rye,labels:dye,locale:r,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function hye(e){var t=e.fromYear,r=e.toYear,s=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return s?i=Ns(s):t&&(i=new Date(t,0,1)),a?o=Sj(a):r&&(o=new Date(r,11,31)),{fromDate:i?_h(i):void 0,toDate:o?_h(o):void 0}}var vU=x.createContext(void 0);function mye(e){var t,r=e.initialProps,s=uye(),a=hye(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(Pj(r)||ug(r)||hg(r))&&(c=r.onSelect);var d=ot(ot(ot({},s),r),{captionLayout:l,classNames:ot(ot({},s.classNames),r.classNames),components:ot({},r.components),formatters:ot(ot({},s.formatters),r.formatters),fromDate:i,labels:ot(ot({},s.labels),r.labels),mode:r.mode||s.mode,modifiers:ot(ot({},s.modifiers),r.modifiers),modifiersClassNames:ot(ot({},s.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:ot(ot({},s.styles),r.styles),toDate:o});return n.jsx(vU.Provider,{value:d,children:e.children})}function dr(){var e=x.useContext(vU);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function bU(e){var t=dr(),r=t.locale,s=t.classNames,a=t.styles,i=t.formatters.formatCaption;return n.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function fye(e){return n.jsx("svg",ot({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function jU(e){var t,r,s=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=dr(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:fye;return n.jsxs("div",{className:l,style:c,children:[n.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:s,children:i}),n.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,n.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function pye(e){var t,r=dr(),s=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!s)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var h=[];if(tge(s,a))for(var m=Ns(s),f=s.getMonth();f<=a.getMonth();f++)h.push(rN(m,f));else for(var m=Ns(new Date),f=0;f<=11;f++)h.push(rN(m,f));var p=function(v){var j=Number(v.target.value),y=rN(Ns(e.displayMonth),j);e.onChange(y)},g=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:jU;return n.jsx(g,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:p,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(v){return n.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function xye(e){var t,r=e.displayMonth,s=dr(),a=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,c=s.classNames,d=s.components,u=s.formatters.formatYearCaption,h=s.labels.labelYearDropdown,m=[];if(!a)return n.jsx(n.Fragment,{});if(!i)return n.jsx(n.Fragment,{});for(var f=a.getFullYear(),p=i.getFullYear(),g=f;g<=p;g++)m.push($M(Mz(new Date),g));var v=function(y){var b=$M(Ns(r),Number(y.target.value));e.onChange(b)},j=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:jU;return n.jsx(j,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:u(r,{locale:o}),children:m.map(function(y){return n.jsx("option",{value:y.getFullYear(),children:u(y,{locale:o})},y.getFullYear())})})}function gye(e,t){var r=x.useState(e),s=r[0],a=r[1],i=t===void 0?s:t;return[i,a]}function yye(e){var t=e.month,r=e.defaultMonth,s=e.today,a=t||r||s||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Ch(i,a)<0){var d=-1*(c-1);a=Ja(i,d)}return o&&Ch(a,o)<0&&(a=o),Ns(a)}function vye(){var e=dr(),t=yye(e),r=gye(t,e.month),s=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Ns(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[s,i]}function bye(e,t){for(var r=t.reverseMonths,s=t.numberOfMonths,a=Ns(e),i=Ns(Ja(a,s)),o=Ch(i,a),l=[],c=0;c<o;c++){var d=Ja(a,c);l.push(d)}return r&&(l=l.reverse()),l}function jye(e,t){if(!t.disableNavigation){var r=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=Ns(e);if(!r)return Ja(l,o);var c=Ch(r,e);if(!(c<i))return Ja(l,o)}}function wye(e,t){if(!t.disableNavigation){var r=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=Ns(e);if(!r)return Ja(l,-o);var c=Ch(l,r);if(!(c<=0))return Ja(l,-o)}}var wU=x.createContext(void 0);function Nye(e){var t=dr(),r=vye(),s=r[0],a=r[1],i=bye(s,t),o=jye(s,t),l=wye(s,t),c=function(h){return i.some(function(m){return DE(h,m)})},d=function(h,m){c(h)||(m&&Bz(h,m)?a(Ja(h,1+t.numberOfMonths*-1)):a(h))},u={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return n.jsx(wU.Provider,{value:u,children:e.children})}function mg(){var e=x.useContext(wU);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function HM(e){var t,r=dr(),s=r.classNames,a=r.styles,i=r.components,o=mg().goToMonth,l=function(u){o(Ja(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:bU,d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:s.vhidden,children:d}),n.jsx(pye,{onChange:l,displayMonth:e.displayMonth}),n.jsx(xye,{onChange:l,displayMonth:e.displayMonth})]})}function _ye(e){return n.jsx("svg",ot({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Sye(e){return n.jsx("svg",ot({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var d0=x.forwardRef(function(e,t){var r=dr(),s=r.classNames,a=r.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var o=i.join(" "),l=ot(ot({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),n.jsx("button",ot({},e,{ref:t,type:"button",className:o,style:l}))});function Cye(e){var t,r,s=dr(),a=s.dir,i=s.locale,o=s.classNames,l=s.styles,c=s.labels,d=c.labelPrevious,u=c.labelNext,h=s.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var m=d(e.previousMonth,{locale:i}),f=[o.nav_button,o.nav_button_previous].join(" "),p=u(e.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),v=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:Sye,j=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:_ye;return n.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(d0,{name:"previous-month","aria-label":m,className:f,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?n.jsx(v,{className:o.nav_icon,style:l.nav_icon}):n.jsx(j,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(d0,{name:"next-month","aria-label":p,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?n.jsx(j,{className:o.nav_icon,style:l.nav_icon}):n.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function KM(e){var t=dr().numberOfMonths,r=mg(),s=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(p){return DE(e.displayMonth,p)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),h=t>1&&(d||!c),m=function(){s&&i(s)},f=function(){a&&i(a)};return n.jsx(Cye,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:h,nextMonth:a,previousMonth:s,onPreviousClick:m,onNextClick:f})}function kye(e){var t,r=dr(),s=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:bU,d;return a?d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=n.jsx(HM,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=n.jsxs(n.Fragment,{children:[n.jsx(HM,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(KM,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=n.jsxs(n.Fragment,{children:[n.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(KM,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:s.caption,style:i.caption,children:d})}function Tye(e){var t=dr(),r=t.footer,s=t.styles,a=t.classNames.tfoot;return r?n.jsx("tfoot",{className:a,style:s.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function Eye(e,t,r){for(var s=r?yd(new Date):Fi(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Jn(s,i);a.push(o)}return a}function Pye(){var e=dr(),t=e.classNames,r=e.styles,s=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=Eye(a,i,o);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[s&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,h){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},h)})]})}function Aye(){var e,t=dr(),r=t.classNames,s=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:Pye;return n.jsx("thead",{style:s.head,className:r.head,children:n.jsx(i,{})})}function Oye(e){var t=dr(),r=t.locale,s=t.formatters.formatDay;return n.jsx(n.Fragment,{children:s(e.date,{locale:r})})}var WE=x.createContext(void 0);function Mye(e){if(!ug(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(WE.Provider,{value:t,children:e.children})}return n.jsx(Rye,{initialProps:e.initialProps,children:e.children})}function Rye(e){var t=e.initialProps,r=e.children,s=t.selected,a=t.min,i=t.max,o=function(d,u,h){var m,f;(m=t.onDayClick)===null||m===void 0||m.call(t,d,u,h);var p=!!(u.selected&&a&&(s==null?void 0:s.length)===a);if(!p){var g=!!(!u.selected&&i&&(s==null?void 0:s.length)===i);if(!g){var v=s?yU([],s):[];if(u.selected){var j=v.findIndex(function(y){return gs(d,y)});v.splice(j,1)}else v.push(d);(f=t.onSelect)===null||f===void 0||f.call(t,v,d,u,h)}}},l={disabled:[]};s&&l.disabled.push(function(d){var u=i&&s.length>i-1,h=s.some(function(m){return gs(m,d)});return!!(u&&!h)});var c={selected:s,onDayClick:o,modifiers:l};return n.jsx(WE.Provider,{value:c,children:r})}function qE(){var e=x.useContext(WE);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Iye(e,t){var r=t||{},s=r.from,a=r.to;return s&&a?gs(a,e)&&gs(s,e)?void 0:gs(a,e)?{from:a,to:void 0}:gs(s,e)?void 0:v2(s,e)?{from:e,to:a}:{from:s,to:e}:a?v2(e,a)?{from:a,to:e}:{from:e,to:a}:s?Bz(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var HE=x.createContext(void 0);function Dye(e){if(!hg(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(HE.Provider,{value:t,children:e.children})}return n.jsx($ye,{initialProps:e.initialProps,children:e.children})}function $ye(e){var t=e.initialProps,r=e.children,s=t.selected,a=s||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(f,p,g){var v,j;(v=t.onDayClick)===null||v===void 0||v.call(t,f,p,g);var y=Iye(f,s);(j=t.onSelect)===null||j===void 0||j.call(t,y,f,p,g)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],gs(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:tN(i,l-1),before:Jn(i,l-1)}),i&&o&&u.disabled.push({after:i,before:Jn(i,l-1)}),!i&&o&&u.disabled.push({after:tN(o,l-1),before:Jn(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:Jn(i,-c+1)}),u.disabled.push({after:Jn(i,c-1)})),i&&o){var h=gi(o,i)+1,m=c-h;u.disabled.push({before:tN(i,m)}),u.disabled.push({after:Jn(o,m)})}!i&&o&&(u.disabled.push({before:Jn(o,-c+1)}),u.disabled.push({after:Jn(o,c-1)}))}return n.jsx(HE.Provider,{value:{selected:s,onDayClick:d,modifiers:u},children:r})}function KE(){var e=x.useContext(HE);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function iv(e){return Array.isArray(e)?yU([],e):e!==void 0?[e]:[]}function Lye(e){var t={};return Object.entries(e).forEach(function(r){var s=r[0],a=r[1];t[s]=iv(a)}),t}var ei;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ei||(ei={}));var Fye=ei.Selected,Gi=ei.Disabled,Bye=ei.Hidden,Vye=ei.Today,iN=ei.RangeEnd,oN=ei.RangeMiddle,lN=ei.RangeStart,zye=ei.Outside;function Uye(e,t,r){var s,a=(s={},s[Fye]=iv(e.selected),s[Gi]=iv(e.disabled),s[Bye]=iv(e.hidden),s[Vye]=[e.today],s[iN]=[],s[oN]=[],s[lN]=[],s[zye]=[],s);return e.fromDate&&a[Gi].push({before:e.fromDate}),e.toDate&&a[Gi].push({after:e.toDate}),ug(e)?a[Gi]=a[Gi].concat(t.modifiers[Gi]):hg(e)&&(a[Gi]=a[Gi].concat(r.modifiers[Gi]),a[lN]=r.modifiers[lN],a[oN]=r.modifiers[oN],a[iN]=r.modifiers[iN]),a}var NU=x.createContext(void 0);function Wye(e){var t=dr(),r=qE(),s=KE(),a=Uye(t,r,s),i=Lye(t.modifiers),o=ot(ot({},a),i);return n.jsx(NU.Provider,{value:o,children:e.children})}function _U(){var e=x.useContext(NU);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function qye(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Hye(e){return!!(e&&typeof e=="object"&&"from"in e)}function Kye(e){return!!(e&&typeof e=="object"&&"after"in e)}function Gye(e){return!!(e&&typeof e=="object"&&"before"in e)}function Yye(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Xye(e,t){var r,s=t.from,a=t.to;if(s&&a){var i=gi(a,s)<0;i&&(r=[a,s],s=r[0],a=r[1]);var o=gi(e,s)>=0&&gi(a,e)>=0;return o}return a?gs(a,e):s?gs(s,e):!1}function Qye(e){return ME(e)}function Zye(e){return Array.isArray(e)&&e.every(ME)}function Jye(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Qye(r))return gs(e,r);if(Zye(r))return r.includes(e);if(Hye(r))return Xye(e,r);if(Yye(r))return r.dayOfWeek.includes(e.getDay());if(qye(r)){var s=gi(r.before,e),a=gi(r.after,e),i=s>0,o=a<0,l=v2(r.before,r.after);return l?o&&i:i||o}return Kye(r)?gi(e,r.after)>0:Gye(r)?gi(r.before,e)>0:typeof r=="function"?r(e):!1})}function GE(e,t,r){var s=Object.keys(t).reduce(function(i,o){var l=t[o];return Jye(e,l)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),r&&!DE(e,r)&&(a.outside=!0),a}function eve(e,t){for(var r=Ns(e[0]),s=Sj(e[e.length-1]),a,i,o=r;o<=s;){var l=GE(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Jn(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Jn(o,1)}return i||a}var tve=365;function SU(e,t){var r=t.moveBy,s=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,h=a.locale,m={day:Jn,week:y2,month:Ja,year:Upe,startOfWeek:function(v){return a.ISOWeek?yd(v):Fi(v,{locale:h,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?Rz(v):RE(v,{locale:h,weekStartsOn:c})}},f=m[r](e,s==="after"?1:-1);s==="before"&&d?f=Wpe([d,f]):s==="after"&&u&&(f=qpe([u,f]));var p=!0;if(i){var g=GE(f,i);p=!g.disabled&&!g.hidden}return p?f:l.count>tve?l.lastFocused:SU(f,{moveBy:r,direction:s,context:a,modifiers:i,retry:ot(ot({},l),{count:l.count+1})})}var CU=x.createContext(void 0);function rve(e){var t=mg(),r=_U(),s=x.useState(),a=s[0],i=s[1],o=x.useState(),l=o[0],c=o[1],d=eve(t.displayMonths,r),u=a??(l&&t.isDateDisplayed(l))?l:d,h=function(){c(a),i(void 0)},m=function(v){i(v)},f=dr(),p=function(v,j){if(a){var y=SU(a,{moveBy:v,direction:j,context:f,modifiers:r});gs(a,y)||(t.goToDate(y,a),m(y))}},g={focusedDay:a,focusTarget:u,blur:h,focus:m,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return n.jsx(CU.Provider,{value:g,children:e.children})}function YE(){var e=x.useContext(CU);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function nve(e,t){var r=_U(),s=GE(e,r,t);return s}var XE=x.createContext(void 0);function sve(e){if(!Pj(e.initialProps)){var t={selected:void 0};return n.jsx(XE.Provider,{value:t,children:e.children})}return n.jsx(ave,{initialProps:e.initialProps,children:e.children})}function ave(e){var t=e.initialProps,r=e.children,s=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:s};return n.jsx(XE.Provider,{value:a,children:r})}function kU(){var e=x.useContext(XE);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function ive(e,t){var r=dr(),s=kU(),a=qE(),i=KE(),o=YE(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,h=o.blur,m=o.focus,f=o.focusMonthBefore,p=o.focusMonthAfter,g=o.focusYearBefore,v=o.focusYearAfter,j=o.focusStartOfWeek,y=o.focusEndOfWeek,b=function(O){var P,I,G,re;Pj(r)?(P=s.onDayClick)===null||P===void 0||P.call(s,e,t,O):ug(r)?(I=a.onDayClick)===null||I===void 0||I.call(a,e,t,O):hg(r)?(G=i.onDayClick)===null||G===void 0||G.call(i,e,t,O):(re=r.onDayClick)===null||re===void 0||re.call(r,e,t,O)},w=function(O){var P;m(e),(P=r.onDayFocus)===null||P===void 0||P.call(r,e,t,O)},N=function(O){var P;h(),(P=r.onDayBlur)===null||P===void 0||P.call(r,e,t,O)},_=function(O){var P;(P=r.onDayMouseEnter)===null||P===void 0||P.call(r,e,t,O)},C=function(O){var P;(P=r.onDayMouseLeave)===null||P===void 0||P.call(r,e,t,O)},S=function(O){var P;(P=r.onDayPointerEnter)===null||P===void 0||P.call(r,e,t,O)},k=function(O){var P;(P=r.onDayPointerLeave)===null||P===void 0||P.call(r,e,t,O)},E=function(O){var P;(P=r.onDayTouchCancel)===null||P===void 0||P.call(r,e,t,O)},T=function(O){var P;(P=r.onDayTouchEnd)===null||P===void 0||P.call(r,e,t,O)},A=function(O){var P;(P=r.onDayTouchMove)===null||P===void 0||P.call(r,e,t,O)},B=function(O){var P;(P=r.onDayTouchStart)===null||P===void 0||P.call(r,e,t,O)},R=function(O){var P;(P=r.onDayKeyUp)===null||P===void 0||P.call(r,e,t,O)},L=function(O){var P;switch(O.key){case"ArrowLeft":O.preventDefault(),O.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":O.preventDefault(),O.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":O.preventDefault(),O.stopPropagation(),d();break;case"ArrowUp":O.preventDefault(),O.stopPropagation(),u();break;case"PageUp":O.preventDefault(),O.stopPropagation(),O.shiftKey?g():f();break;case"PageDown":O.preventDefault(),O.stopPropagation(),O.shiftKey?v():p();break;case"Home":O.preventDefault(),O.stopPropagation(),j();break;case"End":O.preventDefault(),O.stopPropagation(),y();break}(P=r.onDayKeyDown)===null||P===void 0||P.call(r,e,t,O)},V={onClick:b,onFocus:w,onBlur:N,onKeyDown:L,onKeyUp:R,onMouseEnter:_,onMouseLeave:C,onPointerEnter:S,onPointerLeave:k,onTouchCancel:E,onTouchEnd:T,onTouchMove:A,onTouchStart:B};return V}function ove(){var e=dr(),t=kU(),r=qE(),s=KE(),a=Pj(e)?t.selected:ug(e)?r.selected:hg(e)?s.selected:void 0;return a}function lve(e){return Object.values(ei).includes(e)}function cve(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(s){var a=e.modifiersClassNames[s];if(a)r.push(a);else if(lve(s)){var i=e.classNames["day_".concat(s)];i&&r.push(i)}}),r}function dve(e,t){var r=ot({},e.styles.day);return Object.keys(t).forEach(function(s){var a;r=ot(ot({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[s])}),r}function uve(e,t,r){var s,a,i,o=dr(),l=YE(),c=nve(e,t),d=ive(e,c),u=ove(),h=!!(o.onDayClick||o.mode!=="default");x.useEffect(function(){var _;c.outside||l.focusedDay&&h&&gs(l.focusedDay,e)&&((_=r.current)===null||_===void 0||_.focus())},[l.focusedDay,e,r,h,c.outside]);var m=cve(o,c).join(" "),f=dve(o,c),p=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:Oye,v=n.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),j={style:f,className:m,children:v,role:"gridcell"},y=l.focusTarget&&gs(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&gs(l.focusedDay,e),w=ot(ot(ot({},j),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=b||y?0:-1,s)),d),N={isButton:h,isHidden:p,activeModifiers:c,selectedDays:u,buttonProps:w,divProps:j};return N}function hve(e){var t=x.useRef(null),r=uve(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(d0,ot({name:"day",ref:t},r.buttonProps)):n.jsx("div",ot({},r.divProps))}function mve(e){var t=e.number,r=e.dates,s=dr(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return n.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var h=c(Number(t),{locale:l}),m=function(f){a(t,r,f)};return n.jsx(d0,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:m,children:u})}function fve(e){var t,r,s=dr(),a=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:hve,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:mve,u;return o&&(u=n.jsx("td",{className:i.cell,style:a.cell,children:n.jsx(d,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(h){return n.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:n.jsx(c,{displayMonth:e.displayMonth,date:h})},Zxe(h))})]})}function GM(e,t,r){for(var s=r!=null&&r.ISOWeek?Rz(t):RE(t,r),a=r!=null&&r.ISOWeek?yd(e):Fi(e,r),i=gi(s,a),o=[],l=0;l<=i;l++)o.push(Jn(a,l));var c=o.reduce(function(d,u){var h=r!=null&&r.ISOWeek?Iz(u):$z(u,r),m=d.find(function(f){return f.weekNumber===h});return m?(m.dates.push(u),d):(d.push({weekNumber:h,dates:[u]}),d)},[]);return c}function pve(e,t){var r=GM(Ns(e),Sj(e),t);if(t!=null&&t.useFixedWeeks){var s=ege(e,t);if(s<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=y2(i,6-s),l=GM(y2(i,1),o,t);r.push.apply(r,l)}}return r}function xve(e){var t,r,s,a=dr(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,h=a.weekStartsOn,m=a.firstWeekContainsDate,f=a.ISOWeek,p=pve(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:f,locale:i,weekStartsOn:h,firstWeekContainsDate:m}),g=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:Aye,v=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:fve,j=(s=u==null?void 0:u.Footer)!==null&&s!==void 0?s:Tye;return n.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&n.jsx(g,{}),n.jsx("tbody",{className:o.tbody,style:l.tbody,children:p.map(function(y){return n.jsx(v,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),n.jsx(j,{displayMonth:e.displayMonth})]})}function gve(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var yve=gve()?x.useLayoutEffect:x.useEffect,cN=!1,vve=0;function YM(){return"react-day-picker-".concat(++vve)}function bve(e){var t,r=e??(cN?YM():null),s=x.useState(r),a=s[0],i=s[1];return yve(function(){a===null&&i(YM())},[]),x.useEffect(function(){cN===!1&&(cN=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function jve(e){var t,r,s=dr(),a=s.dir,i=s.classNames,o=s.styles,l=s.components,c=mg().displayMonths,d=bve(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),u=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],m=o.month,f=e.displayIndex===0,p=e.displayIndex===c.length-1,g=!f&&!p;a==="rtl"&&(t=[f,p],p=t[0],f=t[1]),f&&(h.push(i.caption_start),m=ot(ot({},m),o.caption_start)),p&&(h.push(i.caption_end),m=ot(ot({},m),o.caption_end)),g&&(h.push(i.caption_between),m=ot(ot({},m),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:kye;return n.jsxs("div",{className:h.join(" "),style:m,children:[n.jsx(v,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(xve,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function wve(e){var t=dr(),r=t.classNames,s=t.styles;return n.jsx("div",{className:r.months,style:s.months,children:e.children})}function Nve(e){var t,r,s=e.initialProps,a=dr(),i=YE(),o=mg(),l=x.useState(!1),c=l[0],d=l[1];x.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var h=ot(ot({},a.styles.root),a.style),m=Object.keys(s).filter(function(p){return p.startsWith("data-")}).reduce(function(p,g){var v;return ot(ot({},p),(v={},v[g]=s[g],v))},{}),f=(r=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:wve;return n.jsx("div",ot({className:u.join(" "),style:h,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},m,{children:n.jsx(f,{children:o.displayMonths.map(function(p,g){return n.jsx(jve,{displayIndex:g,displayMonth:p},g)})})}))}function _ve(e){var t=e.children,r=Gge(e,["children"]);return n.jsx(mye,{initialProps:r,children:n.jsx(Nye,{children:n.jsx(sve,{initialProps:r,children:n.jsx(Mye,{initialProps:r,children:n.jsx(Dye,{initialProps:r,children:n.jsx(Wye,{children:n.jsx(rve,{children:t})})})})})})})}function Sve(e){return n.jsx(_ve,ot({},e,{children:n.jsx(Nve,{initialProps:e})}))}function j2({className:e,classNames:t,showOutsideDays:r=!0,...s}){return n.jsx(Sve,{showOutsideDays:r,className:z("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:z(Dp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:z(Dp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>n.jsx(lm,{className:"h-4 w-4"}),IconRight:({...a})=>n.jsx(as,{className:"h-4 w-4"})},...s})}j2.displayName="Calendar";function Cve({filters:e,onFiltersChange:t,projects:r,assignees:s}){const[a,i]=x.useState(!1),o=(d,u)=>{t({...e,[d]:u})},l=()=>{t({search:"",assignedTo:"",status:"all",dateFrom:void 0,dateTo:void 0,projectId:""})},c=e.search||e.assignedTo||e.status!=="all"||e.dateFrom||e.dateTo||e.projectId;return n.jsxs("div",{className:"bg-card border rounded-lg p-4 mb-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsx(F,{placeholder:"Search projects and items...",value:e.search,onChange:d=>o("search",d.target.value),className:"w-full"})}),n.jsxs($,{variant:a?"secondary":"outline",size:"sm",onClick:()=>i(!a),className:"gap-2",children:[n.jsx(XJ,{className:"h-4 w-4"}),"Filters",c&&n.jsx("span",{className:"bg-primary text-primary-foreground rounded-full px-1.5 py-0.5 text-xs",children:"!"})]}),c&&n.jsxs($,{variant:"ghost",size:"sm",onClick:l,className:"gap-1 text-muted-foreground",children:[n.jsx(Vi,{className:"h-4 w-4"}),"Clear"]})]}),a&&n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-4 border-t",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{className:"text-xs text-muted-foreground",children:"Project"}),n.jsxs(Re,{value:e.projectId,onValueChange:d=>o("projectId",d),children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"All projects"})}),n.jsxs(Ae,{className:"bg-popover",children:[n.jsx(he,{value:"",children:"All projects"}),r.map(d=>n.jsx(he,{value:d.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:d.color}}),d.name]})},d.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{className:"text-xs text-muted-foreground",children:"Assigned To"}),n.jsxs(Re,{value:e.assignedTo,onValueChange:d=>o("assignedTo",d),children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Anyone"})}),n.jsxs(Ae,{className:"bg-popover",children:[n.jsx(he,{value:"",children:"Anyone"}),s.map(d=>n.jsx(he,{value:d,children:d},d))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{className:"text-xs text-muted-foreground",children:"Status"}),n.jsxs(Re,{value:e.status,onValueChange:d=>o("status",d),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsxs(Ae,{className:"bg-popover",children:[n.jsx(he,{value:"all",children:"All"}),n.jsx(he,{value:"active",children:"Active"}),n.jsx(he,{value:"completed",children:"Completed"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{className:"text-xs text-muted-foreground",children:"Date Range"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(WM,{children:[n.jsx(qM,{asChild:!0,children:n.jsxs($,{variant:"outline",size:"sm",className:z("flex-1 justify-start text-left font-normal",!e.dateFrom&&"text-muted-foreground"),children:[n.jsx(_s,{className:"mr-2 h-3 w-3"}),e.dateFrom?_t(e.dateFrom,"MM/dd"):"From"]})}),n.jsx(b2,{className:"w-auto p-0 bg-popover",align:"start",children:n.jsx(j2,{mode:"single",selected:e.dateFrom,onSelect:d=>o("dateFrom",d),initialFocus:!0})})]}),n.jsxs(WM,{children:[n.jsx(qM,{asChild:!0,children:n.jsxs($,{variant:"outline",size:"sm",className:z("flex-1 justify-start text-left font-normal",!e.dateTo&&"text-muted-foreground"),children:[n.jsx(_s,{className:"mr-2 h-3 w-3"}),e.dateTo?_t(e.dateTo,"MM/dd"):"To"]})}),n.jsx(b2,{className:"w-auto p-0 bg-popover",align:"start",children:n.jsx(j2,{mode:"single",selected:e.dateTo,onSelect:d=>o("dateTo",d),initialFocus:!0})})]})]})]})]})]})}const kve=Ad("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ne({className:e,variant:t,...r}){return n.jsx("div",{className:z(kve({variant:t}),e),...r})}const Uf=[{value:"sandbox",label:"Sandbox",icon:QJ,color:"bg-purple-500"},{value:"dev",label:"Dev",icon:fB,color:"bg-blue-500"},{value:"test",label:"Test",icon:Cee,color:"bg-amber-500"},{value:"live",label:"Live",icon:dT,color:"bg-green-500"}];function Tve({value:e,onChange:t}){const r=Uf.find(s=>s.value===e)||Uf[0];return r.icon,n.jsxs(Re,{value:e,onValueChange:s=>t(s),children:[n.jsx(Pe,{className:"w-[140px] h-9",children:n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:z("w-2 h-2 rounded-full",r.color)}),n.jsx("span",{children:r.label})]})})}),n.jsx(Ae,{className:"bg-popover",children:Uf.map(s=>{const a=s.icon;return n.jsx(he,{value:s.value,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:z("w-2 h-2 rounded-full",s.color)}),n.jsx(a,{className:"h-4 w-4"}),n.jsx("span",{children:s.label}),s.value==="live"&&n.jsx(ne,{variant:"outline",className:"ml-1 text-[10px] px-1 py-0",children:"PROD"})]})},s.value)})})]})}function Eve({environment:e}){const t=Uf.find(r=>r.value===e)||Uf[0];return n.jsxs(ne,{variant:"outline",className:z("gap-1 font-medium",e==="live"&&"border-green-500 text-green-700 bg-green-50",e==="test"&&"border-amber-500 text-amber-700 bg-amber-50",e==="dev"&&"border-blue-500 text-blue-700 bg-blue-50",e==="sandbox"&&"border-purple-500 text-purple-700 bg-purple-50"),children:[n.jsx("div",{className:z("w-1.5 h-1.5 rounded-full",t.color)}),t.label]})}function Pve({data:e}){const t=()=>{var l;const o=[];return o.push("Type,Name,Description,Status,Assigned To,Priority,Due Date,Created"),e.projects.forEach(c=>{o.push(["Project",`"${c.name.replace(/"/g,'""')}"`,`"${(c.description||"").replace(/"/g,'""')}"`,c.is_completed?"Completed":"Active",`"${c.assigned_to||""}"`,"","",_t(new Date(c.created_at),"yyyy-MM-dd")].join(","))}),e.actionItems.forEach(c=>{const d=e.projects.find(u=>u.id===c.project_id);o.push(["Action Item",`"${c.title.replace(/"/g,'""')}"`,`"${(c.description||"").replace(/"/g,'""')}"`,c.is_completed?"Completed":"Active",`"${(d==null?void 0:d.assigned_to)||""}"`,c.priority,c.due_date||"",_t(new Date(c.created_at),"yyyy-MM-dd")].join(","))}),(l=e.projectItems)==null||l.forEach(c=>{o.push([c.is_action_item?"Converted Item":"Project Item",`"${c.title.replace(/"/g,'""')}"`,`"${(c.description||"").replace(/"/g,'""')}"`,c.is_action_item?"Converted":"Pending","","","",_t(new Date(c.created_at),"yyyy-MM-dd")].join(","))}),o.join(`
`)},r=()=>{const o=t(),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),c=URL.createObjectURL(l),d=document.createElement("a");d.href=c,d.download=`projects-export-${_t(new Date,"yyyy-MM-dd")}.csv`,d.click(),URL.revokeObjectURL(c)},s=()=>{let o=`
      <html>
        <head>
          <title>Projects Report - ${_t(new Date,"MMM d, yyyy")}</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 20px; }
            h1 { color: #333; border-bottom: 2px solid #333; padding-bottom: 10px; }
            h2 { color: #666; margin-top: 30px; }
            table { width: 100%; border-collapse: collapse; margin-top: 10px; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #f5f5f5; }
            .status-active { color: #059669; }
            .status-completed { color: #6b7280; text-decoration: line-through; }
            .priority-high { color: #dc2626; font-weight: bold; }
            .priority-medium { color: #d97706; }
            .priority-low { color: #6b7280; }
            .badge { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 12px; }
            .badge-project { background: #e0e7ff; color: #3730a3; }
            .badge-action { background: #dcfce7; color: #166534; }
            @media print { body { padding: 0; } }
          </style>
        </head>
        <body>
          <h1>Projects Report</h1>
          <p>Generated on ${_t(new Date,"MMMM d, yyyy 'at' h:mm a")}</p>
    `;return o+=`<h2>Projects (${e.projects.length})</h2>`,o+=`<table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
          <th>Assigned To</th>
          <th>Status</th>
          <th>Created</th>
        </tr>
      </thead>
      <tbody>
    `,e.projects.forEach(l=>{o+=`<tr>
        <td><strong>${l.name}</strong></td>
        <td>${l.description||"-"}</td>
        <td>${l.assigned_to||"-"}</td>
        <td class="${l.is_completed?"status-completed":"status-active"}">${l.is_completed?"Completed":"Active"}</td>
        <td>${_t(new Date(l.created_at),"MMM d, yyyy")}</td>
      </tr>`}),o+="</tbody></table>",o+=`<h2>Action Items (${e.actionItems.length})</h2>`,o+=`<table>
      <thead>
        <tr>
          <th>Title</th>
          <th>Project</th>
          <th>Priority</th>
          <th>Due Date</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
    `,e.actionItems.forEach(l=>{const c=e.projects.find(d=>d.id===l.project_id);o+=`<tr>
        <td>${l.title}</td>
        <td>${(c==null?void 0:c.name)||"-"}</td>
        <td class="priority-${l.priority}">${l.priority}</td>
        <td>${l.due_date?_t(new Date(l.due_date),"MMM d, yyyy"):"-"}</td>
        <td class="${l.is_completed?"status-completed":"status-active"}">${l.is_completed?"Done":"Pending"}</td>
      </tr>`}),o+="</tbody></table>",o+="</body></html>",o},a=()=>{const o=window.open("","_blank");o&&(o.document.write(s()),o.document.close(),o.print())},i=()=>{const o=window.open("","_blank");o&&(o.document.write(s()),o.document.close())};return n.jsxs(vj,{children:[n.jsx(bj,{asChild:!0,children:n.jsxs($,{variant:"outline",size:"sm",className:"gap-2",children:[n.jsx(ud,{className:"h-4 w-4"}),"Export"]})}),n.jsxs(sg,{align:"end",className:"bg-popover",children:[n.jsxs(yn,{onClick:r,className:"gap-2 cursor-pointer",children:[n.jsx(GJ,{className:"h-4 w-4"}),"Download CSV"]}),n.jsxs(yn,{onClick:i,className:"gap-2 cursor-pointer",children:[n.jsx(wt,{className:"h-4 w-4"}),"Preview Report"]}),n.jsx(td,{}),n.jsxs(yn,{onClick:a,className:"gap-2 cursor-pointer",children:[n.jsx(pT,{className:"h-4 w-4"}),"Print"]})]})]})}var Aj="Tabs",[Ave,Rqe]=Zr(Aj,[ym]),TU=ym(),[Ove,QE]=Ave(Aj),EU=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=sc(l),[h,m]=Kn({prop:s,onChange:a,defaultProp:i??"",caller:Aj});return n.jsx(Ove,{scope:r,baseId:ws(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:n.jsx(Ce.div,{dir:u,"data-orientation":o,...d,ref:t})})});EU.displayName=Aj;var PU="TabsList",AU=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=QE(PU,r),o=TU(r);return n.jsx(yE,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(Ce.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});AU.displayName=PU;var OU="TabsTrigger",MU=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=QE(OU,r),l=TU(r),c=DU(o.baseId,s),d=$U(o.baseId,s),u=s===o.value;return n.jsx(vE,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(Ce.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:me(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(s):h.preventDefault()}),onKeyDown:me(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(s)}),onFocus:me(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(s)})})})});MU.displayName=OU;var RU="TabsContent",IU=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=QE(RU,r),c=DU(l.baseId,s),d=$U(l.baseId,s),u=s===l.value,h=x.useRef(u);return x.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(dn,{present:a||u,children:({present:m})=>n.jsx(Ce.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});IU.displayName=RU;function DU(e,t){return`${e}-trigger-${t}`}function $U(e,t){return`${e}-content-${t}`}var Mve=EU,LU=AU,FU=MU,BU=IU;const Dr=Mve,Nr=x.forwardRef(({className:e,...t},r)=>n.jsx(LU,{ref:r,className:z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Nr.displayName=LU.displayName;const ke=x.forwardRef(({className:e,...t},r)=>n.jsx(FU,{ref:r,className:z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));ke.displayName=FU.displayName;const De=x.forwardRef(({className:e,...t},r)=>n.jsx(BU,{ref:r,className:z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));De.displayName=BU.displayName;function Rve(e,t){return x.useReducer((r,s)=>t[r][s]??r,e)}var ZE="ScrollArea",[VU,Iqe]=Zr(ZE),[Ive,ya]=VU(ZE),zU=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=x.useState(null),[d,u]=x.useState(null),[h,m]=x.useState(null),[f,p]=x.useState(null),[g,v]=x.useState(null),[j,y]=x.useState(0),[b,w]=x.useState(0),[N,_]=x.useState(!1),[C,S]=x.useState(!1),k=Qe(t,T=>c(T)),E=sc(a);return n.jsx(Ive,{scope:r,type:s,dir:E,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:f,onScrollbarXChange:p,scrollbarXEnabled:N,onScrollbarXEnabledChange:_,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:C,onScrollbarYEnabledChange:S,onCornerWidthChange:y,onCornerHeightChange:w,children:n.jsx(Ce.div,{dir:E,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});zU.displayName=ZE;var UU="ScrollAreaViewport",WU=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,nonce:a,...i}=e,o=ya(UU,r),l=x.useRef(null),c=Qe(t,l,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(Ce.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});WU.displayName=UU;var Ui="ScrollAreaScrollbar",JE=x.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=ya(Ui,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?n.jsx(Dve,{...s,ref:t,forceMount:r}):a.type==="scroll"?n.jsx($ve,{...s,ref:t,forceMount:r}):a.type==="auto"?n.jsx(qU,{...s,ref:t,forceMount:r}):a.type==="always"?n.jsx(eP,{...s,ref:t}):null});JE.displayName=Ui;var Dve=x.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=ya(Ui,e.__scopeScrollArea),[i,o]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(dn,{present:r||i,children:n.jsx(qU,{"data-state":i?"visible":"hidden",...s,ref:t})})}),$ve=x.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=ya(Ui,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Mj(()=>c("SCROLL_END"),100),[l,c]=Rve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const f=d[u];h!==f&&(c("SCROLL"),o()),h=f};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),n.jsx(dn,{present:r||l!=="hidden",children:n.jsx(eP,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:me(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:me(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),qU=x.forwardRef((e,t)=>{const r=ya(Ui,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=x.useState(!1),l=e.orientation==="horizontal",c=Mj(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return Th(r.viewport,c),Th(r.content,c),n.jsx(dn,{present:s||i,children:n.jsx(eP,{"data-state":i?"visible":"hidden",...a,ref:t})})}),eP=x.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,a=ya(Ui,e.__scopeScrollArea),i=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=XU(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,f){return Uve(m,o.current,l,f)}return r==="horizontal"?n.jsx(Lve,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,f=XM(m,l,a.dir);i.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=h(m,a.dir))}}):r==="vertical"?n.jsx(Fve,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,f=XM(m,l);i.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=h(m))}}):null}),Lve=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=ya(Ui,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),d=Qe(t,c,i.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(KU,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Oj(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),ZU(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:h0(o.paddingLeft),paddingEnd:h0(o.paddingRight)}})}})}),Fve=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=ya(Ui,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),d=Qe(t,c,i.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(KU,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Oj(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),ZU(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:h0(o.paddingTop),paddingEnd:h0(o.paddingBottom)}})}})}),[Bve,HU]=VU(Ui),KU=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=e,f=ya(Ui,r),[p,g]=x.useState(null),v=Qe(t,k=>g(k)),j=x.useRef(null),y=x.useRef(""),b=f.viewport,w=s.content-s.viewport,N=Gr(u),_=Gr(c),C=Mj(h,10);function S(k){if(j.current){const E=k.clientX-j.current.left,T=k.clientY-j.current.top;d({x:E,y:T})}}return x.useEffect(()=>{const k=E=>{const T=E.target;(p==null?void 0:p.contains(T))&&N(E,w)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[b,p,w,N]),x.useEffect(_,[s,_]),Th(p,C),Th(f.content,C),n.jsx(Bve,{scope:r,scrollbar:p,hasThumb:a,onThumbChange:Gr(i),onThumbPointerUp:Gr(o),onThumbPositionChange:_,onThumbPointerDown:Gr(l),children:n.jsx(Ce.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:me(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),j.current=p.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),S(k))}),onPointerMove:me(e.onPointerMove,S),onPointerUp:me(e.onPointerUp,k=>{const E=k.target;E.hasPointerCapture(k.pointerId)&&E.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=y.current,f.viewport&&(f.viewport.style.scrollBehavior=""),j.current=null})})})}),u0="ScrollAreaThumb",GU=x.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=HU(u0,e.__scopeScrollArea);return n.jsx(dn,{present:r||a.hasThumb,children:n.jsx(Vve,{ref:t,...s})})}),Vve=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,i=ya(u0,r),o=HU(u0,r),{onThumbPositionChange:l}=o,c=Qe(t,h=>o.onThumbChange(h)),d=x.useRef(void 0),u=Mj(()=>{d.current&&(d.current(),d.current=void 0)},100);return x.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(u(),!d.current){const f=Wve(h,l);d.current=f,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,u,l]),n.jsx(Ce.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:me(e.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),p=h.clientX-f.left,g=h.clientY-f.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:me(e.onPointerUp,o.onThumbPointerUp)})});GU.displayName=u0;var tP="ScrollAreaCorner",YU=x.forwardRef((e,t)=>{const r=ya(tP,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(zve,{...e,ref:t}):null});YU.displayName=tP;var zve=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=ya(tP,r),[i,o]=x.useState(0),[l,c]=x.useState(0),d=!!(i&&l);return Th(a.scrollbarX,()=>{var h;const u=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),Th(a.scrollbarY,()=>{var h;const u=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?n.jsx(Ce.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function h0(e){return e?parseInt(e,10):0}function XU(e,t){const r=e/t;return isNaN(r)?0:r}function Oj(e){const t=XU(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function Uve(e,t,r,s="ltr"){const a=Oj(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,h=s==="ltr"?[0,u]:[u*-1,0];return QU([c,d],h)(e)}function XM(e,t,r="ltr"){const s=Oj(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-s,c=r==="ltr"?[0,o]:[o*-1,0],d=Fp(e,c);return QU([0,o],[0,l])(d)}function QU(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function ZU(e,t){return e>0&&e<t}var Wve=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function Mj(e,t){const r=Gr(e),s=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(s.current),[]),x.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function Th(e,t){const r=Gr(t);wn(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,r])}var JU=zU,qve=WU,Hve=YU;const ti=x.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(JU,{ref:s,className:z("relative overflow-hidden",e),...r,children:[n.jsx(qve,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(eW,{}),n.jsx(Hve,{})]}));ti.displayName=JU.displayName;const eW=x.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(JE,{ref:s,orientation:t,className:z("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(GU,{className:"relative flex-1 rounded-full bg-border"})}));eW.displayName=JE.displayName;function Kve(){const[e,t]=x.useState(!1),{data:r=[],isLoading:s}=ft({queryKey:["employment-rules"],queryFn:async()=>{const{data:c,error:d}=await Y.from("employment_rules").select("*").eq("is_active",!0).order("category",{ascending:!0});if(d)throw d;return c},enabled:e}),a=r.filter(c=>c.category==="minor_employment"),i=r.filter(c=>c.category==="business_structure"),o=r.filter(c=>c.category==="nonprofit"),l=({rule:c})=>n.jsxs(q,{className:"mb-4",children:[n.jsxs(de,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(ce,{className:"text-base",children:c.rule_title}),c.age_group&&n.jsx(ne,{variant:"secondary",className:"shrink-0",children:c.age_group})]}),n.jsx(ye,{children:c.rule_description})]}),n.jsxs(K,{className:"space-y-4",children:[c.requirements&&c.requirements.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium flex items-center gap-1 mb-2",children:[n.jsx(At,{className:"h-4 w-4 text-green-600"}),"Requirements"]}),n.jsx("ul",{className:"text-sm space-y-1 text-muted-foreground",children:c.requirements.map((d,u)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary",children:""}),d]},u))})]}),c.tax_implications&&n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium flex items-center gap-1 mb-2",children:[n.jsx(jt,{className:"h-4 w-4 text-amber-600"}),"Tax Implications"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:c.tax_implications})]}),c.documentation_needed&&c.documentation_needed.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium flex items-center gap-1 mb-2",children:[n.jsx(wt,{className:"h-4 w-4 text-blue-600"}),"Documentation Needed"]}),n.jsx("div",{className:"flex flex-wrap gap-1",children:c.documentation_needed.map((d,u)=>n.jsx(ne,{variant:"outline",className:"text-xs",children:d},u))})]})]})]});return n.jsxs(Xt,{open:e,onOpenChange:t,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{variant:"outline",size:"sm",className:"gap-2",children:[n.jsx(Or,{className:"h-4 w-4"}),"Employment Rules"]})}),n.jsxs(qt,{className:"max-w-2xl max-h-[85vh]",children:[n.jsx(Ht,{children:n.jsxs(Kt,{className:"flex items-center gap-2",children:[n.jsx(Or,{className:"h-5 w-5"}),"Employment & Business Rules Reference"]})}),s?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n.jsxs(Dr,{defaultValue:"minor",className:"w-full",children:[n.jsxs(Nr,{className:"grid w-full grid-cols-3",children:[n.jsxs(ke,{value:"minor",className:"gap-1",children:[n.jsx(Or,{className:"h-3 w-3"}),"Minors"]}),n.jsxs(ke,{value:"business",className:"gap-1",children:[n.jsx($n,{className:"h-3 w-3"}),"Multi-Business"]}),n.jsxs(ke,{value:"nonprofit",className:"gap-1",children:[n.jsx(cn,{className:"h-3 w-3"}),"Nonprofit"]})]}),n.jsxs(ti,{className:"h-[60vh] mt-4 pr-4",children:[n.jsx(De,{value:"minor",className:"mt-0",children:a.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No rules found"}):a.map(c=>n.jsx(l,{rule:c},c.id))}),n.jsx(De,{value:"business",className:"mt-0",children:i.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No rules found"}):i.map(c=>n.jsx(l,{rule:c},c.id))}),n.jsx(De,{value:"nonprofit",className:"mt-0",children:o.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No rules found"}):o.map(c=>n.jsx(l,{rule:c},c.id))})]})]})]})]})}function tW(){return ft({queryKey:["brain-dumps"],queryFn:async()=>{const{data:{user:e}}=await Y.auth.getUser();if(!e)return[];const{data:t,error:r}=await Y.from("brain_dumps").select("*").order("created_at",{ascending:!1});if(r)throw r;return t}})}function rW(){const e=ze();return Be({mutationFn:async t=>{const{data:{user:r}}=await Y.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:s,error:a}=await Y.from("brain_dumps").insert({...t,user_id:r.id}).select().single();if(a)throw a;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["brain-dumps"]}),St({title:"Brain dump saved!"})},onError:t=>{St({title:"Error saving brain dump",description:t.message,variant:"destructive"})}})}function nW(){const e=ze();return Be({mutationFn:async({brainDumpId:t,rawContent:r,existingProjects:s,documentUrls:a})=>{const{data:i,error:o}=await Y.functions.invoke("process-brain-dump",{body:{rawContent:r,existingProjects:s,documentUrls:a}});if(o)throw o;const{data:l,error:c}=await Y.from("brain_dumps").update({ai_summary:i.summary,ai_action_items:i.action_items,ai_categories:i.categories}).eq("id",t).select().single();if(c)throw c;return{...l,inbox_items:i.inbox_items}},onSuccess:()=>{e.invalidateQueries({queryKey:["brain-dumps"]}),St({title:"Brain dump processed!"})},onError:t=>{St({title:"Error processing",description:t.message,variant:"destructive"})}})}function Gve(){const e=ze();return Be({mutationFn:async t=>{const{error:r}=await Y.from("brain_dumps").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["brain-dumps"]}),St({title:"Brain dump deleted"})}})}const Eh="/assets/tornado-alley-BmWFgnRF.png";function w2(){const[e,t]=x.useState(!1),[r,s]=x.useState(""),[a,i]=x.useState(""),[o,l]=x.useState(!1),[c,d]=x.useState([]),u=x.useRef(null),{data:h,isLoading:m}=tW(),{data:f}=$d(),p=rW(),g=nW(),v=Gve(),j=10*1024*1024,y=C=>C>=1024*1024?`${(C/(1024*1024)).toFixed(1)}MB`:C>=1024?`${(C/1024).toFixed(1)}KB`:`${C}B`,b=async C=>{const S=C.target.files;if(!(S!=null&&S.length))return;const k=Array.from(S).filter(E=>E.size>j);if(k.length>0){const E=k.map(A=>` ${A.name} (${y(A.size)})`).join(`
`);if(St({title:" Files too large - please zip first!",description:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{children:"These files exceed 10MB:"}),n.jsx("p",{className:"text-xs",children:E}),n.jsx("a",{href:"https://www.ezyzip.com/compress-files-online.html",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-primary underline hover:no-underline text-sm",children:" Compress files free at ezyZip.com"})]}),variant:"destructive",duration:12e3}),Array.from(S).filter(A=>A.size<=j).length===0)return}l(!0);try{const{data:{user:E}}=await Y.auth.getUser();if(!E)throw new Error("Not authenticated");const T=[],A=Array.from(S).filter(B=>B.size<=j);for(const B of A){const R=`${E.id}/${Date.now()}-${B.name}`,{error:L}=await Y.storage.from("user-documents").upload(R,B);if(L)throw L;T.push(R)}d(B=>[...B,...T]),St({title:`${A.length} file(s) uploaded`})}catch(E){St({title:"Upload failed",description:E.message,variant:"destructive"})}finally{l(!1)}},w=async()=>{if(!r.trim())return;const C=await p.mutateAsync({raw_content:r,title:a.trim()||void 0,document_urls:c.length?c:void 0});C&&await g.mutateAsync({brainDumpId:C.id,rawContent:r,existingProjects:(f==null?void 0:f.map(S=>S.name))||[],documentUrls:c.length?c:void 0}),s(""),i(""),d([])},N=async C=>{await g.mutateAsync({brainDumpId:C.id,rawContent:C.raw_content,existingProjects:(f==null?void 0:f.map(S=>S.name))||[]})},_={high:"bg-red-500",medium:"bg-yellow-500",low:"bg-green-500"};return n.jsxs(Xt,{open:e,onOpenChange:t,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{variant:"outline",className:"gap-2",children:[n.jsx("img",{src:Eh,alt:"Tornado Alley",className:"h-5 w-5"}),"Brain Dump"]})}),n.jsxs(qt,{className:"max-w-4xl max-h-[90vh]",children:[n.jsx(Ht,{children:n.jsxs(Kt,{className:"flex items-center gap-2",children:[n.jsx("img",{src:Eh,alt:"Tornado Alley",className:"h-6 w-6"}),"Tornado Alley - Brain Dump"]})}),n.jsxs(Dr,{defaultValue:"new",className:"w-full",children:[n.jsxs(Nr,{className:"grid w-full grid-cols-2",children:[n.jsx(ke,{value:"new",children:"New Dump"}),n.jsxs(ke,{value:"history",children:["History (",(h==null?void 0:h.length)||0,")"]})]}),n.jsxs(De,{value:"new",className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"title",children:"Title (optional)"}),n.jsx(F,{id:"title",value:a,onChange:C=>i(C.target.value),placeholder:"Quick label for this dump..."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"content",children:"Dump everything here"}),n.jsx(wr,{id:"content",value:r,onChange:C=>s(C.target.value),placeholder:"Just start typing... ideas, patents, business thoughts, phone numbers you need to call, anything. AI will organize it all.",rows:10,className:"resize-none"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("input",{type:"file",ref:u,onChange:b,multiple:!0,className:"hidden",accept:".pdf,.doc,.docx,.txt,.png,.jpg,.jpeg"}),n.jsxs($,{variant:"outline",onClick:()=>{var C;return(C=u.current)==null?void 0:C.click()},disabled:o,children:[o?n.jsx(on,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(yp,{className:"h-4 w-4 mr-2"}),"Upload Docs"]}),c.length>0&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(wt,{className:"h-4 w-4"}),c.length," file(s) attached"]})]}),n.jsx($,{onClick:w,disabled:!r.trim()||p.isPending||g.isPending,className:"w-full gap-2",children:p.isPending||g.isPending?n.jsxs(n.Fragment,{children:[n.jsx(on,{className:"h-4 w-4 animate-spin"}),"Processing with AI..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ht,{className:"h-4 w-4"}),"Dump & Organize"]})})]}),n.jsx(De,{value:"history",children:n.jsx(ti,{className:"h-[500px] pr-4",children:m?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(on,{className:"h-6 w-6 animate-spin"})}):(h==null?void 0:h.length)===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No brain dumps yet. Start dumping!"}):n.jsx("div",{className:"space-y-4",children:h==null?void 0:h.map(C=>n.jsxs(q,{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:C.title||new Date(C.created_at).toLocaleDateString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(C.created_at).toLocaleString()})]}),n.jsxs("div",{className:"flex gap-2",children:[!C.ai_summary&&n.jsxs($,{size:"sm",variant:"outline",onClick:()=>N(C),disabled:g.isPending,children:[n.jsx(ht,{className:"h-3 w-3 mr-1"}),"Process"]}),n.jsx($,{size:"sm",variant:"ghost",onClick:()=>v.mutate(C.id),children:n.jsx(xr,{className:"h-3 w-3"})})]})]}),C.ai_summary&&n.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium mb-1",children:"AI Summary:"}),n.jsx("p",{className:"text-sm",children:C.ai_summary})]}),C.ai_action_items&&C.ai_action_items.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Action Items:"}),n.jsx("div",{className:"space-y-1",children:C.ai_action_items.map((S,k)=>n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${_[S.priority]||"bg-gray-500"}`}),n.jsx("span",{children:S.title}),n.jsx(ne,{variant:"outline",className:"text-xs",children:S.category})]},k))})]}),C.ai_categories&&C.ai_categories.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1",children:C.ai_categories.map((S,k)=>n.jsxs(ne,{variant:"secondary",className:"text-xs",children:[S.name,S.suggested_project&&n.jsxs("span",{className:"ml-1 opacity-70",children:[" ",S.suggested_project]})]},k))}),n.jsxs("details",{className:"text-sm",children:[n.jsx("summary",{className:"cursor-pointer text-muted-foreground hover:text-foreground",children:"View raw content"}),n.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-xs whitespace-pre-wrap max-h-32 overflow-auto",children:C.raw_content})]})]},C.id))})})})]})]})]})}function Yve(e){return ft({queryKey:["project-history",e],queryFn:async()=>{const{data:t,error:r}=await Y.from("project_history").select("*").eq("project_id",e).order("changed_at",{ascending:!1});if(r)throw r;return t},enabled:!!e})}function Xve(){const e=ze();return Be({mutationFn:async({projectId:t,fieldName:r,oldValue:s,newValue:a})=>{const{error:i}=await Y.from("project_history").insert({project_id:t,field_name:r,old_value:s,new_value:a});if(i)throw i},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["project-history",r.projectId]})}})}const Qve=["#3b82f6","#ef4444","#22c55e","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316","#6366f1"];function Zve({project:e,open:t,onOpenChange:r}){const[s,a]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState("#3b82f6"),[d,u]=x.useState(""),h=kE(),m=Xve(),{data:f,isLoading:p}=Yve((e==null?void 0:e.id)||""),{toast:g}=yt();x.useEffect(()=>{e&&(a(e.name),o(e.description||""),c(e.color||"#3b82f6"),u(e.assigned_to||""))},[e]);const v=async()=>{if(!e||!s.trim())return;const y=[];s!==e.name&&y.push({field:"name",oldVal:e.name,newVal:s}),i!==(e.description||"")&&y.push({field:"description",oldVal:e.description,newVal:i||null}),l!==(e.color||"#3b82f6")&&y.push({field:"color",oldVal:e.color,newVal:l}),d!==(e.assigned_to||"")&&y.push({field:"assigned_to",oldVal:e.assigned_to,newVal:d||null});for(const b of y)await m.mutateAsync({projectId:e.id,fieldName:b.field,oldValue:b.oldVal,newValue:b.newVal});h.mutate({id:e.id,name:s,description:i||null,color:l,assigned_to:d||null},{onSuccess:()=>{g({title:"Project updated",description:`${y.length} field(s) changed`}),r(!1)}})},j=y=>y.replace(/_/g," ").replace(/\b\w/g,b=>b.toUpperCase());return e?n.jsx(Xt,{open:t,onOpenChange:r,children:n.jsxs(qt,{className:"max-w-2xl",children:[n.jsx(Ht,{children:n.jsx(Kt,{children:"Edit Project"})}),n.jsxs(Dr,{defaultValue:"edit",className:"w-full",children:[n.jsxs(Nr,{className:"grid w-full grid-cols-2",children:[n.jsx(ke,{value:"edit",children:"Edit"}),n.jsxs(ke,{value:"history",className:"flex items-center gap-2",children:[n.jsx(lB,{className:"h-4 w-4"}),"History"]})]}),n.jsxs(De,{value:"edit",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"name",children:"Project Name"}),n.jsx(F,{id:"name",value:s,onChange:y=>a(y.target.value),placeholder:"Project name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"description",children:"Description"}),n.jsx(wr,{id:"description",value:i,onChange:y=>o(y.target.value),placeholder:"Project description",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"assignedTo",children:"Assigned To"}),n.jsx(F,{id:"assignedTo",value:d,onChange:y=>u(y.target.value),placeholder:"Person or team"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Color"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Qve.map(y=>n.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border-2 transition-transform ${l===y?"border-foreground scale-110":"border-transparent"}`,style:{backgroundColor:y},onClick:()=>c(y)},y))})]}),n.jsxs($,{onClick:v,className:"w-full",disabled:!s.trim(),children:[n.jsx(xT,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]}),n.jsx(De,{value:"history",className:"mt-4",children:n.jsx(ti,{className:"h-[300px]",children:p?n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Loading history..."}):f&&f.length>0?n.jsx("div",{className:"space-y-3",children:f.map(y=>n.jsxs("div",{className:"border rounded-lg p-3 bg-muted/30",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium text-sm",children:j(y.field_name)}),n.jsx("span",{className:"text-xs text-muted-foreground",children:_t(new Date(y.changed_at),"MMM d, yyyy h:mm a")})]}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-muted-foreground min-w-[50px]",children:"From:"}),n.jsx("span",{className:"text-destructive line-through",children:y.old_value||"(empty)"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-muted-foreground min-w-[50px]",children:"To:"}),n.jsx("span",{className:"text-green-600 dark:text-green-400",children:y.new_value||"(empty)"})]})]})]},y.id))}):n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No changes recorded yet"})})})]})]})}):null}const QM={scarecrow:{icon:Rr,label:"Scarecrow",description:"Planning & Strategy",color:"text-amber-600",bg:"bg-amber-100 dark:bg-amber-900/30",priority:3},tinman:{icon:cn,label:"Tin Man",description:"Passion Project",color:"text-rose-500",bg:"bg-rose-100 dark:bg-rose-900/30",priority:2},lion:{icon:Wr,label:"Lion",description:"Courage Required",color:"text-orange-600",bg:"bg-orange-100 dark:bg-orange-900/30",priority:1}};function ZM({actionItems:e,allActionItems:t=[]}){const r=vm(),s=[...e].sort((d,u)=>{const h=d.blocked_by?1:0,m=u.blocked_by?1:0;if(h!==m)return h-m;const f=d.priority_score||50;return(u.priority_score||50)-f}),a=e.filter(d=>d.is_completed).length,i=e.length,o=i>0?a/i*100:0,l=d=>d?t.find(u=>u.id===d):null,c=d=>{r.mutate({id:d.id,is_completed:!d.is_completed})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Md,{className:"h-6 w-6 text-yellow-500"}),n.jsx("h2",{className:"text-xl font-bold",children:"Yellow Brick Road"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Z4,{className:"h-5 w-5 text-emerald-500"}),n.jsxs("span",{className:"text-sm font-medium",children:[a,"/",i," to Emerald City"]})]})]}),n.jsxs("div",{className:"relative h-4 bg-yellow-200 dark:bg-yellow-900/50 rounded-full overflow-hidden border-2 border-yellow-400",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-yellow-400 to-yellow-500 transition-all duration-500",style:{width:`${o}%`}}),n.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 20px, rgba(0,0,0,0.1) 20px, rgba(0,0,0,0.1) 22px)"}})]}),n.jsx("div",{className:"flex justify-between mt-2 px-2",children:[...Array(Math.min(a,10))].map((d,u)=>n.jsx(Wb,{className:"h-4 w-4 text-pink-400 animate-bounce",style:{animationDelay:`${u*100}ms`}},u))})]}),n.jsx("div",{className:"flex flex-wrap gap-3 text-sm",children:Object.entries(QM).map(([d,u])=>n.jsxs("div",{className:z("flex items-center gap-1.5 px-2 py-1 rounded-full",u.bg),children:[n.jsx(u.icon,{className:z("h-4 w-4",u.color)}),n.jsx("span",{className:"font-medium",children:u.label}),n.jsxs("span",{className:"text-muted-foreground text-xs",children:["(",u.description,")"]})]},d))}),n.jsx("div",{className:"space-y-3",children:s.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(ht,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Your Yellow Brick Road awaits!"}),n.jsx("p",{className:"text-sm",children:"Add action items to start your journey to Oz"})]}):s.map((d,u)=>{const h=d.task_type||"lion",m=QM[h],f=!!d.blocked_by,p=l(d.blocked_by),g=d.is_setback,v=m.icon;return n.jsxs("div",{className:"relative",children:[u>0&&n.jsx("div",{className:"absolute -top-3 left-6 w-0.5 h-3 bg-yellow-400"}),n.jsx(q,{className:z("transition-all border-l-4",d.is_completed&&"opacity-60 bg-muted/30",f&&"opacity-70",g&&"border-red-500 bg-red-50 dark:bg-red-900/20"),style:{borderLeftColor:g?void 0:f?"#9ca3af":"#facc15"},children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ga,{checked:d.is_completed,onCheckedChange:()=>c(d),disabled:f&&!d.is_completed,className:"mt-1"}),n.jsx("div",{className:z("p-2 rounded-lg",m.bg),children:n.jsx(v,{className:z("h-5 w-5",m.color)})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("h3",{className:z("font-medium",d.is_completed&&"line-through text-muted-foreground"),children:d.title}),f&&n.jsxs(ne,{variant:"outline",className:"text-xs gap-1",children:[n.jsx(Vx,{className:"h-3 w-3"}),"Blocked"]}),g&&n.jsxs(ne,{variant:"destructive",className:"text-xs gap-1",children:[n.jsx(jt,{className:"h-3 w-3"}),"Setback"]})]}),d.description&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:d.description}),f&&p&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2 flex items-center gap-1",children:[n.jsx(kn,{className:"h-3 w-3"}),"Waiting on: ",n.jsx("span",{className:"font-medium",children:p.title})]}),g&&d.setback_reason&&n.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-2",children:[" ",d.setback_reason]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",u+1]})})]})})})]},d.id)})}),a===i&&i>0&&n.jsxs("div",{className:"text-center py-8 bg-gradient-to-b from-emerald-100 to-emerald-50 dark:from-emerald-900/30 dark:to-emerald-900/10 rounded-xl border-2 border-emerald-300",children:[n.jsx(Z4,{className:"h-16 w-16 mx-auto mb-4 text-emerald-500"}),n.jsx("h3",{className:"text-2xl font-bold text-emerald-700 dark:text-emerald-400",children:"Welcome to the Emerald City!"}),n.jsx("p",{className:"text-emerald-600 dark:text-emerald-500",children:"You had the power all along! "})]})]})}const JM=[{value:"scarecrow",label:"Scarecrow (Planning)",icon:Rr,color:"text-amber-600"},{value:"tinman",label:"Tin Man (Passion)",icon:cn,color:"text-rose-500"},{value:"lion",label:"Lion (Courage)",icon:Wr,color:"text-orange-600"}];function eR({actionItems:e}){const[t,r]=x.useState(null),[s,a]=x.useState(""),[i,o]=x.useState("lion"),[l,c]=x.useState(!1),[d,u]=x.useState(""),[h,m]=x.useState(!1),f=vm(),{toast:p}=yt(),g=b=>{r(b),a(b.blocked_by||""),o(b.task_type||"lion"),c(b.is_setback||!1),u(b.setback_reason||"")},v=()=>{t&&f.mutate({id:t.id,blocked_by:s||null,task_type:i,is_setback:l,setback_reason:l?d:null},{onSuccess:()=>{p({title:"Task updated",description:"Dependencies and type saved"}),m(!1),r(null)}})},j=e.filter(b=>b.is_setback),y=e.filter(b=>b.blocked_by);return n.jsxs(Xt,{open:h,onOpenChange:m,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{variant:"outline",size:"sm",className:"gap-2",children:[n.jsx(eO,{className:"h-4 w-4"}),"Dependencies & Setbacks",(j.length>0||y.length>0)&&n.jsx(ne,{variant:"secondary",className:"ml-1",children:j.length+y.length})]})}),n.jsxs(qt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[n.jsx(Ht,{children:n.jsxs(Kt,{className:"flex items-center gap-2",children:[n.jsx(jt,{className:"h-5 w-5 text-amber-500"}),"Setback Matrix & Dependencies"]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(q,{className:"border-red-200 dark:border-red-900",children:[n.jsx(de,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm flex items-center gap-2",children:[n.jsx(jt,{className:"h-4 w-4 text-red-500"}),"Setbacks"]})}),n.jsxs(K,{children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:j.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Tasks done out of order"})]})]}),n.jsxs(q,{className:"border-amber-200 dark:border-amber-900",children:[n.jsx(de,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm flex items-center gap-2",children:[n.jsx(eO,{className:"h-4 w-4 text-amber-500"}),"Blocked"]})}),n.jsxs(K,{children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:y.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Waiting on other tasks"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Select a task to configure:"}),n.jsx("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:e.map(b=>{const w=b.task_type||"lion",N=JM.find(C=>C.value===w),_=(N==null?void 0:N.icon)||Wr;return n.jsxs("button",{onClick:()=>g(b),className:z("flex items-center gap-3 p-3 rounded-lg border text-left transition-all",(t==null?void 0:t.id)===b.id?"border-primary bg-primary/5":"hover:bg-muted/50"),children:[n.jsx(_,{className:z("h-4 w-4",N==null?void 0:N.color)}),n.jsx("span",{className:"flex-1 truncate",children:b.title}),b.is_setback&&n.jsx(ne,{variant:"destructive",className:"text-xs",children:"Setback"}),b.blocked_by&&n.jsx(ne,{variant:"outline",className:"text-xs",children:"Blocked"})]},b.id)})})]}),t&&n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-base",children:t.title}),n.jsx(ye,{children:"Configure dependencies and task type"})]}),n.jsxs(K,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Task Type (Oz Character)"}),n.jsxs(Re,{value:i,onValueChange:o,children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:JM.map(b=>n.jsx(he,{value:b.value,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(b.icon,{className:z("h-4 w-4",b.color)}),b.label]})},b.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Blocked By (Dependency)"}),n.jsxs(Re,{value:s,onValueChange:a,children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"None - Ready to start"})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Eee,{className:"h-4 w-4"}),"None - Ready to start"]})}),e.filter(b=>b.id!==t.id).map(b=>n.jsx(he,{value:b.id,children:b.title},b.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"isSetback",checked:l,onChange:b=>c(b.target.checked),className:"rounded"}),n.jsxs(M,{htmlFor:"isSetback",className:"flex items-center gap-2 cursor-pointer",children:[n.jsx(jt,{className:"h-4 w-4 text-red-500"}),"Mark as Setback (done out of order)"]})]}),l&&n.jsx(wr,{placeholder:"What went wrong? What should have been done first?",value:d,onChange:b=>u(b.target.value),rows:2})]}),n.jsx($,{onClick:v,className:"w-full",children:"Save Changes"})]})]})]})]})]})}function Jve({project:e,open:t,onComplete:r,onCancel:s}){const[a,i]=x.useState(1),[o,l]=x.useState(!1),[c,d]=x.useState(""),[u,h]=x.useState(""),[m,f]=x.useState(""),{data:p}=B7(e.id),{data:g=[]}=V7(e.id),v=tpe(),{toast:j}=yt();if(p)return r(),null;const y=g.filter(w=>w.times_occurred>=2),b=async()=>{await v.mutateAsync({project_id:e.id,priorities_reviewed:o,stakeholders_contacted:c?c.split(",").map(w=>w.trim()):[],focus_intention:u,distractions_to_avoid:m?m.split(",").map(w=>w.trim()):[]}),j({title:"Oz Ritual Complete! ",description:"You're ready to walk the Yellow Brick Road"}),r()};return n.jsx(Xt,{open:t,onOpenChange:w=>!w&&s(),children:n.jsxs(qt,{className:"max-w-lg",children:[n.jsxs(Ht,{children:[n.jsxs(Kt,{className:"flex items-center gap-2",children:[n.jsx(ht,{className:"h-5 w-5 text-yellow-500"}),"Daily Oz Ritual"]}),n.jsxs(ko,{children:['Complete your check-in before starting work on "',e.name,'"']})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between mb-6",children:[1,2,3,4].map(w=>n.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all ${w<a?"bg-green-500 border-green-500 text-white":w===a?"bg-yellow-500 border-yellow-500 text-white":"border-muted-foreground/30 text-muted-foreground"}`,children:w<a?n.jsx(At,{className:"h-5 w-5"}):w},w))}),a===1&&n.jsxs("div",{className:"space-y-4 animate-fade-in",children:[n.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[n.jsx(Rr,{className:"h-6 w-6 text-amber-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-amber-800 dark:text-amber-400",children:"Scarecrow Says: Think First!"}),n.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-500 mt-1",children:"Before jumping in, have you reviewed what actually needs to be done?"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ga,{id:"priorities",checked:o,onCheckedChange:w=>l(w===!0)}),n.jsx(M,{htmlFor:"priorities",className:"cursor-pointer",children:"I have reviewed my priorities and know what to work on"})]}),n.jsxs($,{onClick:()=>i(2),disabled:!o,className:"w-full",children:["Next ",n.jsx(kn,{className:"h-4 w-4 ml-2"})]})]}),a===2&&n.jsxs("div",{className:"space-y-4 animate-fade-in",children:[n.jsxs("div",{className:"flex items-start gap-3 p-4 bg-rose-50 dark:bg-rose-900/20 rounded-lg",children:[n.jsx(hB,{className:"h-6 w-6 text-rose-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-rose-800 dark:text-rose-400",children:"Tin Man Says: Check Your Heart!"}),n.jsx("p",{className:"text-sm text-rose-700 dark:text-rose-500 mt-1",children:"Who should you connect with before starting? Boss? Marketing? Team?"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"stakeholders",children:'Who did you check in with? (comma separated, or "none needed")'}),n.jsx(F,{id:"stakeholders",placeholder:"e.g., Boss, Marketing team, Partner",value:c,onChange:w=>d(w.target.value)})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx($,{variant:"outline",onClick:()=>i(1),children:"Back"}),n.jsxs($,{onClick:()=>i(3),disabled:!c.trim(),className:"flex-1",children:["Next ",n.jsx(kn,{className:"h-4 w-4 ml-2"})]})]})]}),a===3&&n.jsxs("div",{className:"space-y-4 animate-fade-in",children:[n.jsxs("div",{className:"flex items-start gap-3 p-4 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg",children:[n.jsx(Di,{className:"h-6 w-6 text-emerald-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-emerald-800 dark:text-emerald-400",children:"Set Your Emerald City Goal"}),n.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-500 mt-1",children:"What ONE thing will make today a success for this project?"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"intention",children:"Today's Focus (just ONE thing)"}),n.jsx(wr,{id:"intention",placeholder:"e.g., Finish the intro section of the song",value:u,onChange:w=>h(w.target.value),rows:2})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx($,{variant:"outline",onClick:()=>i(2),children:"Back"}),n.jsxs($,{onClick:()=>i(4),disabled:!u.trim(),className:"flex-1",children:["Next ",n.jsx(kn,{className:"h-4 w-4 ml-2"})]})]})]}),a===4&&n.jsxs("div",{className:"space-y-4 animate-fade-in",children:[n.jsxs("div",{className:"flex items-start gap-3 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[n.jsx(wee,{className:"h-6 w-6 text-orange-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-orange-800 dark:text-orange-400",children:"Lion Says: Know Your Flying Monkeys!"}),n.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-500 mt-1",children:"What distractions might pull you off the Yellow Brick Road?"})]})]}),y.length>0&&n.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[n.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-400 mb-2",children:" Watch out! You've done these before:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(w=>n.jsxs(ne,{variant:"destructive",className:"text-xs",children:[w.pattern_description," (",w.times_occurred,"x)"]},w.id))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"distractions",children:"Distractions to avoid today (comma separated)"}),n.jsx(F,{id:"distractions",placeholder:"e.g., New song genre, social media, reorganizing files",value:m,onChange:w=>f(w.target.value)})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx($,{variant:"outline",onClick:()=>i(3),children:"Back"}),n.jsx($,{onClick:b,disabled:!m.trim()||v.isPending,className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:v.isPending?"Saving...":"Enter the Emerald City! "})]})]})]})]})})}var sW=["PageUp","PageDown"],aW=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],iW={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},wm="Slider",[N2,e0e,t0e]=im(wm),[oW,Dqe]=Zr(wm,[t0e]),[r0e,Rj]=oW(wm),lW=x.forwardRef((e,t)=>{const{name:r,min:s=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[s],value:u,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:f=!1,form:p,...g}=e,v=x.useRef(new Set),j=x.useRef(0),b=o==="horizontal"?n0e:s0e,[w=[],N]=Kn({prop:u,defaultProp:d,onChange:T=>{var B;(B=[...v.current][j.current])==null||B.focus(),h(T)}}),_=x.useRef(w);function C(T){const A=c0e(w,T);E(T,A)}function S(T){E(T,j.current)}function k(){const T=_.current[j.current];w[j.current]!==T&&m(w)}function E(T,A,{commit:B}={commit:!1}){const R=m0e(i),L=f0e(Math.round((T-s)/i)*i+s,R),V=Fp(L,[s,a]);N((O=[])=>{const P=o0e(O,V,A);if(h0e(P,c*i)){j.current=P.indexOf(V);const I=String(P)!==String(O);return I&&B&&m(P),I?P:O}else return O})}return n.jsx(r0e,{scope:e.__scopeSlider,name:r,disabled:l,min:s,max:a,valueIndexToChangeRef:j,thumbs:v.current,values:w,orientation:o,form:p,children:n.jsx(N2.Provider,{scope:e.__scopeSlider,children:n.jsx(N2.Slot,{scope:e.__scopeSlider,children:n.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:me(g.onPointerDown,()=>{l||(_.current=w)}),min:s,max:a,inverted:f,onSlideStart:l?void 0:C,onSlideMove:l?void 0:S,onSlideEnd:l?void 0:k,onHomeKeyDown:()=>!l&&E(s,0,{commit:!0}),onEndKeyDown:()=>!l&&E(a,w.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:A})=>{if(!l){const L=sW.includes(T.key)||T.shiftKey&&aW.includes(T.key)?10:1,V=j.current,O=w[V],P=i*L*A;E(O+P,V,{commit:!0})}}})})})})});lW.displayName=wm;var[cW,dW]=oW(wm,{startEdge:"left",endEdge:"right",size:"width",direction:1}),n0e=x.forwardRef((e,t)=>{const{min:r,max:s,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,[h,m]=x.useState(null),f=Qe(t,b=>m(b)),p=x.useRef(void 0),g=sc(a),v=g==="ltr",j=v&&!i||!v&&i;function y(b){const w=p.current||h.getBoundingClientRect(),N=[0,w.width],C=rP(N,j?[r,s]:[s,r]);return p.current=w,C(b-w.left)}return n.jsx(cW,{scope:e.__scopeSlider,startEdge:j?"left":"right",endEdge:j?"right":"left",direction:j?1:-1,size:"width",children:n.jsx(uW,{dir:g,"data-orientation":"horizontal",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const w=y(b.clientX);o==null||o(w)},onSlideMove:b=>{const w=y(b.clientX);l==null||l(w)},onSlideEnd:()=>{p.current=void 0,c==null||c()},onStepKeyDown:b=>{const N=iW[j?"from-left":"from-right"].includes(b.key);d==null||d({event:b,direction:N?-1:1})}})})}),s0e=x.forwardRef((e,t)=>{const{min:r,max:s,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,u=x.useRef(null),h=Qe(t,u),m=x.useRef(void 0),f=!a;function p(g){const v=m.current||u.current.getBoundingClientRect(),j=[0,v.height],b=rP(j,f?[s,r]:[r,s]);return m.current=v,b(g-v.top)}return n.jsx(cW,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:n.jsx(uW,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=p(g.clientY);i==null||i(v)},onSlideMove:g=>{const v=p(g.clientY);o==null||o(v)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:g=>{const j=iW[f?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:j?-1:1})}})})}),uW=x.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:s,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,u=Rj(wm,r);return n.jsx(Ce.span,{...d,ref:t,onKeyDown:me(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):sW.concat(aW).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:me(e.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(m)?m.focus():s(h)}),onPointerMove:me(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:me(e.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),i(h))})})}),hW="SliderTrack",mW=x.forwardRef((e,t)=>{const{__scopeSlider:r,...s}=e,a=Rj(hW,r);return n.jsx(Ce.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:t})});mW.displayName=hW;var _2="SliderRange",fW=x.forwardRef((e,t)=>{const{__scopeSlider:r,...s}=e,a=Rj(_2,r),i=dW(_2,r),o=x.useRef(null),l=Qe(t,o),c=a.values.length,d=a.values.map(m=>gW(m,a.min,a.max)),u=c>1?Math.min(...d):0,h=100-Math.max(...d);return n.jsx(Ce.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:l,style:{...e.style,[i.startEdge]:u+"%",[i.endEdge]:h+"%"}})});fW.displayName=_2;var S2="SliderThumb",pW=x.forwardRef((e,t)=>{const r=e0e(e.__scopeSlider),[s,a]=x.useState(null),i=Qe(t,l=>a(l)),o=x.useMemo(()=>s?r().findIndex(l=>l.ref.current===s):-1,[r,s]);return n.jsx(a0e,{...e,ref:i,index:o})}),a0e=x.forwardRef((e,t)=>{const{__scopeSlider:r,index:s,name:a,...i}=e,o=Rj(S2,r),l=dW(S2,r),[c,d]=x.useState(null),u=Qe(t,y=>d(y)),h=c?o.form||!!c.closest("form"):!0,m=Wx(c),f=o.values[s],p=f===void 0?0:gW(f,o.min,o.max),g=l0e(s,o.values.length),v=m==null?void 0:m[l.size],j=v?d0e(v,p,l.direction):0;return x.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${p}% + ${j}px)`},children:[n.jsx(N2.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(Ce.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:f===void 0?{display:"none"}:e.style,onFocus:me(e.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),h&&n.jsx(xW,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},s)]})});pW.displayName=S2;var i0e="RadioBubbleInput",xW=x.forwardRef(({__scopeSlider:e,value:t,...r},s)=>{const a=x.useRef(null),i=Qe(a,s),o=ag(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("input",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),n.jsx(Ce.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});xW.displayName=i0e;function o0e(e=[],t,r){const s=[...e];return s[r]=t,s.sort((a,i)=>a-i)}function gW(e,t,r){const i=100/(r-t)*(e-t);return Fp(i,[0,100])}function l0e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function c0e(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),s=Math.min(...r);return r.indexOf(s)}function d0e(e,t,r){const s=e/2,i=rP([0,50],[0,s]);return(s-i(t)*r)*r}function u0e(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function h0e(e,t){if(t>0){const r=u0e(e);return Math.min(...r)>=t}return!0}function rP(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function m0e(e){return(String(e).split(".")[1]||"").length}function f0e(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var yW=lW,p0e=mW,x0e=fW,g0e=pW;const fg=x.forwardRef(({className:e,...t},r)=>n.jsxs(yW,{ref:r,className:z("relative flex w-full touch-none select-none items-center",e),...t,children:[n.jsx(p0e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:n.jsx(x0e,{className:"absolute h-full bg-primary"})}),n.jsx(g0e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));fg.displayName=yW.displayName;function y0e({project:e,actionItems:t,onClose:r}){const[s,a]=x.useState(70),[i,o]=x.useState(""),[l,c]=x.useState(""),[d,u]=x.useState("distraction"),h=kE(),m=rpe(),{data:f=[]}=V7(e.id),{toast:p}=yt(),g=t.filter(C=>C.is_setback).length,v=t.filter(C=>C.is_completed).length,j=t.length,y=j>0?v/j*100:0,b=Math.max(0,Math.min(100,Math.round(y-g*10-(e.scope_creep_count||0)*5))),w=async()=>{await h.mutateAsync({id:e.id,focus_score:s,lessons_learned:i}),l.trim()&&await m.mutateAsync({project_id:e.id,pattern_type:d,pattern_description:l,impact_on_score:d==="distraction"?-10:10,lesson:i||void 0}),p({title:"Project Scored! ",description:`Focus Score: ${s}/100`}),r()},N=C=>C>=80?"text-green-600":C>=60?"text-yellow-600":C>=40?"text-orange-600":"text-red-600",_=C=>C>=90?"":C>=80?"":C>=60?"":C>=40?"":"";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsx(q,{children:n.jsxs(K,{className:"pt-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:v}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"})]})}),n.jsx(q,{children:n.jsxs(K,{className:"pt-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:g}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Setbacks"})]})}),n.jsx(q,{children:n.jsxs(K,{className:"pt-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:e.scope_creep_count||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Scope Creep"})]})})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Suggested Score:"}),n.jsxs(ne,{variant:"outline",className:N(b),children:[b,"/100"]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Based on ",y.toFixed(0),"% completion, ",g," setbacks"]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(M,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Your Focus Score"}),n.jsxs("span",{className:z("text-2xl font-bold",N(s)),children:[s," ",_(s)]})]}),n.jsx(fg,{value:[s],onValueChange:C=>a(C[0]),min:0,max:100,step:5,className:"py-4"}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsx("span",{children:"Got Distracted"}),n.jsx("span",{children:"Stayed Focused"})]})]}),f.length>0&&n.jsxs(q,{className:"border-amber-200 dark:border-amber-800",children:[n.jsx(de,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm flex items-center gap-2",children:[n.jsx(jt,{className:"h-4 w-4 text-amber-500"}),"Patterns from This Project"]})}),n.jsx(K,{children:n.jsx("div",{className:"space-y-2",children:f.map(C=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:C.pattern_type==="distraction"?"text-red-600":"text-green-600",children:[C.pattern_type==="distraction"?"":""," ",C.pattern_description]}),n.jsxs(ne,{variant:"secondary",children:[C.times_occurred,"x"]})]},C.id))})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(M,{className:"flex items-center gap-2",children:[n.jsx(Bx,{className:"h-4 w-4"}),"Log a Pattern (for future learning)"]}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsxs($,{type:"button",size:"sm",variant:d==="distraction"?"destructive":"outline",onClick:()=>u("distraction"),children:[n.jsx(zx,{className:"h-4 w-4 mr-1"}),"Distraction"]}),n.jsxs($,{type:"button",size:"sm",variant:d==="success"?"default":"outline",onClick:()=>u("success"),className:d==="success"?"bg-green-600 hover:bg-green-700":"",children:[n.jsx(Fs,{className:"h-4 w-4 mr-1"}),"Success"]})]}),n.jsx(F,{placeholder:d==="distraction"?"e.g., Started a new genre instead of finishing":"e.g., Called boss before starting",value:l,onChange:C=>c(C.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"lessons",children:"What did you learn?"}),n.jsx(wr,{id:"lessons",placeholder:"e.g., I should finish one genre before exploring new ones...",value:i,onChange:C=>o(C.target.value),rows:3})]}),n.jsxs($,{onClick:w,className:"w-full gap-2",children:[n.jsx(ri,{className:"h-4 w-4"}),"Save Score & Complete Project"]})]})}function v0e({project:e,actionItems:t}){const[r,s]=x.useState(!1);return n.jsxs(Xt,{open:r,onOpenChange:s,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{variant:"outline",size:"sm",className:"gap-2",children:[n.jsx(ri,{className:"h-4 w-4"}),"Score & Complete"]})}),n.jsxs(qt,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx(Ht,{children:n.jsxs(Kt,{className:"flex items-center gap-2",children:[n.jsx($v,{className:"h-5 w-5 text-yellow-500"}),"Score: ",e.name]})}),n.jsx(y0e,{project:e,actionItems:t,onClose:()=>s(!1)})]})]})}const tR={flow:{icon:Rr,label:"Flow",description:"Brain-safe vertical focus",color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-100 dark:bg-emerald-900/30",ring:"ring-emerald-500"},power:{icon:Ir,label:"Power",description:"High-capacity Kanban planning",color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-100 dark:bg-amber-900/30",ring:"ring-amber-500"},recovery:{icon:cn,label:"Recovery",description:"Ultra-simple, one thing only",color:"text-rose-500 dark:text-rose-400",bg:"bg-rose-100 dark:bg-rose-900/30",ring:"ring-rose-500"}};function b0e({mode:e,onChange:t,onPowerModeRequest:r}){const s=a=>{a==="power"&&e!=="power"&&r?r():t(a)};return n.jsx("div",{className:"flex items-center gap-1 p-1 bg-muted/50 rounded-lg",children:Object.keys(tR).map(a=>{const i=tR[a],o=i.icon,l=e===a;return n.jsxs($,{variant:"ghost",size:"sm",onClick:()=>s(a),className:z("gap-1.5 h-8 px-2 sm:px-3 transition-all",l&&i.bg,l&&"ring-2",l&&i.ring),title:i.description,children:[n.jsx(o,{className:z("h-4 w-4",l&&i.color)}),n.jsx("span",{className:z("text-xs font-medium hidden sm:inline",l&&i.color),children:i.label})]},a)})})}var vW="AlertDialog",[j0e,$qe]=Zr(vW,[zz]),Do=zz(),bW=e=>{const{__scopeAlertDialog:t,...r}=e,s=Do(t);return n.jsx(BE,{...s,...r,modal:!0})};bW.displayName=vW;var w0e="AlertDialogTrigger",jW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Do(r);return n.jsx(VE,{...a,...s,ref:t})});jW.displayName=w0e;var N0e="AlertDialogPortal",wW=e=>{const{__scopeAlertDialog:t,...r}=e,s=Do(t);return n.jsx(zE,{...s,...r})};wW.displayName=N0e;var _0e="AlertDialogOverlay",NW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Do(r);return n.jsx(ig,{...a,...s,ref:t})});NW.displayName=_0e;var Gu="AlertDialogContent",[S0e,C0e]=j0e(Gu),k0e=T6("AlertDialogContent"),_W=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=Do(r),o=x.useRef(null),l=Qe(t,o),c=x.useRef(null);return n.jsx(uge,{contentName:Gu,titleName:SW,docsSlug:"alert-dialog",children:n.jsx(S0e,{scope:r,cancelRef:c,children:n.jsxs(og,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:me(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(k0e,{children:s}),n.jsx(E0e,{contentRef:o})]})})})});_W.displayName=Gu;var SW="AlertDialogTitle",CW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Do(r);return n.jsx(lg,{...a,...s,ref:t})});CW.displayName=SW;var kW="AlertDialogDescription",TW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Do(r);return n.jsx(cg,{...a,...s,ref:t})});TW.displayName=kW;var T0e="AlertDialogAction",EW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Do(r);return n.jsx(kj,{...a,...s,ref:t})});EW.displayName=T0e;var PW="AlertDialogCancel",AW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=C0e(PW,r),i=Do(r),o=Qe(t,a);return n.jsx(kj,{...i,...s,ref:o})});AW.displayName=PW;var E0e=({contentRef:e})=>{const t=`\`${Gu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gu}\` by passing a \`${kW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},P0e=bW,A0e=jW,O0e=wW,OW=NW,MW=_W,RW=EW,IW=AW,DW=CW,$W=TW;const mo=P0e,nP=A0e,M0e=O0e,LW=x.forwardRef(({className:e,...t},r)=>n.jsx(OW,{className:z("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));LW.displayName=OW.displayName;const Ci=x.forwardRef(({className:e,...t},r)=>n.jsxs(M0e,{children:[n.jsx(LW,{}),n.jsx(MW,{ref:r,className:z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Ci.displayName=MW.displayName;const ki=({className:e,...t})=>n.jsx("div",{className:z("flex flex-col space-y-2 text-center sm:text-left",e),...t});ki.displayName="AlertDialogHeader";const Ti=({className:e,...t})=>n.jsx("div",{className:z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ti.displayName="AlertDialogFooter";const Ei=x.forwardRef(({className:e,...t},r)=>n.jsx(DW,{ref:r,className:z("text-lg font-semibold",e),...t}));Ei.displayName=DW.displayName;const Pi=x.forwardRef(({className:e,...t},r)=>n.jsx($W,{ref:r,className:z("text-sm text-muted-foreground",e),...t}));Pi.displayName=$W.displayName;const lc=x.forwardRef(({className:e,...t},r)=>n.jsx(RW,{ref:r,className:z(Dp(),e),...t}));lc.displayName=RW.displayName;const Ai=x.forwardRef(({className:e,...t},r)=>n.jsx(IW,{ref:r,className:z(Dp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ai.displayName=IW.displayName;function R0e({open:e,onConfirm:t,onCancel:r}){return n.jsx(mo,{open:e,onOpenChange:s=>!s&&r(),children:n.jsxs(Ci,{className:"max-w-md",children:[n.jsxs(ki,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg",children:n.jsx(Ir,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),n.jsx(Ei,{className:"text-xl",children:"Enter Power Mode?"})]}),n.jsx(Pi,{asChild:!0,children:n.jsxs("div",{className:"space-y-4 text-left",children:[n.jsx("p",{className:"text-base",children:"Power Mode shows more information at once. It's great for high-energy, detail-heavy planning."}),n.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-lg",children:[n.jsx(jt,{className:"h-5 w-5 text-amber-500 mt-0.5 flex-shrink-0"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["If you're feeling foggy, tired, anxious, or overloaded ",n.jsx("strong",{className:"text-foreground",children:" Flow Mode will feel easier."})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Rr,{className:"h-4 w-4 text-emerald-500"}),n.jsx("span",{children:"You can switch back to Flow Mode anytime."})]})]})})]}),n.jsxs(Ti,{className:"gap-2 sm:gap-0",children:[n.jsxs(Ai,{onClick:r,className:"gap-1",children:[n.jsx(Rr,{className:"h-4 w-4"}),"Stay in Flow Mode"]}),n.jsxs(lc,{onClick:t,className:"gap-1 bg-amber-600 hover:bg-amber-700",children:[n.jsx(Ir,{className:"h-4 w-4"}),"Enter Power Mode"]})]})]})})}function I0e({actionItems:e}){const t=vm(),[r,s]=x.useState(!1),a=e.filter(d=>!d.is_completed&&!d.blocked_by).sort((d,u)=>(u.priority_score||50)-(d.priority_score||50)),i=a[0],o=e.filter(d=>d.is_completed).length,l=a.length,c=async()=>{i&&(await t.mutateAsync({id:i.id,is_completed:!0}),s(!0),setTimeout(()=>s(!1),2e3))};return i?n.jsxs("div",{className:"max-w-md mx-auto py-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-rose-100 dark:bg-rose-900/30 rounded-full text-rose-600 dark:text-rose-400 text-sm font-medium mb-4",children:[n.jsx(cn,{className:"h-4 w-4"}),"Recovery Mode"]}),n.jsx("h2",{className:"text-xl font-medium text-muted-foreground",children:"Just one thing."})]}),r&&n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",children:n.jsxs("div",{className:"text-center animate-scale-in",children:[n.jsx(At,{className:"h-24 w-24 text-emerald-500 mx-auto mb-4"}),n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:"Done! "})]})}),n.jsx(q,{className:"border-2 border-rose-200 dark:border-rose-800 shadow-lg",children:n.jsx(K,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(ga,{checked:!1,onCheckedChange:c,className:"h-6 w-6 mt-1 rounded-full border-2"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xl font-semibold mb-2",children:i.title}),i.description&&n.jsx("p",{className:"text-muted-foreground mb-4",children:i.description}),n.jsxs($,{onClick:c,className:"w-full gap-2 h-12 text-base",disabled:t.isPending,children:[n.jsx(At,{className:"h-5 w-5"}),"Mark as Done"]})]})]})})}),n.jsxs("div",{className:"mt-8 text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:l>1?n.jsxs("span",{className:"flex items-center justify-center gap-1",children:[l-1," more after this",n.jsx(as,{className:"h-4 w-4"})]}):n.jsx("span",{children:"This is your last one for now."})}),o>0&&n.jsxs(ne,{variant:"secondary",className:"mt-3 gap-1",children:[n.jsx(ht,{className:"h-3 w-3"}),o," done today"]})]})]}):n.jsxs("div",{className:"max-w-md mx-auto text-center py-16",children:[n.jsxs("div",{className:"relative inline-block mb-6",children:[n.jsx(hd,{className:"h-20 w-20 text-indigo-400 mx-auto"}),n.jsx(ht,{className:"h-8 w-8 text-amber-400 absolute -top-2 -right-2 animate-pulse"})]}),n.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Nothing more right now."}),n.jsxs("p",{className:"text-muted-foreground text-lg mb-6",children:["You completed ",o," task",o!==1?"s":""," today.",n.jsx("br",{}),n.jsx("span",{className:"text-base",children:"Rest is productive too."})]}),n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-full text-emerald-700 dark:text-emerald-300",children:[n.jsx(cn,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"You're doing enough."})]})]})}const D0e=[{id:"backlog",label:"Backlog",color:"bg-muted"},{id:"todo",label:"To Do",color:"bg-blue-500/20"},{id:"in_progress",label:"In Progress",color:"bg-amber-500/20"},{id:"waiting",label:"Waiting On",color:"bg-purple-500/20"},{id:"done",label:"Done",color:"bg-emerald-500/20"}];function $0e({actionItems:e}){const t=vm(),[r,s]=x.useState(null),a=o=>e.filter(l=>l.is_completed?o==="done":l.waiting_on?o==="waiting":(l.kanban_status||"backlog")===o),i=(o,l)=>{const c={id:o.id};l==="done"?(c.is_completed=!0,c.kanban_status="done"):l==="waiting"?(c.kanban_status="waiting",c.waiting_on="Pending response"):(c.is_completed=!1,c.kanban_status=l,c.waiting_on=null),t.mutate(c)};return n.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:D0e.map(o=>n.jsx(L0e,{column:o,items:a(o.id),onDrop:l=>i(l,o.id),draggedItem:r,setDraggedItem:s},o.id))})}function L0e({column:e,items:t,onDrop:r,draggedItem:s,setDraggedItem:a}){const[i,o]=x.useState(!1),l=u=>{u.preventDefault(),o(!0)},c=()=>{o(!1)},d=u=>{u.preventDefault(),o(!1);const h=u.dataTransfer.getData("application/json");if(h){const m=JSON.parse(h);r(m)}};return n.jsxs("div",{className:z("flex-shrink-0 w-72 rounded-xl p-3 transition-colors",e.color,i&&"ring-2 ring-primary ring-offset-2"),onDragOver:l,onDragLeave:c,onDrop:d,children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-sm",children:e.label}),n.jsx(ne,{variant:"secondary",className:"text-xs",children:t.length})]}),n.jsxs("div",{className:"space-y-2 min-h-[200px]",children:[t.map(u=>n.jsx(F0e,{item:u,isDragging:s===u.id,onDragStart:()=>a(u.id),onDragEnd:()=>a(null)},u.id)),t.length===0&&n.jsx("div",{className:"h-20 flex items-center justify-center text-muted-foreground text-sm border-2 border-dashed border-muted-foreground/20 rounded-lg",children:"Drop items here"})]})]})}function F0e({item:e,isDragging:t,onDragStart:r,onDragEnd:s}){const a=vm(),i=c=>{c.dataTransfer.setData("application/json",JSON.stringify(e)),r()},o={high:"border-l-red-500",medium:"border-l-amber-500",low:"border-l-emerald-500"},l=e.due_date&&new Date(e.due_date)<new Date&&!e.is_completed;return n.jsx(ee.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:t?.5:1,y:0},exit:{opacity:0,y:-10},children:n.jsx(q,{draggable:!0,onDragStart:i,onDragEnd:s,className:z("p-3 cursor-grab active:cursor-grabbing border-l-4 hover:shadow-md transition-shadow",o[e.priority||"low"],e.is_completed&&"opacity-60"),children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(ree,{className:"h-4 w-4 text-muted-foreground/50 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(ga,{checked:e.is_completed,onCheckedChange:c=>a.mutate({id:e.id,is_completed:!!c,kanban_status:c?"done":"todo"}),className:"mt-0.5"}),n.jsx("p",{className:z("text-sm font-medium truncate",e.is_completed&&"line-through text-muted-foreground"),children:e.title})]}),e.description&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2 ml-6",children:e.description}),n.jsxs("div",{className:"flex items-center gap-2 mt-2 ml-6 flex-wrap",children:[e.due_date&&n.jsxs(ne,{variant:l?"destructive":"outline",className:"text-xs h-5",children:[l&&n.jsx(jt,{className:"h-3 w-3 mr-1"}),n.jsx(_s,{className:"h-3 w-3 mr-1"}),_t(new Date(e.due_date),"MMM d")]}),e.waiting_on&&n.jsxs(ne,{variant:"secondary",className:"text-xs h-5",children:[n.jsx(is,{className:"h-3 w-3 mr-1"}),"Waiting"]})]})]})]})})})}function B0e({isOpen:e,onToggle:t,unprocessedCount:r=0,buttonImage:s,storageKey:a="quick-capture-position"}){return n.jsx(fV,{storageKey:a,children:n.jsxs("div",{className:"relative",children:[n.jsx($,{size:"lg",className:z("h-20 w-20 rounded-full shadow-xl transition-all overflow-hidden p-0","bg-gradient-to-br from-amber-500 to-amber-600 hover:from-amber-400 hover:to-amber-500","border-4 border-amber-300/50",e&&"ring-4 ring-amber-300"),onClick:t,children:n.jsx(Qr,{mode:"wait",children:e?n.jsx(ee.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},className:"flex items-center justify-center w-full h-full bg-amber-600",children:n.jsx(Vi,{className:"h-8 w-8 text-white"})},"close"):n.jsxs(ee.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},className:"w-full h-full relative",children:[s?n.jsx("img",{src:s,alt:"Quick Capture",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-amber-500 flex items-center justify-center",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),n.jsx("path",{d:"m15 5 4 4"})]})}),n.jsx("div",{className:"absolute bottom-0 right-0 bg-emerald-600 rounded-full p-1.5 border-2 border-card shadow-lg",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),n.jsx("path",{d:"m15 5 4 4"})]})})]},"image")})}),r>0&&!e&&n.jsxs("span",{className:"absolute -top-1 -right-1 flex h-5 w-5",children:[n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),n.jsx("span",{className:"relative inline-flex rounded-full h-5 w-5 bg-emerald-500 text-white text-xs items-center justify-center font-medium",children:r})]})]})})}function V0e({note:e,onDelete:t}){return n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 border border-border/50 group",children:[n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.content}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:Fz(new Date(e.created_at),{addSuffix:!0})}),n.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.is_processed&&n.jsx(ne,{variant:"outline",className:"text-xs h-5",children:"Processed"}),n.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground hover:text-destructive",onClick:t,children:n.jsx(xr,{className:"h-3 w-3"})})]})]})]})}function z0e({content:e,onContentChange:t,onSubmit:r,onKeyDown:s,isRecording:a,onStartRecording:i,onStopRecording:o,isSubmitting:l=!1,notes:c=[],onDeleteNote:d,showHistory:u,onToggleHistory:h,onOrganize:m,isOrganizing:f=!1,headerImage:p,title:g="Quick Notes",placeholder:v="Quick thought... (+Enter to save)"}){const j=c.filter(y=>!y.is_processed).length;return n.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{type:"spring",stiffness:300,damping:25},className:"fixed bottom-32 right-6 z-50 w-80 sm:w-96",children:n.jsxs("div",{className:"bg-card border border-border rounded-xl shadow-2xl overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-amber-500/20 to-emerald-500/20 border-b border-border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[p&&n.jsx("img",{src:p,alt:"",className:"h-6 w-6 rounded-full object-cover"}),n.jsx("span",{className:"font-semibold text-sm",children:g})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[j>0&&m&&n.jsxs($,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs gap-1",onClick:m,disabled:f,children:[n.jsx(Rr,{className:"h-3 w-3"}),f?"...":"Organize"]}),n.jsxs($,{variant:"ghost",size:"sm",className:z("h-7 px-2 text-xs",u&&"bg-muted"),onClick:h,children:[n.jsx(is,{className:"h-3 w-3 mr-1"}),"History"]})]})]})}),u?n.jsx(ti,{className:"h-64",children:c.length===0?n.jsxs("div",{className:"p-6 text-center text-muted-foreground",children:[n.jsx(ht,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No notes yet"}),n.jsx("p",{className:"text-xs",children:"Quick thoughts go here!"})]}):n.jsx("div",{className:"p-2 space-y-2",children:c.map(y=>n.jsx(V0e,{note:y,onDelete:()=>d==null?void 0:d(y.id)},y.id))})}):n.jsxs("div",{className:"p-4",children:[n.jsx(wr,{value:e,onChange:y=>t(y.target.value),onKeyDown:s,placeholder:v,className:"min-h-[100px] resize-none bg-muted/50 border-muted"}),n.jsxs("div",{className:"flex items-center justify-between mt-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($,{variant:a?"destructive":"outline",size:"sm",className:"h-8",onClick:a?o:i,children:a?n.jsxs(n.Fragment,{children:[n.jsx(dB,{className:"h-3 w-3 mr-1"}),"Stop"]}):n.jsxs(n.Fragment,{children:[n.jsx(eS,{className:"h-3 w-3 mr-1"}),"Voice"]})}),a&&n.jsxs("span",{className:"flex items-center gap-1 text-xs text-destructive",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-destructive animate-pulse"}),"Recording..."]})]}),n.jsxs($,{size:"sm",className:"h-8",onClick:r,disabled:!e.trim()||l,children:[n.jsx(gT,{className:"h-3 w-3 mr-1"}),"Save"]})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-3 text-center",children:" Jot it down before it vanishes!"})]})]})})}function U0e(e={}){const[t,r]=x.useState(!1),[s,a]=x.useState(null),i=x.useRef(null),o=x.useRef([]),l=x.useRef(null),c=x.useCallback(async()=>{var u,h;if(a(null),typeof MediaRecorder>"u"){const m="Voice input not supported in this browser";a(m),(u=e.onError)==null||u.call(e,m);return}try{const m=await navigator.mediaDevices.getUserMedia({audio:!0});l.current=m;const p=["audio/webm;codecs=opus","audio/webm","audio/mp4"].find(v=>MediaRecorder.isTypeSupported(v)),g=p?new MediaRecorder(m,{mimeType:p}):new MediaRecorder(m);i.current=g,o.current=[],g.ondataavailable=v=>{v.data.size>0&&o.current.push(v.data)},g.onstop=async()=>{var v;try{const j=new Blob(o.current,{type:g.mimeType||"audio/webm"}),y=new FileReader;y.onloadend=()=>{var w;const b=y.result.split(",")[1];(w=e.onAudioReady)==null||w.call(e,b,g.mimeType||"audio/webm")},y.readAsDataURL(j)}finally{(v=l.current)==null||v.getTracks().forEach(j=>j.stop()),l.current=null}},g.start(),r(!0)}catch{const f="Microphone access denied";a(f),(h=e.onError)==null||h.call(e,f)}},[e]),d=x.useCallback(()=>{i.current&&t&&(i.current.stop(),r(!1))},[t]);return{isRecording:t,startRecording:c,stopRecording:d,error:s}}function FW(){return ft({queryKey:["quick-notes"],queryFn:async()=>{const{data:e,error:t}=await Y.from("quick_notes").select("*").order("created_at",{ascending:!1});if(t)throw t;return e}})}function W0e(){const e=ze();return Be({mutationFn:async t=>{const{data:{user:r}}=await Y.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:s,error:a}=await Y.from("quick_notes").insert({...t,user_id:r.id}).select().single();if(a)throw a;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["quick-notes"]}),St({title:"Note saved! "})},onError:t=>{St({title:"Error saving note",description:t.message,variant:"destructive"})}})}function q0e(){const e=ze();return Be({mutationFn:async({id:t,...r})=>{const{data:s,error:a}=await Y.from("quick_notes").update(r).eq("id",t).select().single();if(a)throw a;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["quick-notes"]})}})}function BW(){const e=ze();return Be({mutationFn:async t=>{const{error:r}=await Y.from("quick_notes").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["quick-notes"]}),St({title:"Note deleted"})}})}const rR="/assets/munchkin-helper-jNh8BkUu.png";function VW(){const[e,t]=x.useState(!1),[r,s]=x.useState(""),[a,i]=x.useState(!1),[o,l]=x.useState(!1),{data:c=[]}=FW(),d=W0e(),u=BW(),{isRecording:h,startRecording:m,stopRecording:f}=U0e({onAudioReady:async y=>{try{const{data:b,error:w}=await Y.functions.invoke("voice-to-text",{body:{audio:y}});if(w)throw w;b!=null&&b.text&&s(N=>N+(N?" ":"")+b.text)}catch{St({title:"Voice recognition failed",description:"Please try again or type your note",variant:"destructive"})}},onError:y=>{St({title:"Microphone error",description:y,variant:"destructive"})}}),p=async()=>{if(r.trim())try{await d.mutateAsync({content:r.trim()}),s("")}catch{}},g=y=>{y.key==="Enter"&&(y.metaKey||y.ctrlKey)&&(y.preventDefault(),p()),y.key==="Escape"&&t(!1)},v=async()=>{const y=c.filter(b=>!b.is_processed);if(y.length===0){St({title:"No notes to organize",description:"Add some notes first!"});return}i(!0);try{const b=y.map(N=>N.content).join(`

---

`),{error:w}=await Y.functions.invoke("brain-melee-chat",{body:{messages:[{role:"user",content:b}],phase:"organizing"}});if(w)throw w;St({title:" Notes organized!",description:"Check your Sticky Notes Inbox for the organized items."})}catch(b){const w=b instanceof Error?b.message:"Please try again";St({title:"Organization failed",description:w,variant:"destructive"})}finally{i(!1)}},j=c.filter(y=>!y.is_processed).length;return n.jsxs(n.Fragment,{children:[n.jsx(B0e,{isOpen:e,onToggle:()=>t(!e),unprocessedCount:j,buttonImage:rR,storageKey:"toto-button-position"}),n.jsx(Qr,{children:e&&n.jsx(z0e,{content:r,onContentChange:s,onSubmit:p,onKeyDown:g,isRecording:h,onStartRecording:m,onStopRecording:f,isSubmitting:d.isPending,notes:c,onDeleteNote:y=>u.mutate(y),showHistory:o,onToggleHistory:()=>l(!o),onOrganize:v,isOrganizing:a,headerImage:rR,title:"Munchkin Notes",placeholder:"Quick thought... (+Enter to save)"})})]})}const Wf=[{id:"inbox",label:"Inbox",icon:n.jsx(nee,{className:"h-4 w-4"}),color:"bg-blue-500/20 border-blue-500/30"},{id:"maybe",label:"Maybe",icon:n.jsx(is,{className:"h-4 w-4"}),color:"bg-amber-500/20 border-amber-500/30"},{id:"someday",label:"Someday",icon:n.jsx(is,{className:"h-4 w-4"}),color:"bg-purple-500/20 border-purple-500/30"},{id:"idea",label:"Ideas",icon:n.jsx(Bx,{className:"h-4 w-4"}),color:"bg-yellow-500/20 border-yellow-500/30"},{id:"reference",label:"Reference",icon:n.jsx(DJ,{className:"h-4 w-4"}),color:"bg-emerald-500/20 border-emerald-500/30"}];function nR({className:e}){var m;const[t,r]=x.useState("inbox"),{data:s=[]}=FW(),{data:a=[]}=$d(),i=q0e(),o=BW(),l=TE(),c=s.filter(f=>f.category===t||!("category"in f)&&t==="inbox"),d=f=>s.filter(p=>p.category===f||!("category"in p)&&f==="inbox").length,u=(f,p)=>{var g;i.mutate({id:f,category:p}),St({title:`Moved to ${(g=Wf.find(v=>v.id===p))==null?void 0:g.label}`})},h=async(f,p)=>{await l.mutateAsync({title:f.content.slice(0,100),description:f.content.length>100?f.content:void 0,project_id:p}),await i.mutateAsync({id:f.id,is_processed:!0}),St({title:"Created action item! "})};return n.jsxs("div",{className:z("space-y-4",e),children:[n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Wf.map(f=>{const p=d(f.id);return n.jsxs($,{variant:t===f.id?"default":"outline",size:"sm",className:z("gap-2 flex-shrink-0",t===f.id&&"bg-primary"),onClick:()=>r(f.id),children:[f.icon,f.label,p>0&&n.jsx(ne,{variant:"secondary",className:"ml-1 h-5 px-1.5 text-xs",children:p})]},f.id)})}),n.jsx(ti,{className:"h-[400px]",children:c.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(nS,{className:"h-12 w-12 mx-auto mb-3 opacity-40"}),n.jsxs("p",{className:"font-medium",children:["No notes in ",(m=Wf.find(f=>f.id===t))==null?void 0:m.label]}),n.jsx("p",{className:"text-sm",children:"Use the Toto button to capture quick thoughts!"})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 p-1",children:n.jsx(Qr,{mode:"popLayout",children:c.map((f,p)=>n.jsx(H0e,{note:f,index:p,projects:a,onMoveToCategory:u,onConvertToAction:h,onDelete:()=>o.mutate(f.id)},f.id))})})})]})}function H0e({note:e,index:t,projects:r,onMoveToCategory:s,onConvertToAction:a,onDelete:i}){const o=e.category||"inbox",l=Wf.find(d=>d.id===o),c=(t%3-1)*1.5;return n.jsx(ee.div,{layout:!0,initial:{opacity:0,scale:.8,rotate:c},animate:{opacity:1,scale:1,rotate:c},exit:{opacity:0,scale:.8},whileHover:{scale:1.02,rotate:0,zIndex:10},transition:{type:"spring",stiffness:300,damping:25},children:n.jsxs(q,{className:z("p-4 min-h-[120px] border-2 shadow-md relative group cursor-default","hover:shadow-lg transition-shadow",l==null?void 0:l.color,e.is_processed&&"opacity-60"),children:[n.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 bg-gradient-to-bl from-black/10 to-transparent rounded-bl-lg"}),n.jsx("p",{className:z("text-sm whitespace-pre-wrap line-clamp-4 pr-6",e.is_processed&&"line-through"),children:e.content}),n.jsxs("div",{className:"absolute bottom-2 left-3 right-3 flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:Fz(new Date(e.created_at),{addSuffix:!0})}),e.is_processed&&n.jsx(At,{className:"h-4 w-4 text-emerald-500"})]}),n.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsxs(vj,{children:[n.jsx(bj,{asChild:!0,children:n.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6",children:n.jsx(KJ,{className:"h-3 w-3"})})}),n.jsxs(sg,{align:"end",className:"w-48",children:[n.jsx(u2,{children:"Move to"}),Wf.filter(d=>d.id!==o).map(d=>n.jsxs(yn,{onClick:()=>s(e.id,d.id),children:[d.icon,n.jsx("span",{className:"ml-2",children:d.label})]},d.id)),n.jsx(td,{}),n.jsx(u2,{children:"Convert to Action"}),n.jsxs(yn,{onClick:()=>a(e),children:[n.jsx(kn,{className:"h-4 w-4 mr-2"}),"No project"]}),r.slice(0,5).map(d=>n.jsxs(yn,{onClick:()=>a(e,d.id),children:[n.jsx(ZJ,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"truncate",children:d.name})]},d.id)),n.jsx(td,{}),n.jsxs(yn,{onClick:i,className:"text-destructive focus:text-destructive",children:[n.jsx(xr,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]})})}function K0e(){const{theme:e,setTheme:t}=EB();return n.jsxs(vj,{children:[n.jsx(bj,{asChild:!0,children:n.jsxs($,{variant:"ghost",size:"icon",className:"h-9 w-9",children:[n.jsx(Lv,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),n.jsx(hd,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),n.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),n.jsxs(sg,{align:"end",className:"bg-popover border",children:[n.jsxs(yn,{onClick:()=>t("light"),className:"gap-2",children:[n.jsx(Lv,{className:"h-4 w-4"}),"Light"]}),n.jsxs(yn,{onClick:()=>t("dark"),className:"gap-2",children:[n.jsx(hd,{className:"h-4 w-4"}),"Dark"]}),n.jsxs(yn,{onClick:()=>t("system"),className:"gap-2",children:[n.jsx(mee,{className:"h-4 w-4"}),"System"]})]})]})}const sR=()=>{const e=new Date().getHours();return e>=5&&e<12?"morning":e>=12&&e<17?"afternoon":e>=17&&e<21?"evening":"night"};function zW(){const[e,t]=x.useState({isMoving:!1,movementIntensity:"still",timeOfDay:sR(),batteryLevel:null,isCharging:!1,ambientLight:null,orientation:"portrait",isOnline:navigator.onLine,connectionType:null,suggestedMode:null,adaptationReason:null});return x.useEffect(()=>{let r=[];const a=i=>{const o=i.accelerationIncludingGravity;if(!o||o.x===null||o.y===null||o.z===null)return;const l=Math.sqrt(o.x**2+o.y**2+o.z**2);r.push(l),r.length>10&&r.shift();const c=r.reduce((h,m)=>h+m,0)/r.length,d=r.reduce((h,m)=>h+(m-c)**2,0)/r.length;let u="still";d>50?u="agitated":d>20?u="active":d>5&&(u="gentle"),t(h=>({...h,isMoving:d>3,movementIntensity:u}))};return"DeviceMotionEvent"in window&&(typeof DeviceMotionEvent.requestPermission=="function"||window.addEventListener("devicemotion",a)),()=>{window.removeEventListener("devicemotion",a)}},[]),x.useEffect(()=>{(async()=>{var s;try{const a=await((s=navigator.getBattery)==null?void 0:s.call(navigator));if(a){const i=()=>{t(o=>({...o,batteryLevel:Math.round(a.level*100),isCharging:a.charging}))};i(),a.addEventListener("levelchange",i),a.addEventListener("chargingchange",i)}}catch{}})()},[]),x.useEffect(()=>{try{if("AmbientLightSensor"in window){const r=new AmbientLightSensor;r.addEventListener("reading",()=>{const s=r.illuminance;let a="normal";s<10?a="dark":s<50?a="dim":s>1e4&&(a="bright"),t(i=>({...i,ambientLight:a}))}),r.start()}}catch{}},[]),x.useEffect(()=>{const r=()=>{const s=window.innerHeight>window.innerWidth;t(a=>({...a,orientation:s?"portrait":"landscape"}))};return r(),window.addEventListener("resize",r),window.addEventListener("orientationchange",r),()=>{window.removeEventListener("resize",r),window.removeEventListener("orientationchange",r)}},[]),x.useEffect(()=>{const r=()=>{const s=navigator.connection;t(a=>({...a,isOnline:navigator.onLine,connectionType:(s==null?void 0:s.effectiveType)||null}))};return r(),window.addEventListener("online",r),window.addEventListener("offline",r),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",r)}},[]),x.useEffect(()=>{const r=setInterval(()=>{t(s=>({...s,timeOfDay:sR()}))},6e4);return()=>clearInterval(r)},[]),x.useEffect(()=>{let r=null,s=null;e.timeOfDay==="night"&&e.batteryLevel!==null&&e.batteryLevel<30?(r="recovery",s="Late night + low battery detected"):e.movementIntensity==="agitated"?(r="flow",s="High movement detected - Flow Mode may help focus"):e.ambientLight==="dark"&&e.timeOfDay==="night"?(r="recovery",s="Dark environment detected"):e.timeOfDay==="morning"&&e.isCharging&&e.movementIntensity==="still"&&(r="power",s="Morning focus window detected"),t(a=>({...a,suggestedMode:r,adaptationReason:s}))},[e.timeOfDay,e.batteryLevel,e.movementIntensity,e.ambientLight,e.isCharging]),e}function G0e(){const e=zW(),{mode:t,setMode:r}=mV(),[s,a]=x.useState(!1);if(!e.suggestedMode||e.suggestedMode===t||s)return null;const o={flow:{icon:Rr,color:"emerald",label:"Flow Mode"},power:{icon:Ir,color:"amber",label:"Power Mode"},recovery:{icon:cn,color:"rose",label:"Recovery Mode"}}[e.suggestedMode],l=o.icon;return n.jsx(Qr,{children:n.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`
          relative p-3 rounded-lg border mb-4
          bg-${o.color}-50 dark:bg-${o.color}-900/20
          border-${o.color}-200 dark:border-${o.color}-800
        `,style:{backgroundColor:o.color==="emerald"?"rgb(236 253 245)":o.color==="amber"?"rgb(255 251 235)":"rgb(255 241 242)"},children:[n.jsx("button",{onClick:()=>a(!0),className:"absolute top-2 right-2 p-1 rounded-full hover:bg-black/10",children:n.jsx(Vi,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex items-center gap-3 pr-6",children:[n.jsx("div",{className:"p-2 rounded-lg bg-white/50 dark:bg-black/20",children:n.jsx(ht,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium",children:e.adaptationReason}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Would you like to switch to ",o.label,"?"]})]}),n.jsxs($,{size:"sm",variant:"secondary",onClick:()=>{r(e.suggestedMode),a(!0)},className:"gap-1 flex-shrink-0",children:[n.jsx(l,{className:"h-4 w-4"}),"Switch"]})]})]})})}const aR="neuro-profile-settings",Y0e={default:{},adhd:{simplifiedUI:!0,longerTimeouts:!0,memoryBreadcrumbs:!0},asd:{reducedMotion:!0,noAnimations:!0,simplifiedUI:!0,focusIndicators:!0,longerTimeouts:!0},hearing:{captions:!0,focusIndicators:!0},vision:{highContrast:!0,largeText:!0,screenReaderHints:!0,focusIndicators:!0,voiceFirst:!0},vampire:{vampireMode:!0,noAnimations:!0,reducedMotion:!0,simplifiedUI:!0,nightAnchors:!0,longerTimeouts:!0},trauma:{reducedMotion:!0,noAnimations:!0,calmLanguage:!0,noUrgency:!0,simplifiedUI:!0,groundingAnchors:!0},fatigue:{simplifiedUI:!0,longerTimeouts:!0,voiceFirst:!0,reducedMotion:!0,memoryBreadcrumbs:!0},fog:{simplifiedUI:!0,longerTimeouts:!0,memoryBreadcrumbs:!0,groundingAnchors:!0,noAnimations:!0},anxiety:{reducedMotion:!0,noAnimations:!0,calmLanguage:!0,noUrgency:!0,groundingAnchors:!0},creator:{flowTunnel:!0,nightAnchors:!0},recovery:{simplifiedUI:!0,noUrgency:!0,calmLanguage:!0,reducedMotion:!0,noAnimations:!0}},ef={profile:"default",customizations:{reducedMotion:!1,highContrast:!1,largeText:!1,screenReaderHints:!1,captions:!1,simplifiedUI:!1,focusIndicators:!1,longerTimeouts:!1,vampireMode:!1,noAnimations:!1,nightAnchors:!1,calmLanguage:!1,noUrgency:!1,voiceFirst:!1,flowTunnel:!1,memoryBreadcrumbs:!1,groundingAnchors:!1}};function X0e(){const[e,t]=x.useState(()=>{if(typeof window>"u")return ef;const i=localStorage.getItem(aR);if(i)try{return JSON.parse(i)}catch{return ef}return ef});x.useEffect(()=>{const i=document.documentElement,{customizations:o}=e;i.classList.toggle("reduce-motion",o.reducedMotion),i.classList.toggle("high-contrast",o.highContrast),i.classList.toggle("large-text",o.largeText),i.classList.toggle("screen-reader-optimized",o.screenReaderHints),i.classList.toggle("captions-enabled",o.captions),i.classList.toggle("simplified-ui",o.simplifiedUI),i.classList.toggle("focus-indicators",o.focusIndicators),i.classList.toggle("vampire-mode",o.vampireMode),i.classList.toggle("no-animations",o.noAnimations),i.classList.toggle("night-anchors",o.nightAnchors),i.classList.toggle("calm-language",o.calmLanguage),i.classList.toggle("no-urgency",o.noUrgency),i.classList.toggle("voice-first",o.voiceFirst),i.classList.toggle("flow-tunnel",o.flowTunnel),i.classList.toggle("memory-breadcrumbs",o.memoryBreadcrumbs),i.classList.toggle("grounding-anchors",o.groundingAnchors),localStorage.setItem(aR,JSON.stringify(e))},[e]);const r=i=>{const o=Y0e[i];t({profile:i,customizations:{...ef.customizations,...o}})},s=(i,o)=>{t(l=>({...l,customizations:{...l.customizations,[i]:o}}))},a=()=>{t(ef)};return{profile:e.profile,customizations:e.customizations,setProfile:r,updateCustomization:s,resetToDefaults:a}}const uy={default:{label:"Standard",shortLabel:"STD",description:"Default settings for general use",icon:"",features:["Full features","Standard animations","All notifications"],color:"from-slate-500 to-slate-600"},adhd:{label:"ADHD Mode",shortLabel:"ADHD",description:"For focus, time blindness, and task paralysis",icon:"",features:["One task per screen","Time passage HUD","Dopamine-safe rewards","Chunked micro-steps"],color:"from-amber-500 to-orange-500"},asd:{label:"Autism Mode",shortLabel:"ASD",description:"For sensory safety and predictability",icon:"",features:["Stable layouts","No motion","Predictable navigation","No surprise UI"],color:"from-blue-500 to-indigo-500"},hearing:{label:"Hearing Support",shortLabel:"DHH",description:"For Deaf and hard of hearing users",icon:"",features:["Always-on captions","Visual alerts","No audio-only content","Tap-to-repeat"],color:"from-purple-500 to-violet-500"},vision:{label:"Vision Support",shortLabel:"LV",description:"For low vision, migraines, light sensitivity",icon:"",features:["Ultra large text","High contrast","Screen reader optimized","Voice-first nav"],color:"from-cyan-500 to-teal-500"},vampire:{label:"Vampire Mode",shortLabel:"",description:"For night brains, migraines, fatigue, nocturnal focus",icon:"",features:["True OLED black","Ember accents","Zero animation","Vertical-only flow"],color:"from-red-900 to-black"},trauma:{label:"Trauma-Safe Mode",shortLabel:"PTSD",description:"For freeze, anxiety, hypervigilance",icon:"",features:["No red alerts","Calm language","Safe exit button","Grounding anchors"],color:"from-emerald-600 to-teal-700"},fatigue:{label:"Low Energy Mode",shortLabel:"CFS",description:"For chronic illness, long COVID, autoimmune, caregiving",icon:"",features:["Auto simplify","Voice-first","Rest reminders","Resume later"],color:"from-green-500 to-emerald-600"},fog:{label:"Brain Fog Mode",shortLabel:"FOG",description:"For TBI, chemo fog, cognitive impairment",icon:"",features:["One-step flow","Memory breadcrumbs","No penalty undo","Progress anchors"],color:"from-gray-400 to-slate-500"},anxiety:{label:"Calm Mode",shortLabel:"CALM",description:"For overwhelm, panic, intrusive thoughts",icon:"",features:["No urgency cues","Gentle pacing","Breathing prompts","Soft colors"],color:"from-indigo-400 to-purple-500"},creator:{label:"Creator Mode",shortLabel:"FLOW",description:"For artists, writers, night builders",icon:"",features:["Flow tunnel","No notifications","Sanctuary workspace","Moon-cycle planning"],color:"from-rose-500 to-pink-600"},recovery:{label:"Recovery Mode",shortLabel:"REST",description:"For shutdown days when you need gentleness",icon:"",features:["Only next step","No backlog visible","No metrics","Gentle encouragement"],color:"from-violet-400 to-purple-500"}};function Q0e(){const e=zW(),[t,r]=x.useState(null);return x.useEffect(()=>{const s=new Date().getHours(),a=s>=22||s<6,i=s>=0&&s<5,o=e.batteryLevel!==null&&e.batteryLevel<20,l=e.ambientLight==="dark"||e.ambientLight==="dim",c=typeof window<"u"?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!1;r(i&&l||a&&l?"vampire":c?"asd":o?"fatigue":null)},[e]),t}function Z0e({open:e,onOpenChange:t,showTrigger:r=!0}){const{profile:s,setProfile:a}=X0e(),i=Q0e(),[o,l]=x.useState(e??!1),c=h=>{l(h),t==null||t(h)};x.useEffect(()=>{e!==void 0&&l(e)},[e]);const d=h=>{a(h),c(!1)},u=uy[s];return n.jsxs(Xt,{open:o,onOpenChange:c,children:[r&&n.jsx(qr,{asChild:!0,children:n.jsxs($,{variant:"outline",size:"sm",className:"gap-2",children:[n.jsx("span",{className:"text-lg",children:u.icon}),n.jsx("span",{className:"hidden sm:inline",children:u.shortLabel}),n.jsx(jee,{className:"h-3 w-3 opacity-50"})]})}),n.jsxs(qt,{className:"max-w-4xl max-h-[90vh] p-0 gap-0 overflow-hidden",children:[n.jsxs(Ht,{className:"px-6 py-4 border-b bg-gradient-to-r from-muted/50 to-muted/30",children:[n.jsxs(Kt,{className:"text-xl flex items-center gap-3",children:[n.jsx("span",{className:"text-2xl",children:""}),"Choose Your Cognitive Mode"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Each mode is a neurological contract  your system adapts to you, not the other way around."})]}),n.jsx(ti,{className:"max-h-[70vh]",children:n.jsxs("div",{className:"p-6",children:[n.jsx(Qr,{children:i&&i!==s&&n.jsx(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 p-4 rounded-xl border-2 border-primary/30 bg-primary/5",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ht,{className:"h-5 w-5 text-primary mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Recommended for you right now"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-0.5",children:["Based on time, environment, and device settings, you might feel better in"," ",n.jsx("strong",{children:uy[i].label})]})]}),n.jsx($,{size:"sm",onClick:()=>d(i),className:"shrink-0",children:"Try it"})]})})}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.keys(uy).map(h=>{const m=uy[h],f=s===h,p=i===h;return n.jsx(ee.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:n.jsxs(q,{className:z("cursor-pointer transition-all duration-200 overflow-hidden h-full",f&&"ring-2 ring-primary shadow-lg",!f&&"hover:border-primary/50"),onClick:()=>d(h),children:[n.jsx("div",{className:z("h-2 bg-gradient-to-r",m.color)}),n.jsxs(K,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-2xl",children:m.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:m.label}),p&&!f&&n.jsxs(ne,{variant:"secondary",className:"text-[10px] h-4 mt-0.5",children:[n.jsx(ht,{className:"h-2.5 w-2.5 mr-1"}),"Suggested"]})]})]}),f&&n.jsx("div",{className:"h-6 w-6 rounded-full bg-primary flex items-center justify-center",children:n.jsx(ss,{className:"h-4 w-4 text-primary-foreground"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:m.description}),n.jsxs("div",{className:"space-y-1",children:[m.features.slice(0,3).map((g,v)=>n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx("div",{className:"h-1 w-1 rounded-full bg-primary/60"}),n.jsx("span",{className:"text-muted-foreground",children:g})]},v)),m.features.length>3&&n.jsxs("p",{className:"text-[10px] text-muted-foreground/70 pl-3",children:["+",m.features.length-3," more"]})]})]})]})},h)})}),n.jsxs("div",{className:"mt-8 pt-4 border-t border-border/50 text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Powered by"}),n.jsxs("p",{className:"text-sm font-medium text-primary flex items-center justify-center gap-2",children:[n.jsx("span",{className:"text-lg",children:""}),"The Oz Engine"]}),n.jsx("p",{className:"text-[10px] text-muted-foreground/70 mt-1 max-w-sm mx-auto",children:"Your interface adapts to your energy, focus, and nervous system  never the other way around."})]})]})})]})]})}function J0e(){return n.jsx(Z0e,{showTrigger:!0})}const UW=BE,WW=VE,ebe=zE,qW=x.forwardRef(({className:e,...t},r)=>n.jsx(ig,{className:z("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));qW.displayName=ig.displayName;const tbe=Ad("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),sP=x.forwardRef(({side:e="right",className:t,children:r,...s},a)=>n.jsxs(ebe,{children:[n.jsx(qW,{}),n.jsxs(og,{ref:a,className:z(tbe({side:e}),t),...s,children:[r,n.jsxs(kj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[n.jsx(Vi,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sP.displayName=og.displayName;const aP=({className:e,...t})=>n.jsx("div",{className:z("flex flex-col space-y-2 text-center sm:text-left",e),...t});aP.displayName="SheetHeader";const iP=x.forwardRef(({className:e,...t},r)=>n.jsx(lg,{ref:r,className:z("text-lg font-semibold text-foreground",e),...t}));iP.displayName=lg.displayName;const HW=x.forwardRef(({className:e,...t},r)=>n.jsx(cg,{ref:r,className:z("text-sm text-muted-foreground",e),...t}));HW.displayName=cg.displayName;const Sr={meta:{product:"Emerald Road OS",engine:"The Oz Engine",version:"1.0"},nav:{id:"learn",label:"Learn",icon:"",route:"/learn"},learnHome:{title:"The Oz Engine Field Guide",subtitle:"Understand your brain. Understand your tools.",cards:[{label:"Cognitive Modes",route:"modes",icon:"",description:"How we adapt to your needs"},{label:"How The Oz Engine Works",route:"engine",icon:"",description:"The system behind the magic"},{label:"Tech Dictionary",route:"dictionary",icon:"",description:"Plain-English definitions"},{label:"Neuro Safety Charter",route:"charter",icon:"",description:"Our promise to protect you"},{label:"Night Workers & Creators",route:"night",icon:"",description:"For vampires and creatives"},{label:"Accessibility & Support",route:"accessibility",icon:"",description:"Tools and accommodations"}]},modes:{FocusFlow:{id:"focusflow",icon:"",title:"FocusFlow (ADHD)",purpose:"Protects focus, time blindness, and task paralysis.",features:["One task at a time","Micro-steps","Loop breaker","Time passage HUD"],color:"amber"},SensorySafe:{id:"sensorysafe",icon:"",title:"SensorySafe (Autism)",purpose:"Predictable, sensory-safe UI.",features:["No motion","Stable layout","Literal language","Sensory load meter"],color:"blue"},ClearSight:{id:"clearsight",icon:"",title:"ClearSight (Vision)",purpose:"Low vision and migraine safety.",features:["Large text","High contrast","No flash","Voice navigation"],color:"purple"},QuietSignal:{id:"quietsignal",icon:"",title:"QuietSignal (Hearing)",purpose:"Visual-first communication.",features:["Always captions","Visual alerts","ASL avatar","Tap to repeat"],color:"teal"},NightWeave:{id:"nightweave",icon:"",title:"NightWeave (Vampire)",purpose:"Nocturnal and migraine-safe workspace.",features:["True black UI","Ember accents","No motion","Nap-aware scheduling"],color:"slate"},SafeHaven:{id:"safehaven",icon:"",title:"SafeHaven (Trauma)",purpose:"Reduces panic, freeze, and pressure.",features:["No red alerts","Grounding tools","Safe exit"],color:"green"},LowEnergy:{id:"lowenergy",icon:"",title:"LowEnergy (Fatigue)",purpose:"For flare days and illness.",features:["Auto simplify","Voice-first","Rest reminders"],color:"emerald"},ClearPath:{id:"clearpath",icon:"",title:"ClearPath (Brain Fog)",purpose:"Memory-safe navigation.",features:["Breadcrumb memory","Auto resume","No penalty undo"],color:"cyan"},SoftReset:{id:"softreset",icon:"",title:"SoftReset (Recovery)",purpose:"For shutdown days.",features:["Next safe step only","No backlog","No metrics"],color:"rose"},FlowForge:{id:"flowforge",icon:"",title:"FlowForge (Creator)",purpose:"Creative focus tunnel.",features:["Flow tunnel","Moon-cycle sprints","Quiet rewards"],color:"violet"}},charter:{title:"Neuro Safety Charter",subtitle:"We design for nervous systems  not just screens.",intro:"Emerald Road OS is built to protect people who are often harmed by traditional software.",principles:[{icon:"",title:"Consent Comes First",description:"We never adapt your interface without permission."},{icon:"",title:"We Reduce Harm  Not Increase Pressure",description:"No addictive dopamine loops or shame-based messaging."},{icon:"",title:"We Protect Fatigue, Trauma, and Sensory Sensitivity",description:"Quiet, low-motion, predictable interfaces."},{icon:"",title:"We Never Diagnose or Label You",description:"The Oz Engine adapts to how your brain feels  not who you are."},{icon:"",title:"Your Data Is Minimal, Private, and Protected",description:"Encrypted, never sold, never shared without consent."},{icon:"",title:"Recovery Is a Feature",description:"Rest days are expected  not punished."},{icon:"",title:"You Are Welcome Here",description:"Your brain is not broken. You belong here."}]},dictionary:{Core:{Agile:"A way of building projects in small, flexible steps.",API:"A connector that lets different apps talk to each other.",Backlog:"A waiting list of tasks you haven't started yet.",Kanban:"A visual board with columns showing task progress.",MVP:"Minimum Viable Product  the smallest version that works.",Sprint:"A short burst of focused work, usually 1-2 weeks.",UI:"User Interface  what you see and click.",UX:"User Experience  how it feels to use something."},Marketing:{CAC:"Customer Acquisition Cost  what you pay to get one customer.",Conversion:"When someone does what you want (buys, signs up, etc).",SEO:"Search Engine Optimization  getting found on Google.",Funnel:"The journey from visitor to customer."},AI:{LLM:"Large Language Model  AI trained on massive text data.",Prompt:"What you type to ask AI something.",RAG:"Retrieval-Augmented Generation  AI that looks things up first."},Accessibility:{Alt_Text:"Text description of an image for screen readers.",Screen_Reader:"Software that reads screen content aloud.",WCAG:"Web Content Accessibility Guidelines."},Business:{MRR:"Monthly Recurring Revenue.",Runway:"How long your money will last at current spending."},Creator:{Algorithm:"The invisible system deciding what people see.",Monetize:"Make money from your content or audience."},Security:{Two_FA:"Two-Factor Authentication  extra login protection.",Encryption:"Scrambling data so only authorized people can read it."}},projectHelp:{views:{flow:{title:"Flow Mode on Projects",subtitle:"Vertical focus, gentle pacing",icon:"",bullets:["Focus on one step at a time.","Use the Yellow Brick Road to avoid overwhelm.","Switch to Recovery Mode on flare days."],related:["modes.FlowForge","modes.SoftReset"]},power:{title:"Power Mode on Projects",subtitle:"High-capacity planning",icon:"",warning:"Shows more information at once. Switch to Flow if foggy.",bullets:["Use Kanban for visual task management.","Keep WIP limits to reduce overload.","Access all views: Road, Kanban, List."],related:["modes.FocusFlow","dictionary.Kanban"]},recovery:{title:"Recovery Mode on Projects",subtitle:"Only the next safe step",icon:"",bullets:["Only your most critical task is visible.","No backlog pressure.","Rest is productive."],related:["modes.SoftReset","modes.LowEnergy"]},kanban:{title:"Kanban Board",subtitle:"Visual task columns",icon:"",warning:"Many cards visible at once.",bullets:["Drag tasks between columns.","Todo  In Progress  Done flow."],related:["dictionary.Kanban"]},road:{title:"Yellow Brick Road",subtitle:"One step at a time",icon:"",bullets:["Tasks displayed as a journey.","Built for ADHD and fatigue."],related:["modes.FlowForge"]},list:{title:"Simple List View",subtitle:"Traditional task list",icon:"",bullets:["Compact, scannable format.","Switch to Road if overwhelmed."],related:["modes.SoftReset"]}},glossaryTips:[{term:"MVP",tip:"Start small  you can always add more later."},{term:"Backlog",tip:"It's okay to have a long backlog."},{term:"Sprint",tip:"Short bursts work better than marathons."},{term:"Blocker",tip:"Name it. Then you can solve it."}]},engine:{title:"How The Oz Engine Works",subtitle:"The invisible system protecting your brain",stages:[{id:"sense",title:"Sense",icon:"",description:"Observe signals without judgment."},{id:"ask",title:"Ask",icon:"",description:"Ask permission before adapting."},{id:"morph",title:"Morph",icon:"",description:"Transform to match your state."},{id:"protect",title:"Protect",icon:"",description:"Filter overwhelm, reduce noise."},{id:"remember",title:"Remember",icon:"",description:"Preferences persist locally."}]},nightWorkers:{title:"Night Workers & Creators",subtitle:"For vampires, insomniacs, and night owls",sections:[{title:"Why NightWeave Mode Exists",content:"Some people work best after dark. We don't force daytime productivity."},{title:"Features",bullets:["True black UI","Ember accents","Nap-aware scheduling"]}]},accessibility:{title:"Accessibility & Support",subtitle:"Tools and accommodations for everyone",sections:[{title:"Built-in Tools",tools:[{name:"Screen Reader Support",description:"Full ARIA labels."},{name:"Keyboard Navigation",description:"Use without a mouse."},{name:"Reduced Motion",description:"Disable animations."}]}]}};function KW(e){const t=[],r=e.toLowerCase();return Object.entries(Sr.dictionary).forEach(([s,a])=>{Object.entries(a).forEach(([i,o])=>{const l=i.toLowerCase().replace(/_/g," "),c=o.toLowerCase();(l.includes(r)||c.includes(r))&&t.push({term:i.replace(/_/g," "),definition:o,category:s})})}),t}function rbe(e){return Sr.projectHelp.views[e]||null}function iR({currentView:e="flow",trigger:t}){const[r,s]=x.useState(!1),[a,i]=x.useState(""),[o,l]=x.useState("context"),c=x.useMemo(()=>rbe(e),[e]),d=x.useMemo(()=>a.length<2?[]:KW(a).slice(0,10),[a]),u=n.jsxs($,{variant:"outline",size:"sm",className:"gap-2 text-muted-foreground hover:text-foreground",children:[n.jsx(Rr,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Learn"})]});return n.jsxs(UW,{open:r,onOpenChange:s,children:[n.jsx(WW,{asChild:!0,children:t||u}),n.jsxs(sP,{className:"w-full sm:max-w-md overflow-hidden flex flex-col",children:[n.jsx(aP,{className:"pb-4 border-b",children:n.jsxs(iP,{className:"flex items-center gap-2",children:[n.jsx(Fl,{className:"h-5 w-5 text-emerald-500"}),"Field Guide"]})}),n.jsxs(Dr,{value:o,onValueChange:l,className:"flex-1 flex flex-col mt-4",children:[n.jsxs(Nr,{className:"grid grid-cols-3 w-full",children:[n.jsx(ke,{value:"context",className:"text-xs sm:text-sm",children:"This View"}),n.jsx(ke,{value:"modes",className:"text-xs sm:text-sm",children:"Modes"}),n.jsx(ke,{value:"glossary",className:"text-xs sm:text-sm",children:"Glossary"})]}),n.jsxs(ti,{className:"flex-1 mt-4",children:[n.jsxs(De,{value:"context",className:"mt-0 space-y-4",children:[c?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-2xl",children:c.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:c.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:c.subtitle})]})]}),c.warning&&n.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[n.jsx(jt,{className:"h-4 w-4 text-amber-500 mt-0.5 shrink-0"}),n.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:c.warning})]}),n.jsx("ul",{className:"space-y-2",children:c.bullets.map((h,m)=>n.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[n.jsx("span",{className:"text-emerald-500 mt-1",children:""}),n.jsx("span",{children:h})]},m))}),c.related&&c.related.length>0&&n.jsxs("div",{className:"pt-4 border-t",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Related:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:c.related.map(h=>{var m;return n.jsx(ne,{variant:"secondary",className:"text-xs",children:(m=h.split(".")[1])==null?void 0:m.replace(/_/g," ")},h)})})]})]}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"No context help available."}),n.jsx("div",{className:"pt-4 border-t",children:n.jsx(ca,{to:"/learn",onClick:()=>s(!1),children:n.jsxs($,{variant:"outline",size:"sm",className:"w-full gap-2",children:[n.jsx(Vl,{className:"h-4 w-4"}),"Open Full Field Guide"]})})})]}),n.jsx(De,{value:"modes",className:"mt-0 space-y-3",children:Object.entries(Sr.modes).map(([h,m])=>n.jsxs("div",{className:"p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"text-lg",children:m.icon}),n.jsx("span",{className:"font-medium text-sm",children:m.title})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:m.purpose})]},h))}),n.jsxs(De,{value:"glossary",className:"mt-0 space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(xp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(F,{placeholder:"Search terms...",value:a,onChange:h=>i(h.target.value),className:"pl-9"})]}),a.length>=2?n.jsx("div",{className:"space-y-2",children:d.length>0?d.map((h,m)=>n.jsxs("div",{className:"p-3 rounded-lg border bg-card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"font-medium text-sm",children:h.term}),n.jsx(ne,{variant:"outline",className:"text-xs",children:h.category})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:h.definition})]},m)):n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No matches found"})}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Popular terms:"}),Sr.projectHelp.glossaryTips.map((h,m)=>n.jsxs("div",{className:"p-3 rounded-lg border bg-card",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ht,{className:"h-3 w-3 text-amber-500"}),n.jsx("span",{className:"font-medium text-sm",children:h.term})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:h.tip})]},m))]})]})]})]})]})]})}const oR={search:"",assignedTo:"",status:"all",dateFrom:void 0,dateTo:void 0,projectId:""};function nbe(){const[e,t]=x.useState(null);x.useState(!1);const[r,s]=x.useState(!1),[a,i]=x.useState(null),[o,l]=x.useState("sandbox"),[c,d]=x.useState(oR),[u,h]=x.useState(!1),[m,f]=x.useState(!1),{mode:p,setMode:g,needsConsentForPowerMode:v,grantPowerModeConsent:j}=mV(),{data:y=[],isLoading:b}=$d(),{data:w=[]}=h2(),{data:N=[]}=h2(e==null?void 0:e.id),{data:_=[]}=Qfe(e==null?void 0:e.id),{data:C}=B7((e==null?void 0:e.id)||""),S=Yfe(),k=e&&!C&&!r,E=x.useMemo(()=>{const R=new Set;return y.forEach(L=>{L.assigned_to&&R.add(L.assigned_to)}),Array.from(R).sort()},[y]),T=x.useMemo(()=>y.filter(R=>{var L;if(c.search){const V=c.search.toLowerCase(),O=R.name.toLowerCase().includes(V),P=(L=R.description)==null?void 0:L.toLowerCase().includes(V);if(!O&&!P)return!1}return!(c.assignedTo&&R.assigned_to!==c.assignedTo||c.status==="active"&&R.is_completed||c.status==="completed"&&!R.is_completed||c.dateFrom&&new Date(R.created_at)<c.dateFrom||c.dateTo&&new Date(R.created_at)>c.dateTo||c.projectId&&R.id!==c.projectId)}),[y,c]),A=x.useMemo(()=>w.filter(R=>{var L;if(c.search){const V=c.search.toLowerCase(),O=R.title.toLowerCase().includes(V),P=(L=R.description)==null?void 0:L.toLowerCase().includes(V);if(!O&&!P)return!1}return!(c.projectId&&R.project_id!==c.projectId||c.dateFrom&&new Date(R.created_at)<c.dateFrom||c.dateTo&&new Date(R.created_at)>c.dateTo)}),[w,c]),B=R=>w.filter(L=>L.project_id===R).length;return b?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e?k?n.jsx(n.Fragment,{children:n.jsx(Jve,{project:e,open:!0,onComplete:()=>s(!0),onCancel:()=>{t(null),s(!1)}})}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(R0e,{open:m,onConfirm:()=>{j(),g("power"),f(!1)},onCancel:()=>f(!1)}),n.jsx("header",{className:"border-b bg-card/50 backdrop-blur-sm sticky top-0 z-10",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:()=>{t(null),s(!1)},children:n.jsx(Mt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),n.jsx("h1",{className:"text-xl font-bold",children:e.name}),e.focus_score&&n.jsxs(ne,{variant:"outline",className:"gap-1",children:[n.jsx(ri,{className:"h-3 w-3"}),e.focus_score,"/100"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(iR,{currentView:p}),n.jsx(b0e,{mode:p,onChange:g,onPowerModeRequest:()=>{v?f(!0):g("power")}}),C&&n.jsxs(ne,{className:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900 dark:text-emerald-300 gap-1 hidden sm:flex",children:[n.jsx(ht,{className:"h-3 w-3"}),"Ritual Complete"]}),n.jsx(v0e,{project:e,actionItems:N})]})]})})}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:p==="recovery"?n.jsx(I0e,{actionItems:N}):n.jsxs(n.Fragment,{children:[p==="power"&&_.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(zu,{className:"h-5 w-5"}),"Project Items"]}),n.jsx(BM,{projectId:e.id})]}),n.jsx("div",{className:"space-y-2",children:_.map(R=>n.jsx(sge,{item:R,projectId:e.id},R.id))})]}),p==="flow"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Rr,{className:"h-4 w-4 text-emerald-500"}),n.jsx("span",{children:"Flow Mode  vertical focus, gentle pacing"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(eR,{actionItems:N})}),n.jsx(sN,{projectId:e.id})]}),n.jsx(ZM,{actionItems:N,allActionItems:w}),_.length===0&&n.jsx("div",{className:"pt-6 border-t",children:n.jsx(BM,{projectId:e.id})})]}),p==="power"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400",children:[n.jsx(Ir,{className:"h-4 w-4"}),n.jsx("span",{children:"Power Mode  high-capacity planning"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(eR,{actionItems:N}),n.jsx(sN,{projectId:e.id})]})]}),n.jsxs(Dr,{defaultValue:"kanban",className:"w-full",children:[n.jsxs(Nr,{children:[n.jsxs(ke,{value:"kanban",className:"gap-2",children:[n.jsx(UJ,{className:"h-4 w-4"}),"Kanban"]}),n.jsxs(ke,{value:"road",className:"gap-2",children:[n.jsx(Md,{className:"h-4 w-4"}),"Road"]}),n.jsxs(ke,{value:"list",className:"gap-2",children:[n.jsx(f1,{className:"h-4 w-4"}),"List"]})]}),n.jsx(De,{value:"kanban",className:"mt-4",children:n.jsx($0e,{actionItems:N})}),n.jsx(De,{value:"road",className:"mt-4",children:n.jsx(ZM,{actionItems:N,allActionItems:w})}),n.jsx(De,{value:"list",className:"mt-4",children:N.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(f1,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No action items yet"})]}):n.jsx("div",{className:"space-y-3",children:N.map(R=>n.jsx(LM,{item:R},R.id))})})]})]}),n.jsx("div",{className:"mt-10 pt-6 border-t",children:n.jsx(UM,{actionItems:N})})]})})]}):n.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden pt-2",children:[n.jsx(VW,{}),n.jsx("header",{className:"border-b bg-card/50 backdrop-blur-sm sticky top-0 z-10 mt-2",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(h1,{className:"h-6 w-6"}),"Projects"]}),n.jsx(Eve,{environment:o}),n.jsxs($,{variant:u?"default":"outline",size:"sm",onClick:()=>h(!u),className:"gap-1",title:u?"Show all projects":"Focus mode: hide project grid",children:[u?n.jsx(Od,{className:"h-4 w-4"}):n.jsx(iB,{className:"h-4 w-4"}),u?"Show All":"Focus"]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(iR,{}),n.jsx(J0e,{}),n.jsx(K0e,{}),n.jsx(Tve,{value:o,onChange:l}),n.jsx(w2,{}),n.jsx(Kve,{}),n.jsx(Pve,{data:{projects:T,actionItems:A}}),n.jsx(sN,{projects:y}),n.jsx(FM,{})]})]})})}),n.jsxs("main",{className:"container mx-auto px-4 py-6",children:[n.jsx(G0e,{}),u?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-xl border-2 border-emerald-300 dark:border-emerald-700 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-950/50 dark:to-teal-950/50 p-5",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-200/30 dark:bg-emerald-800/20 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2"}),n.jsxs("div",{className:"relative flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-emerald-100 dark:bg-emerald-900/50 rounded-xl",children:n.jsx(Di,{className:"h-6 w-6 text-emerald-600 dark:text-emerald-400"})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-emerald-800 dark:text-emerald-200 flex items-center gap-2",children:["Focus Mode",n.jsx("span",{className:"text-xs font-normal px-2 py-0.5 bg-emerald-200/50 dark:bg-emerald-800/50 rounded-full",children:"Brain-safe"})]}),n.jsx("p",{className:"text-sm text-emerald-700/80 dark:text-emerald-300/80 mt-0.5",children:`Just your notes & quick capture. Click "Show All" when you're ready for more.`})]})]})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(nS,{className:"h-5 w-5 text-amber-500"}),"Sticky Notes Inbox"]}),n.jsx(nR,{})]})]}):n.jsxs(n.Fragment,{children:[n.jsx(Cve,{filters:c,onFiltersChange:d,projects:y,assignees:E}),T.length===0&&y.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(h1,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No projects yet"}),n.jsx("p",{className:"mb-6",children:"Create your first project to start organizing tasks"}),n.jsx(FM,{})]}):T.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(h1,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No projects match your filters"}),n.jsx($,{variant:"link",onClick:()=>d(oR),children:"Clear filters"})]}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:T.map(R=>n.jsx(cpe,{project:R,actionItemCount:B(R.id),onSelect:()=>t(R),onDelete:()=>S.mutate(R.id),onEdit:()=>i(R)},R.id))}),n.jsx(Zve,{project:a,open:!!a,onOpenChange:R=>!R&&i(null)}),n.jsxs("div",{className:"mt-10",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(nS,{className:"h-5 w-5 text-amber-500"}),"Sticky Notes Inbox"]}),n.jsx(nR,{})]})]}),A.filter(R=>!R.project_id).length>0&&n.jsxs("div",{className:"mt-10",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(f1,{className:"h-5 w-5"}),"Unassigned Action Items"]}),n.jsx("div",{className:"space-y-3",children:A.filter(R=>!R.project_id).map(R=>n.jsx(LM,{item:R},R.id))})]}),n.jsxs("div",{className:"mt-12 pt-8 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6 justify-center",children:[n.jsx(Dv,{className:"h-6 w-6 text-green-600"}),n.jsx("h2",{className:"text-xl font-bold text-green-800",children:"Your Garden Progress"})]}),n.jsx(UM,{actionItems:A})]})]})]})}var Lt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Lt||(Lt={}));var lR;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(lR||(lR={}));const Ue=Lt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),el=e=>{switch(typeof e){case"undefined":return Ue.undefined;case"string":return Ue.string;case"number":return Number.isNaN(e)?Ue.nan:Ue.number;case"boolean":return Ue.boolean;case"function":return Ue.function;case"bigint":return Ue.bigint;case"symbol":return Ue.symbol;case"object":return Array.isArray(e)?Ue.array:e===null?Ue.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ue.promise:typeof Map<"u"&&e instanceof Map?Ue.map:typeof Set<"u"&&e instanceof Set?Ue.set:typeof Date<"u"&&e instanceof Date?Ue.date:Ue.object;default:return Ue.unknown}},xe=Lt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class To extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof To))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Lt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}To.create=e=>new To(e);const C2=(e,t)=>{let r;switch(e.code){case xe.invalid_type:e.received===Ue.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case xe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Lt.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:r=`Unrecognized key(s) in object: ${Lt.joinValues(e.keys,", ")}`;break;case xe.invalid_union:r="Invalid input";break;case xe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Lt.joinValues(e.options)}`;break;case xe.invalid_enum_value:r=`Invalid enum value. Expected ${Lt.joinValues(e.options)}, received '${e.received}'`;break;case xe.invalid_arguments:r="Invalid function arguments";break;case xe.invalid_return_type:r="Invalid function return type";break;case xe.invalid_date:r="Invalid date";break;case xe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Lt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case xe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case xe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case xe.custom:r="Invalid input";break;case xe.invalid_intersection_types:r="Intersection results could not be merged";break;case xe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case xe.not_finite:r="Number must be finite";break;default:r=t.defaultError,Lt.assertNever(e)}return{message:r}};let sbe=C2;function abe(){return sbe}const ibe=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Me(e,t){const r=abe(),s=ibe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===C2?void 0:C2].filter(a=>!!a)});e.common.issues.push(s)}class Us{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return ct;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return Us.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return ct;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const ct=Object.freeze({status:"aborted"}),_f=e=>({status:"dirty",value:e}),va=e=>({status:"valid",value:e}),cR=e=>e.status==="aborted",dR=e=>e.status==="dirty",Ph=e=>e.status==="valid",m0=e=>typeof Promise<"u"&&e instanceof Promise;var qe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(qe||(qe={}));class Gl{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const uR=(e,t)=>{if(Ph(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new To(e.common.issues);return this._error=r,this._error}}};function bt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??s??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class It{get description(){return this._def.description}_getType(t){return el(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:el(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Us,ctx:{common:t.parent.common,data:t.data,parsedType:el(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(m0(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){const s={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:el(t)},a=this._parseSync({data:t,path:s.path,parent:s});return uR(s,a)}"~validate"(t){var s,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:el(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Ph(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Ph(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:el(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(m0(a)?a:Promise.resolve(a));return uR(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:xe.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new Mh({schema:this,typeName:dt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ml.create(this,this._def)}nullable(){return Rh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Oi.create(this)}promise(){return g0.create(this,this._def)}or(t){return p0.create([this,t],this._def)}and(t){return x0.create(this,t,this._def)}transform(t){return new Mh({...bt(this._def),schema:this,typeName:dt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new E2({...bt(this._def),innerType:this,defaultValue:r,typeName:dt.ZodDefault})}brand(){return new Ebe({typeName:dt.ZodBranded,type:this,...bt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new P2({...bt(this._def),innerType:this,catchValue:r,typeName:dt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return oP.create(this,t)}readonly(){return A2.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const obe=/^c[^\s-]{8,}$/i,lbe=/^[0-9a-z]+$/,cbe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,dbe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ube=/^[a-z0-9_-]{21}$/i,hbe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,mbe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fbe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pbe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let dN;const xbe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gbe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ybe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,vbe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bbe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jbe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,GW="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wbe=new RegExp(`^${GW}$`);function YW(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Nbe(e){return new RegExp(`^${YW(e)}$`)}function _be(e){let t=`${GW}T${YW(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Sbe(e,t){return!!((t==="v4"||!t)&&xbe.test(e)||(t==="v6"||!t)&&ybe.test(e))}function Cbe(e,t){if(!hbe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function kbe(e,t){return!!((t==="v4"||!t)&&gbe.test(e)||(t==="v6"||!t)&&vbe.test(e))}class vl extends It{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ue.string){const i=this._getOrReturnCtx(t);return Me(i,{code:xe.invalid_type,expected:Ue.string,received:i.parsedType}),ct}const s=new Us;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Me(a,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Me(a,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")fbe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"email",code:xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")dN||(dN=new RegExp(pbe,"u")),dN.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"emoji",code:xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")dbe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"uuid",code:xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")ube.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"nanoid",code:xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")obe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"cuid",code:xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")lbe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"cuid2",code:xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")cbe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"ulid",code:xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Me(a,{validation:"url",code:xe.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"regex",code:xe.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?_be(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?wbe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?Nbe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?mbe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"duration",code:xe.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?Sbe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"ip",code:xe.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?Cbe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"jwt",code:xe.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?kbe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"cidr",code:xe.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?bbe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"base64",code:xe.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?jbe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"base64url",code:xe.invalid_string,message:i.message}),s.dirty()):Lt.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:xe.invalid_string,...qe.errToObj(s)})}_addCheck(t){return new vl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...qe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...qe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...qe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...qe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...qe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...qe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...qe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...qe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...qe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...qe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...qe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...qe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...qe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...qe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...qe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...qe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...qe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...qe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...qe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...qe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...qe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...qe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...qe.errToObj(r)})}nonempty(t){return this.min(1,qe.errToObj(t))}trim(){return new vl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}vl.create=e=>new vl({checks:[],typeName:dt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...bt(e)});function Tbe(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class Ah extends It{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ue.number){const i=this._getOrReturnCtx(t);return Me(i,{code:xe.invalid_type,expected:Ue.number,received:i.parsedType}),ct}let s;const a=new Us;for(const i of this._def.checks)i.kind==="int"?Lt.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{code:xe.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),Me(s,{code:xe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),Me(s,{code:xe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Tbe(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),Me(s,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{code:xe.not_finite,message:i.message}),a.dirty()):Lt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,qe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,qe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,qe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,qe.toString(r))}setLimit(t,r,s,a){return new Ah({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:qe.toString(a)}]})}_addCheck(t){return new Ah({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:qe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:qe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:qe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:qe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:qe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:qe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:qe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:qe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:qe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Lt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ah.create=e=>new Ah({checks:[],typeName:dt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...bt(e)});class Bp extends It{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ue.bigint)return this._getInvalidInput(t);let s;const a=new Us;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),Me(s,{code:xe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),Me(s,{code:xe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),Me(s,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Lt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Me(r,{code:xe.invalid_type,expected:Ue.bigint,received:r.parsedType}),ct}gte(t,r){return this.setLimit("min",t,!0,qe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,qe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,qe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,qe.toString(r))}setLimit(t,r,s,a){return new Bp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:qe.toString(a)}]})}_addCheck(t){return new Bp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:qe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:qe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:qe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:qe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:qe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Bp.create=e=>new Bp({checks:[],typeName:dt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...bt(e)});class k2 extends It{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ue.boolean){const s=this._getOrReturnCtx(t);return Me(s,{code:xe.invalid_type,expected:Ue.boolean,received:s.parsedType}),ct}return va(t.data)}}k2.create=e=>new k2({typeName:dt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...bt(e)});class f0 extends It{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ue.date){const i=this._getOrReturnCtx(t);return Me(i,{code:xe.invalid_type,expected:Ue.date,received:i.parsedType}),ct}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Me(i,{code:xe.invalid_date}),ct}const s=new Us;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Lt.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new f0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:qe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:qe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}f0.create=e=>new f0({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:dt.ZodDate,...bt(e)});class hR extends It{_parse(t){if(this._getType(t)!==Ue.symbol){const s=this._getOrReturnCtx(t);return Me(s,{code:xe.invalid_type,expected:Ue.symbol,received:s.parsedType}),ct}return va(t.data)}}hR.create=e=>new hR({typeName:dt.ZodSymbol,...bt(e)});class mR extends It{_parse(t){if(this._getType(t)!==Ue.undefined){const s=this._getOrReturnCtx(t);return Me(s,{code:xe.invalid_type,expected:Ue.undefined,received:s.parsedType}),ct}return va(t.data)}}mR.create=e=>new mR({typeName:dt.ZodUndefined,...bt(e)});class fR extends It{_parse(t){if(this._getType(t)!==Ue.null){const s=this._getOrReturnCtx(t);return Me(s,{code:xe.invalid_type,expected:Ue.null,received:s.parsedType}),ct}return va(t.data)}}fR.create=e=>new fR({typeName:dt.ZodNull,...bt(e)});class pR extends It{constructor(){super(...arguments),this._any=!0}_parse(t){return va(t.data)}}pR.create=e=>new pR({typeName:dt.ZodAny,...bt(e)});class xR extends It{constructor(){super(...arguments),this._unknown=!0}_parse(t){return va(t.data)}}xR.create=e=>new xR({typeName:dt.ZodUnknown,...bt(e)});class Yl extends It{_parse(t){const r=this._getOrReturnCtx(t);return Me(r,{code:xe.invalid_type,expected:Ue.never,received:r.parsedType}),ct}}Yl.create=e=>new Yl({typeName:dt.ZodNever,...bt(e)});class gR extends It{_parse(t){if(this._getType(t)!==Ue.undefined){const s=this._getOrReturnCtx(t);return Me(s,{code:xe.invalid_type,expected:Ue.void,received:s.parsedType}),ct}return va(t.data)}}gR.create=e=>new gR({typeName:dt.ZodVoid,...bt(e)});class Oi extends It{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ue.array)return Me(r,{code:xe.invalid_type,expected:Ue.array,received:r.parsedType}),ct;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Me(r,{code:o?xe.too_big:xe.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Me(r,{code:xe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Me(r,{code:xe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Gl(r,o,r.path,l)))).then(o=>Us.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Gl(r,o,r.path,l)));return Us.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new Oi({...this._def,minLength:{value:t,message:qe.toString(r)}})}max(t,r){return new Oi({...this._def,maxLength:{value:t,message:qe.toString(r)}})}length(t,r){return new Oi({...this._def,exactLength:{value:t,message:qe.toString(r)}})}nonempty(t){return this.min(1,t)}}Oi.create=(e,t)=>new Oi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:dt.ZodArray,...bt(t)});function cu(e){if(e instanceof Br){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=Ml.create(cu(s))}return new Br({...e._def,shape:()=>t})}else return e instanceof Oi?new Oi({...e._def,type:cu(e.element)}):e instanceof Ml?Ml.create(cu(e.unwrap())):e instanceof Rh?Rh.create(cu(e.unwrap())):e instanceof bd?bd.create(e.items.map(t=>cu(t))):e}class Br extends It{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Lt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ue.object){const d=this._getOrReturnCtx(t);return Me(d,{code:xe.invalid_type,expected:Ue.object,received:d.parsedType}),ct}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Yl&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Gl(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Yl){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(Me(a,{code:xe.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Gl(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>Us.mergeObjectSync(s,d)):Us.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return qe.errToObj,new Br({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,s).message)??s.defaultError;return r.code==="unrecognized_keys"?{message:qe.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Br({...this._def,unknownKeys:"strip"})}passthrough(){return new Br({...this._def,unknownKeys:"passthrough"})}extend(t){return new Br({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Br({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:dt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Br({...this._def,catchall:t})}pick(t){const r={};for(const s of Lt.objectKeys(t))t[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new Br({...this._def,shape:()=>r})}omit(t){const r={};for(const s of Lt.objectKeys(this.shape))t[s]||(r[s]=this.shape[s]);return new Br({...this._def,shape:()=>r})}deepPartial(){return cu(this)}partial(t){const r={};for(const s of Lt.objectKeys(this.shape)){const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}return new Br({...this._def,shape:()=>r})}required(t){const r={};for(const s of Lt.objectKeys(this.shape))if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Ml;)i=i._def.innerType;r[s]=i}return new Br({...this._def,shape:()=>r})}keyof(){return XW(Lt.objectKeys(this.shape))}}Br.create=(e,t)=>new Br({shape:()=>e,unknownKeys:"strip",catchall:Yl.create(),typeName:dt.ZodObject,...bt(t)});Br.strictCreate=(e,t)=>new Br({shape:()=>e,unknownKeys:"strict",catchall:Yl.create(),typeName:dt.ZodObject,...bt(t)});Br.lazycreate=(e,t)=>new Br({shape:e,unknownKeys:"strip",catchall:Yl.create(),typeName:dt.ZodObject,...bt(t)});class p0 extends It{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new To(l.ctx.common.issues));return Me(r,{code:xe.invalid_union,unionErrors:o}),ct}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new To(c));return Me(r,{code:xe.invalid_union,unionErrors:l}),ct}}get options(){return this._def.options}}p0.create=(e,t)=>new p0({options:e,typeName:dt.ZodUnion,...bt(t)});function T2(e,t){const r=el(e),s=el(t);if(e===t)return{valid:!0,data:e};if(r===Ue.object&&s===Ue.object){const a=Lt.objectKeys(t),i=Lt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=T2(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ue.array&&s===Ue.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=T2(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ue.date&&s===Ue.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class x0 extends It{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(cR(i)||cR(o))return ct;const l=T2(i.value,o.value);return l.valid?((dR(i)||dR(o))&&r.dirty(),{status:r.value,value:l.data}):(Me(s,{code:xe.invalid_intersection_types}),ct)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}x0.create=(e,t,r)=>new x0({left:e,right:t,typeName:dt.ZodIntersection,...bt(r)});class bd extends It{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ue.array)return Me(s,{code:xe.invalid_type,expected:Ue.array,received:s.parsedType}),ct;if(s.data.length<this._def.items.length)return Me(s,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ct;!this._def.rest&&s.data.length>this._def.items.length&&(Me(s,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Gl(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Us.mergeArray(r,o)):Us.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new bd({...this._def,rest:t})}}bd.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new bd({items:e,typeName:dt.ZodTuple,rest:null,...bt(t)})};class yR extends It{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ue.map)return Me(s,{code:xe.invalid_type,expected:Ue.map,received:s.parsedType}),ct;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new Gl(s,l,s.path,[d,"key"])),value:i._parse(new Gl(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return ct;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return ct;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}yR.create=(e,t,r)=>new yR({valueType:t,keyType:e,typeName:dt.ZodMap,...bt(r)});class Vp extends It{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ue.set)return Me(s,{code:xe.invalid_type,expected:Ue.set,received:s.parsedType}),ct;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(Me(s,{code:xe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(Me(s,{code:xe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return ct;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new Gl(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Vp({...this._def,minSize:{value:t,message:qe.toString(r)}})}max(t,r){return new Vp({...this._def,maxSize:{value:t,message:qe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Vp.create=(e,t)=>new Vp({valueType:e,minSize:null,maxSize:null,typeName:dt.ZodSet,...bt(t)});class vR extends It{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}vR.create=(e,t)=>new vR({getter:e,typeName:dt.ZodLazy,...bt(t)});class bR extends It{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Me(r,{received:r.data,code:xe.invalid_literal,expected:this._def.value}),ct}return{status:"valid",value:t.data}}get value(){return this._def.value}}bR.create=(e,t)=>new bR({value:e,typeName:dt.ZodLiteral,...bt(t)});function XW(e,t){return new Oh({values:e,typeName:dt.ZodEnum,...bt(t)})}class Oh extends It{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return Me(r,{expected:Lt.joinValues(s),received:r.parsedType,code:xe.invalid_type}),ct}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return Me(r,{received:r.data,code:xe.invalid_enum_value,options:s}),ct}return va(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Oh.create(t,{...this._def,...r})}exclude(t,r=this._def){return Oh.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}Oh.create=XW;class jR extends It{_parse(t){const r=Lt.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==Ue.string&&s.parsedType!==Ue.number){const a=Lt.objectValues(r);return Me(s,{expected:Lt.joinValues(a),received:s.parsedType,code:xe.invalid_type}),ct}if(this._cache||(this._cache=new Set(Lt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Lt.objectValues(r);return Me(s,{received:s.data,code:xe.invalid_enum_value,options:a}),ct}return va(t.data)}get enum(){return this._def.values}}jR.create=(e,t)=>new jR({values:e,typeName:dt.ZodNativeEnum,...bt(t)});class g0 extends It{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ue.promise&&r.common.async===!1)return Me(r,{code:xe.invalid_type,expected:Ue.promise,received:r.parsedType}),ct;const s=r.parsedType===Ue.promise?r.data:Promise.resolve(r.data);return va(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}g0.create=(e,t)=>new g0({type:e,typeName:dt.ZodPromise,...bt(t)});class Mh extends It{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===dt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Me(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ct;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?ct:c.status==="dirty"||r.value==="dirty"?_f(c.value):c});{if(r.value==="aborted")return ct;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?ct:l.status==="dirty"||r.value==="dirty"?_f(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?ct:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?ct:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Ph(o))return ct;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Ph(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):ct);Lt.assertNever(a)}}Mh.create=(e,t,r)=>new Mh({schema:e,typeName:dt.ZodEffects,effect:t,...bt(r)});Mh.createWithPreprocess=(e,t,r)=>new Mh({schema:t,effect:{type:"preprocess",transform:e},typeName:dt.ZodEffects,...bt(r)});class Ml extends It{_parse(t){return this._getType(t)===Ue.undefined?va(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ml.create=(e,t)=>new Ml({innerType:e,typeName:dt.ZodOptional,...bt(t)});class Rh extends It{_parse(t){return this._getType(t)===Ue.null?va(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Rh.create=(e,t)=>new Rh({innerType:e,typeName:dt.ZodNullable,...bt(t)});class E2 extends It{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===Ue.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}E2.create=(e,t)=>new E2({innerType:e,typeName:dt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...bt(t)});class P2 extends It{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return m0(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new To(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new To(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}P2.create=(e,t)=>new P2({innerType:e,typeName:dt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...bt(t)});class wR extends It{_parse(t){if(this._getType(t)!==Ue.nan){const s=this._getOrReturnCtx(t);return Me(s,{code:xe.invalid_type,expected:Ue.nan,received:s.parsedType}),ct}return{status:"valid",value:t.data}}}wR.create=e=>new wR({typeName:dt.ZodNaN,...bt(e)});class Ebe extends It{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class oP extends It{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?ct:i.status==="dirty"?(r.dirty(),_f(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?ct:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new oP({in:t,out:r,typeName:dt.ZodPipeline})}}class A2 extends It{_parse(t){const r=this._def.innerType._parse(t),s=a=>(Ph(a)&&(a.value=Object.freeze(a.value)),a);return m0(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}A2.create=(e,t)=>new A2({innerType:e,typeName:dt.ZodReadonly,...bt(t)});Br.lazycreate;var dt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(dt||(dt={}));const Vt=vl.create,gt=Ah.create,ov=k2.create;Yl.create;Oi.create;const Nm=Br.create;Br.strictCreate;p0.create;x0.create;bd.create;const zp=Oh.create;g0.create;Ml.create;Rh.create;const Pbe=Nm({email:Vt().trim().email({message:"Please enter a valid email"}),password:Vt().min(6,{message:"Password must be at least 6 characters"})}),Abe=()=>{const[e,t]=x.useState(!0),[r,s]=x.useState(""),[a,i]=x.useState(""),[o,l]=x.useState(""),[c,d]=x.useState(!1),[u,h]=x.useState(!1),m=Qt();x.useEffect(()=>{const{data:{subscription:p}}=Y.auth.onAuthStateChange((g,v)=>{v!=null&&v.user&&m("/")});return Y.auth.getSession().then(({data:{session:g}})=>{g!=null&&g.user&&m("/")}),()=>p.unsubscribe()},[m]);const f=async p=>{p.preventDefault(),h(!0);const g=Pbe.safeParse({email:r,password:a});if(!g.success){We.error(g.error.errors[0].message),h(!1);return}try{if(e){const{error:v}=await Y.auth.signInWithPassword({email:r.trim(),password:a});if(v)throw v;We.success("Welcome back!")}else{const v=`${window.location.origin}/`,{error:j}=await Y.auth.signUp({email:r.trim(),password:a,options:{emailRedirectTo:v,data:{full_name:o.trim()}}});if(j)throw j;We.success("Account created! You're all set.")}}catch(v){v.message.includes("User already registered")?We.error("This email is already registered. Try logging in!"):v.message.includes("Invalid login credentials")?We.error("Incorrect email or password. Please try again."):We.error(v.message)}finally{h(!1)}};return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsxs("div",{className:"hidden lg:flex lg:w-1/2 gradient-hero relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/90 to-primary/70"}),n.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-primary-foreground/10 rounded-full blur-2xl animate-float"}),n.jsx("div",{className:"absolute bottom-32 right-20 w-48 h-48 bg-accent/20 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),n.jsx("div",{className:"absolute top-1/2 left-10 w-24 h-24 bg-secondary/20 rounded-full blur-2xl animate-float",style:{animationDelay:"2s"}}),n.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-12 xl:px-20",children:[n.jsxs("div",{className:"mb-12",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary-foreground/20 flex items-center justify-center",children:n.jsx(J_,{className:"w-7 h-7 text-primary-foreground"})}),n.jsx("h1",{className:"text-3xl font-display font-bold text-primary-foreground",children:"NomadTaxes"})]}),n.jsx("h2",{className:"text-4xl xl:text-5xl font-display font-bold text-primary-foreground leading-tight text-balance mb-6",children:"Taxes made simple for modern workers"}),n.jsx("p",{className:"text-xl text-primary-foreground/80 leading-relaxed",children:"Track your income, manage tax profiles, and stay organized  all in one beautiful place."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(uN,{icon:n.jsx($t,{className:"w-5 h-5"}),title:"Multi-source Income",description:"W2, 1099, passive income  we've got you covered"}),n.jsx(uN,{icon:n.jsx(Or,{className:"w-5 h-5"}),title:"Role-based Access",description:"Perfect for teams and managing members"}),n.jsx(uN,{icon:n.jsx(ht,{className:"w-5 h-5"}),title:"Accessibility First",description:"Built for everyone with full accessibility support"})]})]})]}),n.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 relative overflow-hidden",children:n.jsxs("div",{className:"w-full max-w-md relative z-10",children:[n.jsxs("div",{className:"lg:hidden flex items-center gap-3 mb-8 justify-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center",children:n.jsx(J_,{className:"w-6 h-6 text-primary-foreground"})}),n.jsx("h1",{className:"text-2xl font-display font-bold text-foreground",children:"NomadTaxes"})]}),n.jsxs("div",{className:"animate-fade-in",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-3xl font-display font-bold text-foreground mb-2",children:e?"Welcome back":"Create your account"}),n.jsx("p",{className:"text-muted-foreground",children:e?"Enter your credentials to access your account":"Start managing your taxes the smart way"})]}),n.jsxs("form",{onSubmit:f,className:"space-y-5",children:[!e&&n.jsxs("div",{className:"space-y-2 animate-fade-in",children:[n.jsx(M,{htmlFor:"fullName",className:"text-sm font-medium",children:"Full Name"}),n.jsx(F,{id:"fullName",type:"text",placeholder:"Caresse Lopez",value:o,onChange:p=>l(p.target.value),className:"h-12 px-4 bg-card border-border focus:border-primary focus:ring-primary/20 transition-all",required:!e})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),n.jsx(F,{id:"email",type:"email",placeholder:"caresse@example.com",value:r,onChange:p=>s(p.target.value),className:"h-12 px-4 bg-card border-border focus:border-primary focus:ring-primary/20 transition-all",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(F,{id:"password",type:c?"text":"password",placeholder:"",value:a,onChange:p=>i(p.target.value),className:"h-12 px-4 pr-12 bg-card border-border focus:border-primary focus:ring-primary/20 transition-all",required:!0}),n.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c?n.jsx(iB,{className:"w-5 h-5"}):n.jsx(Od,{className:"w-5 h-5"})})]})]}),n.jsx($,{type:"submit",disabled:u,className:"w-full h-12 text-base font-semibold bg-primary hover:bg-primary/90 text-primary-foreground shadow-medium hover:shadow-glow transition-all duration-300 group",children:u?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-5 h-5 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),e?"Signing in...":"Creating account..."]}):n.jsxs("span",{className:"flex items-center gap-2",children:[e?"Sign in":"Create account",n.jsx(kn,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("p",{className:"text-muted-foreground",children:[e?"New to NomadTaxes?":"Already have an account?"," ",n.jsx("button",{onClick:()=>t(!e),className:"text-primary font-semibold hover:underline underline-offset-4 transition-all",children:e?"Create an account":"Sign in"})]})})]})]})})]})},uN=({icon:e,title:t,description:r})=>n.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl bg-primary-foreground/10 backdrop-blur-sm border border-primary-foreground/10 animate-slide-in",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-foreground/20 flex items-center justify-center text-primary-foreground shrink-0",children:e}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-primary-foreground mb-1",children:t}),n.jsx("p",{className:"text-sm text-primary-foreground/70",children:r})]})]}),Obe=()=>ft({queryKey:["pricing-tiers"],queryFn:async()=>{const{data:e,error:t}=await Y.from("pricing_tiers").select("*").order("display_order",{ascending:!0});if(t)throw t;return e}}),Mbe=()=>{const[e,t]=x.useState({subscribed:!1,productId:null,priceId:null,subscriptionEnd:null}),[r,s]=x.useState(!0),[a,i]=x.useState(null),o=x.useCallback(async()=>{try{s(!0),i(null);const{data:{session:l}}=await Y.auth.getSession();if(!l){t({subscribed:!1,productId:null,priceId:null,subscriptionEnd:null});return}const{data:c,error:d}=await Y.functions.invoke("check-subscription");if(d){console.error("Error checking subscription:",d),i(d.message);return}t({subscribed:c.subscribed||!1,productId:c.product_id||null,priceId:c.price_id||null,subscriptionEnd:c.subscription_end||null})}catch(l){console.error("Error checking subscription:",l),i(l instanceof Error?l.message:"Unknown error")}finally{s(!1)}},[]);return x.useEffect(()=>{o();const{data:{subscription:l}}=Y.auth.onAuthStateChange(()=>{o()});return()=>{l.unsubscribe()}},[o]),{...e,isLoading:r,error:a,refresh:o}},Rbe={free:{monthly:null,yearly:null},"tax-smart":{monthly:"price_1Raj2wP8T6VGDCG5sDbSl8MM",yearly:"price_1Raj2wP8T6VGDCG5sDbSl8MM"},"business-builder":{monthly:"price_1SjOygP8T6VGDCG5kR9rm4wv",yearly:"price_1SjOygP8T6VGDCG5kR9rm4wv"}},hN=(e,t)=>{const r=Rbe[e];return r?t?r.yearly:r.monthly:null},Ibe={free:n.jsx(ht,{className:"w-6 h-6"}),"tax-smart":n.jsx(Wn,{className:"w-6 h-6"}),"business-builder":n.jsx($n,{className:"w-6 h-6"})},Dbe=()=>{const e=Qt(),[t]=P9(),{data:r,isLoading:s}=Obe(),{subscribed:a,priceId:i,isLoading:o,refresh:l}=Mbe(),[c,d]=x.useState(!1),[u,h]=x.useState([35e3]),[m,f]=x.useState(null),[p,g]=x.useState(!1),[v,j]=x.useState(null);x.useEffect(()=>{t.get("success")==="true"?(We.success("Subscription activated successfully!"),l()):t.get("canceled")==="true"&&We.info("Checkout was canceled"),Y.auth.getSession().then(({data:{session:E}})=>{j((E==null?void 0:E.user)||null)});const{data:{subscription:k}}=Y.auth.onAuthStateChange((E,T)=>{j((T==null?void 0:T.user)||null)});return()=>k.unsubscribe()},[t,l]);const y=async k=>{const E=hN(k,c);if(!E){We.error("This plan is not available for purchase");return}if(!v){We.info("Please sign in to subscribe"),e("/auth");return}f(k);try{const{data:T,error:A}=await Y.functions.invoke("create-checkout",{body:{priceId:E,isYearly:c}});if(A)throw A;T!=null&&T.url&&window.open(T.url,"_blank")}catch(T){console.error("Checkout error:",T),We.error("Failed to start checkout. Please try again.")}finally{f(null)}},b=async()=>{g(!0);try{const{data:k,error:E}=await Y.functions.invoke("customer-portal");if(E)throw E;k!=null&&k.url&&window.open(k.url,"_blank")}catch(k){console.error("Portal error:",k),We.error("Failed to open subscription management. Please try again.")}finally{g(!1)}},N=(k=>{const E=Math.min(k*.04,3e3),T=Math.min(k*.02,1200),A=Math.min(k*.015,800),B=Math.min(k*.025,1500),R=400,L=Math.min(k*.02,1e3);return{fiftyTwentyZero:E,homeOffice:T,mileage:A,missed:B,hrBlock:R,time:L,total:E+T+A+B+R+L}})(u[0]),_=348,C=Math.round(N.total/_*100),S=k=>!a||!i?!1:hN(k,c)===i;return n.jsxs("div",{className:"min-h-screen page-white relative overflow-hidden",children:[n.jsx("header",{className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:n.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>e("/"),children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center",children:n.jsx(J_,{className:"w-6 h-6 text-primary-foreground"})}),n.jsx("span",{className:"text-xl font-display font-bold text-foreground",children:"NomadTaxes"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[a&&n.jsxs($,{variant:"outline",onClick:b,disabled:p,children:[p?n.jsx(on,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(gp,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]}),n.jsx($,{onClick:()=>e(v?"/":"/auth"),className:"bg-primary hover:bg-primary/90 text-primary-foreground font-semibold",children:v?"Dashboard":"Get Started"})]})]})}),n.jsxs("main",{className:"container mx-auto px-6 py-16",children:[n.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-16 animate-fade-in",children:[a&&n.jsxs(ne,{className:"mb-4 bg-green-500/10 text-green-500 border-green-500/20 px-4 py-2",children:[n.jsx(ss,{className:"w-4 h-4 mr-2"}),"You have an active subscription"]}),n.jsxs(ne,{className:"mb-4 bg-secondary/10 text-secondary border-secondary/20 px-4 py-2",children:[n.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Less than 1 quarterly tax payment"]}),n.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-display font-bold text-foreground mb-6",children:["Stop Overpaying on Your"," ",n.jsx("span",{className:"text-primary",children:"Vine Taxes"})]}),n.jsxs("p",{className:"text-xl text-muted-foreground mb-8",children:["The average Vine member overpays ",n.jsx("span",{className:"text-foreground font-semibold",children:"$2,300/year"})," in taxes they don't owe.",n.jsx("br",{}),"For just $29/month, we'll find every deduction you're missing."]}),n.jsxs("div",{className:"inline-flex items-center gap-3 bg-gusto-teal-light dark:bg-secondary/20 rounded-2xl px-6 py-4 border border-secondary/30",children:[n.jsx(Wr,{className:"w-8 h-8 text-secondary"}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-display font-bold text-foreground",children:"Think of it as part of your tax payment"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"$29/month = $87/quarter  That's just 7-29% of your quarterly taxes"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-center gap-4 mb-12",children:[n.jsx("span",{className:`font-medium ${c?"text-muted-foreground":"text-foreground"}`,children:"Monthly"}),n.jsx("button",{onClick:()=>d(!c),className:`relative w-14 h-8 rounded-full transition-colors ${c?"bg-primary":"bg-muted"}`,children:n.jsx("span",{className:`absolute top-1 w-6 h-6 rounded-full bg-card shadow-medium transition-transform ${c?"translate-x-7":"translate-x-1"}`})}),n.jsxs("span",{className:`font-medium ${c?"text-foreground":"text-muted-foreground"}`,children:["Yearly ",n.jsx(ne,{variant:"secondary",className:"ml-2",children:"Save $51"})]})]}),n.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-20",children:s||o?[1,2,3].map(k=>n.jsx(q,{className:"p-8 border border-border shadow-soft",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(al,{className:"h-12 w-12 rounded-xl"}),n.jsx(al,{className:"h-6 w-24"}),n.jsx(al,{className:"h-10 w-20"}),n.jsx(al,{className:"h-4 w-full"}),n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(E=>n.jsx(al,{className:"h-4 w-full"},E))})]})},k)):r==null?void 0:r.map((k,E)=>{const T=S(k.id),A=hN(k.id,c)!==null;return n.jsxs(q,{className:`relative p-8 transition-all duration-300 hover:shadow-glow ${T?"border-2 border-green-500 shadow-medium":k.recommended?"border-2 border-primary shadow-medium scale-105":"border border-border shadow-soft hover:border-primary/50"}`,style:{animationDelay:`${E*100}ms`},children:[T&&n.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2",children:n.jsxs(ne,{className:"bg-green-500 text-white px-4 py-1 font-semibold shadow-medium",children:[n.jsx(ss,{className:"w-3 h-3 mr-1"})," YOUR PLAN"]})}),!T&&k.recommended&&n.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2",children:n.jsxs(ne,{className:"bg-primary text-primary-foreground px-4 py-1 font-semibold shadow-medium",children:[n.jsx($v,{className:"w-3 h-3 mr-1"})," RECOMMENDED"]})}),n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${T?"bg-green-500 text-white":k.recommended?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:Ibe[k.id]||n.jsx(ht,{className:"w-6 h-6"})}),n.jsx("div",{children:n.jsx("h3",{className:"text-xl font-display font-bold text-foreground",children:k.name})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsxs("span",{className:"text-4xl font-display font-bold text-foreground",children:["$",c?Math.round(k.yearly_price/12):k.price]}),n.jsx("span",{className:"text-muted-foreground",children:"/month"})]}),k.price>0&&c&&n.jsxs("p",{className:"text-sm text-secondary font-medium mt-1",children:["$",k.yearly_price,"/year (save $",k.price*12-k.yearly_price,")"]})]}),n.jsx("p",{className:"text-muted-foreground mb-6",children:k.description}),k.roi_max>0&&n.jsxs("div",{className:"bg-gusto-teal-light dark:bg-secondary/10 rounded-xl p-4 mb-6",children:[n.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:"Potential Savings"}),n.jsxs("p",{className:"text-2xl font-display font-bold text-secondary",children:["$",k.savings_min.toLocaleString()," - $",k.savings_max.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["ROI: ",k.roi_min,"% - ",k.roi_max,"%"]})]}),n.jsx("ul",{className:"space-y-3 mb-8",children:k.features.map((B,R)=>n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx(ss,{className:"w-5 h-5 text-secondary shrink-0 mt-0.5"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:B})]},R))}),T?n.jsxs($,{onClick:b,disabled:p,className:"w-full bg-green-500 hover:bg-green-600 text-white",children:[p?n.jsx(on,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(gp,{className:"w-4 h-4 mr-2"}),"Manage Plan"]}):n.jsxs($,{onClick:()=>k.price===0?e("/auth"):y(k.id),disabled:m===k.id||!A&&k.price>0,className:`w-full ${k.recommended?"bg-primary hover:bg-primary/90 text-primary-foreground shadow-medium hover:shadow-glow":"bg-muted hover:bg-muted/80 text-foreground"}`,children:[m===k.id?n.jsx(on,{className:"w-4 h-4 animate-spin mr-2"}):null,k.price===0?"Start Free":a?"Switch Plan":"Get Started",!m&&n.jsx(kn,{className:"w-4 h-4 ml-2"})]})]},k.id)})}),n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-display font-bold text-foreground mb-4",children:"Calculate Your Savings"}),n.jsx("p",{className:"text-muted-foreground",children:"See exactly how much you could save based on your Vine income"})]}),n.jsxs(q,{className:"p-8 border border-border shadow-medium",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-4",children:"Your Estimated Vine Income (ETV/year)"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(fg,{value:u,onValueChange:h,min:5e3,max:15e4,step:1e3,className:"flex-1"}),n.jsx("div",{className:"w-32 text-right",children:n.jsxs("span",{className:"text-2xl font-display font-bold text-primary",children:["$",u[0].toLocaleString()]})})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-display font-bold text-foreground mb-4",children:"What You Could Save"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[n.jsx("span",{className:"text-muted-foreground",children:"50/20/0 deduction"}),n.jsxs("span",{className:"font-semibold text-foreground",children:["$",Math.round(N.fiftyTwentyZero).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[n.jsx("span",{className:"text-muted-foreground",children:"Home office"}),n.jsxs("span",{className:"font-semibold text-foreground",children:["$",Math.round(N.homeOffice).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[n.jsx("span",{className:"text-muted-foreground",children:"Mileage tracking"}),n.jsxs("span",{className:"font-semibold text-foreground",children:["$",Math.round(N.mileage).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[n.jsx("span",{className:"text-muted-foreground",children:"Missed deductions"}),n.jsxs("span",{className:"font-semibold text-foreground",children:["$",Math.round(N.missed).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[n.jsx("span",{className:"text-muted-foreground",children:"H&R Block fee saved"}),n.jsxs("span",{className:"font-semibold text-foreground",children:["$",N.hrBlock]})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[n.jsx("span",{className:"text-muted-foreground",children:"Time saved (40hrs  $25)"}),n.jsxs("span",{className:"font-semibold text-foreground",children:["$",Math.round(N.time).toLocaleString()]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-secondary/5 rounded-2xl p-6",children:[n.jsx("h4",{className:"font-display font-bold text-foreground mb-6",children:"Your ROI"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Investment"}),n.jsx("p",{className:"text-2xl font-display font-bold text-foreground",children:"$348/year"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Potential Savings"}),n.jsxs("p",{className:"text-3xl font-display font-bold text-secondary",children:["$",Math.round(N.total).toLocaleString()]})]}),n.jsxs("div",{className:"pt-4 border-t border-border",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Return on Investment"}),n.jsxs("p",{className:"text-4xl font-display font-bold text-primary",children:[C,"%"]}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Every $1 spent = $",Math.round(N.total/_)," back"]})]})]}),n.jsxs($,{onClick:()=>e("/auth"),className:"w-full mt-6 bg-primary hover:bg-primary/90 text-primary-foreground font-semibold shadow-medium hover:shadow-glow",children:["Start Saving Today",n.jsx(kn,{className:"w-4 h-4 ml-2"})]})]})]})]})]}),n.jsxs("div",{className:"max-w-4xl mx-auto mt-20",children:[n.jsx("h2",{className:"text-3xl font-display font-bold text-foreground text-center mb-12",children:"What Vine Members Are Saying"}),n.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{quote:"Saved me $3,200 in year 1! I was paying taxes on my full $45K ETV. The $29/month paid for itself in the first month!",author:"Sarah M.",detail:"Vine Voice since 2019"},{quote:"Kept my SSDI benefits! I was about to lose my disability benefits because I didn't know about the 60-hour rule. Worth 100x the price.",author:"Michael T.",detail:"SSDI + Vine member"},{quote:"Replaced my $600 CPA. Now I pay $348 and get BETTER reports. Plus it works all year, not just tax season!",author:"Jennifer K.",detail:"4 years on Vine"}].map((k,E)=>n.jsxs(q,{className:"p-6 border border-border shadow-soft",children:[n.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(5)].map((T,A)=>n.jsx($v,{className:"w-4 h-4 fill-gusto-yellow text-gusto-yellow"},A))}),n.jsxs("p",{className:"text-muted-foreground mb-4 text-sm leading-relaxed",children:['"',k.quote,'"']}),n.jsxs("div",{children:[n.jsx("p",{className:"font-display font-bold text-foreground",children:k.author}),n.jsx("p",{className:"text-xs text-muted-foreground",children:k.detail})]})]},E))})]})]}),n.jsx("footer",{className:"border-t border-border py-8 mt-20",children:n.jsx("div",{className:"container mx-auto px-6 text-center text-muted-foreground",children:n.jsx("p",{children:" 2024 NomadTaxes. Built with  for Vine members."})})})]})};var lP="Progress",cP=100,[$be,Lqe]=Zr(lP),[Lbe,Fbe]=$be(lP),QW=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:i=Bbe,...o}=e;(a||a===0)&&!NR(a)&&console.error(Vbe(`${a}`,"Progress"));const l=NR(a)?a:cP;s!==null&&!_R(s,l)&&console.error(zbe(`${s}`,"Progress"));const c=_R(s,l)?s:null,d=y0(c)?i(c,l):void 0;return n.jsx(Lbe,{scope:r,value:c,max:l,children:n.jsx(Ce.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":y0(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":eq(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});QW.displayName=lP;var ZW="ProgressIndicator",JW=x.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,a=Fbe(ZW,r);return n.jsx(Ce.div,{"data-state":eq(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});JW.displayName=ZW;function Bbe(e,t){return`${Math.round(e/t*100)}%`}function eq(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function y0(e){return typeof e=="number"}function NR(e){return y0(e)&&!isNaN(e)&&e>0}function _R(e,t){return y0(e)&&!isNaN(e)&&e<=t&&e>=0}function Vbe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${cP}\`.`}function zbe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${cP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var tq=QW,Ube=JW;const Ws=x.forwardRef(({className:e,value:t,...r},s)=>n.jsx(tq,{ref:s,className:z("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(Ube,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ws.displayName=tq.displayName;const Wbe=[{id:"sole_proprietor",title:"Sole Proprietor",description:"Simplest structure. File Schedule C with 1040. All profit subject to 15.3% SE tax.",icon:$i,bestFor:"Income under $50K, SSDI recipients, first-time Viners",taxForms:["Schedule C","1040","SE"]},{id:"single_member_llc",title:"Single-Member LLC",description:"Liability protection with pass-through taxation. Same tax treatment as Sole Prop.",icon:$n,bestFor:"Liability protection with simplicity",taxForms:["Schedule C","1040","SE"]},{id:"multi_member_llc",title:"Multi-Member LLC",description:"Two or more owners with liability protection. Taxed as partnership by default.",icon:Or,bestFor:"Business partners who want liability protection",taxForms:["1065","Schedule K-1","SE"]},{id:"llc_s_corp",title:"LLC taxed as S-Corp",description:"Pay reasonable salary + distributions. Save on self-employment tax.",icon:Dx,bestFor:"Income $60K+, can handle payroll complexity",taxForms:["1120-S","W-2","Schedule K-1"],recommended:!0},{id:"partnership",title:"Partnership",description:"Multiple owners share profits/losses. Each partner reports their share.",icon:Or,bestFor:"Multiple business partners, passive income",taxForms:["1065","Schedule K-1"]},{id:"c_corp",title:"C Corporation",description:"Separate legal entity. Double taxation on profits. Complex compliance.",icon:$x,bestFor:"Venture capital, going public (not recommended for Vine)",taxForms:["1120","W-2","1099-DIV"],notRecommended:!0}];function qbe({selected:e,onSelect:t}){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Select Your Business Structure"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Choose the structure that best fits your situation"})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Wbe.map(r=>{const s=r.icon,a=e===r.id;return n.jsxs(q,{className:z("cursor-pointer transition-all hover:border-primary/50 relative",a&&"border-primary ring-2 ring-primary/20",r.notRecommended&&"opacity-60"),onClick:()=>t(r.id),children:[r.recommended&&n.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground text-xs px-3 py-1 rounded-full",children:"Recommended for $60K+"}),r.notRecommended&&n.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-destructive text-destructive-foreground text-xs px-3 py-1 rounded-full",children:"Not Recommended"}),n.jsx(de,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:z("p-2 rounded-lg",a?"bg-primary text-primary-foreground":"bg-muted"),children:n.jsx(s,{className:"h-5 w-5"})}),n.jsx(ce,{className:"text-lg",children:r.title})]})}),n.jsxs(K,{className:"space-y-3",children:[n.jsx(ye,{className:"text-sm",children:r.description}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.jsx("span",{className:"font-medium",children:"Best for:"})," ",r.bestFor]}),n.jsx("div",{className:"flex flex-wrap gap-1",children:r.taxForms.map(i=>n.jsx("span",{className:"text-xs bg-secondary text-secondary-foreground px-2 py-0.5 rounded",children:i},i))})]})]},r.id)})})]})}const Hbe=e=>[{id:"owner",title:"Business Owner",description:"You own and operate this business. You'll file business taxes.",icon:$i,taxForms:e==="llc_s_corp"?["W-2","Schedule K-1"]:["Schedule C"]},{id:"partner",title:"Partner",description:"You share ownership with others. File your share on K-1.",icon:Or,taxForms:["Schedule K-1"],showFor:["partnership","llc_s_corp"]},{id:"employee",title:"Employee (W-2)",description:"You work for this business. Employer handles payroll taxes.",icon:Dx,taxForms:["W-4","W-2"]},{id:"contractor",title:"Contractor (1099)",description:"You provide services but aren't an employee. Self-employment tax applies.",icon:wt,taxForms:["W-9","1099-NEC"]}].filter(r=>r.showFor?r.showFor.includes(e):!0);function Kbe({businessStructure:e,selected:t,onSelect:r}){const s=Hbe(e);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"What's Your Role?"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Select how you relate to this business"})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.map(a=>{const i=a.icon,o=t===a.id;return n.jsxs(q,{className:z("cursor-pointer transition-all hover:border-primary/50",o&&"border-primary ring-2 ring-primary/20"),onClick:()=>r(a.id),children:[n.jsx(de,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:z("p-2 rounded-lg",o?"bg-primary text-primary-foreground":"bg-muted"),children:n.jsx(i,{className:"h-5 w-5"})}),n.jsx(ce,{className:"text-lg",children:a.title})]})}),n.jsxs(K,{className:"space-y-3",children:[n.jsx(ye,{className:"text-sm",children:a.description}),n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsx("span",{className:"text-xs text-muted-foreground mr-1",children:"Required forms:"}),a.taxForms.map(l=>n.jsx("span",{className:"text-xs bg-secondary text-secondary-foreground px-2 py-0.5 rounded",children:l},l))]})]})]},a.id)})})]})}const Gbe=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"];function Ybe({role:e,data:t,onChange:r}){const s=(i,o)=>{r({...t,[i]:o})},a=e==="owner"||e==="partner";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Your Information"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"This information is needed for tax forms"})]}),n.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"businessName",children:"Business Name"}),n.jsx(F,{id:"businessName",value:t.businessName,onChange:i=>s("businessName",i.target.value),placeholder:"e.g., TruthSlayer LLC"})]}),a&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"ein",children:"EIN (Employer Identification Number)"}),n.jsx(F,{id:"ein",value:t.ein,onChange:i=>s("ein",i.target.value),placeholder:"XX-XXXXXXX",maxLength:10}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional if Sole Proprietor using SSN"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"fullName",children:"Full Legal Name"}),n.jsx(F,{id:"fullName",value:t.fullName,onChange:i=>s("fullName",i.target.value),placeholder:"As it appears on your tax documents"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"email",children:"Email Address"}),n.jsx(F,{id:"email",type:"email",value:t.email,onChange:i=>s("email",i.target.value),placeholder:"your@email.com"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(M,{children:"Address"}),n.jsx(F,{value:t.addressLine1,onChange:i=>s("addressLine1",i.target.value),placeholder:"Street address"}),n.jsx(F,{value:t.addressLine2,onChange:i=>s("addressLine2",i.target.value),placeholder:"Apt, suite, unit (optional)"}),n.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[n.jsx("div",{className:"col-span-3",children:n.jsx(F,{value:t.city,onChange:i=>s("city",i.target.value),placeholder:"City"})}),n.jsx("div",{className:"col-span-1",children:n.jsxs(Re,{value:t.state,onValueChange:i=>s("state",i),children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"State"})}),n.jsx(Ae,{children:Gbe.map(i=>n.jsx(he,{value:i,children:i},i))})]})}),n.jsx("div",{className:"col-span-2",children:n.jsx(F,{value:t.zipCode,onChange:i=>s("zipCode",i.target.value),placeholder:"ZIP",maxLength:10})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"ssn",children:"SSN (Last 4 digits)"}),n.jsx(F,{id:"ssn",value:t.ssnLastFour,onChange:i=>s("ssnLastFour",i.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"XXXX",maxLength:4}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"For verification purposes only. Full SSN entered on actual tax forms."})]}),e==="partner"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"ownership",children:"Ownership Percentage"}),n.jsx(F,{id:"ownership",type:"number",min:0,max:100,value:t.ownershipPercentage,onChange:i=>s("ownershipPercentage",parseFloat(i.target.value)||0),placeholder:"e.g., 50"})]}),e==="partner"&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ga,{id:"passive",checked:t.isPassive,onCheckedChange:i=>s("isPassive",!!i)}),n.jsx(M,{htmlFor:"passive",className:"font-normal",children:"This is passive income (I don't materially participate in the business)"})]})]})]})}var dP="Radio",[Xbe,rq]=Zr(dP),[Qbe,Zbe]=Xbe(dP),nq=x.forwardRef((e,t)=>{const{__scopeRadio:r,name:s,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[h,m]=x.useState(null),f=Qe(t,v=>m(v)),p=x.useRef(!1),g=h?d||!!h.closest("form"):!0;return n.jsxs(Qbe,{scope:r,checked:a,disabled:o,children:[n.jsx(Ce.button,{type:"button",role:"radio","aria-checked":a,"data-state":oq(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:f,onClick:me(e.onClick,v=>{a||c==null||c(),g&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})}),g&&n.jsx(iq,{control:h,bubbles:!p.current,name:s,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});nq.displayName=dP;var sq="RadioIndicator",aq=x.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:s,...a}=e,i=Zbe(sq,r);return n.jsx(dn,{present:s||i.checked,children:n.jsx(Ce.span,{"data-state":oq(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});aq.displayName=sq;var Jbe="RadioBubbleInput",iq=x.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:s=!0,...a},i)=>{const o=x.useRef(null),l=Qe(o,i),c=ag(r),d=Wx(t);return x.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const p=new Event("click",{bubbles:s});f.call(u,r),u.dispatchEvent(p)}},[c,r,s]),n.jsx(Ce.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});iq.displayName=Jbe;function oq(e){return e?"checked":"unchecked"}var eje=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ij="RadioGroup",[tje,Fqe]=Zr(Ij,[ym,rq]),lq=ym(),cq=rq(),[rje,nje]=tje(Ij),dq=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:s,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...m}=e,f=lq(r),p=sc(d),[g,v]=Kn({prop:i,defaultProp:a??null,onChange:h,caller:Ij});return n.jsx(rje,{scope:r,name:s,required:o,disabled:l,value:g,onValueChange:v,children:n.jsx(yE,{asChild:!0,...f,orientation:c,dir:p,loop:u,children:n.jsx(Ce.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:p,...m,ref:t})})})});dq.displayName=Ij;var uq="RadioGroupItem",hq=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:s,...a}=e,i=nje(uq,r),o=i.disabled||s,l=lq(r),c=cq(r),d=x.useRef(null),u=Qe(t,d),h=i.value===a.value,m=x.useRef(!1);return x.useEffect(()=>{const f=g=>{eje.includes(g.key)&&(m.current=!0)},p=()=>m.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",p)}},[]),n.jsx(vE,{asChild:!0,...l,focusable:!o,active:h,children:n.jsx(nq,{disabled:o,required:i.required,checked:h,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:me(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:me(a.onFocus,()=>{var f;m.current&&((f=d.current)==null||f.click())})})})});hq.displayName=uq;var sje="RadioGroupIndicator",mq=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...s}=e,a=cq(r);return n.jsx(aq,{...a,...s,ref:t})});mq.displayName=sje;var fq=dq,pq=hq,aje=mq;const jd=x.forwardRef(({className:e,...t},r)=>n.jsx(fq,{className:z("grid gap-2",e),...t,ref:r}));jd.displayName=fq.displayName;const ha=x.forwardRef(({className:e,...t},r)=>n.jsx(pq,{ref:r,className:z("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(aje,{className:"flex items-center justify-center",children:n.jsx(Fx,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ha.displayName=pq.displayName;const mN=[{value:100,label:"$100",description:"Minimal - Good for starting out"},{value:500,label:"$500",description:"Moderate - More professional appearance"},{value:1e3,label:"$1,000",description:"Standard - Common for small LLCs"}],SR={managing:.51,passive:.49};function ije({data:e,onChange:t}){const r=l=>{const c=Math.round(l*SR.managing*100)/100,d=Math.round(l*SR.passive*100)/100;return{managingShare:c,passiveShare:d}},s=l=>{const c=parseInt(l),{managingShare:d,passiveShare:u}=r(c);t({totalCapital:c,managingMemberShare:d,passiveMemberShare:u,customAmount:""})},a=l=>{const c=parseFloat(l)||0,{managingShare:d,passiveShare:u}=r(c);t({totalCapital:c,managingMemberShare:d,passiveMemberShare:u,customAmount:l})},i=e.customAmount!==""&&!mN.some(l=>l.value===e.totalCapital),o=mN.find(l=>l.value===e.totalCapital&&!i);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Capital Contributions"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Set the initial capital for your LLC. The 51/49 ownership ratio will be maintained automatically."})]}),n.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"text-lg flex items-center gap-2",children:[n.jsx($t,{className:"h-5 w-5 text-primary"}),"Select Total Capital"]}),n.jsx(ye,{children:"Choose a preset amount or enter a custom value"})]}),n.jsx(K,{children:n.jsxs(jd,{value:(o==null?void 0:o.value.toString())||"custom",onValueChange:l=>{l!=="custom"&&s(l)},className:"space-y-3",children:[mN.map(l=>n.jsxs("div",{className:z("flex items-center space-x-3 rounded-lg border p-4 cursor-pointer transition-colors",(o==null?void 0:o.value)===l.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"),onClick:()=>s(l.value.toString()),children:[n.jsx(ha,{value:l.value.toString(),id:`preset-${l.value}`}),n.jsxs(M,{htmlFor:`preset-${l.value}`,className:"flex-1 cursor-pointer",children:[n.jsx("span",{className:"font-semibold",children:l.label}),n.jsxs("span",{className:"text-muted-foreground ml-2",children:[" ",l.description]})]})]},l.value)),n.jsxs("div",{className:z("flex items-center space-x-3 rounded-lg border p-4 cursor-pointer transition-colors",i?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:[n.jsx(ha,{value:"custom",id:"preset-custom"}),n.jsx(M,{htmlFor:"preset-custom",className:"flex-1 cursor-pointer",children:n.jsx("span",{className:"font-semibold",children:"Custom Amount"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"$"}),n.jsx(F,{type:"number",min:"10",step:"1",placeholder:"Enter amount",className:"w-32",value:e.customAmount,onChange:l=>a(l.target.value),onClick:l=>l.stopPropagation()})]})]})]})})]}),e.totalCapital>0&&n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"text-lg flex items-center gap-2",children:[n.jsx(Or,{className:"h-5 w-5 text-primary"}),"Member Contributions"]}),n.jsx(ye,{children:"Based on 51% Managing / 49% Passive ownership split"})]}),n.jsx(K,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Managing Member (51%)"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active manager with control"})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",e.managingMemberShare.toFixed(2)]})})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Passive Member (49%)"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Investor with limited participation"})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",e.passiveMemberShare.toFixed(2)]})})]}),n.jsxs("div",{className:"border-t pt-4 flex items-center justify-between",children:[n.jsx("p",{className:"font-semibold",children:"Total Capital"}),n.jsxs("p",{className:"text-xl font-bold",children:["$",e.totalCapital.toFixed(2)]})]})]})})]}),n.jsx("div",{className:"rounded-lg bg-muted/30 border p-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("strong",{children:"Note:"})," Capital contributions can be made in cash. The amounts shown will be documented in your Operating Agreement's Schedule A. You can use smaller amounts  the legal validity of your LLC is not affected by the capital amount."]})})]})]})}const oje=(e,t)=>{const r=[];return t==="employee"&&(r.push({type:"W-4",name:"Employee's Withholding Certificate",description:"Determines federal income tax withholding from your paycheck",whoFiles:"You fill out, employer keeps",deadline:"When starting job or changing withholding",required:!0}),r.push({type:"W-2",name:"Wage and Tax Statement",description:"Reports wages and taxes withheld. Employer provides by Jan 31.",whoFiles:"Employer provides to you",deadline:"Received by January 31",required:!0})),t==="contractor"&&(r.push({type:"W-9",name:"Request for TIN and Certification",description:"Provides your SSN/EIN to the business for 1099 reporting",whoFiles:"You fill out, business keeps",deadline:"Before first payment",required:!0}),r.push({type:"1099-NEC",name:"Nonemployee Compensation",description:"Reports payments of $600+ to you. Business provides by Jan 31.",whoFiles:"Business provides to you",deadline:"Received by January 31",required:!0})),(t==="owner"||t==="partner")&&((e==="sole_proprietor"||e==="single_member_llc")&&(r.push({type:"Schedule C",name:"Profit or Loss From Business",description:"Reports business income and expenses on your personal return",whoFiles:"You file with Form 1040",deadline:"April 15 (personal tax deadline)",required:!0}),r.push({type:"Schedule SE",name:"Self-Employment Tax",description:"Calculates Social Security and Medicare tax on self-employment income",whoFiles:"You file with Form 1040",deadline:"April 15",required:!0})),e==="llc_s_corp"&&(r.push({type:"Form 2553",name:"S Corporation Election",description:"Elects S-Corp tax treatment for your LLC",whoFiles:"Business files with IRS",deadline:"Within 75 days of formation or by March 15",required:!0}),r.push({type:"Form 1120-S",name:"S Corporation Tax Return",description:"Annual S-Corp information return",whoFiles:"Business files",deadline:"March 15",required:!0}),r.push({type:"Schedule K-1",name:"Partner's/Shareholder's Share",description:"Reports your share of S-Corp income/loss",whoFiles:"S-Corp provides to you",deadline:"March 15",required:!0}),r.push({type:"W-2",name:"Wage Statement (for reasonable salary)",description:"S-Corp must pay you reasonable salary with W-2",whoFiles:"Your S-Corp provides to you",deadline:"January 31",required:!0})),e==="partnership"&&(r.push({type:"Form 1065",name:"Partnership Return",description:"Annual partnership information return",whoFiles:"Partnership files",deadline:"March 15",required:!0}),r.push({type:"Schedule K-1",name:"Partner's Share of Income",description:"Reports your share of partnership income/loss",whoFiles:"Partnership provides to you",deadline:"March 15",required:!0})),e==="c_corp"&&r.push({type:"Form 1120",name:"C Corporation Tax Return",description:"Annual corporate tax return",whoFiles:"Corporation files",deadline:"April 15",required:!0})),(t==="owner"||t==="contractor")&&r.push({type:"Form 1040-ES",name:"Estimated Tax for Individuals",description:"Quarterly estimated tax payments to avoid penalties",whoFiles:"You pay quarterly",deadline:"Apr 15, Jun 15, Sep 15, Jan 15",required:!1}),r};function lje({businessStructure:e,role:t,onStartForm:r}){const s=oje(e,t),a=s.filter(o=>o.required),i=s.filter(o=>!o.required);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Your Tax Forms"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Based on your structure and role, here are the forms you'll need"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(Xa,{className:"h-5 w-5 text-primary"}),"Required Forms"]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:a.map(o=>n.jsxs(q,{className:"relative",children:[n.jsx(de,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(wt,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(ce,{className:"text-base",children:o.type}),n.jsx("p",{className:"text-xs text-muted-foreground",children:o.name})]})]}),n.jsxs(ne,{variant:"outline",className:"text-xs",children:[n.jsx(is,{className:"h-3 w-3 mr-1"}),o.deadline]})]})}),n.jsxs(K,{className:"space-y-3",children:[n.jsx(ye,{className:"text-sm",children:o.description}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.jsx("span",{className:"font-medium",children:"Who files:"})," ",o.whoFiles]}),n.jsxs($,{size:"sm",className:"w-full",onClick:()=>r(o.type),children:["Start ",o.type]})]})]},o.type))})]}),i.length>0&&n.jsxs("div",{className:"space-y-4 mt-8",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(At,{className:"h-5 w-5 text-muted-foreground"}),"Recommended Forms"]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.map(o=>n.jsxs(q,{className:"relative opacity-80",children:[n.jsx(de,{className:"pb-3",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-muted",children:n.jsx(wt,{className:"h-5 w-5 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx(ce,{className:"text-base",children:o.type}),n.jsx("p",{className:"text-xs text-muted-foreground",children:o.name})]})]})})}),n.jsxs(K,{className:"space-y-3",children:[n.jsx(ye,{className:"text-sm",children:o.description}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.jsx("span",{className:"font-medium",children:"Deadline:"})," ",o.deadline]}),n.jsxs($,{size:"sm",variant:"outline",className:"w-full",onClick:()=>r(o.type),children:["Set Up ",o.type]})]})]},o.type))})]})]})}function cje(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{data:s,error:a}=await Y.from("businesses").insert(r).select().single();if(a)throw a;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["businesses"]}),t({title:"Business created",description:"Your business has been set up successfully."})},onError:r=>{t({title:"Error",description:r.message,variant:"destructive"})}})}function dje(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{data:s,error:a}=await Y.from("business_members").insert(r).select().single();if(a)throw a;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["business_members"]}),t({title:"Member added",description:"Business member has been added successfully."})},onError:r=>{t({title:"Error",description:r.message,variant:"destructive"})}})}function uje(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{data:s,error:a}=await Y.from("tax_forms").insert({...r,form_data:r.form_data}).select().single();if(a)throw a;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["tax_forms"]})},onError:r=>{t({title:"Error",description:r.message,variant:"destructive"})}})}const Jd=[{id:1,name:"Business Structure"},{id:2,name:"Your Role"},{id:3,name:"Personal Info"},{id:4,name:"Capital"},{id:5,name:"Tax Forms"}],hje={businessName:"",fullName:"",email:"",addressLine1:"",addressLine2:"",city:"",state:"",zipCode:"",ssnLastFour:"",ownershipPercentage:100,isPassive:!1,ein:""},mje={totalCapital:0,managingMemberShare:0,passiveMemberShare:0,customAmount:""};function fje(){const e=Qt(),{toast:t}=yt(),[r,s]=x.useState(1),[a,i]=x.useState(null),[o,l]=x.useState(!0),[c,d]=x.useState(null),[u,h]=x.useState(null),[m,f]=x.useState(hje),[p,g]=x.useState(mje),v=cje(),j=dje();uje(),x.useEffect(()=>{(async()=>{const{data:{user:k}}=await Y.auth.getUser();if(!k){e("/auth");return}i(k.id),f(E=>({...E,email:k.email||""})),l(!1)})()},[e]);const y=r/Jd.length*100,b=()=>{switch(r){case 1:return!!c;case 2:return!!u;case 3:return m.fullName&&m.email&&m.addressLine1&&m.city&&m.state&&m.zipCode;case 4:return p.totalCapital>=10;case 5:return!0;default:return!1}},w=()=>{r<Jd.length&&s(r+1)},N=()=>{r>1&&s(r-1)},_=async()=>{if(!(!a||!c||!u))try{const S=await v.mutateAsync({user_id:a,name:m.businessName||`${m.fullName}'s Business`,structure:c,ein:m.ein||null,state:m.state||null,formation_date:null,is_active:!0});await j.mutateAsync({business_id:S.id,user_id:a,name:m.fullName,email:m.email,role:u,ownership_percentage:m.ownershipPercentage,is_passive:m.isPassive,ssn_last_four:m.ssnLastFour||null,address_line1:m.addressLine1||null,address_line2:m.addressLine2||null,city:m.city||null,state:m.state||null,zip_code:m.zipCode||null}),t({title:"Setup Complete!",description:"Your business has been configured. You can now manage your tax forms."}),e("/")}catch(S){console.error("Error completing setup:",S)}},C=S=>{t({title:`Opening ${S}`,description:"Tax form editor coming soon. For now, this form has been added to your tracking list."})};return o?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(on,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsxs("div",{className:"min-h-screen vine-section relative overflow-hidden",children:[n.jsx("header",{className:"border-b bg-card",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-xl font-bold text-primary",children:"Business Setup"}),n.jsx($,{variant:"ghost",onClick:()=>e("/"),children:"Exit"})]})})}),n.jsx("div",{className:"border-b bg-card/50",children:n.jsxs("div",{className:"container mx-auto px-4 py-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:Jd.map((S,k)=>n.jsxs("div",{className:`flex items-center ${k<Jd.length-1?"flex-1":""}`,children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${S.id<r||S.id===r?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:S.id<r?n.jsx(ss,{className:"h-4 w-4"}):S.id}),n.jsx("span",{className:"ml-2 text-sm hidden sm:inline",children:S.name})]}),k<Jd.length-1&&n.jsx("div",{className:"flex-1 h-0.5 bg-muted mx-4"})]},S.id))}),n.jsx(Ws,{value:y,className:"h-1"})]})}),n.jsxs("main",{className:"container mx-auto px-4 py-8",children:[r===1&&n.jsxs(q,{className:"mb-8 border-2 border-primary/30 bg-gradient-to-r from-primary/10 via-primary/5 to-transparent",children:[n.jsx(de,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 rounded-xl bg-primary text-primary-foreground",children:n.jsx(Mee,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(ce,{className:"text-xl",children:"Company Formation Wizard"}),n.jsx(ye,{children:"Full-service company setup with documents, EIN guidance, and Secretary of State links"})]})]})}),n.jsx(K,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsx("li",{children:" Operating Agreement & Articles of Organization"}),n.jsx("li",{children:" EIN Application Assistance (IRS link)"}),n.jsx("li",{children:" State Filing Links & Fee Information"}),n.jsx("li",{children:" Tax Forms Checklist & Compliance Calendar"})]}),n.jsxs($,{onClick:()=>e("/company-wizard"),className:"gap-2 shrink-0",size:"lg",children:["Start Wizard",n.jsx(kn,{className:"h-4 w-4"})]})]})})]}),r===1&&n.jsx(qbe,{selected:c,onSelect:d}),r===2&&c&&n.jsx(Kbe,{businessStructure:c,selected:u,onSelect:h}),r===3&&u&&n.jsx(Ybe,{role:u,data:m,onChange:f}),r===4&&n.jsx(ije,{data:p,onChange:g}),r===5&&c&&u&&n.jsx(lje,{businessStructure:c,role:u,onStartForm:C})]}),n.jsx("footer",{className:"fixed bottom-0 left-0 right-0 border-t bg-card",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsxs($,{variant:"outline",onClick:N,disabled:r===1,children:[n.jsx(lm,{className:"h-4 w-4 mr-2"}),"Back"]}),r<Jd.length?n.jsxs($,{onClick:w,disabled:!b(),children:["Next",n.jsx(as,{className:"h-4 w-4 ml-2"})]}):n.jsxs($,{onClick:_,disabled:v.isPending||j.isPending,children:[v.isPending||j.isPending?n.jsx(on,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(ss,{className:"h-4 w-4 mr-2"}),"Complete Setup"]})]})})})]})}var pg=e=>e.type==="checkbox",Dc=e=>e instanceof Date,es=e=>e==null;const xq=e=>typeof e=="object";var Xr=e=>!es(e)&&!Array.isArray(e)&&xq(e)&&!Dc(e),gq=e=>Xr(e)&&e.target?pg(e.target)?e.target.checked:e.target.value:e,pje=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,yq=(e,t)=>e.has(pje(t)),xje=e=>{const t=e.constructor&&e.constructor.prototype;return Xr(t)&&t.hasOwnProperty("isPrototypeOf")},uP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pn(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(uP&&(e instanceof Blob||s))&&(r||Xr(e)))if(t=r?[]:{},!r&&!xje(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=pn(e[a]));else return e;return t}var Dj=e=>/^\w*$/.test(e),Hr=e=>e===void 0,hP=e=>Array.isArray(e)?e.filter(Boolean):[],mP=e=>hP(e.replace(/["|']|\]/g,"").split(/\.|\[/)),_e=(e,t,r)=>{if(!t||!Xr(e))return r;const s=(Dj(t)?[t]:mP(t)).reduce((a,i)=>es(a)?a:a[i],e);return Hr(s)||s===e?Hr(e[t])?r:e[t]:s},Os=e=>typeof e=="boolean",Zt=(e,t,r)=>{let s=-1;const a=Dj(t)?[t]:mP(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const d=e[l];c=Xr(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const v0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ba={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Yi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},fP=D.createContext(null);fP.displayName="HookFormContext";const $j=()=>D.useContext(fP),gje=e=>{const{children:t,...r}=e;return D.createElement(fP.Provider,{value:r},t)};var vq=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Ba.all&&(t._proxyFormState[o]=!s||Ba.all),r&&(r[o]=!0),e[o]}});return a};const pP=typeof window<"u"?D.useLayoutEffect:D.useEffect;function yje(e){const t=$j(),{control:r=t.control,disabled:s,name:a,exact:i}=e||{},[o,l]=D.useState(r._formState),c=D.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return pP(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:d=>{!s&&l({...r._formState,...d})}}),[a,s,i]),D.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),D.useMemo(()=>vq(o,r,c.current,!1),[o,r])}var yi=e=>typeof e=="string",bq=(e,t,r,s,a)=>yi(e)?(s&&t.watch.add(e),_e(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),_e(r,i))):(s&&(t.watchAll=!0),r),O2=e=>es(e)||!xq(e);function so(e,t,r=new WeakSet){if(O2(e)||O2(t))return e===t;if(Dc(e)&&Dc(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of s){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Dc(o)&&Dc(l)||Xr(o)&&Xr(l)||Array.isArray(o)&&Array.isArray(l)?!so(o,l,r):o!==l)return!1}}return!0}function vje(e){const t=$j(),{control:r=t.control,name:s,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=D.useRef(a),d=D.useRef(l),u=D.useRef(void 0);d.current=l;const h=D.useMemo(()=>r._getWatch(s,c.current),[r,s]),[m,f]=D.useState(d.current?d.current(h):h);return pP(()=>r._subscribe({name:s,formState:{values:!0},exact:o,callback:p=>{if(!i){const g=bq(s,r._names,p.values||r._formValues,!1,c.current);if(d.current){const v=d.current(g);so(v,u.current)||(f(v),u.current=v)}else f(g)}}}),[r,i,s,o]),D.useEffect(()=>r._removeUnmounted()),m}function bje(e){const t=$j(),{name:r,disabled:s,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=yq(a._names.array,r),c=D.useMemo(()=>_e(a._formValues,r,_e(a._defaultValues,r,o)),[a,r,o]),d=vje({control:a,name:r,defaultValue:c,exact:!0}),u=yje({control:a,name:r,exact:!0}),h=D.useRef(e),m=D.useRef(a.register(r,{...e.rules,value:d,...Os(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const f=D.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!_e(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!_e(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!_e(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!_e(u.validatingFields,r)},error:{enumerable:!0,get:()=>_e(u.errors,r)}}),[u,r]),p=D.useCallback(y=>m.current.onChange({target:{value:gq(y),name:r},type:v0.CHANGE}),[r]),g=D.useCallback(()=>m.current.onBlur({target:{value:_e(a._formValues,r),name:r},type:v0.BLUR}),[r,a._formValues]),v=D.useCallback(y=>{const b=_e(a._fields,r);b&&y&&(b._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:w=>y.setCustomValidity(w),reportValidity:()=>y.reportValidity()})},[a._fields,r]),j=D.useMemo(()=>({name:r,value:d,...Os(s)||u.disabled?{disabled:u.disabled||s}:{},onChange:p,onBlur:g,ref:v}),[r,s,u.disabled,p,g,v,d]);return D.useEffect(()=>{const y=a._options.shouldUnregister||i;a.register(r,{...h.current.rules,...Os(h.current.disabled)?{disabled:h.current.disabled}:{}});const b=(w,N)=>{const _=_e(a._fields,w);_&&_._f&&(_._f.mount=N)};if(b(r,!0),y){const w=pn(_e(a._options.defaultValues,r));Zt(a._defaultValues,r,w),Hr(_e(a._formValues,r))&&Zt(a._formValues,r,w)}return!l&&a.register(r),()=>{(l?y&&!a._state.action:y)?a.unregister(r):b(r,!1)}},[r,a,l,i]),D.useEffect(()=>{a._setDisabledField({disabled:s,name:r})},[s,r,a]),D.useMemo(()=>({field:j,formState:u,fieldState:f}),[j,u,f])}const jje=e=>e.render(bje(e));var jq=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},qf=e=>Array.isArray(e)?e:[e],CR=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},hs=e=>Xr(e)&&!Object.keys(e).length,xP=e=>e.type==="file",Va=e=>typeof e=="function",b0=e=>{if(!uP)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},wq=e=>e.type==="select-multiple",gP=e=>e.type==="radio",wje=e=>gP(e)||pg(e),fN=e=>b0(e)&&e.isConnected;function Nje(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Hr(e)?s++:e[t[s++]];return e}function _je(e){for(const t in e)if(e.hasOwnProperty(t)&&!Hr(e[t]))return!1;return!0}function en(e,t){const r=Array.isArray(t)?t:Dj(t)?[t]:mP(t),s=r.length===1?e:Nje(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(Xr(s)&&hs(s)||Array.isArray(s)&&_je(s))&&en(e,r.slice(0,-1)),e}var Nq=e=>{for(const t in e)if(Va(e[t]))return!0;return!1};function j0(e,t={}){const r=Array.isArray(e);if(Xr(e)||r)for(const s in e)Array.isArray(e[s])||Xr(e[s])&&!Nq(e[s])?(t[s]=Array.isArray(e[s])?[]:{},j0(e[s],t[s])):es(e[s])||(t[s]=!0);return t}function _q(e,t,r){const s=Array.isArray(e);if(Xr(e)||s)for(const a in e)Array.isArray(e[a])||Xr(e[a])&&!Nq(e[a])?Hr(t)||O2(r[a])?r[a]=Array.isArray(e[a])?j0(e[a],[]):{...j0(e[a])}:_q(e[a],es(t)?{}:t[a],r[a]):r[a]=!so(e[a],t[a]);return r}var tf=(e,t)=>_q(e,t,j0(t));const kR={value:!1,isValid:!1},TR={value:!0,isValid:!0};var Sq=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Hr(e[0].attributes.value)?Hr(e[0].value)||e[0].value===""?TR:{value:e[0].value,isValid:!0}:TR:kR}return kR},Cq=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Hr(e)?e:t?e===""?NaN:e&&+e:r&&yi(e)?new Date(e):s?s(e):e;const ER={isValid:!1,value:null};var kq=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,ER):ER;function PR(e){const t=e.ref;return xP(t)?t.files:gP(t)?kq(e.refs).value:wq(t)?[...t.selectedOptions].map(({value:r})=>r):pg(t)?Sq(e.refs).value:Cq(Hr(t.value)?e.ref.value:t.value,e)}var Sje=(e,t,r,s)=>{const a={};for(const i of e){const o=_e(t,i);o&&Zt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},w0=e=>e instanceof RegExp,rf=e=>Hr(e)?e:w0(e)?e.source:Xr(e)?w0(e.value)?e.value.source:e.value:e,AR=e=>({isOnSubmit:!e||e===Ba.onSubmit,isOnBlur:e===Ba.onBlur,isOnChange:e===Ba.onChange,isOnAll:e===Ba.all,isOnTouch:e===Ba.onTouched});const OR="AsyncFunction";var Cje=e=>!!e&&!!e.validate&&!!(Va(e.validate)&&e.validate.constructor.name===OR||Xr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===OR)),kje=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),MR=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Hf=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=_e(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Hf(l,t))break}else if(Xr(l)&&Hf(l,t))break}}};function RR(e,t,r){const s=_e(e,r);if(s||Dj(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=_e(t,i),l=_e(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var Tje=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return hs(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||Ba.all))},Eje=(e,t,r)=>!e||!t||e===t||qf(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),Pje=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,Aje=(e,t)=>!hP(_e(e,t)).length&&en(e,t),Oje=(e,t,r)=>{const s=qf(_e(e,r));return Zt(s,"root",t[r]),Zt(e,r,s),e},lv=e=>yi(e);function IR(e,t,r="validate"){if(lv(e)||Array.isArray(e)&&e.every(lv)||Os(e)&&!e)return{type:r,message:lv(e)?e:"",ref:t}}var eu=e=>Xr(e)&&!w0(e)?e:{value:e,message:""},DR=async(e,t,r,s,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:f,validate:p,name:g,valueAsNumber:v,mount:j}=e._f,y=_e(r,g);if(!j||t.has(g))return{};const b=l?l[0]:o,w=A=>{a&&b.reportValidity&&(b.setCustomValidity(Os(A)?"":A||""),b.reportValidity())},N={},_=gP(o),C=pg(o),S=_||C,k=(v||xP(o))&&Hr(o.value)&&Hr(y)||b0(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,E=jq.bind(null,g,s,N),T=(A,B,R,L=Yi.maxLength,V=Yi.minLength)=>{const O=A?B:R;N[g]={type:A?L:V,message:O,ref:o,...E(A?L:V,O)}};if(i?!Array.isArray(y)||!y.length:c&&(!S&&(k||es(y))||Os(y)&&!y||C&&!Sq(l).isValid||_&&!kq(l).isValid)){const{value:A,message:B}=lv(c)?{value:!!c,message:c}:eu(c);if(A&&(N[g]={type:Yi.required,message:B,ref:b,...E(Yi.required,B)},!s))return w(B),N}if(!k&&(!es(h)||!es(m))){let A,B;const R=eu(m),L=eu(h);if(!es(y)&&!isNaN(y)){const V=o.valueAsNumber||y&&+y;es(R.value)||(A=V>R.value),es(L.value)||(B=V<L.value)}else{const V=o.valueAsDate||new Date(y),O=G=>new Date(new Date().toDateString()+" "+G),P=o.type=="time",I=o.type=="week";yi(R.value)&&y&&(A=P?O(y)>O(R.value):I?y>R.value:V>new Date(R.value)),yi(L.value)&&y&&(B=P?O(y)<O(L.value):I?y<L.value:V<new Date(L.value))}if((A||B)&&(T(!!A,R.message,L.message,Yi.max,Yi.min),!s))return w(N[g].message),N}if((d||u)&&!k&&(yi(y)||i&&Array.isArray(y))){const A=eu(d),B=eu(u),R=!es(A.value)&&y.length>+A.value,L=!es(B.value)&&y.length<+B.value;if((R||L)&&(T(R,A.message,B.message),!s))return w(N[g].message),N}if(f&&!k&&yi(y)){const{value:A,message:B}=eu(f);if(w0(A)&&!y.match(A)&&(N[g]={type:Yi.pattern,message:B,ref:o,...E(Yi.pattern,B)},!s))return w(B),N}if(p){if(Va(p)){const A=await p(y,r),B=IR(A,b);if(B&&(N[g]={...B,...E(Yi.validate,B.message)},!s))return w(B.message),N}else if(Xr(p)){let A={};for(const B in p){if(!hs(A)&&!s)break;const R=IR(await p[B](y,r),b,B);R&&(A={...R,...E(B,R.message)},w(R.message),s&&(N[g]=A))}if(!hs(A)&&(N[g]={ref:b,...A},!s))return N}}return w(!0),N};const Mje={mode:Ba.onSubmit,reValidateMode:Ba.onChange,shouldFocusError:!0};function Rje(e={}){let t={...Mje,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Va(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Xr(t.defaultValues)||Xr(t.values)?pn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:pn(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const m={array:CR(),state:CR()},f=t.criteriaMode===Ba.all,p=U=>J=>{clearTimeout(d),d=setTimeout(U,J)},g=async U=>{if(!t.disabled&&(u.isValid||h.isValid||U)){const J=t.resolver?hs((await C()).errors):await k(s,!0);J!==r.isValid&&m.state.next({isValid:J})}},v=(U,J)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((U||Array.from(l.mount)).forEach(ie=>{ie&&(J?Zt(r.validatingFields,ie,J):en(r.validatingFields,ie))}),m.state.next({validatingFields:r.validatingFields,isValidating:!hs(r.validatingFields)}))},j=(U,J=[],ie,ve,be=!0,pe=!0)=>{if(ve&&ie&&!t.disabled){if(o.action=!0,pe&&Array.isArray(_e(s,U))){const Ee=ie(_e(s,U),ve.argA,ve.argB);be&&Zt(s,U,Ee)}if(pe&&Array.isArray(_e(r.errors,U))){const Ee=ie(_e(r.errors,U),ve.argA,ve.argB);be&&Zt(r.errors,U,Ee),Aje(r.errors,U)}if((u.touchedFields||h.touchedFields)&&pe&&Array.isArray(_e(r.touchedFields,U))){const Ee=ie(_e(r.touchedFields,U),ve.argA,ve.argB);be&&Zt(r.touchedFields,U,Ee)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=tf(a,i)),m.state.next({name:U,isDirty:T(U,J),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Zt(i,U,J)},y=(U,J)=>{Zt(r.errors,U,J),m.state.next({errors:r.errors})},b=U=>{r.errors=U,m.state.next({errors:r.errors,isValid:!1})},w=(U,J,ie,ve)=>{const be=_e(s,U);if(be){const pe=_e(i,U,Hr(ie)?_e(a,U):ie);Hr(pe)||ve&&ve.defaultChecked||J?Zt(i,U,J?pe:PR(be._f)):R(U,pe),o.mount&&g()}},N=(U,J,ie,ve,be)=>{let pe=!1,Ee=!1;const pt={name:U};if(!t.disabled){if(!ie||ve){(u.isDirty||h.isDirty)&&(Ee=r.isDirty,r.isDirty=pt.isDirty=T(),pe=Ee!==pt.isDirty);const Et=so(_e(a,U),J);Ee=!!_e(r.dirtyFields,U),Et?en(r.dirtyFields,U):Zt(r.dirtyFields,U,!0),pt.dirtyFields=r.dirtyFields,pe=pe||(u.dirtyFields||h.dirtyFields)&&Ee!==!Et}if(ie){const Et=_e(r.touchedFields,U);Et||(Zt(r.touchedFields,U,ie),pt.touchedFields=r.touchedFields,pe=pe||(u.touchedFields||h.touchedFields)&&Et!==ie)}pe&&be&&m.state.next(pt)}return pe?pt:{}},_=(U,J,ie,ve)=>{const be=_e(r.errors,U),pe=(u.isValid||h.isValid)&&Os(J)&&r.isValid!==J;if(t.delayError&&ie?(c=p(()=>y(U,ie)),c(t.delayError)):(clearTimeout(d),c=null,ie?Zt(r.errors,U,ie):en(r.errors,U)),(ie?!so(be,ie):be)||!hs(ve)||pe){const Ee={...ve,...pe&&Os(J)?{isValid:J}:{},errors:r.errors,name:U};r={...r,...Ee},m.state.next(Ee)}},C=async U=>{v(U,!0);const J=await t.resolver(i,t.context,Sje(U||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return v(U),J},S=async U=>{const{errors:J}=await C(U);if(U)for(const ie of U){const ve=_e(J,ie);ve?Zt(r.errors,ie,ve):en(r.errors,ie)}else r.errors=J;return J},k=async(U,J,ie={valid:!0})=>{for(const ve in U){const be=U[ve];if(be){const{_f:pe,...Ee}=be;if(pe){const pt=l.array.has(pe.name),Et=be._f&&Cje(be._f);Et&&u.validatingFields&&v([ve],!0);const Jr=await DR(be,l.disabled,i,f,t.shouldUseNativeValidation&&!J,pt);if(Et&&u.validatingFields&&v([ve]),Jr[pe.name]&&(ie.valid=!1,J))break;!J&&(_e(Jr,pe.name)?pt?Oje(r.errors,Jr,pe.name):Zt(r.errors,pe.name,Jr[pe.name]):en(r.errors,pe.name))}!hs(Ee)&&await k(Ee,J,ie)}}return ie.valid},E=()=>{for(const U of l.unMount){const J=_e(s,U);J&&(J._f.refs?J._f.refs.every(ie=>!fN(ie)):!fN(J._f.ref))&&se(U)}l.unMount=new Set},T=(U,J)=>!t.disabled&&(U&&J&&Zt(i,U,J),!so(G(),a)),A=(U,J,ie)=>bq(U,l,{...o.mount?i:Hr(J)?a:yi(U)?{[U]:J}:J},ie,J),B=U=>hP(_e(o.mount?i:a,U,t.shouldUnregister?_e(a,U,[]):[])),R=(U,J,ie={})=>{const ve=_e(s,U);let be=J;if(ve){const pe=ve._f;pe&&(!pe.disabled&&Zt(i,U,Cq(J,pe)),be=b0(pe.ref)&&es(J)?"":J,wq(pe.ref)?[...pe.ref.options].forEach(Ee=>Ee.selected=be.includes(Ee.value)):pe.refs?pg(pe.ref)?pe.refs.forEach(Ee=>{(!Ee.defaultChecked||!Ee.disabled)&&(Array.isArray(be)?Ee.checked=!!be.find(pt=>pt===Ee.value):Ee.checked=be===Ee.value||!!be)}):pe.refs.forEach(Ee=>Ee.checked=Ee.value===be):xP(pe.ref)?pe.ref.value="":(pe.ref.value=be,pe.ref.type||m.state.next({name:U,values:pn(i)})))}(ie.shouldDirty||ie.shouldTouch)&&N(U,be,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&I(U)},L=(U,J,ie)=>{for(const ve in J){if(!J.hasOwnProperty(ve))return;const be=J[ve],pe=U+"."+ve,Ee=_e(s,pe);(l.array.has(U)||Xr(be)||Ee&&!Ee._f)&&!Dc(be)?L(pe,be,ie):R(pe,be,ie)}},V=(U,J,ie={})=>{const ve=_e(s,U),be=l.array.has(U),pe=pn(J);Zt(i,U,pe),be?(m.array.next({name:U,values:pn(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&ie.shouldDirty&&m.state.next({name:U,dirtyFields:tf(a,i),isDirty:T(U,pe)})):ve&&!ve._f&&!es(pe)?L(U,pe,ie):R(U,pe,ie),MR(U,l)&&m.state.next({...r,name:U}),m.state.next({name:o.mount?U:void 0,values:pn(i)})},O=async U=>{o.mount=!0;const J=U.target;let ie=J.name,ve=!0;const be=_e(s,ie),pe=Et=>{ve=Number.isNaN(Et)||Dc(Et)&&isNaN(Et.getTime())||so(Et,_e(i,ie,Et))},Ee=AR(t.mode),pt=AR(t.reValidateMode);if(be){let Et,Jr;const Ys=J.type?PR(be._f):gq(U),ii=U.type===v0.BLUR||U.type===v0.FOCUS_OUT,_g=!kje(be._f)&&!t.resolver&&!_e(r.errors,ie)&&!be._f.deps||Pje(ii,_e(r.touchedFields,ie),r.isSubmitted,pt,Ee),fc=MR(ie,l,ii);Zt(i,ie,Ys),ii?(be._f.onBlur&&be._f.onBlur(U),c&&c(0)):be._f.onChange&&be._f.onChange(U);const oi=N(ie,Ys,ii),Sg=!hs(oi)||fc;if(!ii&&m.state.next({name:ie,type:U.type,values:pn(i)}),_g)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?ii&&g():ii||g()),Sg&&m.state.next({name:ie,...fc?{}:oi});if(!ii&&fc&&m.state.next({...r}),t.resolver){const{errors:Hi}=await C([ie]);if(pe(Ys),ve){const Ow=RR(r.errors,s,ie),Cg=RR(Hi,s,Ow.name||ie);Et=Cg.error,ie=Cg.name,Jr=hs(Hi)}}else v([ie],!0),Et=(await DR(be,l.disabled,i,f,t.shouldUseNativeValidation))[ie],v([ie]),pe(Ys),ve&&(Et?Jr=!1:(u.isValid||h.isValid)&&(Jr=await k(s,!0)));ve&&(be._f.deps&&I(be._f.deps),_(ie,Jr,Et,oi))}},P=(U,J)=>{if(_e(r.errors,J)&&U.focus)return U.focus(),1},I=async(U,J={})=>{let ie,ve;const be=qf(U);if(t.resolver){const pe=await S(Hr(U)?U:be);ie=hs(pe),ve=U?!be.some(Ee=>_e(pe,Ee)):ie}else U?(ve=(await Promise.all(be.map(async pe=>{const Ee=_e(s,pe);return await k(Ee&&Ee._f?{[pe]:Ee}:Ee)}))).every(Boolean),!(!ve&&!r.isValid)&&g()):ve=ie=await k(s);return m.state.next({...!yi(U)||(u.isValid||h.isValid)&&ie!==r.isValid?{}:{name:U},...t.resolver||!U?{isValid:ie}:{},errors:r.errors}),J.shouldFocus&&!ve&&Hf(s,P,U?be:l.mount),ve},G=U=>{const J={...o.mount?i:a};return Hr(U)?J:yi(U)?_e(J,U):U.map(ie=>_e(J,ie))},re=(U,J)=>({invalid:!!_e((J||r).errors,U),isDirty:!!_e((J||r).dirtyFields,U),error:_e((J||r).errors,U),isValidating:!!_e(r.validatingFields,U),isTouched:!!_e((J||r).touchedFields,U)}),X=U=>{U&&qf(U).forEach(J=>en(r.errors,J)),m.state.next({errors:U?r.errors:{}})},W=(U,J,ie)=>{const ve=(_e(s,U,{_f:{}})._f||{}).ref,be=_e(r.errors,U)||{},{ref:pe,message:Ee,type:pt,...Et}=be;Zt(r.errors,U,{...Et,...J,ref:ve}),m.state.next({name:U,errors:r.errors,isValid:!1}),ie&&ie.shouldFocus&&ve&&ve.focus&&ve.focus()},oe=(U,J)=>Va(U)?m.state.subscribe({next:ie=>"values"in ie&&U(A(void 0,J),ie)}):A(U,J,!0),je=U=>m.state.subscribe({next:J=>{Eje(U.name,J.name,U.exact)&&Tje(J,U.formState||u,Bt,U.reRenderRoot)&&U.callback({values:{...i},...r,...J,defaultValues:a})}}).unsubscribe,$e=U=>(o.mount=!0,h={...h,...U.formState},je({...U,formState:h})),se=(U,J={})=>{for(const ie of U?qf(U):l.mount)l.mount.delete(ie),l.array.delete(ie),J.keepValue||(en(s,ie),en(i,ie)),!J.keepError&&en(r.errors,ie),!J.keepDirty&&en(r.dirtyFields,ie),!J.keepTouched&&en(r.touchedFields,ie),!J.keepIsValidating&&en(r.validatingFields,ie),!t.shouldUnregister&&!J.keepDefaultValue&&en(a,ie);m.state.next({values:pn(i)}),m.state.next({...r,...J.keepDirty?{isDirty:T()}:{}}),!J.keepIsValid&&g()},Te=({disabled:U,name:J})=>{(Os(U)&&o.mount||U||l.disabled.has(J))&&(U?l.disabled.add(J):l.disabled.delete(J))},le=(U,J={})=>{let ie=_e(s,U);const ve=Os(J.disabled)||Os(t.disabled);return Zt(s,U,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:U}},name:U,mount:!0,...J}}),l.mount.add(U),ie?Te({disabled:Os(J.disabled)?J.disabled:t.disabled,name:U}):w(U,!0,J.value),{...ve?{disabled:J.disabled||t.disabled}:{},...t.progressive?{required:!!J.required,min:rf(J.min),max:rf(J.max),minLength:rf(J.minLength),maxLength:rf(J.maxLength),pattern:rf(J.pattern)}:{},name:U,onChange:O,onBlur:O,ref:be=>{if(be){le(U,J),ie=_e(s,U);const pe=Hr(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,Ee=wje(pe),pt=ie._f.refs||[];if(Ee?pt.find(Et=>Et===pe):pe===ie._f.ref)return;Zt(s,U,{_f:{...ie._f,...Ee?{refs:[...pt.filter(fN),pe,...Array.isArray(_e(a,U))?[{}]:[]],ref:{type:pe.type,name:U}}:{ref:pe}}}),w(U,!1,void 0,pe)}else ie=_e(s,U,{}),ie._f&&(ie._f.mount=!1),(t.shouldUnregister||J.shouldUnregister)&&!(yq(l.array,U)&&o.action)&&l.unMount.add(U)}}},ge=()=>t.shouldFocusError&&Hf(s,P,l.mount),we=U=>{Os(U)&&(m.state.next({disabled:U}),Hf(s,(J,ie)=>{const ve=_e(s,ie);ve&&(J.disabled=ve._f.disabled||U,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(be=>{be.disabled=ve._f.disabled||U}))},0,!1))},ae=(U,J)=>async ie=>{let ve;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let be=pn(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:pe,values:Ee}=await C();r.errors=pe,be=pn(Ee)}else await k(s);if(l.disabled.size)for(const pe of l.disabled)en(be,pe);if(en(r.errors,"root"),hs(r.errors)){m.state.next({errors:{}});try{await U(be,ie)}catch(pe){ve=pe}}else J&&await J({...r.errors},ie),ge(),setTimeout(ge);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:hs(r.errors)&&!ve,submitCount:r.submitCount+1,errors:r.errors}),ve)throw ve},st=(U,J={})=>{_e(s,U)&&(Hr(J.defaultValue)?V(U,pn(_e(a,U))):(V(U,J.defaultValue),Zt(a,U,pn(J.defaultValue))),J.keepTouched||en(r.touchedFields,U),J.keepDirty||(en(r.dirtyFields,U),r.isDirty=J.defaultValue?T(U,pn(_e(a,U))):T()),J.keepError||(en(r.errors,U),u.isValid&&g()),m.state.next({...r}))},Ze=(U,J={})=>{const ie=U?pn(U):a,ve=pn(ie),be=hs(U),pe=be?a:ve;if(J.keepDefaultValues||(a=ie),!J.keepValues){if(J.keepDirtyValues){const Ee=new Set([...l.mount,...Object.keys(tf(a,i))]);for(const pt of Array.from(Ee))_e(r.dirtyFields,pt)?Zt(pe,pt,_e(i,pt)):V(pt,_e(pe,pt))}else{if(uP&&Hr(U))for(const Ee of l.mount){const pt=_e(s,Ee);if(pt&&pt._f){const Et=Array.isArray(pt._f.refs)?pt._f.refs[0]:pt._f.ref;if(b0(Et)){const Jr=Et.closest("form");if(Jr){Jr.reset();break}}}}if(J.keepFieldsRef)for(const Ee of l.mount)V(Ee,_e(pe,Ee));else s={}}i=t.shouldUnregister?J.keepDefaultValues?pn(a):{}:pn(pe),m.array.next({values:{...pe}}),m.state.next({values:{...pe}})}l={mount:J.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!J.keepIsValid||!!J.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:J.keepSubmitCount?r.submitCount:0,isDirty:be?!1:J.keepDirty?r.isDirty:!!(J.keepDefaultValues&&!so(U,a)),isSubmitted:J.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:be?{}:J.keepDirtyValues?J.keepDefaultValues&&i?tf(a,i):r.dirtyFields:J.keepDefaultValues&&U?tf(a,U):J.keepDirty?r.dirtyFields:{},touchedFields:J.keepTouched?r.touchedFields:{},errors:J.keepErrors?r.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Tt=(U,J)=>Ze(Va(U)?U(i):U,J),at=(U,J={})=>{const ie=_e(s,U),ve=ie&&ie._f;if(ve){const be=ve.refs?ve.refs[0]:ve.ref;be.focus&&(be.focus(),J.shouldSelect&&Va(be.select)&&be.select())}},Bt=U=>{r={...r,...U}},un={control:{register:le,unregister:se,getFieldState:re,handleSubmit:ae,setError:W,_subscribe:je,_runSchema:C,_focusError:ge,_getWatch:A,_getDirty:T,_setValid:g,_setFieldArray:j,_setDisabledField:Te,_setErrors:b,_getFieldArray:B,_reset:Ze,_resetDefaultValues:()=>Va(t.defaultValues)&&t.defaultValues().then(U=>{Tt(U,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:we,_subjects:m,_proxyFormState:u,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(U){o=U},get _defaultValues(){return a},get _names(){return l},set _names(U){l=U},get _formState(){return r},get _options(){return t},set _options(U){t={...t,...U}}},subscribe:$e,trigger:I,register:le,handleSubmit:ae,watch:oe,setValue:V,getValues:G,reset:Tt,resetField:st,clearErrors:X,unregister:se,setError:W,setFocus:at,getFieldState:re};return{...un,formControl:un}}function Ije(e={}){const t=D.useRef(void 0),r=D.useRef(void 0),[s,a]=D.useState({isDirty:!1,isValidating:!1,isLoading:Va(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Va(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Va(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Rje(e);t.current={...l,formState:s}}const i=t.current.control;return i._options=e,pP(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),D.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),D.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),D.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),D.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),D.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),D.useEffect(()=>{e.values&&!so(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),D.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=vq(s,i),t.current}const $R=(e,t,r)=>{if(e&&"reportValidity"in e){const s=_e(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Tq=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?$R(s.ref,r,e):s.refs&&s.refs.forEach(a=>$R(a,r,e))}},Dje=(e,t)=>{t.shouldUseNativeValidation&&Tq(e,t);const r={};for(const s in e){const a=_e(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if($je(t.names||Object.keys(e),s)){const o=Object.assign({},_e(r,s));Zt(o,"root",i),Zt(r,s,o)}else Zt(r,s,i)}return r},$je=(e,t)=>e.some(r=>r.startsWith(t+"."));var Lje=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return e.push(h)})}),t){var c=r[o].types,d=c&&c[s.code];r[o]=jq(o,t,r,a,d?[].concat(d,s.message):s.message)}e.shift()}return r},Fje=function(e,t,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&Tq({},i),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Dje(Lje(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const Bje=gje,Eq=x.createContext({}),Ye=({...e})=>n.jsx(Eq.Provider,{value:{name:e.name},children:n.jsx(jje,{...e})}),Lj=()=>{const e=x.useContext(Eq),t=x.useContext(Pq),{getFieldState:r,formState:s}=$j(),a=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},Pq=x.createContext({}),Ke=x.forwardRef(({className:e,...t},r)=>{const s=x.useId();return n.jsx(Pq.Provider,{value:{id:s},children:n.jsx("div",{ref:r,className:z("space-y-2",e),...t})})});Ke.displayName="FormItem";const Xe=x.forwardRef(({className:e,...t},r)=>{const{error:s,formItemId:a}=Lj();return n.jsx(M,{ref:r,className:z(s&&"text-destructive",e),htmlFor:a,...t})});Xe.displayName="FormLabel";const Ge=x.forwardRef(({...e},t)=>{const{error:r,formItemId:s,formDescriptionId:a,formMessageId:i}=Lj();return n.jsx(C6,{ref:t,id:s,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});Ge.displayName="FormControl";const Gn=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:s}=Lj();return n.jsx("p",{ref:r,id:s,className:z("text-sm text-muted-foreground",e),...t})});Gn.displayName="FormDescription";const Je=x.forwardRef(({className:e,children:t,...r},s)=>{const{error:a,formMessageId:i}=Lj(),o=a?String(a==null?void 0:a.message):t;return o?n.jsx("p",{ref:s,id:i,className:z("text-sm font-medium text-destructive",e),...r,children:o}):null});Je.displayName="FormMessage";const Vje=Vt().regex(/^\d{3}-?\d{2}-?\d{4}$/,"SSN must be in format XXX-XX-XXXX or XXXXXXXXX").transform(e=>e.replace(/-/g,"")),zje=Vt().regex(/^\d{2}-?\d{7}$/,"EIN must be in format XX-XXXXXXX").transform(e=>e.replace(/-/g,"")),Uje=Vt().regex(/^\d{5}(-\d{4})?$/,"ZIP must be 5 digits or ZIP+4 format"),Aq=Vt().length(2,"Use 2-letter state code"),Up=Nm({street:Vt().min(1,"Address is required").max(100),apt:Vt().max(50).optional(),city:Vt().min(1,"City is required").max(50),state:Aq,zip:Uje}),Wje=Nm({firstName:Vt().min(1,"First name is required").max(50),middleInitial:Vt().max(1).optional(),lastName:Vt().min(1,"Last name is required").max(50),ssn:Vje,address:Up,filingStatus:zp(["single","married_filing_jointly","head_of_household"],{required_error:"Filing status is required"}),multipleJobsOrSpouseWorks:ov().default(!1),qualifyingChildren:gt().min(0).max(20).default(0),otherDependents:gt().min(0).max(20).default(0),otherIncome:gt().min(0).default(0),deductions:gt().min(0).default(0),extraWithholding:gt().min(0).default(0),signatureDate:Vt().optional()}),qje=Nm({name:Vt().min(1,"Name is required").max(100),businessName:Vt().max(100).optional(),taxClassification:zp(["individual_sole_proprietor","c_corporation","s_corporation","partnership","trust_estate","llc_c","llc_s","llc_p","other"],{required_error:"Tax classification is required"}),otherClassification:Vt().max(50).optional(),exemptPayeeCode:Vt().max(10).optional(),fatcaExemptionCode:Vt().max(10).optional(),address:Up,accountNumbers:Vt().max(100).optional(),tinType:zp(["ssn","ein"],{required_error:"TIN type is required"}),ssn:Vt().optional(),ein:Vt().optional(),certificationDate:Vt().optional()}).refine(e=>e.tinType==="ssn"?/^\d{3}-?\d{2}-?\d{4}$/.test(e.ssn||""):/^\d{2}-?\d{7}$/.test(e.ein||""),{message:"Valid SSN or EIN is required based on TIN type",path:["ssn"]}),Hje=Nm({payerName:Vt().min(1,"Payer name is required").max(100),payerAddress:Up,payerTIN:zje,payerPhone:Vt().max(20).optional(),recipientName:Vt().min(1,"Recipient name is required").max(100),recipientAddress:Up,recipientTIN:Vt().min(1,"Recipient TIN is required"),accountNumber:Vt().max(50).optional(),nonemployeeCompensation:gt().min(0,"Amount must be positive"),federalTaxWithheld:gt().min(0).default(0),stateTaxWithheld:gt().min(0).default(0),state:Aq.optional(),statePayerNumber:Vt().max(20).optional(),stateIncome:gt().min(0).default(0)}),Kje=Nm({businessName:Vt().min(1,"Business name is required").max(100),principalBusinessCode:Vt().max(10).optional(),businessAddress:Up.optional(),accountingMethod:zp(["cash","accrual","other"]).default("cash"),filingStatus:zp(["single","married_filing_jointly","head_of_household"]).default("single"),grossReceipts:gt().min(0,"Enter gross receipts"),returns:gt().min(0).default(0),costOfGoodsSold:gt().min(0).default(0),isVineIncome:ov().default(!0),brandItemsEtv:gt().min(0).default(0),nonBrandItemsEtv:gt().min(0).default(0),brokenItemsEtv:gt().min(0).default(0),vineValueAdjustment:gt().min(0).default(0),advertising:gt().min(0).default(0),carAndTruck:gt().min(0).default(0),commissions:gt().min(0).default(0),contractLabor:gt().min(0).default(0),depreciation:gt().min(0).default(0),insurance:gt().min(0).default(0),interest:gt().min(0).default(0),legal:gt().min(0).default(0),officeExpense:gt().min(0).default(0),rent:gt().min(0).default(0),repairs:gt().min(0).default(0),supplies:gt().min(0).default(0),taxes:gt().min(0).default(0),travel:gt().min(0).default(0),meals:gt().min(0).default(0),utilities:gt().min(0).default(0),wages:gt().min(0).default(0),otherExpenses:gt().min(0).default(0),otherExpensesDescription:Vt().max(500).optional(),useHomeOffice:ov().default(!1),homeOfficeSquareFeet:gt().min(0).max(300).default(0),homeOfficeDeduction:gt().min(0).default(0),vehicleMiles:gt().min(0).default(0),vehicleBusinessMiles:gt().min(0).default(0),mileageDeduction:gt().min(0).default(0),claimQbiDeduction:ov().default(!0),estimatedOtherIncome:gt().min(0).default(0)}),Gje={"W-4":Wje,"W-9":qje,"1099-NEC":Hje,"Schedule C":Kje},LR={"W-4":{firstName:"",lastName:"",middleInitial:"",ssn:"",address:{street:"",apt:"",city:"",state:"",zip:""},filingStatus:"single",multipleJobsOrSpouseWorks:!1,qualifyingChildren:0,otherDependents:0,otherIncome:0,deductions:0,extraWithholding:0},"W-9":{name:"",businessName:"",taxClassification:"individual_sole_proprietor",address:{street:"",apt:"",city:"",state:"",zip:""},tinType:"ssn",ssn:"",ein:""},"1099-NEC":{payerName:"",payerAddress:{street:"",apt:"",city:"",state:"",zip:""},payerTIN:"",recipientName:"",recipientAddress:{street:"",apt:"",city:"",state:"",zip:""},recipientTIN:"",nonemployeeCompensation:0,federalTaxWithheld:0,stateTaxWithheld:0,stateIncome:0},"Schedule C":{businessName:"Product Review Services",principalBusinessCode:"561990",accountingMethod:"cash",filingStatus:"single",grossReceipts:0,returns:0,costOfGoodsSold:0,isVineIncome:!0,brandItemsEtv:0,nonBrandItemsEtv:0,brokenItemsEtv:0,vineValueAdjustment:0,advertising:0,carAndTruck:0,commissions:0,contractLabor:0,depreciation:0,insurance:0,interest:0,legal:0,officeExpense:0,rent:0,repairs:0,supplies:0,taxes:0,travel:0,meals:0,utilities:0,wages:0,otherExpenses:0,otherExpensesDescription:"Product value adjustment - 50/20/0 method (open box value reduction after product testing)",useHomeOffice:!1,homeOfficeSquareFeet:0,homeOfficeDeduction:0,vehicleMiles:0,vehicleBusinessMiles:0,mileageDeduction:0,claimQbiDeduction:!0,estimatedOtherIncome:0}},Yje=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"];function N0({form:e,prefix:t}){return n.jsxs("div",{className:"space-y-4",children:[n.jsx(Ye,{control:e.control,name:`${t}.street`,render:({field:r})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Street Address"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"123 Main St",...r})}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:`${t}.apt`,render:({field:r})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Apt/Suite (Optional)"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"Apt 4B",...r})}),n.jsx(Je,{})]})}),n.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[n.jsx("div",{className:"col-span-3",children:n.jsx(Ye,{control:e.control,name:`${t}.city`,render:({field:r})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"City"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"Denver",...r})}),n.jsx(Je,{})]})})}),n.jsx("div",{className:"col-span-1",children:n.jsx(Ye,{control:e.control,name:`${t}.state`,render:({field:r})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"State"}),n.jsxs(Re,{onValueChange:r.onChange,value:r.value,children:[n.jsx(Ge,{children:n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"ST"})})}),n.jsx(Ae,{children:Yje.map(s=>n.jsx(he,{value:s,children:s},s))})]}),n.jsx(Je,{})]})})}),n.jsx("div",{className:"col-span-2",children:n.jsx(Ye,{control:e.control,name:`${t}.zip`,render:({field:r})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"ZIP Code"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"80202",maxLength:10,...r})}),n.jsx(Je,{})]})})})]})]})}function Xje({form:e}){const t=e.watch("qualifyingChildren")||0,r=e.watch("otherDependents")||0,s=t*2e3,a=r*500,i=s+a;return n.jsxs("div",{className:"space-y-8",children:[n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Step 1: Personal Information"}),n.jsx(ye,{children:"Enter your name, address, Social Security number, and filing status"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"md:col-span-2",children:n.jsx(Ye,{control:e.control,name:"firstName",render:({field:o})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"First Name"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"John",...o})}),n.jsx(Je,{})]})})}),n.jsx(Ye,{control:e.control,name:"middleInitial",render:({field:o})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"M.I."}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"A",maxLength:1,...o})}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"lastName",render:({field:o})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Last Name"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"Smith",...o})}),n.jsx(Je,{})]})})]}),n.jsx(Ye,{control:e.control,name:"ssn",render:({field:o})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Social Security Number"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"XXX-XX-XXXX",maxLength:11,...o})}),n.jsx(Je,{})]})}),n.jsx(N0,{form:e,prefix:"address"}),n.jsx(Ye,{control:e.control,name:"filingStatus",render:({field:o})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Filing Status"}),n.jsxs(Re,{onValueChange:o.onChange,value:o.value,children:[n.jsx(Ge,{children:n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Select filing status"})})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"single",children:"Single or Married filing separately"}),n.jsx(he,{value:"married_filing_jointly",children:"Married filing jointly or Qualifying surviving spouse"}),n.jsx(he,{value:"head_of_household",children:"Head of household"})]})]}),n.jsx(Je,{})]})})]})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Step 2: Multiple Jobs or Spouse Works"}),n.jsx(ye,{children:"Complete this step if you (1) hold more than one job at a time, or (2) are married filing jointly and your spouse also works"})]}),n.jsx(K,{children:n.jsx(Ye,{control:e.control,name:"multipleJobsOrSpouseWorks",render:({field:o})=>n.jsxs(Ke,{className:"flex items-start space-x-3 space-y-0",children:[n.jsx(Ge,{children:n.jsx(ga,{checked:o.value,onCheckedChange:o.onChange})}),n.jsxs("div",{className:"space-y-1 leading-none",children:[n.jsx(Xe,{className:"font-normal",children:"Check here if you have more than one job or your spouse works"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"This will help calculate more accurate withholding"})]})]})})})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Step 3: Claim Dependents"}),n.jsx(ye,{children:"If your total income will be $200,000 or less ($400,000 or less if married filing jointly)"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Ye,{control:e.control,name:"qualifyingChildren",render:({field:o})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Qualifying Children under 17"}),n.jsx(Ge,{children:n.jsx(F,{type:"number",min:0,...o,onChange:l=>o.onChange(parseInt(l.target.value)||0)})}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" $2,000 = $",(o.value||0)*2e3]}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"otherDependents",render:({field:o})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Other Dependents"}),n.jsx(Ge,{children:n.jsx(F,{type:"number",min:0,...o,onChange:l=>o.onChange(parseInt(l.target.value)||0)})}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" $500 = $",(o.value||0)*500]}),n.jsx(Je,{})]})})]}),n.jsx("div",{className:"p-4 bg-muted rounded-lg",children:n.jsxs("p",{className:"text-sm font-medium",children:["Total Dependent Credit: ",n.jsxs("span",{className:"text-primary",children:["$",i.toLocaleString()]})]})})]})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Step 4: Other Adjustments (Optional)"}),n.jsx(ye,{children:"Use this step to make additional adjustments to your withholding"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsx(Ye,{control:e.control,name:"otherIncome",render:({field:o})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"4(a) Other Income"}),n.jsx(Ge,{children:n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),n.jsx(F,{type:"number",min:0,className:"pl-7",...o,onChange:l=>o.onChange(parseFloat(l.target.value)||0)})]})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Income from interest, dividends, retirement that is not from jobs"}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"deductions",render:({field:o})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"4(b) Deductions"}),n.jsx(Ge,{children:n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),n.jsx(F,{type:"number",min:0,className:"pl-7",...o,onChange:l=>o.onChange(parseFloat(l.target.value)||0)})]})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Amount that exceeds the standard deduction"}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"extraWithholding",render:({field:o})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"4(c) Extra Withholding"}),n.jsx(Ge,{children:n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),n.jsx(F,{type:"number",min:0,className:"pl-7",...o,onChange:l=>o.onChange(parseFloat(l.target.value)||0)})]})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Extra amount you want withheld from each paycheck"}),n.jsx(Je,{})]})})]})]})]})}const Qje=[{value:"individual_sole_proprietor",label:"Individual/Sole proprietor or single-member LLC"},{value:"c_corporation",label:"C Corporation"},{value:"s_corporation",label:"S Corporation"},{value:"partnership",label:"Partnership"},{value:"trust_estate",label:"Trust/Estate"},{value:"llc_c",label:"LLC - C corporation"},{value:"llc_s",label:"LLC - S corporation"},{value:"llc_p",label:"LLC - Partnership"},{value:"other",label:"Other"}];function Zje({form:e}){const t=e.watch("tinType");return n.jsxs("div",{className:"space-y-8",children:[n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Name Information"}),n.jsx(ye,{children:"Enter your name as shown on your income tax return"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsx(Ye,{control:e.control,name:"name",render:({field:r})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Name (Line 1)"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"Name as shown on your income tax return",...r})}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"businessName",render:({field:r})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Business Name (Line 2 - Optional)"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"Business name if different from above",...r})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Disregarded entity name, if different from above"}),n.jsx(Je,{})]})})]})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Federal Tax Classification (Line 3)"}),n.jsx(ye,{children:"Check the appropriate box for federal tax classification"})]}),n.jsx(K,{children:n.jsx(Ye,{control:e.control,name:"taxClassification",render:({field:r})=>n.jsxs(Ke,{children:[n.jsx(Ge,{children:n.jsx(jd,{onValueChange:r.onChange,value:r.value,className:"grid gap-3",children:Qje.map(s=>n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ha,{value:s.value,id:s.value}),n.jsx(M,{htmlFor:s.value,className:"font-normal cursor-pointer",children:s.label})]},s.value))})}),n.jsx(Je,{})]})})})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Exemptions (Line 4 - Optional)"}),n.jsx(ye,{children:"Codes apply only to certain entities, not individuals"})]}),n.jsx(K,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Ye,{control:e.control,name:"exemptPayeeCode",render:({field:r})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Exempt Payee Code"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"If applicable",...r})}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"fatcaExemptionCode",render:({field:r})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"FATCA Exemption Code"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"If applicable",...r})}),n.jsx(Je,{})]})})]})})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Address (Lines 5-6)"}),n.jsx(ye,{children:"Address where the requester should mail your information returns"})]}),n.jsx(K,{children:n.jsx(N0,{form:e,prefix:"address"})})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Account Numbers (Line 7 - Optional)"}),n.jsx(ye,{children:"List account numbers here if required by requester"})]}),n.jsx(K,{children:n.jsx(Ye,{control:e.control,name:"accountNumbers",render:({field:r})=>n.jsxs(Ke,{children:[n.jsx(Ge,{children:n.jsx(F,{placeholder:"Account numbers (optional)",...r})}),n.jsx(Je,{})]})})})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Part I: Taxpayer Identification Number (TIN)"}),n.jsx(ye,{children:"Enter your TIN in the appropriate box"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsx(Ye,{control:e.control,name:"tinType",render:({field:r})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"TIN Type"}),n.jsx(Ge,{children:n.jsxs(jd,{onValueChange:r.onChange,value:r.value,className:"flex gap-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ha,{value:"ssn",id:"ssn"}),n.jsx(M,{htmlFor:"ssn",className:"font-normal cursor-pointer",children:"Social Security Number (SSN)"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ha,{value:"ein",id:"ein"}),n.jsx(M,{htmlFor:"ein",className:"font-normal cursor-pointer",children:"Employer Identification Number (EIN)"})]})]})}),n.jsx(Je,{})]})}),t==="ssn"&&n.jsx(Ye,{control:e.control,name:"ssn",render:({field:r})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Social Security Number"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"XXX-XX-XXXX",maxLength:11,...r})}),n.jsx(Je,{})]})}),t==="ein"&&n.jsx(Ye,{control:e.control,name:"ein",render:({field:r})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Employer Identification Number"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"XX-XXXXXXX",maxLength:10,...r})}),n.jsx(Je,{})]})})]})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Part II: Certification"}),n.jsx(ye,{children:"Under penalties of perjury, I certify that the information provided is correct"})]}),n.jsx(K,{children:n.jsxs("div",{className:"p-4 bg-muted rounded-lg text-sm text-muted-foreground space-y-2",children:[n.jsx("p",{children:"By submitting this form, you certify that:"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[n.jsx("li",{children:"The TIN shown is correct (or you are waiting for one to be issued)"}),n.jsx("li",{children:"You are not subject to backup withholding"}),n.jsx("li",{children:"You are a U.S. citizen or other U.S. person"}),n.jsx("li",{children:"FATCA codes are correct (if any)"})]})]})})]})]})}var Fj="Switch",[Jje,Bqe]=Zr(Fj),[ewe,twe]=Jje(Fj),Oq=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[m,f]=x.useState(null),p=Qe(t,b=>f(b)),g=x.useRef(!1),v=m?u||!!m.closest("form"):!0,[j,y]=Kn({prop:a,defaultProp:i??!1,onChange:d,caller:Fj});return n.jsxs(ewe,{scope:r,checked:j,disabled:l,children:[n.jsx(Ce.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":Dq(j),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:p,onClick:me(e.onClick,b=>{y(w=>!w),v&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),v&&n.jsx(Iq,{control:m,bubbles:!g.current,name:s,value:c,checked:j,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});Oq.displayName=Fj;var Mq="SwitchThumb",Rq=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=twe(Mq,r);return n.jsx(Ce.span,{"data-state":Dq(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});Rq.displayName=Mq;var rwe="SwitchBubbleInput",Iq=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:s=!0,...a},i)=>{const o=x.useRef(null),l=Qe(o,i),c=ag(r),d=Wx(t);return x.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const p=new Event("click",{bubbles:s});f.call(u,r),u.dispatchEvent(p)}},[c,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Iq.displayName=rwe;function Dq(e){return e?"checked":"unchecked"}var $q=Oq,nwe=Rq;const lr=x.forwardRef(({className:e,...t},r)=>n.jsx($q,{className:z("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:n.jsx(nwe,{className:z("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));lr.displayName=$q.displayName;var swe="Separator",FR="horizontal",awe=["horizontal","vertical"],Lq=x.forwardRef((e,t)=>{const{decorative:r,orientation:s=FR,...a}=e,i=iwe(s)?s:FR,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(Ce.div,{"data-orientation":i,...l,...a,ref:t})});Lq.displayName=swe;function iwe(e){return awe.includes(e)}var Fq=Lq;const sn=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>n.jsx(Fq,{ref:a,decorative:r,orientation:t,className:z("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));sn.displayName=Fq.displayName;var Bj="Collapsible",[owe,Bq]=Zr(Bj),[lwe,yP]=owe(Bj),Vq=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,d]=Kn({prop:s,defaultProp:a??!1,onChange:o,caller:Bj});return n.jsx(lwe,{scope:r,disabled:i,contentId:ws(),open:c,onOpenToggle:x.useCallback(()=>d(u=>!u),[d]),children:n.jsx(Ce.div,{"data-state":wP(c),"data-disabled":i?"":void 0,...l,ref:t})})});Vq.displayName=Bj;var zq="CollapsibleTrigger",vP=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,...s}=e,a=yP(zq,r);return n.jsx(Ce.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":wP(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:me(e.onClick,a.onOpenToggle)})});vP.displayName=zq;var bP="CollapsibleContent",jP=x.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=yP(bP,e.__scopeCollapsible);return n.jsx(dn,{present:r||a.open,children:({present:i})=>n.jsx(cwe,{...s,ref:t,present:i})})});jP.displayName=bP;var cwe=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:s,children:a,...i}=e,o=yP(bP,r),[l,c]=x.useState(s),d=x.useRef(null),u=Qe(t,d),h=x.useRef(0),m=h.current,f=x.useRef(0),p=f.current,g=o.open||l,v=x.useRef(g),j=x.useRef(void 0);return x.useEffect(()=>{const y=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(y)},[]),wn(()=>{const y=d.current;if(y){j.current=j.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const b=y.getBoundingClientRect();h.current=b.height,f.current=b.width,v.current||(y.style.transitionDuration=j.current.transitionDuration,y.style.animationName=j.current.animationName),c(s)}},[o.open,s]),n.jsx(Ce.div,{"data-state":wP(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style},children:g&&a})});function wP(e){return e?"open":"closed"}var Uq=Vq,dwe=vP,uwe=jP;const _m=Uq,Sm=vP,Cm=jP,kr={year:2024,selfEmploymentTax:.153,socialSecurityRate:.124,medicareRate:.029,qbiDeduction:.2,mileageRate:.67,mileageRate2025:.7,homeOfficeSimplifiedRate:5,homeOfficeMaxSqFt:300,mealsDeductionRate:.5,qbiIncomeThresholdSingle:191950,qbiIncomeThresholdMarried:383900},pN={brandName:.5,nonBrand:.2,brokenUseless:0},hwe={561990:"All Other Support Services",711510:"Independent Artists, Writers, and Performers",541990:"All Other Professional, Scientific, and Technical Services",454110:"Electronic Shopping and Mail-Order Houses"};function mwe(e,t,r){const s=e+t+r,a=e*(1-pN.brandName),i=t*(1-pN.nonBrand),o=r*(1-pN.brokenUseless),l=a+i+o,c=s-l;return{totalEtv:s,brandItemsEtv:e,nonBrandItemsEtv:t,brokenItemsEtv:r,brandReduction:a,nonBrandReduction:i,brokenReduction:o,totalReduction:l,netTaxableValue:c}}function fwe(e,t=.22,r=!0){const s=e*.9235,a=Math.max(0,s*kr.selfEmploymentTax),i=Math.max(0,s*kr.socialSecurityRate),o=Math.max(0,s*kr.medicareRate),l=r?Math.max(0,e*kr.qbiDeduction):0,c=Math.max(0,e-l),d=c*t,u=a+d;return{grossIncome:e,totalExpenses:0,netProfit:e,selfEmploymentTax:a,socialSecurityTax:i,medicareTax:o,qbiDeduction:l,taxableIncomeAfterQbi:c,estimatedIncomeTax:d,totalEstimatedTax:u}}function pwe(e,t=2024){const r=t>=2025?kr.mileageRate2025:kr.mileageRate;return e*r}function xwe(e,t=!0){return t?Math.min(e,kr.homeOfficeMaxSqFt)*kr.homeOfficeSimplifiedRate:0}function gwe(e){return e/4}function Sf(e,t="single"){const s={single:[{max:11600,rate:.1},{max:47150,rate:.12},{max:100525,rate:.22},{max:191950,rate:.24},{max:243725,rate:.32},{max:609350,rate:.35},{max:1/0,rate:.37}],married_filing_jointly:[{max:23200,rate:.1},{max:94300,rate:.12},{max:201050,rate:.22},{max:383900,rate:.24},{max:487450,rate:.32},{max:731200,rate:.35},{max:1/0,rate:.37}],head_of_household:[{max:16550,rate:.1},{max:63100,rate:.12},{max:100500,rate:.22},{max:191950,rate:.24},{max:243700,rate:.32},{max:609350,rate:.35},{max:1/0,rate:.37}]}[t];for(const a of s)if(e<=a.max)return a.rate;return .37}function Se(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function M2(e){return`${(e*100).toFixed(1)}%`}const ywe={Q1:"April 15",Q2:"June 15",Q3:"September 15",Q4:"January 15 (next year)"},vwe=Ad("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ua=x.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:z(vwe({variant:t}),e),...r}));Ua.displayName="Alert";const wd=x.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:z("mb-1 font-medium leading-none tracking-tight",e),...t}));wd.displayName="AlertTitle";const Wa=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:z("text-sm [&_p]:leading-relaxed",e),...t}));Wa.displayName="AlertDescription";function bwe(){return ft({queryKey:["irwe-categories"],queryFn:async()=>{const{data:e,error:t}=await Y.from("irwe_categories").select("*").eq("is_active",!0).order("display_order");if(t)throw t;return e}})}function Wq(e){return ft({queryKey:["irwe-expenses",e],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await Y.from("user_irwe_expenses").select(`
          *,
          category:irwe_categories(*)
        `).eq("user_id",e).order("created_at",{ascending:!1});if(r)throw r;return t},enabled:!!e})}function qq(e=2025,t){return ft({queryKey:["disability-tax-rules",e,t],queryFn:async()=>{let r=Y.from("disability_tax_rules").select("*").eq("tax_year",e);t&&(r=r.eq("category",t));const{data:s,error:a}=await r;if(a)throw a;const i={};return s.forEach(o=>{i[o.rule_key]=o.rule_value}),{rules:s,rulesMap:i}}})}function jwe(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{data:s,error:a}=await Y.from("user_irwe_expenses").insert(r).select().single();if(a)throw a;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["irwe-expenses"]}),t({title:"IRWE expense added",description:"Your impairment-related work expense has been saved."})},onError:r=>{t({title:"Error",description:`Failed to add expense: ${r.message}`,variant:"destructive"})}})}function wwe(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{error:s}=await Y.from("user_irwe_expenses").delete().eq("id",r);if(s)throw s},onSuccess:()=>{e.invalidateQueries({queryKey:["irwe-expenses"]}),t({title:"Expense deleted",description:"IRWE expense has been removed."})},onError:r=>{t({title:"Error",description:`Failed to delete expense: ${r.message}`,variant:"destructive"})}})}function Hq(e){return e.filter(t=>t.is_recurring||Nwe(t)).reduce((t,r)=>t+r.monthly_amount,0)}function Nwe(e){const t=new Date,r=e.start_date?new Date(e.start_date):null,s=e.end_date?new Date(e.end_date):null;return!(r&&t<r||s&&t>s)}function _we(e,t,r=1620){const s=Math.max(0,e-t),a=s<r,i=r-s,o=r+t;return{countableIncome:s,isUnderSGA:a,remainingBuffer:i,maxAllowedIncome:o}}function Kq(e){return ft({queryKey:["disability-profile",e],queryFn:async()=>{if(!e)return null;const{data:t,error:r}=await Y.from("user_disability_profiles").select("*").eq("user_id",e).maybeSingle();if(r)throw r;return t},enabled:!!e})}function Gq(e,t,r=1160){if(!e||!e.receives_ssdi)return{isInTWP:!1,monthsRemaining:9,willTriggerTWP:!1,message:"Not receiving SSDI benefits"};const s=e.twp_months_used||0,a=Math.max(0,9-s),i=t>=r,o=s>0&&s<9&&!e.in_epe_period;let l="";return e.in_epe_period?l="In Extended Period of Eligibility (EPE) - benefits may suspend if over SGA":s>=9?l="TWP completed - now in EPE period":i?l=`This income will use a TWP month. ${a} months remaining.`:l=`Income below TWP threshold ($${r}). ${a} TWP months available.`,{isInTWP:o,monthsRemaining:a,willTriggerTWP:i,message:l}}function Swe({userId:e,monthlyGrossIncome:t=0,onIRWEChange:r}){var C,S;const{data:s,isLoading:a}=bwe(),{data:i,isLoading:o}=Wq(e),{data:l,isLoading:c}=qq(2025,"ssdi"),{data:d}=Kq(e),u=jwe(),h=wwe(),[m,f]=x.useState(!1),[p,g]=x.useState({category_id:"",expense_name:"",monthly_amount:0,is_recurring:!0,doctor_verified:!1,notes:""}),v=a||o||c,j=((C=l==null?void 0:l.rulesMap)==null?void 0:C.sga_limit_monthly)||1620,y=((S=l==null?void 0:l.rulesMap)==null?void 0:S.twp_threshold_monthly)||1160,b=i?Hq(i):0,w=_we(t,b,j),N=Gq(d,w.countableIncome,y);x.useEffect(()=>{r&&r(b,w.countableIncome)},[b,w.countableIncome,r]);const _=async()=>{!p.expense_name||p.monthly_amount<=0||(await u.mutateAsync({user_id:e,category_id:p.category_id||null,expense_name:p.expense_name,monthly_amount:p.monthly_amount,is_recurring:p.is_recurring,doctor_verified:p.doctor_verified,notes:p.notes||null,start_date:null,end_date:null}),g({category_id:"",expense_name:"",monthly_amount:0,is_recurring:!0,doctor_verified:!1,notes:""}),f(!1))};return v?n.jsx(q,{children:n.jsx(K,{className:"flex items-center justify-center py-8",children:n.jsx(on,{className:"h-6 w-6 animate-spin text-muted-foreground"})})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Ua,{variant:w.isUnderSGA?"default":"destructive",children:[w.isUnderSGA?n.jsx(At,{className:"h-4 w-4"}):n.jsx(Xa,{className:"h-4 w-4"}),n.jsx(wd,{children:w.isUnderSGA?"Under SGA Limit":" Over SGA Limit"}),n.jsx(Wa,{children:n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Gross Monthly Income:"}),n.jsx("span",{className:"font-medium",children:Se(t)})]}),n.jsxs("div",{className:"flex justify-between text-sm text-primary",children:[n.jsx("span",{children:"IRWE Deductions:"}),n.jsxs("span",{className:"font-medium",children:["-",Se(b)]})]}),n.jsx(sn,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between font-medium",children:[n.jsx("span",{children:"Countable Income:"}),n.jsx("span",{className:w.isUnderSGA?"text-primary":"text-destructive",children:Se(w.countableIncome)})]}),n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"2025 SGA Limit:"}),n.jsx("span",{children:Se(j)})]}),w.isUnderSGA&&n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Buffer Remaining:"}),n.jsx("span",{className:"text-primary",children:Se(w.remainingBuffer)})]})]})})]}),(d==null?void 0:d.receives_ssdi)&&n.jsxs(Ua,{children:[n.jsx(Wr,{className:"h-4 w-4"}),n.jsx(wd,{children:"Trial Work Period Status"}),n.jsxs(Wa,{children:[n.jsx("p",{className:"mt-1",children:N.message}),N.monthsRemaining<9&&n.jsx("div",{className:"mt-2 flex gap-1",children:Array.from({length:9}).map((k,E)=>n.jsx("div",{className:`h-2 w-4 rounded ${E<9-N.monthsRemaining?"bg-primary":"bg-muted"}`},E))})]})]}),n.jsxs(q,{children:[n.jsx(de,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx($t,{className:"h-5 w-5"}),"IRWE Expenses"]}),n.jsx(ye,{children:"Impairment-Related Work Expenses deducted from gross income for SGA calculation"})]}),n.jsxs($,{onClick:()=>f(!m),size:"sm",children:[n.jsx(jr,{className:"h-4 w-4 mr-1"}),"Add Expense"]})]})}),n.jsxs(K,{className:"space-y-4",children:[m&&n.jsx(q,{className:"border-dashed",children:n.jsxs(K,{className:"pt-4 space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Category"}),n.jsxs(Re,{value:p.category_id,onValueChange:k=>g({...p,category_id:k}),children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Select category"})}),n.jsx(Ae,{children:s==null?void 0:s.map(k=>n.jsx(he,{value:k.id,children:k.name},k.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Expense Name *"}),n.jsx(F,{value:p.expense_name,onChange:k=>g({...p,expense_name:k.target.value}),placeholder:"e.g., Monthly medication copay"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Monthly Amount *"}),n.jsxs("div",{className:"relative",children:[n.jsx($t,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(F,{type:"number",className:"pl-9",value:p.monthly_amount||"",onChange:k=>g({...p,monthly_amount:parseFloat(k.target.value)||0}),placeholder:"0.00"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Notes"}),n.jsx(F,{value:p.notes,onChange:k=>g({...p,notes:k.target.value}),placeholder:"Optional description"})]})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lr,{checked:p.is_recurring,onCheckedChange:k=>g({...p,is_recurring:k})}),n.jsx(M,{children:"Recurring monthly"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lr,{checked:p.doctor_verified,onCheckedChange:k=>g({...p,doctor_verified:k})}),n.jsxs(M,{className:"flex items-center gap-1",children:["Doctor verified",n.jsxs(Wl,{children:[n.jsx(ql,{children:n.jsx(Gs,{className:"h-3 w-3 text-muted-foreground"})}),n.jsx(_o,{children:n.jsx("p",{className:"max-w-xs",children:"Having a doctor's note confirming the expense is necessary for your work strengthens your IRWE claim with SSA."})})]})]})]})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx($,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),n.jsxs($,{onClick:_,disabled:!p.expense_name||p.monthly_amount<=0||u.isPending,children:[u.isPending?n.jsx(on,{className:"h-4 w-4 animate-spin mr-1"}):null,"Add Expense"]})]})]})}),i&&i.length>0?n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Expense"}),n.jsx(te,{children:"Category"}),n.jsx(te,{className:"text-right",children:"Monthly Amount"}),n.jsx(te,{className:"text-center",children:"Status"}),n.jsx(te,{className:"w-10"})]})}),n.jsxs(Wt,{children:[i.map(k=>{var E;return n.jsxs(Ve,{children:[n.jsx(Q,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:k.expense_name}),k.notes&&n.jsx("div",{className:"text-sm text-muted-foreground",children:k.notes})]})}),n.jsx(Q,{children:((E=k.category)==null?void 0:E.name)||n.jsx("span",{className:"text-muted-foreground",children:"Uncategorized"})}),n.jsx(Q,{className:"text-right font-medium",children:Se(k.monthly_amount)}),n.jsx(Q,{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-1",children:[k.is_recurring&&n.jsx(ne,{variant:"secondary",className:"text-xs",children:"Recurring"}),k.doctor_verified&&n.jsx(ne,{variant:"default",className:"text-xs",children:"Verified"})]})}),n.jsx(Q,{children:n.jsx($,{variant:"ghost",size:"icon",onClick:()=>h.mutate(k.id),disabled:h.isPending,children:n.jsx(xr,{className:"h-4 w-4 text-muted-foreground hover:text-destructive"})})})]},k.id)}),n.jsxs(Ve,{className:"bg-muted/50",children:[n.jsx(Q,{colSpan:2,className:"font-medium",children:"Total Monthly IRWE"}),n.jsx(Q,{className:"text-right font-bold text-primary",children:Se(b)}),n.jsx(Q,{colSpan:2})]})]})]}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx($t,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No IRWE expenses added yet"}),n.jsx("p",{className:"text-sm",children:"Add disability-related work expenses to reduce your countable income"})]}),s&&s.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:"Common IRWE Categories"}),n.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:s.slice(0,4).map(k=>n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[n.jsx("div",{className:"font-medium text-sm",children:k.name}),k.examples&&n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Examples: ",k.examples.slice(0,3).join(", ")]})]},k.id))})]})]})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Income Planning"}),n.jsx(ye,{children:"How much can you earn while staying under SGA?"})]}),n.jsx(K,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded-lg",children:[n.jsx("span",{children:"Maximum Allowable Gross Income:"}),n.jsx("span",{className:"text-xl font-bold text-primary",children:Se(w.maxAllowedIncome)})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["With your current IRWE deductions of ",Se(b),"/month, you can earn up to ",Se(w.maxAllowedIncome),"/month in gross Vine income and remain under the SGA limit."]})]})})]})]})}function Xi({value:e,onChange:t,placeholder:r="0.00",disabled:s=!1}){return n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),n.jsx(F,{type:"number",min:0,step:"0.01",className:"pl-7",value:e||"",onChange:a=>t(parseFloat(a.target.value)||0),placeholder:r,disabled:s})]})}function Cwe({form:e,userId:t}){var N;const[r,s]=x.useState(!1),[a,i]=x.useState(0),[o,l]=x.useState(0),c=e.watch(),d=mwe(c.brandItemsEtv||0,c.nonBrandItemsEtv||0,c.brokenItemsEtv||0);x.useEffect(()=>{c.isVineIncome&&e.setValue("vineValueAdjustment",d.totalReduction)},[c.brandItemsEtv,c.nonBrandItemsEtv,c.brokenItemsEtv,c.isVineIncome,d.totalReduction,e]);const u=pwe(c.vehicleBusinessMiles||0);x.useEffect(()=>{e.setValue("mileageDeduction",u),e.setValue("carAndTruck",u)},[c.vehicleBusinessMiles,u,e]);const h=c.useHomeOffice?xwe(c.homeOfficeSquareFeet||0):0;x.useEffect(()=>{e.setValue("homeOfficeDeduction",h)},[c.useHomeOffice,c.homeOfficeSquareFeet,h,e]);const m=c.grossReceipts||0,f=c.returns||0,p=c.costOfGoodsSold||0,g=m-f-p,v=(c.advertising||0)+(c.carAndTruck||0)+(c.commissions||0)+(c.contractLabor||0)+(c.depreciation||0)+(c.insurance||0)+(c.interest||0)+(c.legal||0)+(c.officeExpense||0)+(c.rent||0)+(c.repairs||0)+(c.supplies||0)+(c.taxes||0)+(c.travel||0)+(c.meals||0)*kr.mealsDeductionRate+(c.utilities||0)+(c.wages||0)+(c.otherExpenses||0)+(c.vineValueAdjustment||0)+h,j=g-v,y=Sf(j+(c.estimatedOtherIncome||0),c.filingStatus||"single"),b=fwe(j,y,c.claimQbiDeduction),w=gwe(b.totalEstimatedTax);return n.jsxs("div",{className:"space-y-8",children:[n.jsx(q,{className:"border-primary/50 bg-primary/5",children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Bx,{className:"h-6 w-6 text-primary flex-shrink-0"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-medium text-primary",children:"Amazon Vine Tax Guide"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"This form includes the 50/20/0 method for reducing your taxable ETV. Brand items reduce to 50%, non-brand to 20%, and broken/useless items to 0%. Enter your ETV breakdown below for automatic calculations."})]})]})})}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"text-lg flex items-center gap-2",children:[n.jsx(wt,{className:"h-5 w-5"}),"Business Information"]}),n.jsx(ye,{children:"Principal business or profession, including product or service"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Ye,{control:e.control,name:"businessName",render:({field:_})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Business Name"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"Product Review Services",..._})}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"principalBusinessCode",render:({field:_})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Principal Business Code (NAICS)"}),n.jsxs(Re,{onValueChange:_.onChange,value:_.value,children:[n.jsx(Ge,{children:n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Select code"})})}),n.jsx(Ae,{children:Object.entries(hwe).map(([C,S])=>n.jsxs(he,{value:C,children:[C," - ",S]},C))})]}),n.jsx(Gn,{children:"561990 is recommended for product testing/reviews"}),n.jsx(Je,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Ye,{control:e.control,name:"accountingMethod",render:({field:_})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Accounting Method"}),n.jsxs(Re,{onValueChange:_.onChange,value:_.value,children:[n.jsx(Ge,{children:n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Select method"})})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"cash",children:"Cash"}),n.jsx(he,{value:"accrual",children:"Accrual"}),n.jsx(he,{value:"other",children:"Other"})]})]}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"filingStatus",render:({field:_})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Filing Status"}),n.jsxs(Re,{onValueChange:_.onChange,value:_.value,children:[n.jsx(Ge,{children:n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Select status"})})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"single",children:"Single"}),n.jsx(he,{value:"married_filing_jointly",children:"Married Filing Jointly"}),n.jsx(he,{value:"head_of_household",children:"Head of Household"})]})]}),n.jsx(Gn,{children:"Used for tax bracket and QBI eligibility calculations"}),n.jsx(Je,{})]})})]})]})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"text-lg flex items-center gap-2",children:[n.jsx($t,{className:"h-5 w-5"}),"Part I: Income"]}),n.jsx(ye,{children:"Report your gross receipts (1099-NEC ETV) and calculate gross income"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsx(Ye,{control:e.control,name:"grossReceipts",render:({field:_})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Line 1: Gross Receipts or Sales (1099-NEC Amount)"}),n.jsx(Ge,{children:n.jsx(Xi,{value:_.value,onChange:_.onChange})}),n.jsx(Gn,{children:"Enter the total ETV from your Amazon Vine 1099-NEC"}),n.jsx(Je,{})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Ye,{control:e.control,name:"returns",render:({field:_})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Line 2: Returns and Allowances"}),n.jsx(Ge,{children:n.jsx(Xi,{value:_.value,onChange:_.onChange})}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"costOfGoodsSold",render:({field:_})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Line 4: Cost of Goods Sold"}),n.jsx(Ge,{children:n.jsx(Xi,{value:_.value,onChange:_.onChange})}),n.jsx(Je,{})]})})]}),n.jsx("div",{className:"p-4 bg-primary/10 rounded-lg",children:n.jsxs("p",{className:"text-sm font-medium",children:["Gross Income (Line 5): ",n.jsx("span",{className:"text-primary text-lg",children:Se(g)})]})})]})]}),n.jsxs(q,{className:"border-secondary",children:[n.jsxs(de,{className:"bg-secondary/10",children:[n.jsxs(ce,{className:"text-lg flex items-center gap-2",children:[n.jsx(Wn,{className:"h-5 w-5 text-secondary"}),"Amazon Vine 50/20/0 Value Reduction Calculator",n.jsx(ne,{variant:"secondary",children:"Auto-Calculate"})]}),n.jsx(ye,{children:"Break down your ETV by item category to calculate the allowable deduction"})]}),n.jsxs(K,{className:"pt-6 space-y-6",children:[n.jsx(Ye,{control:e.control,name:"isVineIncome",render:({field:_})=>n.jsxs(Ke,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Xe,{className:"text-base",children:"Enable Vine 50/20/0 Method"}),n.jsx(Gn,{children:"Calculate value reduction for products received for review"})]}),n.jsx(Ge,{children:n.jsx(lr,{checked:_.value,onCheckedChange:_.onChange})})]})}),c.isVineIncome&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx(Ye,{control:e.control,name:"brandItemsEtv",render:({field:_})=>n.jsxs(Ke,{children:[n.jsxs(Xe,{className:"flex items-center gap-2",children:["Brand Name Items ETV",n.jsx(ne,{variant:"outline",className:"text-xs",children:"50% value"})]}),n.jsx(Ge,{children:n.jsx(Xi,{value:_.value,onChange:_.onChange})}),n.jsxs(Gn,{children:["Deduction: ",Se(d.brandReduction)]}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"nonBrandItemsEtv",render:({field:_})=>n.jsxs(Ke,{children:[n.jsxs(Xe,{className:"flex items-center gap-2",children:["Non-Brand Items ETV",n.jsx(ne,{variant:"outline",className:"text-xs",children:"20% value"})]}),n.jsx(Ge,{children:n.jsx(Xi,{value:_.value,onChange:_.onChange})}),n.jsxs(Gn,{children:["Deduction: ",Se(d.nonBrandReduction)]}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"brokenItemsEtv",render:({field:_})=>n.jsxs(Ke,{children:[n.jsxs(Xe,{className:"flex items-center gap-2",children:["Broken/Useless Items ETV",n.jsx(ne,{variant:"outline",className:"text-xs",children:"0% value"})]}),n.jsx(Ge,{children:n.jsx(Xi,{value:_.value,onChange:_.onChange})}),n.jsxs(Gn,{children:["Deduction: ",Se(d.brokenReduction)]}),n.jsx(Je,{})]})})]}),n.jsxs("div",{className:"p-4 bg-secondary/10 rounded-lg space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Total ETV:"}),n.jsx("span",{className:"font-medium",children:Se(d.totalEtv)})]}),n.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[n.jsx("span",{children:"Total Value Reduction (Deduction):"}),n.jsxs("span",{className:"font-bold",children:["-",Se(d.totalReduction)]})]}),n.jsx(sn,{}),n.jsxs("div",{className:"flex justify-between font-medium",children:[n.jsx("span",{children:"Net Taxable Value:"}),n.jsx("span",{className:"text-primary",children:Se(d.netTaxableValue)})]})]}),n.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:[n.jsx(Gs,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),n.jsx("p",{children:'This deduction will be reported as "Other Expenses" on Line 27 with the description: "Product value adjustment - 50/20/0 method (open box value reduction after product testing)"'})]})]})]})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"text-lg flex items-center gap-2",children:[n.jsx(zx,{className:"h-5 w-5"}),"Part II: Expenses"]}),n.jsx(ye,{children:"Deductible business expenses"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{name:"advertising",label:"Line 8: Advertising"},{name:"commissions",label:"Line 10: Commissions and Fees"},{name:"contractLabor",label:"Line 11: Contract Labor"},{name:"depreciation",label:"Line 13: Depreciation"},{name:"insurance",label:"Line 15: Insurance"},{name:"interest",label:"Line 16: Interest"},{name:"legal",label:"Line 17: Legal and Professional"},{name:"officeExpense",label:"Line 18: Office Expense",hint:"Photography equipment, props, backdrops"},{name:"rent",label:"Line 20: Rent"},{name:"repairs",label:"Line 21: Repairs and Maintenance"},{name:"supplies",label:"Line 22: Supplies"},{name:"taxes",label:"Line 23: Taxes and Licenses"},{name:"travel",label:"Line 24: Travel"},{name:"meals",label:"Line 24b: Meals (50% deductible)"},{name:"utilities",label:"Line 25: Utilities",hint:"Include portion of internet"},{name:"wages",label:"Line 26: Wages"}].map(_=>n.jsx(Ye,{control:e.control,name:_.name,render:({field:C})=>n.jsxs(Ke,{children:[n.jsx(Xe,{className:"text-sm",children:_.label}),n.jsx(Ge,{children:n.jsx(Xi,{value:C.value,onChange:C.onChange})}),_.hint&&n.jsx(Gn,{children:_.hint}),n.jsx(Je,{})]})},_.name))}),n.jsx(Ye,{control:e.control,name:"otherExpenses",render:({field:_})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Line 27: Other Expenses"}),n.jsx(Ge,{children:n.jsx(Xi,{value:_.value,onChange:_.onChange})}),n.jsx(Gn,{children:c.isVineIncome&&n.jsxs("span",{className:"text-green-600",children:["+ ",Se(c.vineValueAdjustment||0)," (Vine 50/20/0 adjustment added automatically)"]})}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"otherExpensesDescription",render:({field:_})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Description of Other Expenses"}),n.jsx(Ge,{children:n.jsx(wr,{placeholder:"Describe other expenses...",className:"min-h-[100px]",..._})}),n.jsx(Je,{})]})}),n.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[n.jsxs("p",{className:"text-sm",children:["Total Expenses (Line 28): ",n.jsx("span",{className:"font-medium",children:Se(v)})]}),c.isVineIncome&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Includes Vine 50/20/0 adjustment: ",Se(c.vineValueAdjustment||0)]})]})]})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Home Office Deduction (Simplified Method)"}),n.jsx(ye,{children:"$5 per square foot, up to 300 sq ft (max $1,500)"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsx(Ye,{control:e.control,name:"useHomeOffice",render:({field:_})=>n.jsxs(Ke,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Xe,{className:"text-base",children:"Claim Home Office Deduction"}),n.jsx(Gn,{children:"Do you have a dedicated space for product testing?"})]}),n.jsx(Ge,{children:n.jsx(lr,{checked:_.value,onCheckedChange:_.onChange})})]})}),c.useHomeOffice&&n.jsx(Ye,{control:e.control,name:"homeOfficeSquareFeet",render:({field:_})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Square Feet of Home Office"}),n.jsx(Ge,{children:n.jsx(F,{type:"number",min:0,max:300,..._,onChange:C=>_.onChange(parseInt(C.target.value)||0)})}),n.jsxs(Gn,{children:["Deduction: ",Se(h)]}),n.jsx(Je,{})]})})]})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Part IV: Vehicle Information"}),n.jsxs(ye,{children:["Standard mileage rate: ",Se(kr.mileageRate),"/mile (2024)"]})]}),n.jsx(K,{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Ye,{control:e.control,name:"vehicleMiles",render:({field:_})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Total Miles Driven"}),n.jsx(Ge,{children:n.jsx(F,{type:"number",min:0,..._,onChange:C=>_.onChange(parseInt(C.target.value)||0)})}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"vehicleBusinessMiles",render:({field:_})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Business Miles"}),n.jsx(Ge,{children:n.jsx(F,{type:"number",min:0,..._,onChange:C=>_.onChange(parseInt(C.target.value)||0)})}),n.jsxs(Gn,{children:["Deduction: ",Se(u)]}),n.jsx(Je,{})]})})]})})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"QBI Deduction (Form 8995)"}),n.jsx(ye,{children:"Qualified Business Income deduction - 20% of net profit"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsx(Ye,{control:e.control,name:"claimQbiDeduction",render:({field:_})=>n.jsxs(Ke,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Xe,{className:"text-base",children:"Claim QBI Deduction"}),n.jsxs(Gn,{children:["Available if total taxable income is under $",kr.qbiIncomeThresholdSingle.toLocaleString()," (single)"]})]}),n.jsx(Ge,{children:n.jsx(lr,{checked:_.value,onCheckedChange:_.onChange})})]})}),n.jsx(Ye,{control:e.control,name:"estimatedOtherIncome",render:({field:_})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Estimated Other Income (W-2, etc.)"}),n.jsx(Ge,{children:n.jsx(Xi,{value:_.value,onChange:_.onChange})}),n.jsx(Gn,{children:"For accurate tax bracket calculation"}),n.jsx(Je,{})]})})]})]}),t&&n.jsx(_m,{open:r,onOpenChange:s,children:n.jsxs(q,{className:"border-amber-500/50",children:[n.jsx(Sm,{asChild:!0,children:n.jsxs(de,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wr,{className:"h-5 w-5 text-amber-500"}),n.jsx(ce,{className:"text-lg",children:"SSDI/SSI: IRWE Calculator"}),n.jsx(ne,{variant:"outline",className:"bg-amber-500/10 text-amber-700 border-amber-500/30",children:"Disability Benefits"})]}),n.jsx(Jl,{className:`h-5 w-5 transition-transform ${r?"rotate-180":""}`})]}),n.jsx(ye,{children:"Calculate Impairment-Related Work Expenses to reduce countable income for SGA determination"})]})}),n.jsx(Cm,{children:n.jsx(K,{className:"pt-0",children:n.jsx(Swe,{userId:t,monthlyGrossIncome:g/12,onIRWEChange:(_,C)=>{i(_),l(C)}})})})]})}),n.jsxs(q,{className:"border-primary",children:[n.jsx(de,{children:n.jsx(ce,{className:"text-lg",children:"Net Profit or (Loss)"})}),n.jsxs(K,{children:[n.jsxs("div",{className:"p-6 bg-primary/10 rounded-lg text-center mb-6",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Line 31: Net Profit or (Loss)"}),n.jsx("p",{className:`text-4xl font-bold ${j>=0?"text-primary":"text-destructive"}`,children:Se(j)})]}),t&&a>0&&n.jsxs("div",{className:"p-4 bg-amber-500/10 rounded-lg border border-amber-500/20",children:[n.jsxs("p",{className:"text-sm font-medium text-amber-700 dark:text-amber-400 mb-2 flex items-center gap-2",children:[n.jsx(Wr,{className:"h-4 w-4"}),"SSDI Income Impact"]}),n.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Monthly Net Profit:"}),n.jsx("span",{children:Se(j/12)})]}),n.jsxs("div",{className:"flex justify-between text-amber-600",children:[n.jsx("span",{children:"Monthly IRWE Deductions:"}),n.jsxs("span",{children:["-",Se(a)]})]}),n.jsx(sn,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between font-medium",children:[n.jsx("span",{children:"Countable Income for SGA:"}),n.jsxs("span",{className:o<1620?"text-green-600":"text-destructive",children:[Se(o),"/mo"]})]})]})]})]})]}),n.jsxs(q,{className:"border-secondary bg-secondary/5",children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"text-lg flex items-center gap-2",children:[n.jsx(Wn,{className:"h-5 w-5 text-secondary"}),"Estimated Tax Summary",n.jsx(ne,{variant:"secondary",children:"Auto-Calculated"})]}),n.jsxs(ye,{children:["Based on your net profit and filing status (",(N=c.filingStatus)==null?void 0:N.replace(/_/g," "),")"]})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-medium",children:"Self-Employment Tax (15.3%)"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Social Security (12.4%):"}),n.jsx("span",{children:Se(b.socialSecurityTax)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Medicare (2.9%):"}),n.jsx("span",{children:Se(b.medicareTax)})]}),n.jsx(sn,{}),n.jsxs("div",{className:"flex justify-between font-medium",children:[n.jsx("span",{children:"Total SE Tax:"}),n.jsx("span",{children:Se(b.selfEmploymentTax)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-medium",children:"Income Tax"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Net Profit:"}),n.jsx("span",{children:Se(j)})]}),c.claimQbiDeduction&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"QBI Deduction (20%):"}),n.jsxs("span",{children:["-",Se(b.qbiDeduction)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Taxable Amount:"}),n.jsx("span",{children:Se(b.taxableIncomeAfterQbi)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:["Est. Rate (",M2(y),"):"]}),n.jsx("span",{children:Se(b.estimatedIncomeTax)})]})]})]})]}),n.jsx(sn,{}),n.jsxs("div",{className:"p-4 bg-background rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("span",{className:"text-lg font-medium",children:"Total Estimated Annual Tax:"}),n.jsx("span",{className:"text-2xl font-bold text-primary",children:Se(b.totalEstimatedTax)})]}),n.jsxs("div",{className:"flex justify-between items-center text-muted-foreground",children:[n.jsx("span",{children:"Quarterly Payment (if required):"}),n.jsx("span",{className:"font-medium",children:Se(w)})]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsx("p",{className:"font-medium",children:"Quarterly Due Dates:"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(ywe).map(([_,C])=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:[_,":"]}),n.jsx("span",{children:C})]},_))})]}),c.isVineIncome&&n.jsxs("div",{className:"p-4 bg-green-500/10 rounded-lg border border-green-500/20",children:[n.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-400 mb-2",children:" Savings with 50/20/0 Method"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["By using the 50/20/0 method, your value adjustment of ",Se(d.totalReduction)," reduces your taxable income significantly. This saves you approximately"," ",n.jsx("span",{className:"font-bold text-green-600",children:Se(d.totalReduction*(kr.selfEmploymentTax+y))})," ","in combined taxes."]})]})]})]})]})}function hy({value:e,onChange:t,placeholder:r="0.00"}){return n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),n.jsx(F,{type:"number",min:0,step:"0.01",className:"pl-7",value:e||"",onChange:s=>t(parseFloat(s.target.value)||0),placeholder:r})]})}function kwe({form:e}){return n.jsxs("div",{className:"space-y-8",children:[n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Payer Information"}),n.jsx(ye,{children:"Information about the business that paid you"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsx(Ye,{control:e.control,name:"payerName",render:({field:t})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Payer Name"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"Business name that paid you",...t})}),n.jsx(Je,{})]})}),n.jsx(N0,{form:e,prefix:"payerAddress"}),n.jsx(Ye,{control:e.control,name:"payerTIN",render:({field:t})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Payer TIN (EIN)"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"XX-XXXXXXX",maxLength:10,...t})}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"payerPhone",render:({field:t})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Payer Phone (Optional)"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"(XXX) XXX-XXXX",...t})}),n.jsx(Je,{})]})})]})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Recipient Information (You)"}),n.jsx(ye,{children:"Your information as the person who received the payment"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsx(Ye,{control:e.control,name:"recipientName",render:({field:t})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Recipient Name"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"Your name",...t})}),n.jsx(Je,{})]})}),n.jsx(N0,{form:e,prefix:"recipientAddress"}),n.jsx(Ye,{control:e.control,name:"recipientTIN",render:({field:t})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Recipient TIN (SSN or EIN)"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"XXX-XX-XXXX or XX-XXXXXXX",...t})}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"accountNumber",render:({field:t})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Account Number (Optional)"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"If assigned by payer",...t})}),n.jsx(Je,{})]})})]})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Payment Information"}),n.jsx(ye,{children:"Amounts paid and taxes withheld"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsx(Ye,{control:e.control,name:"nonemployeeCompensation",render:({field:t})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Box 1: Nonemployee Compensation"}),n.jsx(Ge,{children:n.jsx(hy,{value:t.value,onChange:t.onChange})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total payments of $600 or more for services as a nonemployee"}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"federalTaxWithheld",render:({field:t})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Box 4: Federal Income Tax Withheld"}),n.jsx(Ge,{children:n.jsx(hy,{value:t.value,onChange:t.onChange})}),n.jsx(Je,{})]})})]})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"State Tax Information"}),n.jsx(ye,{children:"Complete if state tax was withheld"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Ye,{control:e.control,name:"state",render:({field:t})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Box 6: State"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"CO",maxLength:2,...t})}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"statePayerNumber",render:({field:t})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"State Payer Number"}),n.jsx(Ge,{children:n.jsx(F,{placeholder:"State ID number",...t})}),n.jsx(Je,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Ye,{control:e.control,name:"stateIncome",render:({field:t})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Box 7: State Income"}),n.jsx(Ge,{children:n.jsx(hy,{value:t.value,onChange:t.onChange})}),n.jsx(Je,{})]})}),n.jsx(Ye,{control:e.control,name:"stateTaxWithheld",render:({field:t})=>n.jsxs(Ke,{children:[n.jsx(Xe,{children:"Box 5: State Tax Withheld"}),n.jsx(Ge,{children:n.jsx(hy,{value:t.value,onChange:t.onChange})}),n.jsx(Je,{})]})})]})]})]}),n.jsxs(q,{className:"border-primary",children:[n.jsx(de,{children:n.jsx(ce,{className:"text-lg",children:"1099-NEC Summary"})}),n.jsxs(K,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsx("p",{className:"text-muted-foreground",children:"Total Compensation"}),n.jsxs("p",{className:"text-xl font-bold text-primary",children:["$",(e.watch("nonemployeeCompensation")||0).toLocaleString()]})]}),n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsx("p",{className:"text-muted-foreground",children:"Federal Tax Withheld"}),n.jsxs("p",{className:"text-xl font-bold",children:["$",(e.watch("federalTaxWithheld")||0).toLocaleString()]})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"This income is subject to self-employment tax unless you are an employee who received a W-2."})]})]})]})}function Twe(){return ft({queryKey:["user_tax_forms"],queryFn:async()=>{const{data:{user:e}}=await Y.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await Y.from("tax_forms").select("*").eq("user_id",e.id).order("updated_at",{ascending:!1});if(r)throw r;return t}})}function Ewe(e){return ft({queryKey:["tax_form",e],queryFn:async()=>{if(!e)return null;const{data:t,error:r}=await Y.from("tax_forms").select("*").eq("id",e).maybeSingle();if(r)throw r;return t},enabled:!!e})}function Pwe(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{error:s}=await Y.from("tax_forms").delete().eq("id",r);if(s)throw s},onSuccess:()=>{e.invalidateQueries({queryKey:["user_tax_forms"]}),e.invalidateQueries({queryKey:["tax_forms"]}),t({title:"Form deleted",description:"The tax form has been deleted."})},onError:r=>{t({title:"Error",description:r.message,variant:"destructive"})}})}function Awe(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async({id:r,...s})=>{const{data:a,error:i}=await Y.from("tax_forms").update({...s,form_data:s.form_data}).eq("id",r).select().single();if(i)throw i;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["user_tax_forms"]}),e.invalidateQueries({queryKey:["tax_forms"]}),e.invalidateQueries({queryKey:["tax_form"]}),t({title:"Form updated",description:"Tax form has been saved."})},onError:r=>{t({title:"Error",description:r.message,variant:"destructive"})}})}const Owe=[{type:"W-4",name:"Form W-4",description:"Employee's Withholding Certificate"},{type:"W-9",name:"Form W-9",description:"Request for Taxpayer Identification Number"},{type:"Schedule C",name:"Schedule C",description:"Profit or Loss From Business"},{type:"1099-NEC",name:"Form 1099-NEC",description:"Nonemployee Compensation"}];function BR(){const e=Qt(),{formId:t}=RT(),[r]=P9(),{toast:s}=yt(),[a,i]=x.useState(r.get("form")||null),[o,l]=x.useState(!1),[c,d]=x.useState(null),{data:u,isLoading:h}=Ewe(t),m=Awe();x.useEffect(()=>{Y.auth.getUser().then(({data:{user:v}})=>{v?d(v.id):e("/auth")})},[e]),x.useEffect(()=>{u&&!a&&i(u.form_type)},[u,a]);const f=Ije({resolver:a?Fje(Gje[a]):void 0,defaultValues:a?LR[a]:{}});x.useEffect(()=>{a&&u&&t?f.reset(u.form_data):a&&!t&&f.reset(LR[a])},[a,u,t,f]);const p=async v=>{if(!(!c||!a)){l(!0);try{if(t&&u)await m.mutateAsync({id:t,status:"completed",form_data:v,completed_at:new Date().toISOString()}),e("/saved-forms");else{const{error:j}=await Y.from("tax_forms").insert({user_id:c,form_type:a,tax_year:new Date().getFullYear(),status:"completed",form_data:v,completed_at:new Date().toISOString()});if(j)throw j;s({title:"Form saved",description:`Your ${a} has been saved.`}),e("/saved-forms")}}catch(j){s({title:"Error",description:j.message,variant:"destructive"})}finally{l(!1)}}};if(h&&t)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(on,{className:"h-8 w-8 animate-spin text-primary"})});if(!a&&!t)return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"border-b bg-card",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-4",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:()=>e("/saved-forms"),children:n.jsx(Mt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-xl font-bold",children:"Tax Form Editor"})]})}),n.jsxs("main",{className:"container mx-auto px-4 py-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Select a Form to Fill Out"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Owe.map(v=>n.jsx(q,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>i(v.type),children:n.jsx(de,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(wt,{className:"h-6 w-6 text-primary"}),n.jsxs("div",{children:[n.jsx(ce,{children:v.name}),n.jsx(ye,{children:v.description})]})]})})},v.type))})]})]});const g=()=>{t?e("/saved-forms"):i(null)};return n.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[n.jsx("header",{className:"border-b bg-card sticky top-0 z-10",children:n.jsx("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:g,children:n.jsx(Mt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-xl font-bold",children:t?`Edit ${a}`:`Form ${a}`})]})})}),n.jsx("main",{className:"container mx-auto px-4 py-8 max-w-3xl",children:n.jsx(Bje,{...f,children:n.jsxs("form",{onSubmit:f.handleSubmit(p),children:[a==="W-4"&&n.jsx(Xje,{form:f}),a==="W-9"&&n.jsx(Zje,{form:f}),a==="Schedule C"&&n.jsx(Cwe,{form:f}),a==="1099-NEC"&&n.jsx(kwe,{form:f})]})})}),n.jsx("footer",{className:"fixed bottom-0 left-0 right-0 border-t bg-card p-4",children:n.jsxs("div",{className:"container mx-auto flex justify-end gap-4",children:[n.jsx($,{variant:"outline",onClick:g,children:"Cancel"}),n.jsxs($,{onClick:f.handleSubmit(p),disabled:o,children:[o?n.jsx(on,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(xT,{className:"h-4 w-4 mr-2"}),t?"Update Form":"Save Form"]})]})})]})}const VR={completed:"bg-green-500/10 text-green-600 border-green-500/20",pending:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",draft:"bg-muted text-muted-foreground border-border"},Mwe={"W-4":"Form W-4 - Employee's Withholding Certificate","W-9":"Form W-9 - Request for TIN","Schedule C":"Schedule C - Profit or Loss From Business","1099-NEC":"Form 1099-NEC - Nonemployee Compensation"};function Rwe(){const e=Qt(),{toast:t}=yt(),{data:r,isLoading:s,error:a}=Twe(),i=Pwe(),[o,l]=x.useState(null);x.useEffect(()=>{Y.auth.getUser().then(({data:{user:h}})=>{h?l(h.id):e("/auth")})},[e]);const c=async h=>{i.mutate(h)},d=h=>{const m=JSON.stringify(h.form_data,null,2),f=new Blob([m],{type:"application/json"}),p=URL.createObjectURL(f),g=document.createElement("a");g.href=p,g.download=`${h.form_type}-${h.tax_year}-${h.id.slice(0,8)}.json`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(p),t({title:"Exported",description:"Form data exported as JSON."})},u=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return s?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(on,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsxs("div",{className:"min-h-screen page-white relative overflow-hidden",children:[n.jsx("header",{className:"border-b bg-card sticky top-0 z-10",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:n.jsx(Mt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-xl font-bold",children:"Saved Tax Forms"})]}),n.jsxs($,{onClick:()=>e("/tax-forms"),children:[n.jsx(jr,{className:"h-4 w-4 mr-2"}),"New Form"]})]})}),n.jsxs("main",{className:"container mx-auto px-4 py-8",children:[a&&n.jsx(q,{className:"border-destructive mb-6",children:n.jsx(K,{className:"pt-6",children:n.jsxs("p",{className:"text-destructive",children:["Error loading forms: ",a.message]})})}),r&&r.length===0?n.jsx(q,{className:"text-center py-12",children:n.jsxs(K,{children:[n.jsx(wt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved forms yet"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Start by creating a new tax form to track your submissions."}),n.jsxs($,{onClick:()=>e("/tax-forms"),children:[n.jsx(jr,{className:"h-4 w-4 mr-2"}),"Create Your First Form"]})]})}):n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{children:"Your Tax Forms"}),n.jsx(ye,{children:"View, edit, and export your saved tax forms."})]}),n.jsx(K,{children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Form Type"}),n.jsx(te,{children:"Tax Year"}),n.jsx(te,{children:"Status"}),n.jsx(te,{children:"Last Updated"}),n.jsx(te,{className:"text-right",children:"Actions"})]})}),n.jsx(Wt,{children:r==null?void 0:r.map(h=>n.jsxs(Ve,{children:[n.jsx(Q,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(wt,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:h.form_type}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Mwe[h.form_type]||h.form_type})]})]})}),n.jsx(Q,{children:h.tax_year}),n.jsx(Q,{children:n.jsx(ne,{variant:"outline",className:VR[h.status]||VR.draft,children:h.status})}),n.jsx(Q,{children:u(h.updated_at)}),n.jsx(Q,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:()=>e(`/tax-forms/edit/${h.id}`),title:"Edit",children:n.jsx(yT,{className:"h-4 w-4"})}),n.jsx($,{variant:"ghost",size:"icon",onClick:()=>d(h),title:"Export",children:n.jsx(ud,{className:"h-4 w-4"})}),n.jsxs(mo,{children:[n.jsx(nP,{asChild:!0,children:n.jsx($,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",title:"Delete",children:n.jsx(xr,{className:"h-4 w-4"})})}),n.jsxs(Ci,{children:[n.jsxs(ki,{children:[n.jsx(Ei,{children:"Delete Form?"}),n.jsxs(Pi,{children:["This will permanently delete your ",h.form_type," for tax year ",h.tax_year,". This action cannot be undone."]})]}),n.jsxs(Ti,{children:[n.jsx(Ai,{children:"Cancel"}),n.jsx(lc,{onClick:()=>c(h.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})})]},h.id))})]})})]})]})]})}function Iwe(e,t,r){const s=e*.5,a=t*.8,i=r;return s+a+i}function Dwe(e,t,r){return Math.max(0,e-t-r)}function $we(e,t=new Date().getFullYear()){return ft({queryKey:["vine-income",e,t],queryFn:async()=>{if(!e)return[];const{data:r,error:s}=await Y.from("monthly_vine_income").select("*").eq("user_id",e).eq("year",t).order("month",{ascending:!0});if(s)throw s;return r},enabled:!!e})}function Lwe(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{user_id:s,year:a,month:i,brand_items_etv:o=0,non_brand_items_etv:l=0,broken_items_etv:c=0,irwe_deductions:d=0,...u}=r,h=u.gross_etv??o+l+c,m=Iwe(o,l,c),f=Dwe(h,m,d),{data:p}=await Y.from("monthly_vine_income").select("id").eq("user_id",s).eq("year",a).eq("month",i).maybeSingle(),g={user_id:s,year:a,month:i,gross_etv:h,brand_items_etv:o,non_brand_items_etv:l,broken_items_etv:c,value_adjustment:m,irwe_deductions:d,countable_income:f,notes:u.notes||null};if(p){const{data:v,error:j}=await Y.from("monthly_vine_income").update(g).eq("id",p.id).select().single();if(j)throw j;return v}else{const{data:v,error:j}=await Y.from("monthly_vine_income").insert(g).select().single();if(j)throw j;return v}},onSuccess:(r,s)=>{e.invalidateQueries({queryKey:["vine-income",s.user_id,s.year]}),e.invalidateQueries({queryKey:["vine-income-all",s.user_id]}),t({title:"Income saved",description:`${Vwe(s.month)} ${s.year} income has been recorded.`})},onError:r=>{t({title:"Error",description:`Failed to save income: ${r.message}`,variant:"destructive"})}})}function Fwe(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async({id:r,user_id:s})=>{const{error:a}=await Y.from("monthly_vine_income").delete().eq("id",r);if(a)throw a},onSuccess:()=>{e.invalidateQueries({queryKey:["vine-income"]}),e.invalidateQueries({queryKey:["vine-income-all"]}),t({title:"Record deleted",description:"Monthly income record has been removed."})},onError:r=>{t({title:"Error",description:`Failed to delete record: ${r.message}`,variant:"destructive"})}})}function Bwe(e){return e.reduce((t,r)=>({grossETV:t.grossETV+r.gross_etv,valueAdjustment:t.valueAdjustment+r.value_adjustment,irweDeductions:t.irweDeductions+r.irwe_deductions,countableIncome:t.countableIncome+r.countable_income,twpMonthsUsed:t.twpMonthsUsed+(r.is_twp_month?1:0)}),{grossETV:0,valueAdjustment:0,irweDeductions:0,countableIncome:0,twpMonthsUsed:0})}function Vwe(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e-1]||""}const zR=["January","February","March","April","May","June","July","August","September","October","November","December"];function zwe(){var V,O;const[e,t]=x.useState(null),[r,s]=x.useState(new Date().getFullYear()),[a,i]=x.useState(!1),[o,l]=x.useState(null),[c,d]=x.useState({month:new Date().getMonth()+1,brand_items_etv:0,non_brand_items_etv:0,broken_items_etv:0,notes:""});x.useEffect(()=>{Y.auth.getUser().then(({data:{user:P}})=>{t((P==null?void 0:P.id)??null)})},[]);const{data:u=[],isLoading:h}=$we(e??void 0,r),{data:m=[]}=Wq(e??void 0),{data:f}=Kq(e??void 0),{data:p}=qq(2025),g=Lwe(),v=Fwe(),j=((V=p==null?void 0:p.rulesMap)==null?void 0:V.sga_limit)??1620,y=((O=p==null?void 0:p.rulesMap)==null?void 0:O.twp_threshold)??1160,b=Bwe(u),w=Hq(m),N=new Date().getMonth()+1,_=u.find(P=>P.month===N),C=(_==null?void 0:_.countable_income)??0,S=(f==null?void 0:f.twp_months_used)??0;b.twpMonthsUsed;const k=Gq(f??null,C,y),E=()=>{if(!e)return;const P={user_id:e,year:r,month:c.month,brand_items_etv:c.brand_items_etv,non_brand_items_etv:c.non_brand_items_etv,broken_items_etv:c.broken_items_etv,irwe_deductions:w,notes:c.notes||void 0};g.mutate(P,{onSuccess:()=>{i(!1),l(null),B()}})},T=P=>{l(P),d({month:P.month,brand_items_etv:P.brand_items_etv,non_brand_items_etv:P.non_brand_items_etv,broken_items_etv:P.broken_items_etv,notes:P.notes||""}),i(!0)},A=P=>{e&&v.mutate({id:P.id,user_id:e})},B=()=>{d({month:new Date().getMonth()+1,brand_items_etv:0,non_brand_items_etv:0,broken_items_etv:0,notes:""})},R=P=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P),L=P=>P>=j?{status:"danger",label:"Over SGA",color:"bg-destructive"}:P>=j*.9?{status:"warning",label:"Near SGA",color:"bg-warning"}:{status:"safe",label:"Under SGA",color:"bg-green-500"};return h?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx("div",{className:"w-8 h-8 border-3 border-primary/30 border-t-primary rounded-full animate-spin"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Vine Income Tracker"}),n.jsx("p",{className:"text-muted-foreground",children:"Track monthly ETV with real-time SGA & TWP status"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Re,{value:r.toString(),onValueChange:P=>s(parseInt(P)),children:[n.jsx(Pe,{className:"w-[120px]",children:n.jsx(Ie,{})}),n.jsx(Ae,{children:[2023,2024,2025,2026].map(P=>n.jsx(he,{value:P.toString(),children:P},P))})]}),n.jsxs(Xt,{open:a,onOpenChange:P=>{i(P),P||(l(null),B())},children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{className:"gap-2",children:[n.jsx(jr,{className:"w-4 h-4"}),"Add Month"]})}),n.jsxs(qt,{className:"sm:max-w-[500px]",children:[n.jsxs(Ht,{children:[n.jsxs(Kt,{children:[o?"Edit":"Add"," Monthly Income"]}),n.jsx(ko,{children:"Enter ETV values by category for 50/20/0 calculation"})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{children:"Month"}),n.jsxs(Re,{value:c.month.toString(),onValueChange:P=>d(I=>({...I,month:parseInt(P)})),disabled:!!o,children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:zR.map((P,I)=>n.jsx(he,{value:(I+1).toString(),children:P},I))})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{children:"Brand Items ETV (50% reduction)"}),n.jsx(F,{type:"number",step:"0.01",value:c.brand_items_etv||"",onChange:P=>d(I=>({...I,brand_items_etv:parseFloat(P.target.value)||0})),placeholder:"0.00"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{children:"Non-Brand Items ETV (80% reduction)"}),n.jsx(F,{type:"number",step:"0.01",value:c.non_brand_items_etv||"",onChange:P=>d(I=>({...I,non_brand_items_etv:parseFloat(P.target.value)||0})),placeholder:"0.00"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{children:"Broken/Useless Items ETV (100% reduction)"}),n.jsx(F,{type:"number",step:"0.01",value:c.broken_items_etv||"",onChange:P=>d(I=>({...I,broken_items_etv:parseFloat(P.target.value)||0})),placeholder:"0.00"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{children:"Notes (optional)"}),n.jsx(wr,{value:c.notes,onChange:P=>d(I=>({...I,notes:P.target.value})),placeholder:"Any notes about this month...",rows:2})]}),n.jsx(q,{className:"bg-muted/50",children:n.jsxs(K,{className:"pt-4 text-sm space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Gross ETV:"}),n.jsx("span",{className:"font-medium",children:R(c.brand_items_etv+c.non_brand_items_etv+c.broken_items_etv)})]}),n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"50/20/0 Reduction:"}),n.jsxs("span",{children:["-",R(c.brand_items_etv*.5+c.non_brand_items_etv*.8+c.broken_items_etv)]})]}),n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"IRWE Deductions:"}),n.jsxs("span",{children:["-",R(w)]})]}),n.jsxs("div",{className:"border-t pt-1 flex justify-between font-bold",children:[n.jsx("span",{children:"Countable Income:"}),n.jsx("span",{children:R(Math.max(0,c.brand_items_etv+c.non_brand_items_etv+c.broken_items_etv-(c.brand_items_etv*.5+c.non_brand_items_etv*.8+c.broken_items_etv)-w))})]})]})})]}),n.jsxs(Tj,{children:[n.jsx($,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),n.jsx($,{onClick:E,disabled:g.isPending,children:g.isPending?"Saving...":"Save"})]})]})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(q,{className:z("border-2",L(C).status==="danger"&&"border-destructive",L(C).status==="warning"&&"border-warning",L(C).status==="safe"&&"border-green-500"),children:[n.jsx(de,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Wr,{className:"w-4 h-4"}),"Current Month SGA Status"]})}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:R(C)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",R(j)," limit"]})]}),n.jsx(ne,{className:L(C).color,children:L(C).label})]}),n.jsx(Ws,{value:Math.min(100,C/j*100),className:"mt-3 h-2"})]})]}),n.jsxs(q,{children:[n.jsx(de,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(is,{className:"w-4 h-4"}),"Trial Work Period (TWP)"]})}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[9-S," / 9"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"months remaining"})]}),k.willTriggerTWP?n.jsxs(ne,{variant:"outline",className:"border-warning text-warning",children:[n.jsx(jt,{className:"w-3 h-3 mr-1"}),"Will Use TWP"]}):n.jsxs(ne,{variant:"outline",className:"border-green-500 text-green-600",children:[n.jsx(Lx,{className:"w-3 h-3 mr-1"}),"Safe"]})]}),n.jsx(Ws,{value:(9-S)/9*100,className:"mt-3 h-2"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["TWP threshold: ",R(y),"/month"]})]})]}),n.jsxs(q,{children:[n.jsx(de,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(zx,{className:"w-4 h-4"}),"Monthly IRWE Deductions"]})}),n.jsxs(K,{children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["-",R(w)]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[m.length," active expense",m.length!==1?"s":""]}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Max income with IRWE: ",n.jsx("span",{className:"font-medium text-foreground",children:R(j+w)})]})]})]}),n.jsxs(q,{children:[n.jsx(de,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(_s,{className:"w-4 h-4"}),r," Year-to-Date"]})}),n.jsx(K,{children:n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Gross ETV:"}),n.jsx("span",{className:"font-medium",children:R(b.grossETV)})]}),n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"50/20/0 Reduction:"}),n.jsxs("span",{children:["-",R(b.valueAdjustment)]})]}),n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"IRWE Deductions:"}),n.jsxs("span",{children:["-",R(b.irweDeductions)]})]}),n.jsxs("div",{className:"border-t pt-1 flex justify-between font-bold",children:[n.jsx("span",{children:"Countable:"}),n.jsx("span",{children:R(b.countableIncome)})]})]})})]})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{children:"Monthly Income Records"}),n.jsx(ye,{children:"Track your Vine ETV and SGA status by month"})]}),n.jsx(K,{children:u.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx($t,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsxs("p",{children:["No income records for ",r]}),n.jsx("p",{className:"text-sm",children:'Click "Add Month" to start tracking'})]}):n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Month"}),n.jsx(te,{className:"text-right",children:"Gross ETV"}),n.jsx(te,{className:"text-right",children:"50/20/0 Adj."}),n.jsx(te,{className:"text-right",children:"IRWE"}),n.jsx(te,{className:"text-right",children:"Countable"}),n.jsx(te,{children:"SGA Status"}),n.jsx(te,{children:"TWP"}),n.jsx(te,{className:"w-[100px]",children:"Actions"})]})}),n.jsx(Wt,{children:u.map(P=>{const I=L(P.countable_income);return n.jsxs(Ve,{children:[n.jsx(Q,{className:"font-medium",children:zR[P.month-1]}),n.jsx(Q,{className:"text-right",children:R(P.gross_etv)}),n.jsxs(Q,{className:"text-right text-green-600",children:["-",R(P.value_adjustment)]}),n.jsxs(Q,{className:"text-right text-green-600",children:["-",R(P.irwe_deductions)]}),n.jsx(Q,{className:"text-right font-medium",children:R(P.countable_income)}),n.jsx(Q,{children:n.jsx(ne,{className:z("text-xs",I.color),children:I.label})}),n.jsx(Q,{children:P.is_twp_month?n.jsx(ne,{variant:"outline",className:"text-xs",children:"TWP Month"}):P.countable_income>=y?n.jsx(ne,{variant:"outline",className:"text-xs text-warning border-warning",children:"Will Use"}):n.jsx("span",{className:"text-xs text-muted-foreground",children:""})}),n.jsx(Q,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>T(P),children:n.jsx(mT,{className:"h-4 w-4"})}),n.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>A(P),children:n.jsx(xr,{className:"h-4 w-4"})})]})})]},P.id)})})]})})]}),(f==null?void 0:f.receives_ssdi)&&n.jsx(q,{className:"bg-muted/30",children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:n.jsx(Wr,{className:"w-6 h-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-1",children:"SSDI Safe Zone Strategy"}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["With your current IRWE deductions of ",R(w),"/month, you can safely receive up to"," ",n.jsx("span",{className:"font-bold text-foreground",children:R(j+w)})," in monthly ETV while staying under the SGA limit."]}),n.jsxs("div",{className:"flex gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"SGA Limit:"})," ",n.jsx("span",{className:"font-medium",children:R(j)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"+ IRWE Buffer:"})," ",n.jsxs("span",{className:"font-medium text-green-600",children:["+",R(w)]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"= Safe Max:"})," ",n.jsx("span",{className:"font-bold",children:R(j+w)})]})]})]})]})})})]})}const Uwe=()=>{const[e,t]=x.useState(null),[r,s]=x.useState(!0),a=Qt();return x.useEffect(()=>{const{data:{subscription:i}}=Y.auth.onAuthStateChange((o,l)=>{t((l==null?void 0:l.user)??null),s(!1)});return Y.auth.getSession().then(({data:{session:o}})=>{t((o==null?void 0:o.user)??null),s(!1)}),()=>i.unsubscribe()},[]),r?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx("div",{className:"w-8 h-8 border-3 border-primary/30 border-t-primary rounded-full animate-spin"})}):e?n.jsxs("div",{className:"min-h-screen vine-section relative overflow-hidden",children:[n.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-50",children:n.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:()=>a("/"),children:n.jsx(Mt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center",children:n.jsx(uT,{className:"w-6 h-6 text-primary-foreground"})}),n.jsx("span",{className:"text-xl font-display font-bold text-foreground",children:"Vine Income Tracker"})]})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs($,{variant:"outline",size:"sm",onClick:()=>a("/business-setup"),className:"gap-2",children:[n.jsx(gp,{className:"w-4 h-4"}),"IRWE Settings"]})})]})}),n.jsx("main",{className:"container mx-auto px-6 py-8",children:n.jsx(zwe,{})})]}):(a("/auth"),null)};function NP(e){return ft({queryKey:["rental_inventory",e],queryFn:async()=>{const{data:t,error:r}=await Y.from("rental_inventory").select("*").order("created_at",{ascending:!1});if(r)throw r;return t},enabled:!!e})}function Wwe(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{data:s,error:a}=await Y.from("rental_inventory").insert({...r,current_book_value:r.current_book_value??r.purchase_price??0}).select().single();if(a)throw a;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["rental_inventory"]}),t({title:"Item added",description:"Rental inventory item has been added."})},onError:r=>{t({title:"Error",description:r.message,variant:"destructive"})}})}function qwe(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async({id:r,...s})=>{const{data:a,error:i}=await Y.from("rental_inventory").update(s).eq("id",r).select().single();if(i)throw i;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["rental_inventory"]}),t({title:"Item updated",description:"Rental inventory item has been updated."})},onError:r=>{t({title:"Error",description:r.message,variant:"destructive"})}})}function Hwe(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{error:s}=await Y.from("rental_inventory").delete().eq("id",r);if(s)throw s},onSuccess:()=>{e.invalidateQueries({queryKey:["rental_inventory"]}),t({title:"Item deleted",description:"Rental inventory item has been removed."})},onError:r=>{t({title:"Error",description:r.message,variant:"destructive"})}})}function Kwe(e=[]){const t=e.length,r=e.reduce((l,c)=>l+(c.purchase_price||0),0),s=e.reduce((l,c)=>l+(c.current_book_value||0),0),a=e.reduce((l,c)=>l+(c.total_rental_income||0),0),i=e.filter(l=>l.status==="available").length,o=e.filter(l=>l.status==="rented").length;return{totalItems:t,totalValue:r,totalBookValue:s,totalRentalIncome:a,availableItems:i,rentedItems:o}}const Gwe=["Tools","Kitchen","Party Supplies","Outdoor","Electronics","Fitness","Cleaning","Photography","Other"],Ywe=["new","excellent","good","fair","poor"],Xwe=["available","rented","maintenance"];function Qwe({userId:e}){const[t,r]=x.useState(!1),[s,a]=x.useState(null),[i,o]=x.useState({product_name:"",description:"",category:"Tools",original_etv:0,purchase_price:0,source:"purchase",daily_rate:0,weekly_rate:0,condition:"new",status:"available",location:""}),{data:l=[],isLoading:c}=NP(e),d=Wwe(),u=qwe(),h=Hwe(),m=Kwe(l),f=async()=>{i.product_name&&(s?await u.mutateAsync({id:s,...i}):await d.mutateAsync({...i,user_id:e}),v(),r(!1),a(null))},p=b=>{o({product_name:b.product_name,description:b.description||"",category:b.category||"Tools",original_etv:b.original_etv,purchase_price:b.purchase_price,source:b.source,daily_rate:b.daily_rate,weekly_rate:b.weekly_rate,condition:b.condition,status:b.status,location:b.location||""}),a(b.id),r(!0)},g=async b=>{confirm("Are you sure you want to delete this item?")&&await h.mutateAsync(b)},v=()=>{o({product_name:"",description:"",category:"Tools",original_etv:0,purchase_price:0,source:"purchase",daily_rate:0,weekly_rate:0,condition:"new",status:"available",location:""})},j=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b),y=b=>{switch(b){case"available":return"bg-green-500/10 text-green-600 border-green-500/20";case"rented":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"maintenance":return"bg-red-500/10 text-red-600 border-red-500/20";default:return""}};return c?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"w-8 h-8 border-3 border-primary/30 border-t-primary rounded-full animate-spin"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:n.jsx(zu,{className:"w-6 h-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-bold",children:m.totalItems})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-green-500/10",children:n.jsx($t,{className:"w-6 h-6 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),n.jsx("p",{className:"text-2xl font-bold",children:j(m.totalValue)})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10",children:n.jsx(Fs,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Rental Income"}),n.jsx("p",{className:"text-2xl font-bold",children:j(m.totalRentalIncome)})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-yellow-500/10",children:n.jsx(zu,{className:"w-6 h-6 text-yellow-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Available"}),n.jsxs("p",{className:"text-2xl font-bold",children:[m.availableItems,"/",m.totalItems]})]})]})})})]}),n.jsxs(q,{children:[n.jsxs(de,{className:"flex flex-row items-center justify-between",children:[n.jsx(ce,{children:"Product Catalog"}),n.jsxs(Xt,{open:t,onOpenChange:r,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{onClick:()=>{v(),a(null)},children:[n.jsx(jr,{className:"w-4 h-4 mr-2"}),"Add Item"]})}),n.jsxs(qt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Ht,{children:n.jsx(Kt,{children:s?"Edit Inventory Item":"Add Inventory Item"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx(M,{children:"Product Name *"}),n.jsx(F,{value:i.product_name,onChange:b=>o({...i,product_name:b.target.value}),placeholder:"Air Fryer XL"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(M,{children:"Description"}),n.jsx(F,{value:i.description,onChange:b=>o({...i,description:b.target.value}),placeholder:"8-quart digital air fryer with accessories"})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Category"}),n.jsxs(Re,{value:i.category,onValueChange:b=>o({...i,category:b}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:Gwe.map(b=>n.jsx(he,{value:b,children:b},b))})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Source"}),n.jsxs(Re,{value:i.source,onValueChange:b=>o({...i,source:b}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"review_insights",children:"Review Insights LLC"}),n.jsx(he,{value:"purchase",children:"Direct Purchase"})]})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Original ETV"}),n.jsx(F,{type:"number",value:i.original_etv,onChange:b=>o({...i,original_etv:parseFloat(b.target.value)||0}),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Purchase Price (Basis)"}),n.jsx(F,{type:"number",value:i.purchase_price,onChange:b=>o({...i,purchase_price:parseFloat(b.target.value)||0}),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Daily Rate"}),n.jsx(F,{type:"number",value:i.daily_rate,onChange:b=>o({...i,daily_rate:parseFloat(b.target.value)||0}),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Weekly Rate"}),n.jsx(F,{type:"number",value:i.weekly_rate,onChange:b=>o({...i,weekly_rate:parseFloat(b.target.value)||0}),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Condition"}),n.jsxs(Re,{value:i.condition,onValueChange:b=>o({...i,condition:b}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:Ywe.map(b=>n.jsx(he,{value:b,children:b.charAt(0).toUpperCase()+b.slice(1)},b))})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Status"}),n.jsxs(Re,{value:i.status,onValueChange:b=>o({...i,status:b}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:Xwe.map(b=>n.jsx(he,{value:b,children:b.charAt(0).toUpperCase()+b.slice(1)},b))})]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(M,{children:"Location"}),n.jsx(F,{value:i.location,onChange:b=>o({...i,location:b.target.value}),placeholder:"Shelf A-3"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:()=>{r(!1),a(null)},children:"Cancel"}),n.jsxs($,{onClick:f,disabled:d.isPending||u.isPending,children:[s?"Update":"Add"," Item"]})]})]})]})]}),n.jsx(K,{children:l.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(zu,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No inventory items yet."}),n.jsx("p",{className:"text-sm",children:"Add your first rental item to get started."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Product"}),n.jsx(te,{children:"Category"}),n.jsx(te,{children:"Daily Rate"}),n.jsx(te,{children:"Purchase Price"}),n.jsx(te,{children:"Status"}),n.jsx(te,{children:"Times Rented"}),n.jsx(te,{className:"text-right",children:"Actions"})]})}),n.jsx(Wt,{children:l.map(b=>n.jsxs(Ve,{children:[n.jsx(Q,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:b.product_name}),b.description&&n.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-xs",children:b.description})]})}),n.jsx(Q,{children:b.category}),n.jsx(Q,{children:j(b.daily_rate)}),n.jsx(Q,{children:j(b.purchase_price)}),n.jsx(Q,{children:n.jsx(ne,{className:y(b.status),children:b.status})}),n.jsx(Q,{children:b.times_rented}),n.jsx(Q,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:()=>p(b),children:n.jsx(yT,{className:"w-4 h-4"})}),n.jsx($,{variant:"ghost",size:"icon",onClick:()=>g(b.id),children:n.jsx(xr,{className:"w-4 h-4 text-destructive"})})]})})]},b.id))})]})})})]})]})}function Zwe(){const t=new Date().getFullYear(),r=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`RMR-${t}-${r}`}function Jwe(e){return ft({queryKey:["rental_transactions",e],queryFn:async()=>{const{data:t,error:r}=await Y.from("rental_transactions").select("*").order("created_at",{ascending:!1});if(r)throw r;return t},enabled:!!e})}function Yq(e){return ft({queryKey:["rental_customers",e],queryFn:async()=>{const{data:t,error:r}=await Y.from("rental_customers").select("*").order("name",{ascending:!0});if(r)throw r;return t},enabled:!!e})}function e1e(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const s=r.days_rented||1,a=r.daily_rate||0,i=s*a,o=r.security_deposit||0,l=i+o,{data:c,error:d}=await Y.from("rental_transactions").insert({...r,transaction_number:Zwe(),subtotal:i,total_charged:l,net_revenue:i}).select().single();if(d)throw d;return r.inventory_id&&await Y.from("rental_inventory").update({status:"rented"}).eq("id",r.inventory_id),c},onSuccess:()=>{e.invalidateQueries({queryKey:["rental_transactions"]}),e.invalidateQueries({queryKey:["rental_inventory"]}),t({title:"Rental created",description:"New rental transaction has been recorded."})},onError:r=>{t({title:"Error",description:r.message,variant:"destructive"})}})}function t1e(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async({id:r,inventory_id:s,returned_on_time:a,return_condition:i,has_damage:o,damage_description:l,repair_cost:c,deposit_refunded:d,subtotal:u})=>{const h=(u||0)-(c||0),{data:m,error:f}=await Y.from("rental_transactions").update({returned_on_time:a,return_condition:i,has_damage:o,damage_description:l,repair_cost:c,deposit_refunded:d,net_revenue:h}).eq("id",r).select().single();if(f)throw f;return s&&await Y.from("rental_inventory").update({status:"available"}).eq("id",s),m},onSuccess:()=>{e.invalidateQueries({queryKey:["rental_transactions"]}),e.invalidateQueries({queryKey:["rental_inventory"]}),t({title:"Rental completed",description:"Rental has been marked as returned."})},onError:r=>{t({title:"Error",description:r.message,variant:"destructive"})}})}function r1e(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{data:s,error:a}=await Y.from("rental_customers").insert(r).select().single();if(a)throw a;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["rental_customers"]}),t({title:"Customer added",description:"New customer has been added."})},onError:r=>{t({title:"Error",description:r.message,variant:"destructive"})}})}function n1e(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{error:s}=await Y.from("rental_transactions").delete().eq("id",r);if(s)throw s},onSuccess:()=>{e.invalidateQueries({queryKey:["rental_transactions"]}),t({title:"Transaction deleted",description:"Rental transaction has been removed."})},onError:r=>{t({title:"Error",description:r.message,variant:"destructive"})}})}function s1e(e=[]){const t=e.length,r=e.reduce((c,d)=>c+(d.net_revenue||0),0),s=e.reduce((c,d)=>c+(d.security_deposit||0),0),a=e.reduce((c,d)=>c+(d.deposit_refunded||0),0),i=e.filter(c=>c.has_damage).length,o=e.filter(c=>c.returned_on_time===!0).length,l=e.filter(c=>c.payment_received).length;return{totalTransactions:t,totalRevenue:r,totalDeposits:s,depositsRefunded:a,damageCount:i,onTimeReturns:o,paidTransactions:l,paymentRate:t>0?l/t*100:0,damageRate:t>0?i/t*100:0}}function a1e({userId:e}){const[t,r]=x.useState(!1),[s,a]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState({inventory_id:"",rental_start_date:_t(new Date,"yyyy-MM-dd"),days_rented:1,daily_rate:0,security_deposit:50,payment_method:"cash",payment_received:!1,agreement_signed:!1}),[d,u]=x.useState({returned_on_time:!0,return_condition:"good",has_damage:!1,damage_description:"",repair_cost:0}),{data:h=[],isLoading:m}=Jwe(e),{data:f=[]}=NP(e),{data:p=[]}=Yq(e),g=e1e(),v=t1e(),j=n1e(),y=s1e(h),b=f.filter(T=>T.status==="available"),w=async()=>{l.inventory_id&&(await g.mutateAsync({...l,user_id:e}),_(),r(!1))},N=async()=>{if(!i)return;const T=h.find(B=>B.id===i);if(!T)return;const A=d.has_damage?Math.max(0,T.security_deposit-d.repair_cost):T.security_deposit;await v.mutateAsync({id:i,inventory_id:T.inventory_id||void 0,...d,deposit_refunded:A,subtotal:T.subtotal}),a(!1),o(null)},_=()=>{c({inventory_id:"",rental_start_date:_t(new Date,"yyyy-MM-dd"),days_rented:1,daily_rate:0,security_deposit:50,payment_method:"cash",payment_received:!1,agreement_signed:!1})},C=T=>{const A=f.find(B=>B.id===T);A&&c({...l,inventory_id:T,daily_rate:A.daily_rate})},S=T=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T),k=T=>{if(!T)return"Unknown";const A=f.find(B=>B.id===T);return(A==null?void 0:A.product_name)||"Unknown"},E=T=>{if(!T)return"Walk-in";const A=p.find(B=>B.id===T);return(A==null?void 0:A.name)||"Unknown"};return m?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"w-8 h-8 border-3 border-primary/30 border-t-primary rounded-full animate-spin"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:n.jsx(tS,{className:"w-6 h-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Rentals"}),n.jsx("p",{className:"text-2xl font-bold",children:y.totalTransactions})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-green-500/10",children:n.jsx($t,{className:"w-6 h-6 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),n.jsx("p",{className:"text-2xl font-bold",children:S(y.totalRevenue)})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10",children:n.jsx(Lx,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment Rate"}),n.jsxs("p",{className:"text-2xl font-bold",children:[y.paymentRate.toFixed(0),"%"]})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-yellow-500/10",children:n.jsx(jt,{className:"w-6 h-6 text-yellow-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Damage Rate"}),n.jsxs("p",{className:"text-2xl font-bold",children:[y.damageRate.toFixed(0),"%"]})]})]})})})]}),n.jsxs(q,{children:[n.jsxs(de,{className:"flex flex-row items-center justify-between",children:[n.jsx(ce,{children:"Rental Transactions"}),n.jsxs(Xt,{open:t,onOpenChange:r,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{onClick:_,children:[n.jsx(jr,{className:"w-4 h-4 mr-2"}),"New Rental"]})}),n.jsxs(qt,{className:"max-w-lg",children:[n.jsx(Ht,{children:n.jsx(Kt,{children:"Create Rental"})}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"Product *"}),n.jsxs(Re,{value:l.inventory_id,onValueChange:C,children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Select product"})}),n.jsx(Ae,{children:b.map(T=>n.jsxs(he,{value:T.id,children:[T.product_name," - ",S(T.daily_rate),"/day"]},T.id))})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Customer"}),n.jsxs(Re,{value:l.customer_id||"",onValueChange:T=>c({...l,customer_id:T||void 0}),children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Walk-in customer"})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"",children:"Walk-in"}),p.map(T=>n.jsx(he,{value:T.id,children:T.name},T.id))]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"Start Date"}),n.jsx(F,{type:"date",value:l.rental_start_date,onChange:T=>c({...l,rental_start_date:T.target.value})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Days"}),n.jsx(F,{type:"number",min:"1",value:l.days_rented,onChange:T=>c({...l,days_rented:parseInt(T.target.value)||1})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"Daily Rate"}),n.jsx(F,{type:"number",value:l.daily_rate,onChange:T=>c({...l,daily_rate:parseFloat(T.target.value)||0})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Security Deposit"}),n.jsx(F,{type:"number",value:l.security_deposit,onChange:T=>c({...l,security_deposit:parseFloat(T.target.value)||0})})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Payment Method"}),n.jsxs(Re,{value:l.payment_method,onValueChange:T=>c({...l,payment_method:T}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"cash",children:"Cash"}),n.jsx(he,{value:"venmo",children:"Venmo"}),n.jsx(he,{value:"check",children:"Check"}),n.jsx(he,{value:"card",children:"Card"})]})]})]}),n.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal:"}),n.jsx("span",{children:S((l.days_rented||0)*(l.daily_rate||0))})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Deposit:"}),n.jsx("span",{children:S(l.security_deposit||0)})]}),n.jsxs("div",{className:"flex justify-between font-bold border-t pt-2 mt-2",children:[n.jsx("span",{children:"Total:"}),n.jsx("span",{children:S((l.days_rented||0)*(l.daily_rate||0)+(l.security_deposit||0))})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx($,{onClick:w,disabled:g.isPending||!l.inventory_id,children:"Create Rental"})]})]})]})]}),n.jsx(K,{children:h.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(tS,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No transactions yet."}),n.jsx("p",{className:"text-sm",children:"Create your first rental to get started."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Transaction"}),n.jsx(te,{children:"Product"}),n.jsx(te,{children:"Customer"}),n.jsx(te,{children:"Start Date"}),n.jsx(te,{children:"Days"}),n.jsx(te,{children:"Total"}),n.jsx(te,{children:"Status"}),n.jsx(te,{className:"text-right",children:"Actions"})]})}),n.jsx(Wt,{children:h.map(T=>n.jsxs(Ve,{children:[n.jsx(Q,{className:"font-mono text-sm",children:T.transaction_number}),n.jsx(Q,{children:k(T.inventory_id)}),n.jsx(Q,{children:E(T.customer_id)}),n.jsx(Q,{children:_t(new Date(T.rental_start_date),"MMM d, yyyy")}),n.jsx(Q,{children:T.days_rented}),n.jsx(Q,{children:S(T.total_charged)}),n.jsx(Q,{children:T.returned_on_time!==null?n.jsx(ne,{className:"bg-green-500/10 text-green-600",children:"Returned"}):n.jsx(ne,{className:"bg-yellow-500/10 text-yellow-600",children:"Active"})}),n.jsx(Q,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[T.returned_on_time===null&&n.jsx($,{variant:"outline",size:"sm",onClick:()=>{o(T.id),a(!0)},children:"Return"}),n.jsx($,{variant:"ghost",size:"icon",onClick:()=>j.mutateAsync(T.id),children:n.jsx(xr,{className:"w-4 h-4 text-destructive"})})]})})]},T.id))})]})})})]}),n.jsx(Xt,{open:s,onOpenChange:a,children:n.jsxs(qt,{children:[n.jsx(Ht,{children:n.jsx(Kt,{children:"Process Return"})}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"Return Condition"}),n.jsxs(Re,{value:d.return_condition,onValueChange:T=>u({...d,return_condition:T}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"excellent",children:"Excellent"}),n.jsx(he,{value:"good",children:"Good"}),n.jsx(he,{value:"fair",children:"Fair"}),n.jsx(he,{value:"poor",children:"Poor"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"has_damage",checked:d.has_damage,onChange:T=>u({...d,has_damage:T.target.checked})}),n.jsx(M,{htmlFor:"has_damage",children:"Has Damage"})]}),d.has_damage&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(M,{children:"Damage Description"}),n.jsx(F,{value:d.damage_description,onChange:T=>u({...d,damage_description:T.target.value}),placeholder:"Describe the damage"})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Repair Cost"}),n.jsx(F,{type:"number",value:d.repair_cost,onChange:T=>u({...d,repair_cost:parseFloat(T.target.value)||0})})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),n.jsx($,{onClick:N,disabled:v.isPending,children:"Complete Return"})]})]})})]})}function i1e({userId:e}){const[t,r]=x.useState(!1),[s,a]=x.useState({name:"",email:"",phone:"",address:"",drivers_license:"",notes:""}),{data:i=[],isLoading:o}=Yq(e),l=r1e(),c=ze(),{toast:d}=yt(),u=async()=>{s.name&&(await l.mutateAsync({...s,user_id:e}),m(),r(!1))},h=async f=>{if(confirm("Are you sure you want to delete this customer?")){const{error:p}=await Y.from("rental_customers").delete().eq("id",f);p?d({title:"Error",description:p.message,variant:"destructive"}):(c.invalidateQueries({queryKey:["rental_customers"]}),d({title:"Customer deleted",description:"Customer has been removed."}))}},m=()=>{a({name:"",email:"",phone:"",address:"",drivers_license:"",notes:""})};return o?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"w-8 h-8 border-3 border-primary/30 border-t-primary rounded-full animate-spin"})}):n.jsx("div",{className:"space-y-6",children:n.jsxs(q,{children:[n.jsxs(de,{className:"flex flex-row items-center justify-between",children:[n.jsx(ce,{children:"Customer Directory"}),n.jsxs(Xt,{open:t,onOpenChange:r,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{onClick:m,children:[n.jsx(jr,{className:"w-4 h-4 mr-2"}),"Add Customer"]})}),n.jsxs(qt,{children:[n.jsx(Ht,{children:n.jsx(Kt,{children:"Add Customer"})}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"Name *"}),n.jsx(F,{value:s.name,onChange:f=>a({...s,name:f.target.value}),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Email"}),n.jsx(F,{type:"email",value:s.email,onChange:f=>a({...s,email:f.target.value}),placeholder:"john@email.com"})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Phone"}),n.jsx(F,{value:s.phone,onChange:f=>a({...s,phone:f.target.value}),placeholder:"555-123-4567"})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Address"}),n.jsx(F,{value:s.address,onChange:f=>a({...s,address:f.target.value}),placeholder:"123 Main St, City, ST 12345"})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Driver's License"}),n.jsx(F,{value:s.drivers_license,onChange:f=>a({...s,drivers_license:f.target.value}),placeholder:"DL12345678"})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Notes"}),n.jsx(F,{value:s.notes,onChange:f=>a({...s,notes:f.target.value}),placeholder:"Any notes about this customer"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx($,{onClick:u,disabled:l.isPending||!s.name,children:"Add Customer"})]})]})]})]}),n.jsx(K,{children:i.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(Or,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No customers yet."}),n.jsx("p",{className:"text-sm",children:"Add your first customer to get started."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Name"}),n.jsx(te,{children:"Email"}),n.jsx(te,{children:"Phone"}),n.jsx(te,{children:"Total Rentals"}),n.jsx(te,{className:"text-right",children:"Actions"})]})}),n.jsx(Wt,{children:i.map(f=>n.jsxs(Ve,{children:[n.jsx(Q,{className:"font-medium",children:f.name}),n.jsx(Q,{children:f.email||"-"}),n.jsx(Q,{children:f.phone||"-"}),n.jsx(Q,{children:f.total_rentals}),n.jsx(Q,{className:"text-right",children:n.jsx($,{variant:"ghost",size:"icon",onClick:()=>h(f.id),children:n.jsx(xr,{className:"w-4 h-4 text-destructive"})})})]},f.id))})]})})})]})})}function o1e(e){const r=new Date().getFullYear(),s=e.includes("Review")?"RI":"RMR",a=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${s}-${r}-${a}`}function l1e(e){return ft({queryKey:["inter_company_transfers",e],queryFn:async()=>{const{data:t,error:r}=await Y.from("inter_company_transfers").select("*").order("created_at",{ascending:!1});if(r)throw r;return t},enabled:!!e})}function c1e(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{data:s,error:a}=await Y.from("inter_company_transfers").insert({...r,invoice_number:o1e(r.from_entity)}).select().single();if(a)throw a;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["inter_company_transfers"]}),t({title:"Transfer recorded",description:"Inter-company transfer has been logged."})},onError:r=>{t({title:"Error",description:r.message,variant:"destructive"})}})}function d1e(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async({id:r,payment_received_date:s,payment_method:a,check_number:i})=>{const{data:o,error:l}=await Y.from("inter_company_transfers").update({payment_received_date:s,payment_method:a,check_number:i}).eq("id",r).select().single();if(l)throw l;return o},onSuccess:()=>{e.invalidateQueries({queryKey:["inter_company_transfers"]}),t({title:"Payment recorded",description:"Transfer has been marked as paid."})},onError:r=>{t({title:"Error",description:r.message,variant:"destructive"})}})}function u1e(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{error:s}=await Y.from("inter_company_transfers").delete().eq("id",r);if(s)throw s},onSuccess:()=>{e.invalidateQueries({queryKey:["inter_company_transfers"]}),t({title:"Transfer deleted",description:"Inter-company transfer has been removed."})},onError:r=>{t({title:"Error",description:r.message,variant:"destructive"})}})}function h1e(e,t){return e===0?0:t/e*100}function m1e(e=[]){const t=e.length,r=e.reduce((d,u)=>d+(u.original_etv||0),0),s=e.reduce((d,u)=>d+(u.sale_price||0),0),a=r-s,i=r>0?s/r*100:0,o=e.filter(d=>d.payment_received_date).length,l=t-o,c=e.filter(d=>!d.payment_received_date).reduce((d,u)=>d+(u.sale_price||0),0);return{totalTransfers:t,totalEtv:r,totalSalePrice:s,totalReduction:a,averagePricingPercent:i,paidTransfers:o,unpaidTransfers:l,unpaidAmount:c}}const UR=["Review Insights LLC","Rocky Mountain Rentals LLC","Rocky Mountain Marketing Services"],f1e=["50% of ETV (Brand)","20% of ETV (Non-Brand)","Fair Market Value","Open-Box Comparable","Used Market Price"];function p1e({userId:e}){const[t,r]=x.useState(!1),[s,a]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState({from_entity:"Review Insights LLC",to_entity:"Rocky Mountain Rentals LLC",product_name:"",original_etv:0,sale_price:0,pricing_method:"50% of ETV (Brand)",comparable_evidence:"",payment_due_date:_t(new Date(Date.now()+30*24*60*60*1e3),"yyyy-MM-dd"),notes:""}),[d,u]=x.useState({payment_received_date:_t(new Date,"yyyy-MM-dd"),payment_method:"check",check_number:""}),{data:h=[],isLoading:m}=l1e(e),f=c1e(),p=d1e(),g=u1e(),v=m1e(h),j=async()=>{!l.product_name||!l.from_entity||!l.to_entity||(await f.mutateAsync({...l,user_id:e}),b(),r(!1))},y=async()=>{i&&(await p.mutateAsync({id:i,...d}),a(!1),o(null))},b=()=>{c({from_entity:"Review Insights LLC",to_entity:"Rocky Mountain Rentals LLC",product_name:"",original_etv:0,sale_price:0,pricing_method:"50% of ETV (Brand)",comparable_evidence:"",payment_due_date:_t(new Date(Date.now()+30*24*60*60*1e3),"yyyy-MM-dd"),notes:""})},w=_=>{let C=l.sale_price;const S=l.original_etv||0;_.includes("50%")?C=S*.5:_.includes("20%")&&(C=S*.2),c({...l,pricing_method:_,sale_price:C})},N=_=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(_);return m?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"w-8 h-8 border-3 border-primary/30 border-t-primary rounded-full animate-spin"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:n.jsx(wt,{className:"w-6 h-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Transfers"}),n.jsx("p",{className:"text-2xl font-bold",children:v.totalTransfers})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-green-500/10",children:n.jsx($t,{className:"w-6 h-6 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),n.jsx("p",{className:"text-2xl font-bold",children:N(v.totalSalePrice)})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10",children:n.jsx(X_,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Pricing"}),n.jsxs("p",{className:"text-2xl font-bold",children:[v.averagePricingPercent.toFixed(0),"%"]})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-yellow-500/10",children:n.jsx(Lx,{className:"w-6 h-6 text-yellow-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unpaid"}),n.jsx("p",{className:"text-2xl font-bold",children:N(v.unpaidAmount)})]})]})})})]}),n.jsxs(q,{children:[n.jsxs(de,{className:"flex flex-row items-center justify-between",children:[n.jsx(ce,{children:"Inter-Company Transfers"}),n.jsxs(Xt,{open:t,onOpenChange:r,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{onClick:b,children:[n.jsx(jr,{className:"w-4 h-4 mr-2"}),"New Transfer"]})}),n.jsxs(qt,{className:"max-w-lg",children:[n.jsx(Ht,{children:n.jsx(Kt,{children:"Record Inter-Company Transfer"})}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"From Entity"}),n.jsxs(Re,{value:l.from_entity,onValueChange:_=>c({...l,from_entity:_}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:UR.map(_=>n.jsx(he,{value:_,children:_},_))})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"To Entity"}),n.jsxs(Re,{value:l.to_entity,onValueChange:_=>c({...l,to_entity:_}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:UR.filter(_=>_!==l.from_entity).map(_=>n.jsx(he,{value:_,children:_},_))})]})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Product Name *"}),n.jsx(F,{value:l.product_name,onChange:_=>c({...l,product_name:_.target.value}),placeholder:"Air Fryer XL"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"Original ETV"}),n.jsx(F,{type:"number",value:l.original_etv,onChange:_=>c({...l,original_etv:parseFloat(_.target.value)||0})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Sale Price"}),n.jsx(F,{type:"number",value:l.sale_price,onChange:_=>c({...l,sale_price:parseFloat(_.target.value)||0})})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Pricing Method"}),n.jsxs(Re,{value:l.pricing_method,onValueChange:w,children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:f1e.map(_=>n.jsx(he,{value:_,children:_},_))})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Comparable Evidence"}),n.jsx(wr,{value:l.comparable_evidence,onChange:_=>c({...l,comparable_evidence:_.target.value}),placeholder:"Best Buy open-box: $70-80, eBay used: $65-75",rows:2})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Payment Due Date"}),n.jsx(F,{type:"date",value:l.payment_due_date,onChange:_=>c({...l,payment_due_date:_.target.value})})]}),l.original_etv>0&&l.sale_price>0&&n.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pricing as % of ETV:"," ",n.jsxs("span",{className:"font-bold text-foreground",children:[h1e(l.original_etv,l.sale_price).toFixed(1),"%"]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tax reduction:"," ",n.jsx("span",{className:"font-bold text-green-600",children:N(l.original_etv-l.sale_price)})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx($,{onClick:j,disabled:f.isPending||!l.product_name,children:"Record Transfer"})]})]})]})]}),n.jsx(K,{children:h.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(X_,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No inter-company transfers yet."}),n.jsx("p",{className:"text-sm",children:"Record your first transfer to track product movement."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Invoice"}),n.jsx(te,{children:"Product"}),n.jsx(te,{children:"From  To"}),n.jsx(te,{children:"ETV"}),n.jsx(te,{children:"Sale Price"}),n.jsx(te,{children:"Status"}),n.jsx(te,{className:"text-right",children:"Actions"})]})}),n.jsx(Wt,{children:h.map(_=>n.jsxs(Ve,{children:[n.jsx(Q,{className:"font-mono text-sm",children:_.invoice_number}),n.jsx(Q,{className:"font-medium",children:_.product_name}),n.jsx(Q,{className:"text-sm",children:n.jsxs("span",{className:"text-muted-foreground",children:[_.from_entity.split(" ")[0]," "," ",_.to_entity.split(" ")[0]]})}),n.jsx(Q,{children:N(_.original_etv)}),n.jsx(Q,{children:N(_.sale_price)}),n.jsx(Q,{children:_.payment_received_date?n.jsx(ne,{className:"bg-green-500/10 text-green-600",children:"Paid"}):n.jsx(ne,{className:"bg-yellow-500/10 text-yellow-600",children:"Pending"})}),n.jsx(Q,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[!_.payment_received_date&&n.jsx($,{variant:"outline",size:"sm",onClick:()=>{o(_.id),a(!0)},children:"Mark Paid"}),n.jsx($,{variant:"ghost",size:"icon",onClick:()=>g.mutateAsync(_.id),children:n.jsx(xr,{className:"w-4 h-4 text-destructive"})})]})})]},_.id))})]})})})]}),n.jsx(Xt,{open:s,onOpenChange:a,children:n.jsxs(qt,{children:[n.jsx(Ht,{children:n.jsx(Kt,{children:"Record Payment"})}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"Payment Date"}),n.jsx(F,{type:"date",value:d.payment_received_date,onChange:_=>u({...d,payment_received_date:_.target.value})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Payment Method"}),n.jsxs(Re,{value:d.payment_method,onValueChange:_=>u({...d,payment_method:_}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"check",children:"Check"}),n.jsx(he,{value:"wire",children:"Wire Transfer"}),n.jsx(he,{value:"ach",children:"ACH"})]})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Check/Reference Number"}),n.jsx(F,{value:d.check_number,onChange:_=>u({...d,check_number:_.target.value}),placeholder:"1001"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),n.jsx($,{onClick:y,disabled:p.isPending,children:"Record Payment"})]})]})})]})}var si="Accordion",x1e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[_P,g1e,y1e]=im(si),[Vj,Vqe]=Zr(si,[y1e,Bq]),SP=Bq(),Xq=D.forwardRef((e,t)=>{const{type:r,...s}=e,a=s,i=s;return n.jsx(_P.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?n.jsx(w1e,{...i,ref:t}):n.jsx(j1e,{...a,ref:t})})});Xq.displayName=si;var[Qq,v1e]=Vj(si),[Zq,b1e]=Vj(si,{collapsible:!1}),j1e=D.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=Kn({prop:r,defaultProp:s??"",onChange:a,caller:si});return n.jsx(Qq,{scope:e.__scopeAccordion,value:D.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:D.useCallback(()=>i&&c(""),[i,c]),children:n.jsx(Zq,{scope:e.__scopeAccordion,collapsible:i,children:n.jsx(Jq,{...o,ref:t})})})}),w1e=D.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},...i}=e,[o,l]=Kn({prop:r,defaultProp:s??[],onChange:a,caller:si}),c=D.useCallback(u=>l((h=[])=>[...h,u]),[l]),d=D.useCallback(u=>l((h=[])=>h.filter(m=>m!==u)),[l]);return n.jsx(Qq,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:n.jsx(Zq,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx(Jq,{...i,ref:t})})})}),[N1e,zj]=Vj(si),Jq=D.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:s,dir:a,orientation:i="vertical",...o}=e,l=D.useRef(null),c=Qe(l,t),d=g1e(r),h=sc(a)==="ltr",m=me(e.onKeyDown,f=>{var S;if(!x1e.includes(f.key))return;const p=f.target,g=d().filter(k=>{var E;return!((E=k.ref.current)!=null&&E.disabled)}),v=g.findIndex(k=>k.ref.current===p),j=g.length;if(v===-1)return;f.preventDefault();let y=v;const b=0,w=j-1,N=()=>{y=v+1,y>w&&(y=b)},_=()=>{y=v-1,y<b&&(y=w)};switch(f.key){case"Home":y=b;break;case"End":y=w;break;case"ArrowRight":i==="horizontal"&&(h?N():_());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(h?_():N());break;case"ArrowUp":i==="vertical"&&_();break}const C=y%j;(S=g[C].ref.current)==null||S.focus()});return n.jsx(N1e,{scope:r,disabled:s,direction:a,orientation:i,children:n.jsx(_P.Slot,{scope:r,children:n.jsx(Ce.div,{...o,"data-orientation":i,ref:c,onKeyDown:s?void 0:m})})})}),_0="AccordionItem",[_1e,CP]=Vj(_0),eH=D.forwardRef((e,t)=>{const{__scopeAccordion:r,value:s,...a}=e,i=zj(_0,r),o=v1e(_0,r),l=SP(r),c=ws(),d=s&&o.value.includes(s)||!1,u=i.disabled||e.disabled;return n.jsx(_1e,{scope:r,open:d,disabled:u,triggerId:c,children:n.jsx(Uq,{"data-orientation":i.orientation,"data-state":iH(d),...l,...a,ref:t,disabled:u,open:d,onOpenChange:h=>{h?o.onItemOpen(s):o.onItemClose(s)}})})});eH.displayName=_0;var tH="AccordionHeader",rH=D.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=zj(si,r),i=CP(tH,r);return n.jsx(Ce.h3,{"data-orientation":a.orientation,"data-state":iH(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:t})});rH.displayName=tH;var R2="AccordionTrigger",nH=D.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=zj(si,r),i=CP(R2,r),o=b1e(R2,r),l=SP(r);return n.jsx(_P.ItemSlot,{scope:r,children:n.jsx(dwe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...s,ref:t})})});nH.displayName=R2;var sH="AccordionContent",aH=D.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=zj(si,r),i=CP(sH,r),o=SP(r);return n.jsx(uwe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});aH.displayName=sH;function iH(e){return e?"open":"closed"}var S1e=Xq,C1e=eH,k1e=rH,oH=nH,lH=aH;const I2=S1e,Eu=x.forwardRef(({className:e,...t},r)=>n.jsx(C1e,{ref:r,className:z("border-b",e),...t}));Eu.displayName="AccordionItem";const Pu=x.forwardRef(({className:e,children:t,...r},s)=>n.jsx(k1e,{className:"flex",children:n.jsxs(oH,{ref:s,className:z("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,n.jsx(Jl,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Pu.displayName=oH.displayName;const Au=x.forwardRef(({className:e,children:t,...r},s)=>n.jsx(lH,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:z("pb-4 pt-0",e),children:t})}));Au.displayName=lH.displayName;const D2=[20,32,19.2,11.52,11.52,5.76],cH=[14.29,24.49,17.49,12.49,8.93,8.92,8.93,4.46],T1e=[33.33,44.45,14.81,7.41],E1e=[10,18,14.4,11.52,9.22,7.37,6.55,6.55,6.56,6.55,3.28],P1e=[5,9.5,8.55,7.7,6.93,6.23,5.9,5.9,5.91,5.9,5.91,5.9,5.91,5.9,5.91,2.95],cv={2025:{section179Limit:25e5,section179PhaseoutStart:4e6,bonusDepreciationPercent:100,bonusDescription:"100% Bonus (OBBBA restored)"},2024:{section179Limit:122e4,section179PhaseoutStart:305e4,bonusDepreciationPercent:60,bonusDescription:"60% Bonus"},2026:{section179Limit:25e5,section179PhaseoutStart:4e6,bonusDepreciationPercent:20,bonusDescription:"20% Bonus (scheduled)"},2027:{section179Limit:25e5,section179PhaseoutStart:4e6,bonusDepreciationPercent:0,bonusDescription:"No Bonus (scheduled phase-out)"}};function A1e(e){switch(e){case"3-year":return T1e;case"5-year":return D2;case"7-year":return cH;case"10-year":return E1e;case"15-year":return P1e;default:return D2}}function xN(e,t,r={}){const{section179Amount:s=0,bonusDepreciationPercent:a=0,propertyClass:i="5-year"}=r,o=[],l=A1e(i),c=e-s,d=c*(a/100),u=c-d;let h=0;for(let m=0;m<l.length;m++){const f=t+m,p=l[m],g=u*p/100,v=m===0?s:0,j=m===0?d:0,y=g+v+j;h+=y;const b=Math.max(0,e-h);if(o.push({year:f,depreciationPercent:p,depreciationAmount:g,cumulativeDepreciation:h,endingBookValue:b,section179Amount:v,bonusAmount:j,totalDeduction:y}),b<=0)break}return o}const O1e={"3-year":{name:"3-Year Property",description:"Special tools, certain manufacturing equipment",examples:["Tractor units for over-the-road use","Race horses over 2 years old"]},"5-year":{name:"5-Year Property",description:"Computers, office equipment, vehicles, scientific equipment",examples:["Computers","Printers","Telescopes","Automobiles","Light trucks","Vending equipment"]},"7-year":{name:"7-Year Property",description:"Office furniture, agricultural machinery, appliances",examples:["Tractors","Farm equipment","Office furniture","Kitchen appliances","Air fryers"]},"10-year":{name:"10-Year Property",description:"Vessels, single-purpose agricultural structures",examples:["Boats","Barges","Fruit-bearing trees"]},"15-year":{name:"15-Year Property",description:"Land improvements, retail motor fuel outlets",examples:["Fences","Roads","Bridges","Landscaping"]}};function M1e(){return ft({queryKey:["depreciation-methods"],queryFn:async()=>{const{data:e,error:t}=await Y.from("depreciation_methods").select("*").eq("is_active",!0).order("name");if(t)throw t;return e}})}function R1e(e){return ft({queryKey:["product-depreciation",e],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await Y.from("product_depreciation_tracking").select("*").eq("user_id",e).order("purchase_date",{ascending:!1});if(r)throw r;return t},enabled:!!e})}function I1e(e){return ft({queryKey:["trailing-groups",e],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await Y.from("trailing_product_groups").select("*").eq("user_id",e).order("group_name");if(r)throw r;return t},enabled:!!e})}function D1e(){const e=ze();return Be({mutationFn:async t=>{const{data:r,error:s}=await Y.from("product_depreciation_tracking").insert(t).select().single();if(s)throw s;return r},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["product-depreciation",r.user_id]})}})}function $1e(){const e=ze();return Be({mutationFn:async({id:t,...r})=>{const{data:s,error:a}=await Y.from("product_depreciation_tracking").update(r).eq("id",t).select().single();if(a)throw a;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["product-depreciation"]})}})}function L1e(){const e=ze();return Be({mutationFn:async t=>{const{error:r}=await Y.from("product_depreciation_tracking").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["product-depreciation"]})}})}function F1e(){const e=ze();return Be({mutationFn:async t=>{const{data:r,error:s}=await Y.from("trailing_product_groups").insert(t).select().single();if(s)throw s;return r},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["trailing-groups",r.user_id]})}})}function B1e(){const e=ze();return Be({mutationFn:async t=>{const{error:r}=await Y.from("trailing_product_groups").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["trailing-groups"]})}})}function V1e(e,t,r,s=0,a=0,i=new Date().getFullYear()){const o=[],l=t.getFullYear();let c=e-s;const d=r.first_year_bonus_eligible?c*(a/100):0;c-=d;const u=r.year_percentages||[],h=r.useful_life_years||u.length||5;let m=e;for(let f=0;f<h;f++){const p=l+f;if(p>i+10)break;const g=f===0,v=m;let j=0,y=0;r.method_type==="section_179"?g&&(y=e,j=100):u.length>0&&f<u.length?(j=u[f],y=c*j/100):(j=100/h,y=c/h);const b=g?s:0,w=g?d:0,N=y+b+w;if(m=Math.max(0,v-N),o.push({id:`calc-${p}`,tracking_id:"",tax_year:p,beginning_book_value:v,depreciation_amount:y,ending_book_value:m,depreciation_rate:j,section_179_amount:b,bonus_depreciation_amount:w,is_first_year:g,created_at:new Date().toISOString()}),m<=0)break}return o}function z1e(e=[]){const t=e.reduce((l,c)=>l+(c.original_cost||0),0),r=e.reduce((l,c)=>l+(c.accumulated_depreciation||0),0),s=e.reduce((l,c)=>l+(c.current_book_value||0),0),a=e.reduce((l,c)=>l+(c.section_179_taken||0),0),i=e.reduce((l,c)=>l+(c.bonus_depreciation_taken||0),0),o=e.filter(l=>l.is_trailing_product).length;return{totalOriginalCost:t,totalAccumulatedDepreciation:r,totalBookValue:s,totalSection179:a,totalBonusDepreciation:i,totalProducts:e.length,trailingProducts:o}}const U1e=[{name:"Tractor",cost:5e4,propertyClass:"7-year",description:"Farm/rental machinery"},{name:"Telescope",cost:2e4,propertyClass:"5-year",description:"Scientific equipment"},{name:"Snacks/Equipment",cost:1e4,propertyClass:"5-year",description:"Vending-related items"}];function W1e({showExamples:e=!0}){const t=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c),r=c=>`${c.toFixed(2)}%`,s=xN(5e4,2025,{propertyClass:"7-year"}),a=xN(2e4,2025,{propertyClass:"5-year"}),i=xN(1e4,2025,{propertyClass:"5-year"}),o=new Map;let l=8e4;return[...s,...a,...i].forEach(c=>{const d=o.get(c.year)||0;o.set(c.year,d+c.totalDeduction)}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(q,{className:"border-accent/30 bg-gradient-to-br from-accent/5 to-transparent",children:[n.jsxs(de,{className:"pb-3",children:[n.jsxs(ce,{className:"flex items-center gap-2 text-lg",children:[n.jsx(Ir,{className:"w-5 h-5 text-accent"}),"2025 Tax Year Rules (OBBBA)"]}),n.jsx(ye,{children:"One Big Beautiful Bill Act restored 100% bonus depreciation"})]}),n.jsx(K,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-background/50 rounded-lg p-3 border",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Section 179 Limit"}),n.jsx("p",{className:"text-xl font-bold text-primary",children:t(cv[2025].section179Limit)})]}),n.jsxs("div",{className:"bg-background/50 rounded-lg p-3 border",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Phase-out Starts"}),n.jsx("p",{className:"text-xl font-bold",children:t(cv[2025].section179PhaseoutStart)})]}),n.jsxs("div",{className:"bg-background/50 rounded-lg p-3 border",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Bonus Depreciation"}),n.jsxs("p",{className:"text-xl font-bold text-emerald-500",children:[cv[2025].bonusDepreciationPercent,"%"]})]}),n.jsxs("div",{className:"bg-background/50 rounded-lg p-3 border",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"}),n.jsx(ne,{className:"bg-emerald-500/10 text-emerald-600 border-emerald-500/20 mt-1",children:"Restored via OBBBA"})]})]})})]}),n.jsxs(Dr,{defaultValue:"options",className:"w-full",children:[n.jsxs(Nr,{className:"grid w-full grid-cols-4",children:[n.jsx(ke,{value:"options",children:"Deduction Options"}),n.jsx(ke,{value:"macrs-tables",children:"MACRS Tables"}),n.jsx(ke,{value:"property-classes",children:"Property Classes"}),e&&n.jsx(ke,{value:"vine-example",children:"Vine Example"})]}),n.jsx(De,{value:"options",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs(q,{className:"border-emerald-500/30",children:[n.jsxs(de,{className:"pb-2",children:[n.jsx(ne,{className:"w-fit bg-emerald-500/10 text-emerald-600 border-emerald-500/20",children:"Option 1"}),n.jsx(ce,{className:"text-lg",children:"Full Section 179"}),n.jsx(ye,{children:"Immediate 100% expense"})]}),n.jsxs(K,{className:"space-y-3",children:[n.jsxs("div",{className:"text-sm space-y-2",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Year 1 Deduction:"})," Full basis (up to $2.5M)"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Remaining Basis:"})," $0"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Best For:"})," High ETV years, maximizing current deductions"]})]}),n.jsxs("div",{className:"bg-emerald-500/5 rounded-lg p-3 border border-emerald-500/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Example: $80,000 ETV"}),n.jsx("p",{className:"font-bold text-emerald-600",children:"Tax Savings: ~$29,600"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"(at 37% federal rate)"})]})]})]}),n.jsxs(q,{className:"border-blue-500/30",children:[n.jsxs(de,{className:"pb-2",children:[n.jsx(ne,{className:"w-fit bg-blue-500/10 text-blue-600 border-blue-500/20",children:"Option 2"}),n.jsx(ce,{className:"text-lg",children:"100% Bonus"}),n.jsx(ye,{children:"Full deduction Year 1"})]}),n.jsxs(K,{className:"space-y-3",children:[n.jsxs("div",{className:"text-sm space-y-2",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Year 1 Deduction:"})," 100% of basis"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"After Section 179:"})," Applies to remainder"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Best For:"})," Combining with partial 179"]})]}),n.jsxs("div",{className:"bg-blue-500/5 rounded-lg p-3 border border-blue-500/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Combined Example"}),n.jsx("p",{className:"text-sm",children:"$50K Section 179 + $30K Bonus"}),n.jsx("p",{className:"font-bold text-blue-600",children:"= $80,000 Year 1"})]})]})]}),n.jsxs(q,{className:"border-purple-500/30",children:[n.jsxs(de,{className:"pb-2",children:[n.jsx(ne,{className:"w-fit bg-purple-500/10 text-purple-600 border-purple-500/20",children:"Option 3"}),n.jsx(ce,{className:"text-lg",children:"Regular MACRS"}),n.jsx(ye,{children:"Spread over useful life"})]}),n.jsxs(K,{className:"space-y-3",children:[n.jsxs("div",{className:"text-sm space-y-2",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"5-Year Property:"})," 6 tax years"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"7-Year Property:"})," 8 tax years"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Best For:"})," Steady offsets over time"]})]}),n.jsxs("div",{className:"bg-purple-500/5 rounded-lg p-3 border border-purple-500/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Half-Year Convention"}),n.jsx("p",{className:"text-sm",children:"GDS, 200% Declining Balance"}),n.jsx("p",{className:"text-xs",children:"Switches to straight-line"})]})]})]})]})}),n.jsx(De,{value:"macrs-tables",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs(q,{children:[n.jsxs(de,{className:"pb-2",children:[n.jsxs(ce,{className:"text-lg flex items-center gap-2",children:[n.jsx(Wn,{className:"w-4 h-4 text-blue-500"}),"5-Year Property MACRS"]}),n.jsx(ye,{children:"Computers, vehicles, telescopes, vending equipment"})]}),n.jsx(K,{children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Year"}),n.jsx(te,{className:"text-right",children:"Rate"}),n.jsx(te,{className:"text-right",children:"$20,000 Example"})]})}),n.jsxs(Wt,{children:[D2.map((c,d)=>n.jsxs(Ve,{children:[n.jsx(Q,{children:d+1}),n.jsx(Q,{className:"text-right font-mono",children:r(c)}),n.jsx(Q,{className:"text-right font-medium",children:t(2e4*c/100)})]},d)),n.jsxs(Ve,{className:"bg-muted/50",children:[n.jsx(Q,{className:"font-bold",children:"Total"}),n.jsx(Q,{className:"text-right font-bold",children:"100%"}),n.jsx(Q,{className:"text-right font-bold",children:t(2e4)})]})]})]})})]}),n.jsxs(q,{children:[n.jsxs(de,{className:"pb-2",children:[n.jsxs(ce,{className:"text-lg flex items-center gap-2",children:[n.jsx(Wn,{className:"w-4 h-4 text-purple-500"}),"7-Year Property MACRS"]}),n.jsx(ye,{children:"Tractors, farm machinery, office furniture"})]}),n.jsx(K,{children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Year"}),n.jsx(te,{className:"text-right",children:"Rate"}),n.jsx(te,{className:"text-right",children:"$50,000 Example"})]})}),n.jsxs(Wt,{children:[cH.map((c,d)=>n.jsxs(Ve,{children:[n.jsx(Q,{children:d+1}),n.jsx(Q,{className:"text-right font-mono",children:r(c)}),n.jsx(Q,{className:"text-right font-medium",children:t(5e4*c/100)})]},d)),n.jsxs(Ve,{className:"bg-muted/50",children:[n.jsx(Q,{className:"font-bold",children:"Total"}),n.jsx(Q,{className:"text-right font-bold",children:"100%"}),n.jsx(Q,{className:"text-right font-bold",children:t(5e4)})]})]})]})})]})]})}),n.jsx(De,{value:"property-classes",className:"mt-4",children:n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsx(I2,{type:"single",collapsible:!0,className:"w-full",children:Object.entries(O1e).map(([c,d])=>n.jsxs(Eu,{value:c,children:[n.jsx(Pu,{className:"hover:no-underline",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ne,{variant:"outline",children:d.name}),n.jsx("span",{className:"text-sm text-muted-foreground",children:d.description})]})}),n.jsx(Au,{children:n.jsxs("div",{className:"pl-4 pt-2",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Examples:"}),n.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:d.examples.map((u,h)=>n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary/50"}),u]},h))})]})})]},c))})})})}),e&&n.jsx(De,{value:"vine-example",className:"space-y-4 mt-4",children:n.jsxs(q,{className:"border-accent/30",children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx($t,{className:"w-5 h-5 text-accent"}),"Vine Rental Setup: $80,000 Total Basis"]}),n.jsx(ye,{children:"Sample MACRS depreciation (no Section 179 or Bonus elected)"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-3 gap-4",children:U1e.map(c=>n.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 border",children:[n.jsx("p",{className:"font-medium",children:c.name}),n.jsx("p",{className:"text-xl font-bold",children:t(c.cost)}),n.jsx(ne,{variant:"outline",className:"text-xs mt-1",children:c.propertyClass})]},c.name))}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-3",children:"Combined Depreciation Schedule"}),n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Year"}),n.jsx(te,{className:"text-right",children:"Total Deduction"}),n.jsx(te,{className:"text-right",children:"Cumulative"}),n.jsx(te,{className:"text-right",children:"Book Value"})]})}),n.jsx(Wt,{children:(()=>{let c=0;return Array.from(o.entries()).sort((u,h)=>u[0]-h[0]).map(([u,h])=>(c+=h,n.jsxs(Ve,{children:[n.jsx(Q,{children:u}),n.jsx(Q,{className:"text-right font-medium",children:t(h)}),n.jsx(Q,{className:"text-right",children:t(c)}),n.jsx(Q,{className:"text-right",children:t(l-c)})]},u)))})()})]})]}),n.jsxs(I2,{type:"single",collapsible:!0,className:"w-full",children:[n.jsxs(Eu,{value:"tractor",children:[n.jsx(Pu,{children:"Tractor ($50,000, 7-Year Property)"}),n.jsx(Au,{children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Year"}),n.jsx(te,{className:"text-right",children:"Rate"}),n.jsx(te,{className:"text-right",children:"Deduction"}),n.jsx(te,{className:"text-right",children:"Cumulative"}),n.jsx(te,{className:"text-right",children:"Book Value"})]})}),n.jsx(Wt,{children:s.map(c=>n.jsxs(Ve,{children:[n.jsx(Q,{children:c.year}),n.jsx(Q,{className:"text-right font-mono",children:r(c.depreciationPercent)}),n.jsx(Q,{className:"text-right",children:t(c.depreciationAmount)}),n.jsx(Q,{className:"text-right",children:t(c.cumulativeDepreciation)}),n.jsx(Q,{className:"text-right",children:t(c.endingBookValue)})]},c.year))})]})})]}),n.jsxs(Eu,{value:"telescope",children:[n.jsx(Pu,{children:"Telescope ($20,000, 5-Year Property)"}),n.jsx(Au,{children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Year"}),n.jsx(te,{className:"text-right",children:"Rate"}),n.jsx(te,{className:"text-right",children:"Deduction"}),n.jsx(te,{className:"text-right",children:"Cumulative"}),n.jsx(te,{className:"text-right",children:"Book Value"})]})}),n.jsx(Wt,{children:a.map(c=>n.jsxs(Ve,{children:[n.jsx(Q,{children:c.year}),n.jsx(Q,{className:"text-right font-mono",children:r(c.depreciationPercent)}),n.jsx(Q,{className:"text-right",children:t(c.depreciationAmount)}),n.jsx(Q,{className:"text-right",children:t(c.cumulativeDepreciation)}),n.jsx(Q,{className:"text-right",children:t(c.endingBookValue)})]},c.year))})]})})]}),n.jsxs(Eu,{value:"snacks",children:[n.jsx(Pu,{children:"Snacks/Equipment ($10,000, 5-Year Property)"}),n.jsx(Au,{children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Year"}),n.jsx(te,{className:"text-right",children:"Rate"}),n.jsx(te,{className:"text-right",children:"Deduction"}),n.jsx(te,{className:"text-right",children:"Cumulative"}),n.jsx(te,{className:"text-right",children:"Book Value"})]})}),n.jsx(Wt,{children:i.map(c=>n.jsxs(Ve,{children:[n.jsx(Q,{children:c.year}),n.jsx(Q,{className:"text-right font-mono",children:r(c.depreciationPercent)}),n.jsx(Q,{className:"text-right",children:t(c.depreciationAmount)}),n.jsx(Q,{className:"text-right",children:t(c.cumulativeDepreciation)}),n.jsx(Q,{className:"text-right",children:t(c.endingBookValue)})]},c.year))})]})})]})]}),n.jsxs(q,{className:"bg-muted/30",children:[n.jsx(de,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm flex items-center gap-2",children:[n.jsx(Gs,{className:"w-4 h-4"}),"Key Notes for Your Setup"]})}),n.jsxs(K,{className:"text-sm space-y-2",children:[n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Grouping Like Products:"})," Depreciate similar items together based on age/condition"]}),n.jsxs("p",{children:[" ",n.jsx("strong",{children:"SSDI Impact:"})," These are passive deductionsflow via K-1 without creating SGA"]}),n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Reporting:"})," Form 4562 for elections/depreciation; attach to LLC's 1065"]}),n.jsxs("p",{children:[" ",n.jsx("strong",{children:"QBI:"})," 20% deduction may apply to remaining net rental income"]})]})]})]})]})})]})]})}const q1e=["LLC","S-Corp","C-Corp","Sole Proprietor"];function H1e({userId:e}){var G,re,X;const[t,r]=x.useState(!1),[s,a]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState("products"),[d,u]=x.useState({product_name:"",original_cost:0,purchase_date:new Date().toISOString().split("T")[0],depreciation_method_id:"",inventory_id:"",section_179_amount:0,bonus_depreciation_percent:0,is_trailing_product:!1,trailing_group_id:"",notes:"",business_type:"LLC"}),[h,m]=x.useState({group_name:"",category:"",description:""}),{data:f=[],isLoading:p}=M1e(),{data:g=[],isLoading:v}=R1e(e),{data:j=[]}=I1e(e),{data:y=[]}=NP(e),b=z1e(g),w=D1e(),N=$1e(),_=L1e(),C=F1e(),S=B1e(),k=x.useMemo(()=>{if(!d.depreciation_method_id||!d.original_cost)return[];const W=f.find(oe=>oe.id===d.depreciation_method_id);return W?V1e(d.original_cost,new Date(d.purchase_date),W,d.section_179_amount,d.bonus_depreciation_percent):[]},[d.depreciation_method_id,d.original_cost,d.purchase_date,d.section_179_amount,d.bonus_depreciation_percent,f]),E=f.find(W=>W.id===d.depreciation_method_id),T=async()=>{if(!d.product_name||!d.depreciation_method_id){St({title:"Missing required fields",description:"Please fill in product name and select a depreciation method.",variant:"destructive"});return}const W=new Date().getFullYear(),oe=k[0],je={user_id:e,product_name:d.product_name,original_cost:d.original_cost,purchase_date:d.purchase_date,depreciation_method_id:d.depreciation_method_id,inventory_id:d.inventory_id||null,current_year:W,accumulated_depreciation:(oe==null?void 0:oe.depreciation_amount)||0,current_book_value:(oe==null?void 0:oe.ending_book_value)||d.original_cost,section_179_taken:d.section_179_amount,bonus_depreciation_taken:(d.original_cost-d.section_179_amount)*(d.bonus_depreciation_percent/100),is_trailing_product:d.is_trailing_product,trailing_group_id:d.trailing_group_id||null,notes:d.notes||null};try{i?(await N.mutateAsync({id:i.id,...je}),St({title:"Product updated successfully"})):(await w.mutateAsync(je),St({title:"Product added for depreciation tracking"})),L(),r(!1)}catch($e){St({title:"Error saving product",description:$e instanceof Error?$e.message:"Unknown error",variant:"destructive"})}},A=W=>{o(W),u({product_name:W.product_name,original_cost:W.original_cost,purchase_date:W.purchase_date,depreciation_method_id:W.depreciation_method_id||"",inventory_id:W.inventory_id||"",section_179_amount:W.section_179_taken,bonus_depreciation_percent:W.original_cost>0?W.bonus_depreciation_taken/(W.original_cost-W.section_179_taken)*100:0,is_trailing_product:W.is_trailing_product,trailing_group_id:W.trailing_group_id||"",notes:W.notes||"",business_type:"LLC"}),r(!0)},B=async W=>{confirm("Are you sure you want to delete this depreciation record?")&&(await _.mutateAsync(W),St({title:"Record deleted"}))},R=async()=>{h.group_name&&(await C.mutateAsync({user_id:e,group_name:h.group_name,category:h.category||void 0,description:h.description||void 0}),m({group_name:"",category:"",description:""}),a(!1),St({title:"Trailing group created"}))},L=()=>{o(null),u({product_name:"",original_cost:0,purchase_date:new Date().toISOString().split("T")[0],depreciation_method_id:"",inventory_id:"",section_179_amount:0,bonus_depreciation_percent:0,is_trailing_product:!1,trailing_group_id:"",notes:"",business_type:"LLC"})},V=W=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(W),O=W=>{switch(W){case"macrs_5":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"macrs_7":return"bg-purple-500/10 text-purple-600 border-purple-500/20";case"section_179":return"bg-green-500/10 text-green-600 border-green-500/20";case"straight_line_5":case"straight_line_7":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";default:return""}},P=x.useMemo(()=>{const W={ungrouped:[]};return j.forEach(oe=>{W[oe.id]=[]}),g.forEach(oe=>{oe.trailing_group_id&&W[oe.trailing_group_id]?W[oe.trailing_group_id].push(oe):W.ungrouped.push(oe)}),W},[g,j]);return p||v?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"w-8 h-8 border-3 border-primary/30 border-t-primary rounded-full animate-spin"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:n.jsx($t,{className:"w-6 h-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Original Cost"}),n.jsx("p",{className:"text-2xl font-bold",children:V(b.totalOriginalCost)})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-red-500/10",children:n.jsx(zx,{className:"w-6 h-6 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Accumulated Depr."}),n.jsx("p",{className:"text-2xl font-bold",children:V(b.totalAccumulatedDepreciation)})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-green-500/10",children:n.jsx(Wn,{className:"w-6 h-6 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Book Value"}),n.jsx("p",{className:"text-2xl font-bold",children:V(b.totalBookValue)})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10",children:n.jsx(m1,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Trailing Groups"}),n.jsxs("p",{className:"text-2xl font-bold",children:[b.trailingProducts,"/",b.totalProducts]})]})]})})})]}),n.jsxs(Dr,{value:l,onValueChange:c,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs(Nr,{children:[n.jsx(ke,{value:"products",children:"Products"}),n.jsx(ke,{value:"trailing",children:"Trailing Groups"}),n.jsx(ke,{value:"methods",children:"Methods Reference"})]}),n.jsxs("div",{className:"flex gap-2",children:[l==="trailing"&&n.jsxs(Xt,{open:s,onOpenChange:a,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{variant:"outline",children:[n.jsx(jr,{className:"w-4 h-4 mr-2"}),"New Group"]})}),n.jsxs(qt,{children:[n.jsxs(Ht,{children:[n.jsx(Kt,{children:"Create Trailing Group"}),n.jsx(ko,{children:"Group similar products to compare depreciation across years"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"Group Name *"}),n.jsx(F,{value:h.group_name,onChange:W=>m({...h,group_name:W.target.value}),placeholder:"e.g., Air Fryers"})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Category"}),n.jsx(F,{value:h.category,onChange:W=>m({...h,category:W.target.value}),placeholder:"e.g., Kitchen Appliances"})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Description"}),n.jsx(F,{value:h.description,onChange:W=>m({...h,description:W.target.value}),placeholder:"Optional description"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),n.jsx($,{onClick:R,children:"Create Group"})]})]})]}),n.jsxs(Xt,{open:t,onOpenChange:W=>{r(W),W||L()},children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{children:[n.jsx(jr,{className:"w-4 h-4 mr-2"}),"Add Product"]})}),n.jsxs(qt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Ht,{children:[n.jsx(Kt,{children:i?"Edit Depreciation Record":"Add Product for Depreciation"}),n.jsx(ko,{children:"Configure depreciation method and calculate schedule"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6 py-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:"Product Details"}),n.jsxs("div",{children:[n.jsx(M,{children:"Link to Inventory (Optional)"}),n.jsxs(Re,{value:d.inventory_id,onValueChange:W=>{const oe=y.find(je=>je.id===W);u({...d,inventory_id:W,product_name:(oe==null?void 0:oe.product_name)||d.product_name,original_cost:(oe==null?void 0:oe.purchase_price)||d.original_cost})},children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Select inventory item"})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"",children:"None"}),y.map(W=>n.jsxs(he,{value:W.id,children:[W.product_name," (",V(W.purchase_price),")"]},W.id))]})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Product Name *"}),n.jsx(F,{value:d.product_name,onChange:W=>u({...d,product_name:W.target.value}),placeholder:"Air Fryer XL"})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Original Cost (Basis) *"}),n.jsx(F,{type:"number",value:d.original_cost,onChange:W=>u({...d,original_cost:parseFloat(W.target.value)||0}),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Purchase Date *"}),n.jsx(F,{type:"date",value:d.purchase_date,onChange:W=>u({...d,purchase_date:W.target.value})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Business Type"}),n.jsxs(Re,{value:d.business_type,onValueChange:W=>u({...d,business_type:W}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:q1e.map(W=>n.jsx(he,{value:W,children:W},W))})]})]}),n.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[n.jsx(ga,{id:"is_trailing",checked:d.is_trailing_product,onCheckedChange:W=>u({...d,is_trailing_product:W})}),n.jsx(M,{htmlFor:"is_trailing",className:"cursor-pointer",children:"This is a trailing product (compare with similar products)"})]}),d.is_trailing_product&&n.jsxs("div",{children:[n.jsx(M,{children:"Trailing Group"}),n.jsxs(Re,{value:d.trailing_group_id,onValueChange:W=>u({...d,trailing_group_id:W}),children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Select or create a group"})}),n.jsx(Ae,{children:j.map(W=>n.jsx(he,{value:W.id,children:W.group_name},W.id))})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Notes"}),n.jsx(F,{value:d.notes,onChange:W=>u({...d,notes:W.target.value}),placeholder:"Optional notes"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:"Depreciation Method"}),n.jsxs("div",{children:[n.jsx(M,{children:"Method *"}),n.jsxs(Re,{value:d.depreciation_method_id,onValueChange:W=>u({...d,depreciation_method_id:W}),children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Select depreciation method"})}),n.jsx(Ae,{children:f.filter(W=>W.business_types.includes(d.business_type)).map(W=>n.jsx(he,{value:W.id,children:W.name},W.id))})]})]}),E&&n.jsx(q,{className:"bg-muted/50",children:n.jsxs(K,{className:"pt-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:E.description}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[n.jsxs(ne,{variant:"outline",children:[E.useful_life_years," year",E.useful_life_years!==1?"s":""]}),E.first_year_bonus_eligible&&n.jsx(ne,{variant:"outline",className:"bg-green-500/10 text-green-600",children:"Bonus Eligible"})]})]})}),(E==null?void 0:E.method_type)!=="section_179"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(M,{children:"Section 179 Deduction ($)"}),n.jsx(F,{type:"number",value:d.section_179_amount,onChange:W=>u({...d,section_179_amount:parseFloat(W.target.value)||0}),placeholder:"0.00",max:d.original_cost}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["2025 Max: $",cv[2025].section179Limit.toLocaleString()]})]}),(E==null?void 0:E.first_year_bonus_eligible)&&n.jsxs("div",{children:[n.jsx(M,{children:"Bonus Depreciation (%)"}),n.jsx(F,{type:"number",value:d.bonus_depreciation_percent,onChange:W=>u({...d,bonus_depreciation_percent:parseFloat(W.target.value)||0}),placeholder:"0",min:0,max:100}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"2025: 100% (OBBBA), 2026: 20%, 2027: 0%"})]})]}),k.length>0&&n.jsxs("div",{className:"pt-4",children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Depreciation Schedule Preview"}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{className:"py-2",children:"Year"}),n.jsx(te,{className:"py-2 text-right",children:"Deduction"}),n.jsx(te,{className:"py-2 text-right",children:"Book Value"})]})}),n.jsx(Wt,{children:k.map(W=>n.jsxs(Ve,{children:[n.jsxs(Q,{className:"py-2",children:[W.tax_year,W.is_first_year&&n.jsx(ne,{variant:"outline",className:"ml-2 text-xs",children:"1st"})]}),n.jsx(Q,{className:"py-2 text-right font-medium",children:V(W.depreciation_amount+W.section_179_amount+W.bonus_depreciation_amount)}),n.jsx(Q,{className:"py-2 text-right",children:V(W.ending_book_value)})]},W.tax_year))})]})}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Total first year deduction: ",V((((G=k[0])==null?void 0:G.depreciation_amount)||0)+(((re=k[0])==null?void 0:re.section_179_amount)||0)+(((X=k[0])==null?void 0:X.bonus_depreciation_amount)||0))]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[n.jsx($,{variant:"outline",onClick:()=>{r(!1),L()},children:"Cancel"}),n.jsxs($,{onClick:T,disabled:w.isPending||N.isPending,children:[i?"Update":"Add"," Product"]})]})]})]})]})]}),n.jsx(De,{value:"products",children:n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{children:"Depreciation Tracking"}),n.jsx(ye,{children:"Track depreciation for all your business assets"})]}),n.jsx(K,{children:g.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(Wn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No products tracked yet."}),n.jsx("p",{className:"text-sm",children:"Add your first product to start tracking depreciation."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Product"}),n.jsx(te,{children:"Method"}),n.jsx(te,{className:"text-right",children:"Original Cost"}),n.jsx(te,{className:"text-right",children:"Accumulated"}),n.jsx(te,{className:"text-right",children:"Book Value"}),n.jsx(te,{children:"Trailing"}),n.jsx(te,{className:"text-right",children:"Actions"})]})}),n.jsx(Wt,{children:g.map(W=>{const oe=f.find($e=>$e.id===W.depreciation_method_id),je=j.find($e=>$e.id===W.trailing_group_id);return n.jsxs(Ve,{children:[n.jsx(Q,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:W.product_name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Purchased: ",new Date(W.purchase_date).toLocaleDateString()]})]})}),n.jsx(Q,{children:oe&&n.jsx(ne,{className:O(oe.method_type),children:oe.name})}),n.jsx(Q,{className:"text-right",children:V(W.original_cost)}),n.jsxs(Q,{className:"text-right text-red-600",children:["-",V(W.accumulated_depreciation)]}),n.jsx(Q,{className:"text-right font-medium",children:V(W.current_book_value)}),n.jsx(Q,{children:W.is_trailing_product?n.jsx(ne,{variant:"outline",className:"bg-blue-500/10 text-blue-600",children:(je==null?void 0:je.group_name)||"Ungrouped"}):n.jsx("span",{className:"text-muted-foreground",children:""})}),n.jsx(Q,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:()=>A(W),children:n.jsx(yT,{className:"w-4 h-4"})}),n.jsx($,{variant:"ghost",size:"icon",onClick:()=>B(W.id),children:n.jsx(xr,{className:"w-4 h-4 text-destructive"})})]})})]},W.id)})})]})})})]})}),n.jsx(De,{value:"trailing",children:n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{children:"Trailing Product Groups"}),n.jsx(ye,{children:"Compare similar products purchased over different years"})]}),n.jsx(K,{children:j.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(m1,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No trailing groups yet."}),n.jsx("p",{className:"text-sm",children:"Create a group to compare similar products."})]}):n.jsx(I2,{type:"single",collapsible:!0,className:"space-y-2",children:j.map(W=>{const oe=P[W.id]||[],je=oe.reduce((se,Te)=>se+Te.original_cost,0),$e=oe.reduce((se,Te)=>se+Te.current_book_value,0);return n.jsxs(Eu,{value:W.id,className:"border rounded-lg px-4",children:[n.jsx(Pu,{className:"hover:no-underline",children:n.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(m1,{className:"w-5 h-5 text-primary"}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-medium",children:W.group_name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[oe.length," product",oe.length!==1?"s":"","  ",W.category||"No category"]})]})]}),n.jsxs("div",{className:"text-right mr-4",children:[n.jsx("p",{className:"font-medium",children:V($e)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",V(je)," original"]})]})]})}),n.jsxs(Au,{children:[oe.length===0?n.jsx("p",{className:"text-sm text-muted-foreground py-4",children:"No products in this group yet."}):n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Product"}),n.jsx(te,{children:"Purchase Year"}),n.jsx(te,{className:"text-right",children:"Original"}),n.jsx(te,{className:"text-right",children:"Book Value"}),n.jsx(te,{className:"text-right",children:"% Remaining"})]})}),n.jsx(Wt,{children:oe.sort((se,Te)=>new Date(se.purchase_date).getTime()-new Date(Te.purchase_date).getTime()).map((se,Te)=>{const le=se.original_cost>0?se.current_book_value/se.original_cost*100:0;return n.jsxs(Ve,{children:[n.jsx(Q,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ne,{variant:"outline",className:"text-xs",children:["#",Te+1]}),se.product_name]})}),n.jsx(Q,{children:new Date(se.purchase_date).getFullYear()}),n.jsx(Q,{className:"text-right",children:V(se.original_cost)}),n.jsx(Q,{className:"text-right",children:V(se.current_book_value)}),n.jsx(Q,{className:"text-right",children:n.jsxs(ne,{variant:"outline",className:le>50?"bg-green-500/10 text-green-600":le>20?"bg-yellow-500/10 text-yellow-600":"bg-red-500/10 text-red-600",children:[le.toFixed(1),"%"]})})]},se.id)})})]}),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsxs($,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>{confirm("Delete this group? Products will be ungrouped.")&&S.mutate(W.id)},children:[n.jsx(xr,{className:"w-4 h-4 mr-2"}),"Delete Group"]})})]})]},W.id)})})})]})}),n.jsx(De,{value:"methods",children:n.jsx(W1e,{showExamples:!0})})]})]})}const K1e=()=>{const[e,t]=x.useState(null),[r,s]=x.useState(!0),a=Qt();return x.useEffect(()=>{const{data:{subscription:i}}=Y.auth.onAuthStateChange((o,l)=>{t((l==null?void 0:l.user)??null),s(!1)});return Y.auth.getSession().then(({data:{session:o}})=>{t((o==null?void 0:o.user)??null),s(!1)}),()=>i.unsubscribe()},[]),r?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx("div",{className:"w-8 h-8 border-3 border-primary/30 border-t-primary rounded-full animate-spin"})}):e?n.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[n.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-50",children:n.jsx("div",{className:"container mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:()=>a("/"),children:n.jsx(Mt,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-display font-bold text-foreground",children:"Rocky Mountain Rentals"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Rental Inventory Management System"})]})]})})}),n.jsx("main",{className:"container mx-auto px-6 py-8",children:n.jsxs(Dr,{defaultValue:"inventory",className:"space-y-6",children:[n.jsxs(Nr,{className:"grid w-full grid-cols-5 lg:w-auto lg:inline-grid",children:[n.jsxs(ke,{value:"inventory",className:"gap-2",children:[n.jsx(zu,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Inventory"})]}),n.jsxs(ke,{value:"depreciation",className:"gap-2",children:[n.jsx(Wn,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Depreciation"})]}),n.jsxs(ke,{value:"transactions",className:"gap-2",children:[n.jsx(tS,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Transactions"})]}),n.jsxs(ke,{value:"customers",className:"gap-2",children:[n.jsx(Or,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Customers"})]}),n.jsxs(ke,{value:"transfers",className:"gap-2",children:[n.jsx(X_,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Transfers"})]})]}),n.jsx(De,{value:"inventory",children:n.jsx(Qwe,{userId:e.id})}),n.jsx(De,{value:"depreciation",children:n.jsx(H1e,{userId:e.id})}),n.jsx(De,{value:"transactions",children:n.jsx(a1e,{userId:e.id})}),n.jsx(De,{value:"customers",children:n.jsx(i1e,{userId:e.id})}),n.jsx(De,{value:"transfers",children:n.jsx(p1e,{userId:e.id})})]})})]}):(a("/auth"),null)},Vs=x.forwardRef(({className:e,activeClassName:t,pendingClassName:r,to:s,...a},i)=>n.jsx(dae,{ref:i,to:s,className:({isActive:o,isPending:l})=>z(e,o&&t,l&&r),...a}));Vs.displayName="NavLink";function dH(e=2024,t){return ft({queryKey:["tax-deduction-rules",e,t],queryFn:async()=>{let r=Y.from("tax_deduction_rules").select("*").eq("tax_year",e).eq("is_active",!0).order("display_order");const{data:s,error:a}=await r;if(a)throw a;return s}})}function G1e(e=2024){const{data:t,...r}=dH(e);return{groupedRules:t==null?void 0:t.reduce((a,i)=>(a[i.category]||(a[i.category]=[]),a[i.category].push(i),a),{}),rules:t,...r}}const Y1e={depreciation:"Depreciation & Section 179",vehicle:"Vehicle & Mileage",home_office:"Home Office",meals:"Meals & Entertainment",health:"Health Insurance",retirement:"Retirement Contributions",qbi:"Qualified Business Income",disability:"Disability (IRWE)",charitable:"Charitable Contributions",vine:"Product Reviews & Content Creation",team_building:"Team Building (100%)",donations:"Donations & Charity",rental_business:"Rental Business",expert_tips:"Expert CPA Tips",back_taxes:"Back Taxes & Amendments",student_loan:"Student Loan Interest","1099_nec":"1099-NEC Rules & Write-offs","1099_misc":"1099-MISC Rules & Write-offs","1099_k":"1099-K Rules & Write-offs","1099_int_div":"1099-INT/DIV Rules","1099_percentages":"Key Tax Percentages"};function X1e({rule:e}){const[t,r]=x.useState(!1);return n.jsx(q,{className:"border-border/50 hover:border-primary/30 transition-colors",children:n.jsxs(_m,{open:t,onOpenChange:r,children:[n.jsx(Sm,{asChild:!0,children:n.jsx(de,{className:"cursor-pointer hover:bg-muted/30 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs(ce,{className:"text-lg flex items-center gap-2",children:[e.deduction_name,e.can_be_increased&&n.jsxs(ne,{variant:"outline",className:"text-xs bg-green-500/10 text-green-600 border-green-500/30",children:[n.jsx(Fs,{className:"h-3 w-3 mr-1"}),"Can Increase"]})]}),n.jsxs(ye,{className:"flex items-center gap-2",children:[n.jsx($t,{className:"h-4 w-4"}),e.max_amount!==null?e.max_amount<1?`${e.max_amount}`:Se(e.max_amount):"No fixed limit",e.max_amount_description&&n.jsxs("span",{className:"text-muted-foreground",children:[" ",e.max_amount_description]})]})]}),n.jsx($,{variant:"ghost",size:"sm",children:t?n.jsx(nB,{className:"h-4 w-4"}):n.jsx(Jl,{className:"h-4 w-4"})})]})})}),n.jsx(Cm,{children:n.jsxs(K,{className:"pt-0 space-y-4",children:[e.can_be_increased&&e.increase_conditions&&e.increase_conditions.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-medium text-sm flex items-center gap-2 text-green-600",children:[n.jsx(Fs,{className:"h-4 w-4"}),"How to Increase / Caveats"]}),n.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground",children:e.increase_conditions.map((s,a)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Xa,{className:"h-4 w-4 mt-0.5 text-amber-500 shrink-0"}),s]},a))})]}),e.increase_amounts&&Object.keys(e.increase_amounts).length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-medium text-sm flex items-center gap-2 text-blue-600",children:[n.jsx($t,{className:"h-4 w-4"}),"Amount Details"]}),n.jsx("div",{className:"bg-muted/50 rounded-lg p-3 text-sm",children:n.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(e.increase_amounts).map(([s,a])=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground capitalize",children:[s.replace(/_/g," "),":"]}),n.jsx("span",{className:"font-medium",children:typeof a=="number"?a>=1?Se(a):`${a*100}%`:String(a)})]},s))})})]}),e.proof_required&&e.proof_required.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-medium text-sm flex items-center gap-2 text-orange-600",children:[n.jsx(wt,{className:"h-4 w-4"}),"Required Documentation"]}),n.jsx("ul",{className:"space-y-1 text-sm",children:e.proof_required.map((s,a)=>n.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground",children:[n.jsx(At,{className:"h-4 w-4 mt-0.5 text-green-500 shrink-0"}),s]},a))})]}),e.applicable_forms&&e.applicable_forms.length>0&&n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("span",{className:"text-sm font-medium",children:"Forms:"}),e.applicable_forms.map((s,a)=>n.jsx(ne,{variant:"secondary",className:"text-xs",children:s},a))]}),e.business_types&&e.business_types.length>0&&n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("span",{className:"text-sm font-medium",children:"Applies to:"}),e.business_types.map((s,a)=>n.jsx(ne,{variant:"outline",className:"text-xs capitalize",children:s.replace(/_/g," ")},a))]}),e.notes&&n.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3 text-sm text-amber-700 dark:text-amber-300",children:[n.jsx("strong",{children:"Note:"})," ",e.notes]}),e.irs_reference&&n.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(Vl,{className:"h-3 w-3"}),"Reference: ",e.irs_reference]})]})})]})})}const Q1e={depreciation:n.jsx(Wn,{className:"h-4 w-4"}),vehicle:n.jsx(Q_,{className:"h-4 w-4"}),home_office:n.jsx(Hb,{className:"h-4 w-4"}),meals:n.jsx(Pee,{className:"h-4 w-4"}),health:n.jsx(cn,{className:"h-4 w-4"}),retirement:n.jsx(fT,{className:"h-4 w-4"}),qbi:n.jsx(Fs,{className:"h-4 w-4"}),disability:n.jsx(pp,{className:"h-4 w-4"}),charitable:n.jsx(tee,{className:"h-4 w-4"}),vine:n.jsx(zu,{className:"h-4 w-4"}),team_building:n.jsx(Or,{className:"h-4 w-4"}),donations:n.jsx(cn,{className:"h-4 w-4"}),rental_business:n.jsx($x,{className:"h-4 w-4"}),expert_tips:n.jsx(Bx,{className:"h-4 w-4"}),back_taxes:n.jsx(wt,{className:"h-4 w-4"}),"1099_nec":n.jsx(wt,{className:"h-4 w-4"}),"1099_misc":n.jsx(YJ,{className:"h-4 w-4"}),"1099_k":n.jsx(Bl,{className:"h-4 w-4"}),"1099_int_div":n.jsx(hT,{className:"h-4 w-4"}),"1099_percentages":n.jsx(uB,{className:"h-4 w-4"})};function Z1e(){const[e,t]=x.useState(2024),[r,s]=x.useState(""),[a,i]=x.useState("all"),{groupedRules:o,rules:l,isLoading:c,error:d}=G1e(e),u=l==null?void 0:l.filter(m=>{var g,v;const f=m.deduction_name.toLowerCase().includes(r.toLowerCase())||((g=m.max_amount_description)==null?void 0:g.toLowerCase().includes(r.toLowerCase()))||((v=m.notes)==null?void 0:v.toLowerCase().includes(r.toLowerCase())),p=a==="all"||m.category===a;return f&&p}),h=o?Object.keys(o):[];return c?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(on,{className:"h-8 w-8 animate-spin text-primary"})}):d?n.jsx(q,{className:"border-destructive",children:n.jsx(K,{className:"py-8 text-center text-destructive",children:"Failed to load tax deduction rules. Please try again."})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs(q,{className:"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Fl,{className:"h-5 w-5"}),"Tax Deduction Reference Guide"]}),n.jsxs(ye,{children:["Maximum deductibles, increase conditions, and required documentation for ",e]})]}),n.jsx(K,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(xp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(F,{placeholder:"Search deductions...",value:r,onChange:m=>s(m.target.value),className:"pl-9"})]}),n.jsxs(Re,{value:String(e),onValueChange:m=>t(Number(m)),children:[n.jsx(Pe,{className:"w-[140px]",children:n.jsx(Ie,{placeholder:"Tax Year"})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"2024",children:"2024"}),n.jsx(he,{value:"2025",children:"2025"})]})]})]})})]}),n.jsxs(Dr,{value:a,onValueChange:i,children:[n.jsxs(Nr,{className:"flex flex-wrap h-auto gap-1 bg-muted/50 p-1",children:[n.jsx(ke,{value:"all",className:"text-xs",children:"All"}),h.map(m=>n.jsxs(ke,{value:m,className:"text-xs flex items-center gap-1",children:[Q1e[m],n.jsx("span",{className:"hidden sm:inline",children:Y1e[m]||m})]},m))]}),n.jsx(De,{value:a,className:"mt-4",children:u&&u.length>0?n.jsx("div",{className:"grid gap-4",children:u.map(m=>n.jsx(X1e,{rule:m},m.id))}):n.jsx(q,{children:n.jsx(K,{className:"py-12 text-center text-muted-foreground",children:"No deduction rules found matching your criteria."})})})]}),l&&n.jsx(q,{className:"bg-muted/30",children:n.jsx(K,{className:"py-4",children:n.jsxs("div",{className:"flex flex-wrap gap-4 justify-center text-sm text-muted-foreground",children:[n.jsxs("span",{children:[n.jsx("strong",{className:"text-foreground",children:l.length})," deduction rules"]}),n.jsx("span",{children:""}),n.jsxs("span",{children:[n.jsx("strong",{className:"text-foreground",children:l.filter(m=>m.can_be_increased).length})," with increase options"]}),n.jsx("span",{children:""}),n.jsxs("span",{children:[n.jsx("strong",{className:"text-foreground",children:h.length})," categories"]})]})})})]})}function J1e(e,t){return ft({queryKey:["tax-law-changes",e,t],queryFn:async()=>{let r=Y.from("tax_law_changes").select("*").order("display_order");r=r.eq("law_abbreviation",e);const{data:s,error:a}=await r;if(a)throw a;return s}})}function eNe(e){const{data:t,...r}=J1e(e),s=t==null?void 0:t.reduce((o,l)=>(o[l.provision_category]||(o[l.provision_category]=[]),o[l.provision_category].push(l),o),{}),a=(t==null?void 0:t.filter(o=>o.is_permanent))||[],i=(t==null?void 0:t.filter(o=>!o.is_permanent))||[];return{groupedChanges:s,changes:t,permanentChanges:a,expiringChanges:i,...r}}const tNe={deductions:"Deductions",rates:"Tax Rates",credits:"Tax Credits",amt:"Alternative Minimum Tax",estate:"Estate & Gift Tax",business:"Business Taxes",depreciation:"Depreciation",healthcare:"Healthcare",indexing:"Inflation Indexing"};function uH(e){if(!e)return!1;const t=new Date(e),r=new Date,s=new Date;return s.setFullYear(s.getFullYear()+1),t<=s&&t>r}function rNe(e){return e?new Date(e)<new Date:!1}const nNe={increased:n.jsx(OJ,{className:"h-4 w-4 text-green-500"}),decreased:n.jsx(AJ,{className:"h-4 w-4 text-red-500"}),eliminated:n.jsx(hee,{className:"h-4 w-4 text-red-500"}),created:n.jsx(jr,{className:"h-4 w-4 text-green-500"}),modified:n.jsx(wt,{className:"h-4 w-4 text-blue-500"})};function sNe({direction:e}){if(!e)return null;const t={increased:"bg-green-500/10 text-green-600 border-green-500/30",decreased:"bg-red-500/10 text-red-600 border-red-500/30",eliminated:"bg-red-500/10 text-red-600 border-red-500/30",created:"bg-green-500/10 text-green-600 border-green-500/30",modified:"bg-blue-500/10 text-blue-600 border-blue-500/30"};return n.jsxs(ne,{variant:"outline",className:`text-xs ${t[e]||""}`,children:[nNe[e],n.jsx("span",{className:"ml-1 capitalize",children:e})]})}function hH({change:e}){return e.is_permanent?n.jsxs(ne,{className:"bg-blue-500/20 text-blue-600 border-blue-500/30",children:[n.jsx(see,{className:"h-3 w-3 mr-1"}),"Permanent"]}):rNe(e.expiration_date)?n.jsxs(ne,{variant:"destructive",children:[n.jsx(jt,{className:"h-3 w-3 mr-1"}),"Expired"]}):uH(e.expiration_date)?n.jsxs(ne,{className:"bg-amber-500/20 text-amber-600 border-amber-500/30",children:[n.jsx(is,{className:"h-3 w-3 mr-1"}),"Expiring Soon"]}):n.jsxs(ne,{className:"bg-green-500/20 text-green-600 border-green-500/30",children:[n.jsx(At,{className:"h-3 w-3 mr-1"}),"Active"]})}function aNe({change:e}){return n.jsxs(q,{className:"border-border/50 hover:border-primary/30 transition-colors",children:[n.jsxs(de,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[n.jsx(ce,{className:"text-base",children:e.provision_name}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx(hH,{change:e}),n.jsx(sNe,{direction:e.change_direction})]})]}),e.expiration_date&&!e.is_permanent&&n.jsxs(ye,{className:"flex items-center gap-1 text-xs",children:[n.jsx(_s,{className:"h-3 w-3"}),"Expires: ",new Date(e.expiration_date).toLocaleDateString()]})]}),n.jsx(K,{className:"pt-0",children:n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[n.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1 font-medium",children:"Pre-2018 (Before TCJA)"}),n.jsx("div",{className:"font-semibold",children:e.pre_law_value||"N/A"}),e.pre_law_description&&n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:e.pre_law_description})]}),n.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3",children:[n.jsx("div",{className:"text-xs text-primary mb-1 font-medium",children:"Current (2018-2025)"}),n.jsx("div",{className:"font-semibold",children:e.current_value||"N/A"}),e.current_description&&n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:e.current_description})]}),n.jsxs("div",{className:`rounded-lg p-3 ${e.is_permanent?"bg-blue-500/5 border border-blue-500/20":"bg-amber-500/5 border border-amber-500/20"}`,children:[n.jsx("div",{className:`text-xs mb-1 font-medium ${e.is_permanent?"text-blue-600":"text-amber-600"}`,children:e.is_permanent?"Permanent":"After 2025"}),n.jsx("div",{className:"font-semibold",children:e.post_expiration_value||"N/A"}),e.post_expiration_description&&n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:e.post_expiration_description})]})]}),e.affected_taxpayers&&e.affected_taxpayers.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Affects:"}),e.affected_taxpayers.map((t,r)=>n.jsx(ne,{variant:"outline",className:"text-xs",children:t},r))]}),e.notes&&n.jsx("div",{className:"text-xs bg-amber-500/10 border border-amber-500/20 rounded p-2 text-amber-700 dark:text-amber-300",children:e.notes}),e.irs_reference&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Reference: ",e.irs_reference]})]})})]})}function iNe(){var u;const[e,t]=x.useState("all"),{groupedChanges:r,changes:s,permanentChanges:a,expiringChanges:i,isLoading:o,error:l}=eNe("TCJA");if(o)return n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(on,{className:"h-8 w-8 animate-spin text-primary"})});if(l)return n.jsx(q,{className:"border-destructive",children:n.jsx(K,{className:"py-8 text-center text-destructive",children:"Failed to load tax law changes. Please try again."})});const c=r?Object.keys(r):[],d=()=>e==="all"?s:e==="expiring"?i:e==="permanent"?a:(r==null?void 0:r[e])||[];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(q,{className:"bg-gradient-to-r from-amber-500/10 to-red-500/10 border-amber-500/20",children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(jt,{className:"h-5 w-5 text-amber-500"}),"Tax Cuts and Jobs Act (TCJA) - What Changed & What's Expiring"]}),n.jsx(ye,{children:"Compare pre-2018, current (2018-2025), and post-2025 tax rules"})]}),n.jsx(K,{children:n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{className:"bg-amber-500/20 text-amber-600",children:i.length}),n.jsx("span",{children:"Expiring provisions"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{className:"bg-blue-500/20 text-blue-600",children:a.length}),n.jsx("span",{children:"Permanent changes"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{className:"bg-red-500/20 text-red-600",children:i.filter(h=>uH(h.expiration_date)).length}),n.jsx("span",{children:"Expiring within 1 year"})]})]})})]}),n.jsxs(q,{children:[n.jsx(de,{children:n.jsx(ce,{className:"text-lg",children:"At-a-Glance Comparison"})}),n.jsx(K,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Provision"}),n.jsx(te,{children:"Pre-2018"}),n.jsx(te,{className:"bg-primary/5",children:"Current"}),n.jsx(te,{children:"After 2025"}),n.jsx(te,{children:"Status"})]})}),n.jsx(Wt,{children:s==null?void 0:s.slice(0,10).map(h=>n.jsxs(Ve,{children:[n.jsx(Q,{className:"font-medium",children:h.provision_name}),n.jsx(Q,{className:"text-sm text-muted-foreground",children:h.pre_law_value}),n.jsx(Q,{className:"text-sm bg-primary/5 font-medium",children:h.current_value}),n.jsx(Q,{className:"text-sm text-muted-foreground",children:h.post_expiration_value}),n.jsx(Q,{children:n.jsx(hH,{change:h})})]},h.id))})]})})})]}),n.jsxs(Dr,{value:e,onValueChange:t,children:[n.jsxs(Nr,{className:"flex flex-wrap h-auto gap-1 bg-muted/50 p-1",children:[n.jsx(ke,{value:"all",className:"text-xs",children:"All"}),n.jsx(ke,{value:"expiring",className:"text-xs text-amber-600",children:"Expiring"}),n.jsx(ke,{value:"permanent",className:"text-xs text-blue-600",children:"Permanent"}),c.map(h=>n.jsx(ke,{value:h,className:"text-xs capitalize",children:tNe[h]||h},h))]}),n.jsx(De,{value:e,className:"mt-4",children:n.jsx("div",{className:"grid gap-4",children:(u=d())==null?void 0:u.map(h=>n.jsx(aNe,{change:h},h.id))})})]})]})}function oNe(){const e=Qt(),[t,r]=x.useState("deductions");return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container flex h-16 items-center justify-between px-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs($,{variant:"ghost",size:"sm",onClick:()=>e(-1),children:[n.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-xl font-semibold",children:"Tax Rules & Law Changes"})]}),n.jsxs("nav",{className:"flex items-center gap-4",children:[n.jsx(Vs,{to:"/",children:"Home"}),n.jsx(Vs,{to:"/tax-forms",children:"Tax Forms"}),n.jsx(Vs,{to:"/vine-tracker",children:"Vine Tracker"})]})]})}),n.jsx("main",{className:"container px-4 py-8",children:n.jsxs(Dr,{value:t,onValueChange:r,className:"space-y-6",children:[n.jsxs(Nr,{className:"grid w-full max-w-md grid-cols-2",children:[n.jsxs(ke,{value:"deductions",className:"flex items-center gap-2",children:[n.jsx(Fl,{className:"h-4 w-4"}),"Deduction Rules"]}),n.jsxs(ke,{value:"tcja",className:"flex items-center gap-2",children:[n.jsx(lB,{className:"h-4 w-4"}),"TCJA Changes"]})]}),n.jsx(De,{value:"deductions",children:n.jsx(Z1e,{})}),n.jsx(De,{value:"tcja",children:n.jsx(iNe,{})})]})})]})}function mH(e){return ft({queryKey:["donations",e],queryFn:async()=>{let t=Y.from("donation_records").select("*").order("donation_date",{ascending:!1});e&&(t=t.eq("included_in_tax_year",e));const{data:r,error:s}=await t;if(s)throw s;return r}})}function lNe(){return ft({queryKey:["saved-charities"],queryFn:async()=>{const{data:e,error:t}=await Y.from("saved_charities").select("*").order("charity_name");if(t)throw t;return e}})}function cNe(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{data:s}=await Y.auth.getUser();if(!s.user)throw new Error("Not authenticated");const a=r.fair_market_value||0;let i=null;a>=500&&a<=5e3?i="A":a>5e3&&(i="B");const{data:o,error:l}=await Y.from("donation_records").insert([{product_name:r.product_name,charity_name:r.charity_name,user_id:s.user.id,donation_date:r.donation_date||new Date().toISOString().split("T")[0],source_product_id:r.source_product_id??null,original_etv:r.original_etv??0,fair_market_value:r.fair_market_value??0,cost_basis:r.cost_basis??0,condition_at_donation:r.condition_at_donation??"good",valuation_method:r.valuation_method??"comparable_sales",comparable_evidence:r.comparable_evidence??null,charity_ein:r.charity_ein??null,charity_address:r.charity_address??null,charity_city:r.charity_city??null,charity_state:r.charity_state??null,charity_zip:r.charity_zip??null,is_501c3:r.is_501c3??!0,acknowledgment_received:!1,acknowledgment_date:null,receipt_number:r.receipt_number??null,appraisal_required:a>5e3,appraiser_name:null,appraiser_ein:null,form_8283_section:i,included_in_tax_year:r.included_in_tax_year??null,photo_urls:r.photo_urls??null,notes:r.notes??null}]).select().single();if(l)throw l;return o},onSuccess:()=>{e.invalidateQueries({queryKey:["donations"]}),t({title:"Donation recorded successfully"})},onError:r=>{t({title:"Failed to record donation",description:r.message,variant:"destructive"})}})}function dNe(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async({id:r,...s})=>{const{data:a,error:i}=await Y.from("donation_records").update(s).eq("id",r).select().single();if(i)throw i;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["donations"]}),t({title:"Donation updated"})},onError:r=>{t({title:"Failed to update donation",description:r.message,variant:"destructive"})}})}function uNe(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{error:s}=await Y.from("donation_records").delete().eq("id",r);if(s)throw s},onSuccess:()=>{e.invalidateQueries({queryKey:["donations"]}),t({title:"Donation deleted"})},onError:r=>{t({title:"Failed to delete donation",description:r.message,variant:"destructive"})}})}function fH(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{data:s}=await Y.auth.getUser();if(!s.user)throw new Error("Not authenticated");const{data:a,error:i}=await Y.from("saved_charities").insert([{charity_name:r.charity_name,user_id:s.user.id,ein:r.ein??null,address:r.address??null,city:r.city??null,state:r.state??null,zip:r.zip??null,is_501c3:r.is_501c3??!0,contact_name:r.contact_name??null,contact_email:r.contact_email??null,contact_phone:r.contact_phone??null,notes:r.notes??null,total_donations:r.total_donations??0}]).select().single();if(i)throw i;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["saved-charities"]}),t({title:"Charity saved"})},onError:r=>{t({title:"Failed to save charity",description:r.message,variant:"destructive"})}})}function hNe(e){const t=e.reduce((o,l)=>o+(l.fair_market_value||0),0),r=e.filter(o=>o.form_8283_section==="A"),s=e.filter(o=>o.form_8283_section==="B"),a=e.filter(o=>!o.acknowledgment_received),i=s.filter(o=>!o.appraiser_name);return{totalFMV:t,requiresForm8283:t>=500,sectionACount:r.length,sectionBCount:s.length,missingAcknowledgments:a.length,needsAppraisal:i.length,sectionADonations:r,sectionBDonations:s}}function oo(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function mNe({donations:e,selectedYear:t,onYearChange:r}){const[s,a]=x.useState(null),i=uNe(),o=dNe(),l=c=>{o.mutate({id:c,acknowledgment_received:!0,acknowledgment_date:new Date().toISOString().split("T")[0]})};return e.length===0?n.jsx(q,{children:n.jsxs(K,{className:"py-12 text-center text-muted-foreground",children:[n.jsxs("p",{children:["No donations recorded for ",t,"."]}),n.jsx("p",{className:"text-sm mt-2",children:'Click "Add Donation" to get started.'})]})}):n.jsxs(q,{children:[n.jsx(de,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ce,{children:"Donation Records"}),n.jsxs(Re,{value:String(t),onValueChange:c=>r(Number(c)),children:[n.jsx(Pe,{className:"w-[120px]",children:n.jsx(Ie,{})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"2024",children:"2024"}),n.jsx(he,{value:"2025",children:"2025"})]})]})]})}),n.jsx(K,{children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{className:"w-8"}),n.jsx(te,{children:"Product"}),n.jsx(te,{children:"Charity"}),n.jsx(te,{children:"Date"}),n.jsx(te,{className:"text-right",children:"FMV"}),n.jsx(te,{children:"Status"}),n.jsx(te,{className:"w-20",children:"Actions"})]})}),n.jsx(Wt,{children:e.map(c=>{var d;return n.jsx(_m,{asChild:!0,children:n.jsxs(n.Fragment,{children:[n.jsxs(Ve,{className:"cursor-pointer hover:bg-muted/50",children:[n.jsx(Q,{children:n.jsx(Sm,{asChild:!0,children:n.jsx($,{variant:"ghost",size:"sm",onClick:()=>a(s===c.id?null:c.id),children:s===c.id?n.jsx(Jl,{className:"h-4 w-4"}):n.jsx(as,{className:"h-4 w-4"})})})}),n.jsx(Q,{className:"font-medium",children:c.product_name}),n.jsx(Q,{children:c.charity_name}),n.jsx(Q,{children:_t(new Date(c.donation_date),"MMM d, yyyy")}),n.jsx(Q,{className:"text-right",children:oo(c.fair_market_value)}),n.jsx(Q,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[c.acknowledgment_received?n.jsxs(ne,{variant:"outline",className:"bg-green-500/10 text-green-600",children:[n.jsx(At,{className:"h-3 w-3 mr-1"}),"Receipt"]}):n.jsxs(ne,{variant:"outline",className:"bg-amber-500/10 text-amber-600",children:[n.jsx(Xa,{className:"h-3 w-3 mr-1"}),"Pending"]}),c.form_8283_section&&n.jsxs(ne,{variant:"secondary",children:["8283-",c.form_8283_section]})]})}),n.jsx(Q,{children:n.jsxs(mo,{children:[n.jsx(nP,{asChild:!0,children:n.jsx($,{variant:"ghost",size:"sm",children:n.jsx(xr,{className:"h-4 w-4 text-destructive"})})}),n.jsxs(Ci,{children:[n.jsxs(ki,{children:[n.jsx(Ei,{children:"Delete Donation Record?"}),n.jsxs(Pi,{children:['This will permanently delete the donation record for "',c.product_name,'".']})]}),n.jsxs(Ti,{children:[n.jsx(Ai,{children:"Cancel"}),n.jsx(lc,{onClick:()=>i.mutate(c.id),className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})]})})]}),n.jsx(Cm,{asChild:!0,children:n.jsx(Ve,{className:"bg-muted/30",children:n.jsx(Q,{colSpan:7,children:n.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Valuation"}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Original ETV:"}),n.jsx("span",{children:oo(c.original_etv)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Fair Market Value:"}),n.jsx("span",{children:oo(c.fair_market_value)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Cost Basis:"}),n.jsx("span",{children:oo(c.cost_basis)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Condition:"}),n.jsx("span",{className:"capitalize",children:c.condition_at_donation})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Method:"}),n.jsx("span",{className:"capitalize",children:(d=c.valuation_method)==null?void 0:d.replace(/_/g," ")})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Charity"}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsx("div",{children:c.charity_name}),c.charity_ein&&n.jsxs("div",{className:"text-muted-foreground",children:["EIN: ",c.charity_ein]}),c.charity_address&&n.jsxs("div",{className:"text-muted-foreground",children:[c.charity_address,c.charity_city&&`, ${c.charity_city}`,c.charity_state&&`, ${c.charity_state}`,c.charity_zip&&` ${c.charity_zip}`]}),n.jsx(ne,{variant:c.is_501c3?"default":"secondary",children:c.is_501c3?"501(c)(3)":"Other"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Documentation"}),n.jsxs("div",{className:"text-sm space-y-2",children:[c.receipt_number&&n.jsxs("div",{className:"text-muted-foreground",children:["Receipt #: ",c.receipt_number]}),c.acknowledgment_date&&n.jsxs("div",{className:"text-muted-foreground",children:["Received: ",_t(new Date(c.acknowledgment_date),"MMM d, yyyy")]}),!c.acknowledgment_received&&n.jsxs($,{size:"sm",variant:"outline",onClick:()=>l(c.id),children:[n.jsx(At,{className:"h-4 w-4 mr-1"}),"Mark Receipt Received"]}),c.appraisal_required&&n.jsx(ne,{variant:"destructive",children:"Appraisal Required"})]}),c.notes&&n.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[n.jsx("strong",{children:"Notes:"})," ",c.notes]})]})]})})})})]})},c.id)})})]})})]})}function fNe({open:e,onOpenChange:t,charities:r}){const s=cNe(),a=fH(),[i,o]=x.useState({product_name:"",donation_date:new Date().toISOString().split("T")[0],original_etv:"",fair_market_value:"",cost_basis:"0",condition_at_donation:"good",valuation_method:"comparable_sales",comparable_evidence:"",charity_name:"",charity_ein:"",charity_address:"",charity_city:"",charity_state:"",charity_zip:"",is_501c3:!0,receipt_number:"",notes:"",included_in_tax_year:new Date().getFullYear(),save_charity:!1}),[l,c]=x.useState(""),d=p=>{c(p);const g=r.find(v=>v.id===p);g&&o(v=>({...v,charity_name:g.charity_name,charity_ein:g.ein||"",charity_address:g.address||"",charity_city:g.city||"",charity_state:g.state||"",charity_zip:g.zip||"",is_501c3:g.is_501c3}))},u=async p=>{p.preventDefault(),i.save_charity&&!l&&await a.mutateAsync({charity_name:i.charity_name,ein:i.charity_ein||null,address:i.charity_address||null,city:i.charity_city||null,state:i.charity_state||null,zip:i.charity_zip||null,is_501c3:i.is_501c3}),await s.mutateAsync({product_name:i.product_name,donation_date:i.donation_date,original_etv:parseFloat(i.original_etv)||0,fair_market_value:parseFloat(i.fair_market_value)||0,cost_basis:parseFloat(i.cost_basis)||0,condition_at_donation:i.condition_at_donation,valuation_method:i.valuation_method,comparable_evidence:i.comparable_evidence||null,charity_name:i.charity_name,charity_ein:i.charity_ein||null,charity_address:i.charity_address||null,charity_city:i.charity_city||null,charity_state:i.charity_state||null,charity_zip:i.charity_zip||null,is_501c3:i.is_501c3,receipt_number:i.receipt_number||null,notes:i.notes||null,included_in_tax_year:i.included_in_tax_year}),t(!1),o({product_name:"",donation_date:new Date().toISOString().split("T")[0],original_etv:"",fair_market_value:"",cost_basis:"0",condition_at_donation:"good",valuation_method:"comparable_sales",comparable_evidence:"",charity_name:"",charity_ein:"",charity_address:"",charity_city:"",charity_state:"",charity_zip:"",is_501c3:!0,receipt_number:"",notes:"",included_in_tax_year:new Date().getFullYear(),save_charity:!1}),c("")},h=parseFloat(i.fair_market_value)||0,m=h>=500,f=h>5e3;return n.jsx(Xt,{open:e,onOpenChange:t,children:n.jsxs(qt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Ht,{children:[n.jsx(Kt,{children:"Record Donation"}),n.jsx(ko,{children:"Track a Vine product donation for tax purposes"})]}),n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs(Dr,{defaultValue:"product",children:[n.jsxs(Nr,{className:"grid w-full grid-cols-3",children:[n.jsx(ke,{value:"product",children:"Product"}),n.jsx(ke,{value:"charity",children:"Charity"}),n.jsx(ke,{value:"valuation",children:"Valuation"})]}),n.jsx(De,{value:"product",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"product_name",children:"Product Name *"}),n.jsx(F,{id:"product_name",value:i.product_name,onChange:p=>o(g=>({...g,product_name:p.target.value})),placeholder:"Enter product name",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"donation_date",children:"Donation Date *"}),n.jsx(F,{id:"donation_date",type:"date",value:i.donation_date,onChange:p=>o(g=>({...g,donation_date:p.target.value})),required:!0})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"tax_year",children:"Tax Year"}),n.jsxs(Re,{value:String(i.included_in_tax_year),onValueChange:p=>o(g=>({...g,included_in_tax_year:Number(p)})),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"2024",children:"2024"}),n.jsx(he,{value:"2025",children:"2025"})]})]})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"condition",children:"Condition at Donation"}),n.jsxs(Re,{value:i.condition_at_donation,onValueChange:p=>o(g=>({...g,condition_at_donation:p})),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"new",children:"New (Unopened)"}),n.jsx(he,{value:"like_new",children:"Like New"}),n.jsx(he,{value:"good",children:"Good"}),n.jsx(he,{value:"fair",children:"Fair"}),n.jsx(he,{value:"poor",children:"Poor"})]})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"notes",children:"Notes"}),n.jsx(wr,{id:"notes",value:i.notes,onChange:p=>o(g=>({...g,notes:p.target.value})),placeholder:"Additional notes about the donation...",rows:2})]})]})}),n.jsxs(De,{value:"charity",className:"space-y-4 mt-4",children:[r.length>0&&n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{children:"Select Saved Charity"}),n.jsxs(Re,{value:l,onValueChange:d,children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Choose a saved charity or enter new..."})}),n.jsx(Ae,{children:r.map(p=>n.jsxs(he,{value:p.id,children:[p.charity_name," ",p.ein&&`(${p.ein})`]},p.id))})]})]}),n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"charity_name",children:"Charity Name *"}),n.jsx(F,{id:"charity_name",value:i.charity_name,onChange:p=>o(g=>({...g,charity_name:p.target.value})),placeholder:"Enter charity name",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"charity_ein",children:"EIN (Tax ID)"}),n.jsx(F,{id:"charity_ein",value:i.charity_ein,onChange:p=>o(g=>({...g,charity_ein:p.target.value})),placeholder:"XX-XXXXXXX"})]}),n.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[n.jsx(lr,{checked:i.is_501c3,onCheckedChange:p=>o(g=>({...g,is_501c3:p}))}),n.jsx(M,{children:"501(c)(3) Organization"})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"charity_address",children:"Address"}),n.jsx(F,{id:"charity_address",value:i.charity_address,onChange:p=>o(g=>({...g,charity_address:p.target.value})),placeholder:"Street address"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"charity_city",children:"City"}),n.jsx(F,{id:"charity_city",value:i.charity_city,onChange:p=>o(g=>({...g,charity_city:p.target.value}))})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"charity_state",children:"State"}),n.jsx(F,{id:"charity_state",value:i.charity_state,onChange:p=>o(g=>({...g,charity_state:p.target.value})),maxLength:2})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"charity_zip",children:"ZIP"}),n.jsx(F,{id:"charity_zip",value:i.charity_zip,onChange:p=>o(g=>({...g,charity_zip:p.target.value}))})]})]}),!l&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lr,{checked:i.save_charity,onCheckedChange:p=>o(g=>({...g,save_charity:p}))}),n.jsx(M,{children:"Save charity for future donations"})]})]})]}),n.jsxs(De,{value:"valuation",className:"space-y-4 mt-4",children:[n.jsxs(Ua,{children:[n.jsx(Gs,{className:"h-4 w-4"}),n.jsxs(Wa,{children:[n.jsx("strong",{children:"Vine Products:"})," Your cost basis is typically $0 since you received the item for free. The FMV is what you'd pay for the item in its current condition."]})]}),n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"original_etv",children:"Original ETV ($)"}),n.jsx(F,{id:"original_etv",type:"number",step:"0.01",value:i.original_etv,onChange:p=>o(g=>({...g,original_etv:p.target.value})),placeholder:"0.00"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"fair_market_value",children:"Fair Market Value ($) *"}),n.jsx(F,{id:"fair_market_value",type:"number",step:"0.01",value:i.fair_market_value,onChange:p=>o(g=>({...g,fair_market_value:p.target.value})),placeholder:"0.00",required:!0})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"cost_basis",children:"Cost Basis ($)"}),n.jsx(F,{id:"cost_basis",type:"number",step:"0.01",value:i.cost_basis,onChange:p=>o(g=>({...g,cost_basis:p.target.value})),placeholder:"0.00"})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"valuation_method",children:"Valuation Method"}),n.jsxs(Re,{value:i.valuation_method,onValueChange:p=>o(g=>({...g,valuation_method:p})),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"comparable_sales",children:"Comparable Sales (eBay, Amazon)"}),n.jsx(he,{value:"replacement_cost",children:"Replacement Cost"}),n.jsx(he,{value:"qualified_appraisal",children:"Qualified Appraisal"})]})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"comparable_evidence",children:"Valuation Evidence"}),n.jsx(wr,{id:"comparable_evidence",value:i.comparable_evidence,onChange:p=>o(g=>({...g,comparable_evidence:p.target.value})),placeholder:"e.g., 'Similar item sold on eBay for $XX on [date]'",rows:2})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"receipt_number",children:"Receipt/Acknowledgment Number"}),n.jsx(F,{id:"receipt_number",value:i.receipt_number,onChange:p=>o(g=>({...g,receipt_number:p.target.value})),placeholder:"Enter if already received"})]})]}),m&&n.jsxs(Ua,{variant:"destructive",className:"bg-amber-500/10 border-amber-500/30 text-amber-700",children:[n.jsx(jt,{className:"h-4 w-4"}),n.jsxs(Wa,{children:[n.jsx("strong",{children:"Form 8283 Required:"})," FMV exceeds $500.",f&&" A qualified appraisal is required for items over $5,000."]})]})]})]}),n.jsxs(Tj,{children:[n.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs($,{type:"submit",disabled:s.isPending,children:[s.isPending&&n.jsx(on,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Donation"]})]})]})]})})}function pNe({donations:e,requirements:t,taxYear:r}){const s=t.missingAcknowledgments===0&&t.needsAppraisal===0;return t.requiresForm8283?n.jsxs("div",{className:"space-y-6",children:[n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(wt,{className:"h-5 w-5"}),"Form 8283 - Noncash Charitable Contributions"]}),n.jsx(ye,{children:"Required when total noncash donations exceed $500 in a tax year"})]}),n.jsxs(K,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-center",children:[n.jsx("div",{className:"text-2xl font-bold",children:oo(t.totalFMV)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Total FMV"})]}),n.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-center",children:[n.jsx("div",{className:"text-2xl font-bold",children:t.sectionACount}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Section A Items"})]}),n.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-center",children:[n.jsx("div",{className:"text-2xl font-bold",children:t.sectionBCount}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Section B Items"})]}),n.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-center",children:[s?n.jsx(At,{className:"h-8 w-8 text-green-500 mx-auto"}):n.jsx(jt,{className:"h-8 w-8 text-amber-500 mx-auto"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:s?"Ready to File":"Action Needed"})]})]}),n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsx("h4",{className:"font-medium",children:"Filing Checklist"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(At,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{children:"Total donations over $500 - Form 8283 required"})]}),n.jsxs("div",{className:`flex items-center gap-2 text-sm ${t.missingAcknowledgments===0?"":"text-amber-600"}`,children:[t.missingAcknowledgments===0?n.jsx(At,{className:"h-4 w-4 text-green-500"}):n.jsx(jt,{className:"h-4 w-4"}),n.jsxs("span",{children:["Written acknowledgment from charities",t.missingAcknowledgments>0&&` (${t.missingAcknowledgments} pending)`]})]}),t.sectionBCount>0&&n.jsxs("div",{className:`flex items-center gap-2 text-sm ${t.needsAppraisal===0?"":"text-amber-600"}`,children:[t.needsAppraisal===0?n.jsx(At,{className:"h-4 w-4 text-green-500"}):n.jsx(jt,{className:"h-4 w-4"}),n.jsxs("span",{children:["Qualified appraisals for items over $5,000",t.needsAppraisal>0&&` (${t.needsAppraisal} needed)`]})]})]})]})]})]}),t.sectionADonations.length>0&&n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{className:"text-lg",children:"Section A - Donated Property ($500-$5,000)"}),n.jsx(ye,{children:"Items with FMV between $500 and $5,000. No appraisal required."})]}),n.jsx(K,{children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Property Description"}),n.jsx(te,{children:"Donee (Charity)"}),n.jsx(te,{children:"Date"}),n.jsx(te,{children:"Condition"}),n.jsx(te,{className:"text-right",children:"FMV"}),n.jsx(te,{children:"Receipt"})]})}),n.jsx(Wt,{children:t.sectionADonations.map(a=>n.jsxs(Ve,{children:[n.jsx(Q,{className:"font-medium",children:a.product_name}),n.jsxs(Q,{children:[a.charity_name,a.charity_ein&&n.jsx("span",{className:"text-muted-foreground text-xs block",children:a.charity_ein})]}),n.jsx(Q,{children:_t(new Date(a.donation_date),"MM/dd/yyyy")}),n.jsx(Q,{className:"capitalize",children:a.condition_at_donation}),n.jsx(Q,{className:"text-right",children:oo(a.fair_market_value)}),n.jsx(Q,{children:a.acknowledgment_received?n.jsxs(ne,{variant:"outline",className:"bg-green-500/10",children:[n.jsx(At,{className:"h-3 w-3 mr-1"}),"Yes"]}):n.jsx(ne,{variant:"outline",className:"bg-amber-500/10",children:"Pending"})})]},a.id))})]})})]}),t.sectionBDonations.length>0&&n.jsxs(q,{className:"border-rose-200",children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"text-lg flex items-center gap-2",children:["Section B - Donated Property (Over $5,000)",n.jsx(ne,{variant:"destructive",children:"Appraisal Required"})]}),n.jsx(ye,{children:"Items with FMV over $5,000 require a qualified appraisal and donee signature."})]}),n.jsxs(K,{children:[n.jsxs(Ua,{className:"mb-4",children:[n.jsx(jt,{className:"h-4 w-4"}),n.jsx(wd,{children:"Important Requirements"}),n.jsx(Wa,{children:n.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1 text-sm",children:[n.jsx("li",{children:"Appraisal must be done no earlier than 60 days before donation"}),n.jsx("li",{children:"Appraisal must be received before tax return due date"}),n.jsx("li",{children:"Appraiser must sign Section B Part IV"}),n.jsx("li",{children:"Donee (charity) must sign Section B Part V"})]})})]}),n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Property Description"}),n.jsx(te,{children:"Donee (Charity)"}),n.jsx(te,{children:"Date"}),n.jsx(te,{className:"text-right",children:"FMV"}),n.jsx(te,{children:"Appraiser"}),n.jsx(te,{children:"Status"})]})}),n.jsx(Wt,{children:t.sectionBDonations.map(a=>n.jsxs(Ve,{children:[n.jsx(Q,{className:"font-medium",children:a.product_name}),n.jsxs(Q,{children:[a.charity_name,a.charity_ein&&n.jsx("span",{className:"text-muted-foreground text-xs block",children:a.charity_ein})]}),n.jsx(Q,{children:_t(new Date(a.donation_date),"MM/dd/yyyy")}),n.jsx(Q,{className:"text-right",children:oo(a.fair_market_value)}),n.jsx(Q,{children:a.appraiser_name||n.jsx("span",{className:"text-amber-500",children:"Not assigned"})}),n.jsx(Q,{children:a.appraiser_name&&a.acknowledgment_received?n.jsx(ne,{variant:"outline",className:"bg-green-500/10",children:"Complete"}):n.jsx(ne,{variant:"outline",className:"bg-amber-500/10",children:"Incomplete"})})]},a.id))})]})]})]}),n.jsxs(q,{className:"bg-muted/30",children:[n.jsx(de,{children:n.jsxs(ce,{className:"text-lg flex items-center gap-2",children:[n.jsx(Gs,{className:"h-5 w-5"}),"Important Note for Vine Products"]})}),n.jsxs(K,{className:"text-sm space-y-3",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Cost Basis = $0:"})," Since you received Vine products for free, your cost basis is $0. For non-cash donations of appreciated property held less than one year, your deduction is limited to your cost basis (IRC 170(e)(1))."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Exception for Sole Proprietors:"})," If your Vine activity is a business (Schedule C), you may be able to deduct the FMV of donated inventory. Consult a tax professional."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"C-Corp Enhanced Deduction:"})," C-Corporations donating inventory for the care of the ill, needy, or infants to qualified 501(c)(3) organizations may claim an enhanced deduction of basis + 50% of appreciation (up to 2x basis)."]}),n.jsx(sn,{className:"my-4"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx($,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs("a",{href:"https://www.irs.gov/forms-pubs/about-form-8283",target:"_blank",rel:"noopener noreferrer",children:[n.jsx(Vl,{className:"h-4 w-4 mr-1"}),"IRS Form 8283 Instructions"]})}),n.jsx($,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs("a",{href:"https://www.irs.gov/publications/p526",target:"_blank",rel:"noopener noreferrer",children:[n.jsx(Vl,{className:"h-4 w-4 mr-1"}),"Publication 526"]})})]})]})]})]}):n.jsx(q,{children:n.jsxs(K,{className:"py-12 text-center",children:[n.jsx(At,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium",children:"No Form 8283 Required"}),n.jsxs("p",{className:"text-muted-foreground mt-2",children:["Total FMV of ",oo(t.totalFMV)," is under $500. No special form needed for your charitable donations."]})]})})}function xNe({charities:e}){const[t,r]=x.useState(!1),s=fH(),[a,i]=x.useState({charity_name:"",ein:"",address:"",city:"",state:"",zip:"",is_501c3:!0,contact_name:"",contact_email:"",contact_phone:"",notes:""}),o=async l=>{l.preventDefault(),await s.mutateAsync({charity_name:a.charity_name,ein:a.ein||null,address:a.address||null,city:a.city||null,state:a.state||null,zip:a.zip||null,is_501c3:a.is_501c3,contact_name:a.contact_name||null,contact_email:a.contact_email||null,contact_phone:a.contact_phone||null,notes:a.notes||null}),r(!1),i({charity_name:"",ein:"",address:"",city:"",state:"",zip:"",is_501c3:!0,contact_name:"",contact_email:"",contact_phone:"",notes:""})};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Saved Charities"}),n.jsxs(Xt,{open:t,onOpenChange:r,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{size:"sm",children:[n.jsx(jr,{className:"h-4 w-4 mr-1"}),"Add Charity"]})}),n.jsxs(qt,{children:[n.jsxs(Ht,{children:[n.jsx(Kt,{children:"Add Charity"}),n.jsx(ko,{children:"Save charity information for quick selection when recording donations"})]}),n.jsxs("form",{onSubmit:o,className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"charity_name",children:"Organization Name *"}),n.jsx(F,{id:"charity_name",value:a.charity_name,onChange:l=>i(c=>({...c,charity_name:l.target.value})),required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"ein",children:"EIN (Tax ID)"}),n.jsx(F,{id:"ein",value:a.ein,onChange:l=>i(c=>({...c,ein:l.target.value})),placeholder:"XX-XXXXXXX"})]}),n.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[n.jsx(lr,{checked:a.is_501c3,onCheckedChange:l=>i(c=>({...c,is_501c3:l}))}),n.jsx(M,{children:"501(c)(3)"})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"address",children:"Address"}),n.jsx(F,{id:"address",value:a.address,onChange:l=>i(c=>({...c,address:l.target.value}))})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"city",children:"City"}),n.jsx(F,{id:"city",value:a.city,onChange:l=>i(c=>({...c,city:l.target.value}))})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"state",children:"State"}),n.jsx(F,{id:"state",value:a.state,onChange:l=>i(c=>({...c,state:l.target.value})),maxLength:2})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"zip",children:"ZIP"}),n.jsx(F,{id:"zip",value:a.zip,onChange:l=>i(c=>({...c,zip:l.target.value}))})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"contact_name",children:"Contact Name"}),n.jsx(F,{id:"contact_name",value:a.contact_name,onChange:l=>i(c=>({...c,contact_name:l.target.value}))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"contact_email",children:"Contact Email"}),n.jsx(F,{id:"contact_email",type:"email",value:a.contact_email,onChange:l=>i(c=>({...c,contact_email:l.target.value}))})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(M,{htmlFor:"contact_phone",children:"Contact Phone"}),n.jsx(F,{id:"contact_phone",value:a.contact_phone,onChange:l=>i(c=>({...c,contact_phone:l.target.value}))})]})]}),n.jsxs(Tj,{children:[n.jsx($,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsxs($,{type:"submit",disabled:s.isPending,children:[s.isPending&&n.jsx(on,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Charity"]})]})]})]})]})]}),e.length===0?n.jsx(q,{children:n.jsxs(K,{className:"py-12 text-center text-muted-foreground",children:[n.jsx($x,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No saved charities yet."}),n.jsx("p",{className:"text-sm mt-2",children:"Add charities you donate to regularly for quick selection."})]})}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(l=>n.jsxs(q,{children:[n.jsxs(de,{className:"pb-2",children:[n.jsxs(ce,{className:"text-base flex items-center justify-between",children:[l.charity_name,n.jsx(ne,{variant:l.is_501c3?"default":"secondary",children:l.is_501c3?"501(c)(3)":"Other"})]}),l.ein&&n.jsxs(ye,{children:["EIN: ",l.ein]})]}),n.jsxs(K,{className:"text-sm space-y-2",children:[(l.address||l.city)&&n.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground",children:[n.jsx(Md,{className:"h-4 w-4 mt-0.5 shrink-0"}),n.jsxs("span",{children:[l.address&&n.jsxs(n.Fragment,{children:[l.address,n.jsx("br",{})]}),l.city&&`${l.city}, `,l.state," ",l.zip]})]}),l.contact_email&&n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx(dee,{className:"h-4 w-4"}),n.jsx("span",{children:l.contact_email})]}),l.contact_phone&&n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx(hB,{className:"h-4 w-4"}),n.jsx("span",{children:l.contact_phone})]}),l.total_donations>0&&n.jsx("div",{className:"pt-2 border-t",children:n.jsxs("span",{className:"text-muted-foreground",children:[l.total_donations," donation",l.total_donations!==1?"s":""," recorded"]})})]})]},l.id))})]})}const $2=.75,gNe=.95;function yNe(e=2024,t=1e5){const{data:r}=dH(e),{data:s}=mH(e);return x.useMemo(()=>{var b;if(!r)return{totalClaimed:0,totalLimits:0,warnings:[],criticalWarnings:[],proofReminders:[]};const i=[],o=(s==null?void 0:s.reduce((w,N)=>w+(N.fair_market_value||0),0))||0,l=((b=s==null?void 0:s.filter(w=>w.valuation_method==="cash"))==null?void 0:b.reduce((w,N)=>w+(N.fair_market_value||0),0))||0,c=o-l,d=t*.6,u=t*.3;if(l>0||d>0){const w=d>0?l/d*100:0,N=WR(l,d);w>=$2*100&&i.push({id:"cash-donations",category:"donations",deductionName:"Cash Donations",currentAmount:l,maxAmount:d,percentageUsed:w,status:N,canBeIncreased:!0,increaseConditions:["Excess carries forward 5 years"],proofRequired:["Bank statements","Charity receipts","Written acknowledgment for $250+"],hasRequiredProof:!1,message:qR(N,"Cash Donations",w)})}if(c>0){const w=u>0?c/u*100:0,N=WR(c,u);w>=$2*100&&i.push({id:"property-donations",category:"donations",deductionName:"Property Donations",currentAmount:c,maxAmount:u,percentageUsed:w,status:N,canBeIncreased:!0,increaseConditions:["Excess carries forward 5 years","Can elect reduced deduction for 50% limit"],proofRequired:["Form 8283 for $500+","Qualified appraisal for $5,000+","Holding period documentation"],hasRequiredProof:!1,message:qR(N,"Property Donations",w)})}const h=(s==null?void 0:s.filter(w=>(w.fair_market_value||0)>=500))||[],f=((s==null?void 0:s.filter(w=>(w.fair_market_value||0)>5e3))||[]).filter(w=>!w.appraiser_name),p=(s==null?void 0:s.filter(w=>(w.fair_market_value||0)>=250&&!w.acknowledgment_received))||[];h.length>0&&i.push({id:"form-8283-required",category:"donations",deductionName:"Form 8283 Required",currentAmount:h.reduce((w,N)=>w+(N.fair_market_value||0),0),maxAmount:null,percentageUsed:100,status:"approaching",canBeIncreased:!1,increaseConditions:null,proofRequired:["Completed Form 8283 Section A or B","Donee acknowledgment"],hasRequiredProof:!1,message:`${h.length} donation(s) require Form 8283 filing`}),f.length>0&&i.push({id:"appraisal-required",category:"donations",deductionName:"Qualified Appraisal Required",currentAmount:f.reduce((w,N)=>w+(N.fair_market_value||0),0),maxAmount:null,percentageUsed:100,status:"over_limit",canBeIncreased:!1,increaseConditions:null,proofRequired:["Qualified appraisal by certified appraiser","Appraisal must be within 60 days of donation"],hasRequiredProof:!1,message:`${f.length} donation(s) over $5,000 need qualified appraisal - DEDUCTION AT RISK`}),p.length>0&&i.push({id:"acknowledgment-required",category:"donations",deductionName:"Written Acknowledgment Required",currentAmount:p.reduce((w,N)=>w+(N.fair_market_value||0),0),maxAmount:null,percentageUsed:100,status:"approaching",canBeIncreased:!1,increaseConditions:null,proofRequired:["Written acknowledgment from charity stating no goods/services received"],hasRequiredProof:!1,message:`${p.length} donation(s) $250+ missing charity acknowledgment`}),r.forEach(w=>{w.max_amount&&w.proof_required&&w.proof_required.length>0&&i.push({id:`rule-${w.id}`,category:w.category,deductionName:w.deduction_name,currentAmount:0,maxAmount:w.max_amount,percentageUsed:0,status:"safe",canBeIncreased:w.can_be_increased,increaseConditions:w.increase_conditions,proofRequired:w.proof_required,hasRequiredProof:!1,message:`Max: $${w.max_amount.toLocaleString()}${w.can_be_increased?" (can be increased with documentation)":""}`})});const g=i.filter(w=>w.status==="over_limit"||w.status==="at_limit"),v=i.filter(w=>w.proofRequired&&w.proofRequired.length>0&&!w.hasRequiredProof),j=o,y=d+u;return{totalClaimed:j,totalLimits:y,warnings:i.sort((w,N)=>N.percentageUsed-w.percentageUsed),criticalWarnings:g,proofReminders:v}},[r,s,t])}function WR(e,t,r){if(!t||t===0)return"safe";const s=e/t;return s>1?"over_limit":s>=gNe?"at_limit":s>=$2?"approaching":"safe"}function qR(e,t,r,s){switch(e){case"over_limit":return`${t} exceeds limit! Excess will carry forward to next year.`;case"over_with_proof":return`${t} exceeds standard limit but you have documentation for increased limit.`;case"at_limit":return`${t} at ${r.toFixed(0)}% of limit. Review before adding more.`;case"approaching":return`${t} at ${r.toFixed(0)}% of limit. Plan remaining deductions carefully.`;default:return`${t} within limits.`}}function vNe(e){switch(e){case"over_limit":return"text-destructive";case"over_with_proof":return"text-amber-600";case"at_limit":return"text-amber-500";case"approaching":return"text-yellow-600";default:return"text-muted-foreground"}}function bNe(e){switch(e){case"over_limit":return"destructive";case"over_with_proof":case"at_limit":return"outline";case"approaching":return"secondary";default:return"default"}}function HR({taxYear:e=2024,userAGI:t=1e5,compact:r=!1}){const s=yNe(e,t),[a,i]=x.useState(!1);if(s.warnings.length===0)return r?null:n.jsxs(Ua,{className:"border-green-500/30 bg-green-500/5",children:[n.jsx(At,{className:"h-4 w-4 text-green-600"}),n.jsx(wd,{children:"All Clear"}),n.jsxs(Wa,{children:["No deduction limit warnings for ",e,". Keep documenting your proof!"]})]});const o=s.criticalWarnings.length,l=s.proofReminders.length;return r?n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o>0&&n.jsxs(ne,{variant:"destructive",className:"gap-1",children:[n.jsx(Xa,{className:"h-3 w-3"}),o," Critical"]}),l>0&&n.jsxs(ne,{variant:"outline",className:"gap-1 border-amber-500 text-amber-600",children:[n.jsx(wt,{className:"h-3 w-3"}),l," Proof Needed"]})]}):n.jsxs(q,{className:"border-amber-500/30",children:[n.jsxs(de,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wr,{className:"h-5 w-5 text-amber-500"}),n.jsx(ce,{className:"text-lg",children:"Deduction Limit Alerts"})]}),n.jsxs("div",{className:"flex gap-2",children:[o>0&&n.jsxs(ne,{variant:"destructive",children:[o," Critical"]}),n.jsxs(ne,{variant:"outline",children:[s.warnings.length," Total"]})]})]}),n.jsxs(ye,{children:["Warnings and reminders for tax year ",e]})]}),n.jsxs(K,{className:"space-y-4",children:[s.criticalWarnings.map(c=>n.jsx(gN,{warning:c,isCritical:!0},c.id)),n.jsxs(_m,{open:a,onOpenChange:i,children:[s.warnings.filter(c=>c.status!=="over_limit"&&c.status!=="at_limit").slice(0,a?void 0:2).map(c=>n.jsx(gN,{warning:c},c.id)),s.warnings.length>2+s.criticalWarnings.length&&n.jsx(Sm,{asChild:!0,children:n.jsxs($,{variant:"ghost",size:"sm",className:"w-full mt-2",children:[n.jsx(Jl,{className:`h-4 w-4 mr-1 transition-transform ${a?"rotate-180":""}`}),a?"Show Less":`Show ${s.warnings.length-2-s.criticalWarnings.length} More`]})}),n.jsx(Cm,{className:"space-y-4",children:s.warnings.filter(c=>c.status!=="over_limit"&&c.status!=="at_limit").slice(2).map(c=>n.jsx(gN,{warning:c},c.id))})]}),n.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-lg text-sm",children:[n.jsx(Gs,{className:"h-4 w-4 mt-0.5 text-muted-foreground shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"AGI-Based Limits"}),n.jsxs("p",{className:"text-muted-foreground",children:["Donation limits are calculated using $",t.toLocaleString()," AGI. Update your AGI in settings for accurate limits."]})]})]})]})]})}function gN({warning:e,isCritical:t=!1}){const[r,s]=x.useState(!1),a=vNe(e.status),i=bNe(e.status),o=()=>{switch(e.status){case"over_limit":return n.jsx(Xa,{className:"h-4 w-4 text-destructive"});case"at_limit":case"over_with_proof":return n.jsx(jt,{className:"h-4 w-4 text-amber-500"});case"approaching":return n.jsx(jt,{className:"h-4 w-4 text-yellow-600"});default:return n.jsx(Gs,{className:"h-4 w-4 text-muted-foreground"})}};return n.jsxs("div",{className:`p-4 rounded-lg border ${t?"border-destructive/50 bg-destructive/5":"border-border"}`,children:[n.jsx("div",{className:"flex items-start justify-between gap-3",children:n.jsxs("div",{className:"flex items-start gap-3",children:[o(),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:e.deductionName}),n.jsx(ne,{variant:i,className:"text-xs",children:e.status.replace("_"," ").toUpperCase()})]}),n.jsx("p",{className:`text-sm ${a}`,children:e.message})]})]})}),e.maxAmount&&e.maxAmount>0&&n.jsxs("div",{className:"mt-3 space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:["$",e.currentAmount.toLocaleString()," claimed"]}),n.jsxs("span",{children:["$",e.maxAmount.toLocaleString()," limit"]})]}),n.jsx(Ws,{value:Math.min(e.percentageUsed,100),className:`h-2 ${e.percentageUsed>100?"[&>div]:bg-destructive":e.percentageUsed>90?"[&>div]:bg-amber-500":""}`})]}),(e.proofRequired||e.increaseConditions)&&n.jsxs(_m,{open:r,onOpenChange:s,children:[n.jsx(Sm,{asChild:!0,children:n.jsxs($,{variant:"ghost",size:"sm",className:"mt-2 h-7 px-2 text-xs",children:[n.jsx(Jl,{className:`h-3 w-3 mr-1 transition-transform ${r?"rotate-180":""}`}),r?"Hide Details":"Show Required Documentation"]})}),n.jsxs(Cm,{className:"mt-2 space-y-2",children:[e.proofRequired&&e.proofRequired.length>0&&n.jsxs("div",{className:"p-2 bg-muted/50 rounded text-xs",children:[n.jsxs("p",{className:"font-medium mb-1 flex items-center gap-1",children:[n.jsx(wt,{className:"h-3 w-3"})," Required Proof:"]}),n.jsx("ul",{className:"list-disc list-inside text-muted-foreground space-y-0.5",children:e.proofRequired.map((l,c)=>n.jsx("li",{children:l},c))})]}),e.canBeIncreased&&e.increaseConditions&&n.jsxs("div",{className:"p-2 bg-green-500/10 rounded text-xs",children:[n.jsx("p",{className:"font-medium mb-1 text-green-700",children:"Can Exceed Limit If:"}),n.jsx("ul",{className:"list-disc list-inside text-green-600 space-y-0.5",children:e.increaseConditions.map((l,c)=>n.jsx("li",{children:l},c))})]})]})]})]})}function jNe(){const[e,t]=x.useState(!1),[r,s]=x.useState(2024),{data:a,isLoading:i}=mH(),{data:o}=lNe(),l=(a==null?void 0:a.filter(d=>{const u=new Date(d.donation_date).getFullYear();return d.included_in_tax_year===r||u===r}))||[],c=hNe(l);return i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(on,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs(q,{className:"bg-gradient-to-r from-rose-500/10 to-pink-500/10 border-rose-200/50",children:[n.jsx(de,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(cn,{className:"h-5 w-5 text-rose-500"}),"Donation Tracker"]}),n.jsx(ye,{children:"Track Vine product donations with Form 8283 documentation"})]}),n.jsxs($,{onClick:()=>t(!0),children:[n.jsx(jr,{className:"h-4 w-4 mr-2"}),"Add Donation"]})]})}),n.jsxs(K,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-background/50 rounded-lg p-3 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-foreground",children:l.length}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Donations"})]}),n.jsxs("div",{className:"bg-background/50 rounded-lg p-3 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-foreground",children:oo(c.totalFMV)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Total FMV"})]}),n.jsxs("div",{className:"bg-background/50 rounded-lg p-3 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-foreground",children:(o==null?void 0:o.length)||0}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Saved Charities"})]}),n.jsx("div",{className:"bg-background/50 rounded-lg p-3 text-center",children:c.missingAcknowledgments>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-500",children:c.missingAcknowledgments}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Need Receipts"})]}):n.jsxs(n.Fragment,{children:[n.jsx(At,{className:"h-6 w-6 text-green-500 mx-auto"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"All Documented"})]})})]}),c.requiresForm8283&&n.jsx("div",{className:"mt-4 p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(jt,{className:"h-4 w-4 text-amber-500 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("strong",{children:"Form 8283 Required:"})," Total FMV exceeds $500.",c.sectionACount>0&&n.jsxs(ne,{variant:"outline",className:"ml-2",children:["Section A: ",c.sectionACount," items"]}),c.sectionBCount>0&&n.jsxs(ne,{variant:"outline",className:"ml-2 bg-rose-500/10",children:["Section B: ",c.sectionBCount," items (appraisal needed)"]})]})]})})]})]}),n.jsx(HR,{taxYear:r,userAGI:1e5}),n.jsxs(Dr,{defaultValue:"donations",children:[n.jsxs(Nr,{children:[n.jsxs(ke,{value:"donations",className:"flex items-center gap-1",children:[n.jsx(cn,{className:"h-4 w-4"}),"Donations"]}),n.jsxs(ke,{value:"form8283",className:"flex items-center gap-1",children:[n.jsx(wt,{className:"h-4 w-4"}),"Form 8283"]}),n.jsxs(ke,{value:"charities",className:"flex items-center gap-1",children:[n.jsx($x,{className:"h-4 w-4"}),"Charities"]}),n.jsxs(ke,{value:"limits",className:"flex items-center gap-1",children:[n.jsx(Wr,{className:"h-4 w-4"}),"Limits"]})]}),n.jsx(De,{value:"donations",className:"mt-4",children:n.jsx(mNe,{donations:l,selectedYear:r,onYearChange:s})}),n.jsx(De,{value:"form8283",className:"mt-4",children:n.jsx(pNe,{donations:l,requirements:c,taxYear:r})}),n.jsx(De,{value:"charities",className:"mt-4",children:n.jsx(xNe,{charities:o||[]})}),n.jsx(De,{value:"limits",className:"mt-4",children:n.jsx(HR,{taxYear:r,userAGI:1e5})})]}),n.jsx(fNe,{open:e,onOpenChange:t,charities:o||[]})]})}function wNe(){return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"border-b bg-card/50 backdrop-blur-sm sticky top-0 z-10",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ca,{to:"/",children:n.jsxs($,{variant:"ghost",size:"sm",children:[n.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back"]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(cn,{className:"h-5 w-5 text-rose-500"}),n.jsx("h1",{className:"text-xl font-semibold",children:"Donation Tracker"})]})]}),n.jsxs("nav",{className:"flex items-center gap-2",children:[n.jsx(ca,{to:"/vine-tracker",children:n.jsx($,{variant:"ghost",size:"sm",children:"Vine Tracker"})}),n.jsx(ca,{to:"/tax-rules",children:n.jsx($,{variant:"ghost",size:"sm",children:"Tax Rules"})})]})]})}),n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsx(jNe,{})})]})}function NNe(e){return ft({queryKey:["subscriptions",e],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await Y.from("subscriptions").select("*").eq("user_id",e).order("renewal_date",{ascending:!0});if(r)throw r;return t},enabled:!!e})}function _Ne(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async({userId:r,input:s})=>{const{data:a,error:i}=await Y.from("subscriptions").insert({user_id:r,...s}).select().single();if(i)throw i;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["subscriptions"]}),t({title:"Subscription added successfully"})},onError:r=>{t({title:"Failed to add subscription",description:r.message,variant:"destructive"})}})}function SNe(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{error:s}=await Y.from("subscriptions").delete().eq("id",r);if(s)throw s},onSuccess:()=>{e.invalidateQueries({queryKey:["subscriptions"]}),t({title:"Subscription deleted"})},onError:r=>{t({title:"Failed to delete",description:r.message,variant:"destructive"})}})}function CNe(e=[]){const t=e.filter(o=>o.status==="active"),r=t.reduce((o,l)=>{const c=l.amount*(l.business_use_percentage/100);return l.billing_cycle==="monthly"?o+c:l.billing_cycle==="yearly"?o+c/12:l.billing_cycle==="quarterly"?o+c/3:o},0),s=r*12,a=t.filter(o=>{if(!o.renewal_date)return!1;const l=new Date(o.renewal_date),c=new Date;return c.setDate(c.getDate()+30),l<=c}),i=t.reduce((o,l)=>(o[l.subscription_type]=(o[l.subscription_type]||0)+1,o),{});return{monthlyTotal:r,yearlyTotal:s,upcomingRenewals:a,byType:i,activeCount:t.length}}const pH=[{value:"software",label:"Software"},{value:"mobile_app",label:"Mobile App"},{value:"streaming",label:"Streaming"},{value:"professional",label:"Professional Service"},{value:"cloud_storage",label:"Cloud Storage"},{value:"saas",label:"SaaS"},{value:"other",label:"Other"}],kNe=[{value:"productivity",label:"Productivity"},{value:"communication",label:"Communication"},{value:"design",label:"Design"},{value:"development",label:"Development"},{value:"marketing",label:"Marketing"},{value:"accounting",label:"Accounting"},{value:"storage",label:"Storage"},{value:"education",label:"Education"},{value:"entertainment",label:"Entertainment"}],TNe=[{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"},{value:"quarterly",label:"Quarterly"},{value:"one_time",label:"One-Time"},{value:"lifetime",label:"Lifetime"}];function ENe(e){return ft({queryKey:["digital-inventory",e],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await Y.from("digital_inventory").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(r)throw r;return t},enabled:!!e})}function PNe(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async({userId:r,input:s})=>{const{data:a,error:i}=await Y.from("digital_inventory").insert({user_id:r,...s}).select().single();if(i)throw i;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["digital-inventory"]}),t({title:"Digital asset added successfully"})},onError:r=>{t({title:"Failed to add asset",description:r.message,variant:"destructive"})}})}function ANe(){const e=ze(),{toast:t}=yt();return Be({mutationFn:async r=>{const{error:s}=await Y.from("digital_inventory").delete().eq("id",r);if(s)throw s},onSuccess:()=>{e.invalidateQueries({queryKey:["digital-inventory"]}),t({title:"Asset deleted"})},onError:r=>{t({title:"Failed to delete",description:r.message,variant:"destructive"})}})}function ONe(e=[]){const t=e.filter(l=>l.status==="active"),r=t.reduce((l,c)=>l+(c.purchase_price||0),0),s=t.reduce((l,c)=>l+(c.current_value||0),0),a=t.reduce((l,c)=>l+(c.purchase_price||0)*(c.business_use_percentage/100),0),i=t.filter(l=>{if(!l.license_expiry)return!1;const c=new Date(l.license_expiry),d=new Date;return d.setDate(d.getDate()+30),c<=d}),o=t.reduce((l,c)=>(l[c.asset_type]=(l[c.asset_type]||0)+1,l),{});return{totalValue:r,currentValue:s,businessValue:a,expiringLicenses:i,byType:o,activeCount:t.length}}const xH=[{value:"software",label:"Software"},{value:"mobile_app",label:"Mobile App"},{value:"cloud_subscription",label:"Cloud Subscription"},{value:"digital_tool",label:"Digital Tool"},{value:"online_course",label:"Online Course"},{value:"ebook",label:"eBook"},{value:"template",label:"Template"},{value:"plugin",label:"Plugin"},{value:"domain",label:"Domain"},{value:"hosting",label:"Hosting"}],MNe=[{value:"perpetual",label:"Perpetual"},{value:"subscription",label:"Subscription"},{value:"freemium",label:"Freemium"},{value:"open_source",label:"Open Source"},{value:"trial",label:"Trial"}],RNe=[{value:"windows",label:"Windows"},{value:"mac",label:"Mac"},{value:"linux",label:"Linux"},{value:"ios",label:"iOS"},{value:"android",label:"Android"},{value:"web",label:"Web"},{value:"cross_platform",label:"Cross-Platform"}],INe=[{value:"productivity",label:"Productivity"},{value:"development",label:"Development"},{value:"design",label:"Design"},{value:"marketing",label:"Marketing"},{value:"accounting",label:"Accounting"},{value:"education",label:"Education"},{value:"communication",label:"Communication"},{value:"security",label:"Security"},{value:"utilities",label:"Utilities"}];function DNe({open:e,onOpenChange:t,userId:r}){const[s,a]=x.useState({subscription_name:"",subscription_type:"software",provider:"",billing_cycle:"monthly",amount:"",renewal_date:"",auto_renew:!0,is_business_expense:!0,business_use_percentage:100,category:"",license_key:"",seats_purchased:1,notes:""}),i=_Ne(),o=l=>{l.preventDefault(),i.mutate({userId:r,input:{...s,amount:parseFloat(s.amount)||0,seats_purchased:s.seats_purchased,renewal_date:s.renewal_date||void 0,category:s.category||void 0,license_key:s.license_key||void 0,notes:s.notes||void 0,provider:s.provider||void 0}},{onSuccess:()=>{t(!1),a({subscription_name:"",subscription_type:"software",provider:"",billing_cycle:"monthly",amount:"",renewal_date:"",auto_renew:!0,is_business_expense:!0,business_use_percentage:100,category:"",license_key:"",seats_purchased:1,notes:""})}})};return n.jsx(Xt,{open:e,onOpenChange:t,children:n.jsxs(qt,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsx(Ht,{children:n.jsx(Kt,{children:"Add Subscription"})}),n.jsxs("form",{onSubmit:o,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx(M,{htmlFor:"name",children:"Subscription Name *"}),n.jsx(F,{id:"name",value:s.subscription_name,onChange:l=>a({...s,subscription_name:l.target.value}),placeholder:"e.g., Adobe Creative Cloud",required:!0})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"type",children:"Type"}),n.jsxs(Re,{value:s.subscription_type,onValueChange:l=>a({...s,subscription_type:l}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:pH.map(l=>n.jsx(he,{value:l.value,children:l.label},l.value))})]})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"provider",children:"Provider"}),n.jsx(F,{id:"provider",value:s.provider,onChange:l=>a({...s,provider:l.target.value}),placeholder:"e.g., Adobe"})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"amount",children:"Amount *"}),n.jsx(F,{id:"amount",type:"number",step:"0.01",value:s.amount,onChange:l=>a({...s,amount:l.target.value}),placeholder:"0.00",required:!0})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"billing",children:"Billing Cycle"}),n.jsxs(Re,{value:s.billing_cycle,onValueChange:l=>a({...s,billing_cycle:l}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:TNe.map(l=>n.jsx(he,{value:l.value,children:l.label},l.value))})]})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"category",children:"Category"}),n.jsxs(Re,{value:s.category,onValueChange:l=>a({...s,category:l}),children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Select category"})}),n.jsx(Ae,{children:kNe.map(l=>n.jsx(he,{value:l.value,children:l.label},l.value))})]})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"renewal",children:"Renewal Date"}),n.jsx(F,{id:"renewal",type:"date",value:s.renewal_date,onChange:l=>a({...s,renewal_date:l.target.value})})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"seats",children:"Seats/Licenses"}),n.jsx(F,{id:"seats",type:"number",min:"1",value:s.seats_purchased,onChange:l=>a({...s,seats_purchased:parseInt(l.target.value)||1})})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"license",children:"License Key"}),n.jsx(F,{id:"license",value:s.license_key,onChange:l=>a({...s,license_key:l.target.value}),placeholder:"Optional"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(M,{htmlFor:"auto_renew",children:"Auto-Renew"}),n.jsx(lr,{id:"auto_renew",checked:s.auto_renew,onCheckedChange:l=>a({...s,auto_renew:l})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(M,{htmlFor:"business",children:"Business Expense"}),n.jsx(lr,{id:"business",checked:s.is_business_expense,onCheckedChange:l=>a({...s,is_business_expense:l})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(M,{children:"Business Use Percentage"}),n.jsxs("span",{className:"text-sm font-medium",children:[s.business_use_percentage,"%"]})]}),n.jsx(fg,{value:[s.business_use_percentage],onValueChange:([l])=>a({...s,business_use_percentage:l}),max:100,step:5})]})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"notes",children:"Notes"}),n.jsx(wr,{id:"notes",value:s.notes,onChange:l=>a({...s,notes:l.target.value}),placeholder:"Additional notes...",rows:2})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx($,{type:"submit",disabled:i.isPending,children:i.isPending?"Adding...":"Add Subscription"})]})]})]})})}function $Ne({open:e,onOpenChange:t,userId:r}){const[s,a]=x.useState({asset_name:"",asset_type:"software",vendor:"",purchase_date:new Date().toISOString().split("T")[0],purchase_price:"",license_type:"perpetual",license_key:"",license_expiry:"",seats_count:1,version:"",platform:"",is_business_asset:!0,business_use_percentage:100,depreciation_method:"straight_line",useful_life_years:3,category:"",notes:""}),i=PNe(),o=l=>{l.preventDefault();const c=parseFloat(s.purchase_price)||0;i.mutate({userId:r,input:{...s,purchase_price:c,current_value:c,seats_count:s.seats_count,useful_life_years:s.useful_life_years,license_expiry:s.license_expiry||void 0,license_key:s.license_key||void 0,version:s.version||void 0,platform:s.platform||void 0,category:s.category||void 0,vendor:s.vendor||void 0,notes:s.notes||void 0}},{onSuccess:()=>{t(!1),a({asset_name:"",asset_type:"software",vendor:"",purchase_date:new Date().toISOString().split("T")[0],purchase_price:"",license_type:"perpetual",license_key:"",license_expiry:"",seats_count:1,version:"",platform:"",is_business_asset:!0,business_use_percentage:100,depreciation_method:"straight_line",useful_life_years:3,category:"",notes:""})}})};return n.jsx(Xt,{open:e,onOpenChange:t,children:n.jsxs(qt,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsx(Ht,{children:n.jsx(Kt,{children:"Add Digital Asset"})}),n.jsxs("form",{onSubmit:o,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx(M,{htmlFor:"name",children:"Asset Name *"}),n.jsx(F,{id:"name",value:s.asset_name,onChange:l=>a({...s,asset_name:l.target.value}),placeholder:"e.g., Microsoft Office 365",required:!0})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"type",children:"Asset Type"}),n.jsxs(Re,{value:s.asset_type,onValueChange:l=>a({...s,asset_type:l}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:xH.map(l=>n.jsx(he,{value:l.value,children:l.label},l.value))})]})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"vendor",children:"Vendor"}),n.jsx(F,{id:"vendor",value:s.vendor,onChange:l=>a({...s,vendor:l.target.value}),placeholder:"e.g., Microsoft"})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"price",children:"Purchase Price *"}),n.jsx(F,{id:"price",type:"number",step:"0.01",value:s.purchase_price,onChange:l=>a({...s,purchase_price:l.target.value}),placeholder:"0.00",required:!0})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"purchase_date",children:"Purchase Date"}),n.jsx(F,{id:"purchase_date",type:"date",value:s.purchase_date,onChange:l=>a({...s,purchase_date:l.target.value})})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"license_type",children:"License Type"}),n.jsxs(Re,{value:s.license_type,onValueChange:l=>a({...s,license_type:l}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:MNe.map(l=>n.jsx(he,{value:l.value,children:l.label},l.value))})]})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"expiry",children:"License Expiry"}),n.jsx(F,{id:"expiry",type:"date",value:s.license_expiry,onChange:l=>a({...s,license_expiry:l.target.value})})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"platform",children:"Platform"}),n.jsxs(Re,{value:s.platform,onValueChange:l=>a({...s,platform:l}),children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Select platform"})}),n.jsx(Ae,{children:RNe.map(l=>n.jsx(he,{value:l.value,children:l.label},l.value))})]})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"category",children:"Category"}),n.jsxs(Re,{value:s.category,onValueChange:l=>a({...s,category:l}),children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Select category"})}),n.jsx(Ae,{children:INe.map(l=>n.jsx(he,{value:l.value,children:l.label},l.value))})]})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"seats",children:"Seats/Licenses"}),n.jsx(F,{id:"seats",type:"number",min:"1",value:s.seats_count,onChange:l=>a({...s,seats_count:parseInt(l.target.value)||1})})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"version",children:"Version"}),n.jsx(F,{id:"version",value:s.version,onChange:l=>a({...s,version:l.target.value}),placeholder:"e.g., 2024"})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"useful_life",children:"Useful Life (Years)"}),n.jsx(F,{id:"useful_life",type:"number",min:"1",max:"10",value:s.useful_life_years,onChange:l=>a({...s,useful_life_years:parseInt(l.target.value)||3})})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"license_key",children:"License Key"}),n.jsx(F,{id:"license_key",value:s.license_key,onChange:l=>a({...s,license_key:l.target.value}),placeholder:"Optional"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(M,{htmlFor:"business",children:"Business Asset"}),n.jsx(lr,{id:"business",checked:s.is_business_asset,onCheckedChange:l=>a({...s,is_business_asset:l})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(M,{children:"Business Use Percentage"}),n.jsxs("span",{className:"text-sm font-medium",children:[s.business_use_percentage,"%"]})]}),n.jsx(fg,{value:[s.business_use_percentage],onValueChange:([l])=>a({...s,business_use_percentage:l}),max:100,step:5})]})]}),n.jsxs("div",{children:[n.jsx(M,{htmlFor:"notes",children:"Notes"}),n.jsx(wr,{id:"notes",value:s.notes,onChange:l=>a({...s,notes:l.target.value}),placeholder:"Additional notes...",rows:2})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx($,{type:"submit",disabled:i.isPending,children:i.isPending?"Adding...":"Add Asset"})]})]})]})})}const LNe={software:n.jsx(Bl,{className:"h-4 w-4"}),mobile_app:n.jsx(pB,{className:"h-4 w-4"}),streaming:n.jsx(Aee,{className:"h-4 w-4"}),professional:n.jsx(Dx,{className:"h-4 w-4"}),cloud_storage:n.jsx(Z_,{className:"h-4 w-4"}),saas:n.jsx(Z_,{className:"h-4 w-4"})};function FNe({subscriptions:e,isLoading:t}){const[r,s]=x.useState(null),a=SNe(),i=()=>{r&&(a.mutate(r),s(null))};return t?n.jsx("div",{className:"space-y-3",children:[1,2,3].map(o=>n.jsx(al,{className:"h-24 w-full"},o))}):e.length===0?n.jsx(q,{className:"border-dashed",children:n.jsxs(K,{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(Bl,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),n.jsx("p",{className:"text-muted-foreground text-center",children:"No subscriptions yet. Add your first subscription to start tracking expenses."})]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"space-y-3",children:e.map(o=>{var d;const l=((d=pH.find(u=>u.value===o.subscription_type))==null?void 0:d.label)||o.subscription_type,c=o.amount*(o.business_use_percentage/100);return n.jsx(q,{className:"hover:shadow-md transition-shadow",children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10 mt-1",children:LNe[o.subscription_type]||n.jsx(Bl,{className:"h-4 w-4"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold",children:o.subscription_name}),n.jsx(ne,{variant:o.status==="active"?"default":"secondary",children:o.status})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[n.jsx("span",{children:o.provider||l}),n.jsx("span",{children:""}),n.jsx("span",{className:"capitalize",children:o.billing_cycle}),o.renewal_date&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:""}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(_s,{className:"h-3 w-3"}),"Renews ",_t(new Date(o.renewal_date),"MMM d, yyyy")]})]}),o.auto_renew&&n.jsx("span",{title:"Auto-renew enabled",children:n.jsx(mB,{className:"h-3 w-3 text-green-500"})})]}),o.category&&n.jsx(ne,{variant:"outline",className:"text-xs capitalize",children:o.category})]})]}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsxs("p",{className:"text-lg font-bold",children:["$",o.amount.toFixed(2)]}),o.business_use_percentage<100&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.business_use_percentage,"% business = $",c.toFixed(2)]}),n.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[n.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8",children:n.jsx(mT,{className:"h-4 w-4"})}),n.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>s(o.id),children:n.jsx(xr,{className:"h-4 w-4"})})]})]})]})})},o.id)})}),n.jsx(mo,{open:!!r,onOpenChange:()=>s(null),children:n.jsxs(Ci,{children:[n.jsxs(ki,{children:[n.jsx(Ei,{children:"Delete Subscription?"}),n.jsx(Pi,{children:"This action cannot be undone. This will permanently delete this subscription record."})]}),n.jsxs(Ti,{children:[n.jsx(Ai,{children:"Cancel"}),n.jsx(lc,{onClick:i,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})}const BNe={software:n.jsx(iee,{className:"h-4 w-4"}),mobile_app:n.jsx(pB,{className:"h-4 w-4"}),cloud_subscription:n.jsx(Z_,{className:"h-4 w-4"}),digital_tool:n.jsx(u1,{className:"h-4 w-4"}),online_course:n.jsx(Fl,{className:"h-4 w-4"}),ebook:n.jsx(Fl,{className:"h-4 w-4"}),template:n.jsx(u1,{className:"h-4 w-4"}),plugin:n.jsx(u1,{className:"h-4 w-4"}),domain:n.jsx(dT,{className:"h-4 w-4"}),hosting:n.jsx(fB,{className:"h-4 w-4"})};function VNe({assets:e,isLoading:t}){const[r,s]=x.useState(null),a=ANe(),i=()=>{r&&(a.mutate(r),s(null))};return t?n.jsx("div",{className:"space-y-3",children:[1,2,3].map(o=>n.jsx(al,{className:"h-24 w-full"},o))}):e.length===0?n.jsx(q,{className:"border-dashed",children:n.jsxs(K,{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(Q4,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),n.jsx("p",{className:"text-muted-foreground text-center",children:"No digital assets yet. Add software licenses, courses, or tools to track your business investments."})]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"space-y-3",children:e.map(o=>{var d;const l=((d=xH.find(u=>u.value===o.asset_type))==null?void 0:d.label)||o.asset_type,c=o.purchase_price*(o.business_use_percentage/100);return n.jsx(q,{className:"hover:shadow-md transition-shadow",children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10 mt-1",children:BNe[o.asset_type]||n.jsx(Q4,{className:"h-4 w-4"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold",children:o.asset_name}),n.jsx(ne,{variant:o.status==="active"?"default":"secondary",children:o.status}),n.jsx(ne,{variant:"outline",className:"capitalize",children:o.license_type})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[n.jsx("span",{children:o.vendor||l}),o.version&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:""}),n.jsxs("span",{children:["v",o.version]})]}),o.platform&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:""}),n.jsx("span",{className:"capitalize",children:o.platform})]}),o.seats_count>1&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:""}),n.jsxs("span",{children:[o.seats_count," seats"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Purchased ",_t(new Date(o.purchase_date),"MMM d, yyyy")]}),o.license_expiry&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:""}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(aee,{className:"h-3 w-3"}),"Expires ",_t(new Date(o.license_expiry),"MMM d, yyyy")]})]})]}),o.category&&n.jsx(ne,{variant:"outline",className:"text-xs capitalize",children:o.category})]})]}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsxs("p",{className:"text-lg font-bold",children:["$",o.purchase_price.toFixed(2)]}),o.current_value!==o.purchase_price&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current: $",o.current_value.toFixed(2)]}),o.business_use_percentage<100&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.business_use_percentage,"% business = $",c.toFixed(2)]}),n.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[n.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8",children:n.jsx(mT,{className:"h-4 w-4"})}),n.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>s(o.id),children:n.jsx(xr,{className:"h-4 w-4"})})]})]})]})})},o.id)})}),n.jsx(mo,{open:!!r,onOpenChange:()=>s(null),children:n.jsxs(Ci,{children:[n.jsxs(ki,{children:[n.jsx(Ei,{children:"Delete Digital Asset?"}),n.jsx(Pi,{children:"This action cannot be undone. This will permanently delete this asset record."})]}),n.jsxs(Ti,{children:[n.jsx(Ai,{children:"Cancel"}),n.jsx(lc,{onClick:i,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})}function zNe({userId:e}){const[t,r]=x.useState(!1),[s,a]=x.useState(!1),[i,o]=x.useState("subscriptions"),{data:l=[],isLoading:c}=NNe(e),{data:d=[],isLoading:u}=ENe(e),h=CNe(l),m=ONe(d);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(q,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/30 dark:to-blue-900/30 border-blue-200 dark:border-blue-800",children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:n.jsx($t,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Spend"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:["$",h.monthlyTotal.toFixed(2)]})]})]})})}),n.jsx(q,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/30 dark:to-green-900/30 border-green-200 dark:border-green-800",children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:n.jsx(Fs,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Yearly Deductible"}),n.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:["$",h.yearlyTotal.toFixed(2)]})]})]})})}),n.jsx(q,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/30 dark:to-purple-900/30 border-purple-200 dark:border-purple-800",children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:n.jsx(Bl,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Digital Assets Value"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:["$",m.businessValue.toFixed(2)]})]})]})})}),n.jsx(q,{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-950/30 dark:to-amber-900/30 border-amber-200 dark:border-amber-800",children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:n.jsx(jt,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiring Soon"}),n.jsx("p",{className:"text-2xl font-bold text-amber-700 dark:text-amber-300",children:h.upcomingRenewals.length+m.expiringLicenses.length})]})]})})})]}),h.upcomingRenewals.length>0&&n.jsxs(q,{className:"border-amber-200 bg-amber-50/50 dark:border-amber-800 dark:bg-amber-950/20",children:[n.jsx(de,{className:"pb-2",children:n.jsxs(ce,{className:"text-sm flex items-center gap-2 text-amber-700 dark:text-amber-300",children:[n.jsx(_s,{className:"h-4 w-4"}),"Upcoming Renewals (Next 30 Days)"]})}),n.jsx(K,{children:n.jsx("div",{className:"flex flex-wrap gap-2",children:h.upcomingRenewals.map(f=>n.jsxs(ne,{variant:"outline",className:"border-amber-300 text-amber-700",children:[f.subscription_name," - ",f.renewal_date&&_t(new Date(f.renewal_date),"MMM d")]},f.id))})})]}),n.jsxs(Dr,{value:i,onValueChange:o,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Nr,{children:[n.jsxs(ke,{value:"subscriptions",className:"flex items-center gap-2",children:[n.jsx(Bl,{className:"h-4 w-4"}),"Subscriptions (",h.activeCount,")"]}),n.jsxs(ke,{value:"digital",className:"flex items-center gap-2",children:[n.jsx(Fs,{className:"h-4 w-4"}),"Digital Assets (",m.activeCount,")"]})]}),n.jsxs($,{onClick:()=>i==="subscriptions"?r(!0):a(!0),size:"sm",children:[n.jsx(jr,{className:"h-4 w-4 mr-2"}),"Add ",i==="subscriptions"?"Subscription":"Asset"]})]}),n.jsx(De,{value:"subscriptions",className:"mt-4",children:n.jsx(FNe,{subscriptions:l,isLoading:c})}),n.jsx(De,{value:"digital",className:"mt-4",children:n.jsx(VNe,{assets:d,isLoading:u})})]}),n.jsx(DNe,{open:t,onOpenChange:r,userId:e}),n.jsx($Ne,{open:s,onOpenChange:a,userId:e})]})}function UNe(){const e=Qt(),[t,r]=x.useState(null),[s,a]=x.useState(!0);return x.useEffect(()=>{(async()=>{const{data:{user:o}}=await Y.auth.getUser();if(!o){e("/auth");return}r(o.id),a(!1)})()},[e]),s?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container flex h-16 items-center justify-between px-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs($,{variant:"ghost",size:"sm",onClick:()=>e(-1),children:[n.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-xl font-semibold",children:"Subscriptions & Digital Assets"})]}),n.jsxs("nav",{className:"flex items-center gap-4",children:[n.jsx(Vs,{to:"/",children:"Home"}),n.jsx(Vs,{to:"/tax-forms",children:"Tax Forms"}),n.jsx(Vs,{to:"/tax-rules",children:"Tax Rules"})]})]})}),n.jsx("main",{className:"container px-4 py-8",children:n.jsx(zNe,{userId:t})})]}):null}const tu={AL:{limit:5e3,mfjMultiplier:2,unlimited:!1},AZ:{limit:2e3,mfjMultiplier:2,unlimited:!1},AR:{limit:5e3,mfjMultiplier:2,unlimited:!1},CO:{limit:0,mfjMultiplier:1,unlimited:!0},CT:{limit:5e3,mfjMultiplier:2,unlimited:!1},DC:{limit:4e3,mfjMultiplier:2,unlimited:!1},GA:{limit:4e3,mfjMultiplier:2,unlimited:!1},ID:{limit:6e3,mfjMultiplier:2,unlimited:!1},IL:{limit:1e4,mfjMultiplier:2,unlimited:!1},IN:{limit:5e3,mfjMultiplier:1,unlimited:!1},IA:{limit:3785,mfjMultiplier:2,unlimited:!1},KS:{limit:3e3,mfjMultiplier:2,unlimited:!1},LA:{limit:2400,mfjMultiplier:2,unlimited:!1},MD:{limit:2500,mfjMultiplier:2,unlimited:!1},MA:{limit:1e3,mfjMultiplier:2,unlimited:!1},MI:{limit:5e3,mfjMultiplier:2,unlimited:!1},MN:{limit:1500,mfjMultiplier:2,unlimited:!1},MS:{limit:1e4,mfjMultiplier:2,unlimited:!1},MO:{limit:8e3,mfjMultiplier:2,unlimited:!1},MT:{limit:3e3,mfjMultiplier:2,unlimited:!1},NE:{limit:1e4,mfjMultiplier:2,unlimited:!1},NM:{limit:0,mfjMultiplier:1,unlimited:!0},NY:{limit:5e3,mfjMultiplier:2,unlimited:!1},NC:{limit:0,mfjMultiplier:1,unlimited:!1},ND:{limit:5e3,mfjMultiplier:2,unlimited:!1},OH:{limit:4e3,mfjMultiplier:1,unlimited:!1},OK:{limit:1e4,mfjMultiplier:2,unlimited:!1},OR:{limit:300,mfjMultiplier:2,unlimited:!1},PA:{limit:17e3,mfjMultiplier:2,unlimited:!1},RI:{limit:500,mfjMultiplier:2,unlimited:!1},SC:{limit:0,mfjMultiplier:1,unlimited:!0},UT:{limit:2290,mfjMultiplier:2,unlimited:!1},VT:{limit:2500,mfjMultiplier:2,unlimited:!1},VA:{limit:4e3,mfjMultiplier:2,unlimited:!1},WV:{limit:0,mfjMultiplier:1,unlimited:!0},WI:{limit:3860,mfjMultiplier:2,unlimited:!1},AK:{limit:0,mfjMultiplier:1,unlimited:!1},CA:{limit:0,mfjMultiplier:1,unlimited:!1},DE:{limit:0,mfjMultiplier:1,unlimited:!1},FL:{limit:0,mfjMultiplier:1,unlimited:!1},HI:{limit:0,mfjMultiplier:1,unlimited:!1},KY:{limit:0,mfjMultiplier:1,unlimited:!1},ME:{limit:0,mfjMultiplier:1,unlimited:!1},NH:{limit:0,mfjMultiplier:1,unlimited:!1},NJ:{limit:0,mfjMultiplier:1,unlimited:!1},NV:{limit:0,mfjMultiplier:1,unlimited:!1},SD:{limit:0,mfjMultiplier:1,unlimited:!1},TN:{limit:0,mfjMultiplier:1,unlimited:!1},TX:{limit:0,mfjMultiplier:1,unlimited:!1},WA:{limit:0,mfjMultiplier:1,unlimited:!1},WY:{limit:0,mfjMultiplier:1,unlimited:!1}},WNe=[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"DC",label:"Washington DC"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"}],qNe=[{value:"single",label:"Single"},{value:"mfj",label:"Married Filing Jointly"},{value:"mfs",label:"Married Filing Separately"},{value:"hoh",label:"Head of Household"}];function HNe(){const[e,t]=x.useState({filingStatus:"single",state:"",agi:0,earnedIncome:0,childrenUnder6:0,children6to16:0,dependentsForCare:0,childCareExpenses:0,collegeStudents:0,tuitionPaid:0,retirementContributions:0,purchasedNewEV:!1,evPrice:0,evMSRPLimit:!0,purchasedUsedEV:!1,usedEVPrice:0,solarInstalled:!1,solarCost:0,homeImprovements:!1,heatPumpInstalled:!1,homeImprovementCost:0,hasHealthInsurance:!1,marketplacePremiums:0,isSmallBusinessOwner:!1,hiredTargetedEmployees:!1,researchExpenses:0,receivesEmployerEducation:!1,employerEducationAmount:0,has529Contributions:!1,contributions529:0}),[r,s]=x.useState(!1),a=(d,u)=>{t(h=>({...h,[d]:u}))},i=x.useMemo(()=>{const d=[],u=e.filingStatus==="mfj",h=e.filingStatus==="mfs",m=e.childrenUnder6+e.children6to16,f=u?4e5:2e5,p=Math.max(0,Math.floor((e.agi-f)/1e3)*50),v=m*2e3,j=Math.max(0,v-p);d.push({name:"Child Tax Credit",maxAmount:v,estimatedAmount:j,eligible:m>0&&j>0,phaseOutApplied:p>0,reason:m===0?"No qualifying children":j===0?"Income exceeds limit":void 0,category:"Family",icon:n.jsx(Or,{className:"h-4 w-4"})});const y={0:{max:632,incomeLimit:u?24210:17640},1:{max:4213,incomeLimit:u?53120:46560},2:{max:6960,incomeLimit:u?59478:52918},3:{max:7830,incomeLimit:u?63698:57414}},b=Math.min(m,3),w=y[b],N=e.earnedIncome>0&&e.agi<=w.incomeLimit,_=N?Math.min(w.max,w.max*(1-e.agi/w.incomeLimit)):0;d.push({name:"Earned Income Tax Credit",maxAmount:w.max,estimatedAmount:Math.round(_),eligible:N,phaseOutApplied:_<w.max&&_>0,reason:N?void 0:e.earnedIncome===0?"No earned income":"Income exceeds limit",category:"Family",icon:n.jsx(cn,{className:"h-4 w-4"})});const C=e.dependentsForCare>=2?6e3:3e3,S=Math.min(e.childCareExpenses,C),k=e.agi<=15e3?.35:Math.max(.2,.35-Math.floor((e.agi-15e3)/2e3)*.01),E=Math.round(S*k);d.push({name:"Child and Dependent Care Credit",maxAmount:Math.round(C*.35),estimatedAmount:E,eligible:e.dependentsForCare>0&&e.childCareExpenses>0,phaseOutApplied:k<.35,reason:e.dependentsForCare===0?"No dependents for care":e.childCareExpenses===0?"No care expenses":void 0,category:"Family",icon:n.jsx(Or,{className:"h-4 w-4"})});const T=u?16e4:8e4,A=u?18e4:9e4,R=e.collegeStudents*2500;let L=R;if(e.agi>T){const U=Math.min(1,(e.agi-T)/(A-T));L=Math.round(R*(1-U))}d.push({name:"American Opportunity Tax Credit",maxAmount:R,estimatedAmount:L,eligible:e.collegeStudents>0&&L>0&&!h,phaseOutApplied:L<R,reason:h?"Not available for MFS":e.collegeStudents===0?"No eligible students":L===0?"Income exceeds limit":void 0,category:"Education",icon:n.jsx(Vu,{className:"h-4 w-4"})});const V=u?16e4:8e4,O=u?18e4:9e4,P=Math.min(2e3,e.tuitionPaid*.2);let I=P;if(e.agi>V){const U=Math.min(1,(e.agi-V)/(O-V));I=Math.round(P*(1-U))}d.push({name:"Lifetime Learning Credit",maxAmount:2e3,estimatedAmount:I,eligible:e.tuitionPaid>0&&I>0&&!h,phaseOutApplied:I<P,reason:h?"Not available for MFS":e.tuitionPaid===0?"No tuition expenses":I===0?"Income exceeds limit":void 0,category:"Education",icon:n.jsx(Vu,{className:"h-4 w-4"})});const re={single:{tier1:23e3,tier2:25e3,tier3:38250},mfj:{tier1:46e3,tier2:5e4,tier3:76500},hoh:{tier1:34500,tier2:37500,tier3:57375},mfs:{tier1:23e3,tier2:25e3,tier3:38250}}[e.filingStatus];let X=0;e.agi<=re.tier1?X=.5:e.agi<=re.tier2?X=.2:e.agi<=re.tier3&&(X=.1);const W=Math.min(e.retirementContributions,u?4e3:2e3),oe=Math.round(W*X);d.push({name:"Saver's Credit",maxAmount:u?2e3:1e3,estimatedAmount:oe,eligible:e.retirementContributions>0&&X>0,phaseOutApplied:X<.5&&X>0,reason:e.retirementContributions===0?"No retirement contributions":X===0?"Income exceeds limit":void 0,category:"Retirement",icon:n.jsx($t,{className:"h-4 w-4"})});const je=u?3e5:15e4,$e=e.purchasedNewEV&&e.agi<=je&&e.evMSRPLimit;d.push({name:"Clean Vehicle Credit (New EV)",maxAmount:7500,estimatedAmount:$e?7500:0,eligible:$e,phaseOutApplied:!1,reason:e.purchasedNewEV?e.agi>je?"Income exceeds limit":e.evMSRPLimit?void 0:"MSRP exceeds limit":"No new EV purchased",category:"Clean Energy",icon:n.jsx(Q_,{className:"h-4 w-4"})});const se=u?15e4:75e3,Te=e.purchasedUsedEV&&e.agi<=se&&e.usedEVPrice<=25e3,le=Te?Math.min(4e3,e.usedEVPrice*.3):0;d.push({name:"Used Clean Vehicle Credit",maxAmount:4e3,estimatedAmount:Math.round(le),eligible:Te,phaseOutApplied:!1,reason:e.purchasedUsedEV?e.agi>se?"Income exceeds limit":e.usedEVPrice>25e3?"Price exceeds $25,000 limit":void 0:"No used EV purchased",category:"Clean Energy",icon:n.jsx(Q_,{className:"h-4 w-4"})});const ge=e.solarInstalled?Math.round(e.solarCost*.3):0;d.push({name:"Residential Clean Energy Credit",maxAmount:e.solarCost?Math.round(e.solarCost*.3):0,estimatedAmount:ge,eligible:e.solarInstalled&&e.solarCost>0,phaseOutApplied:!1,reason:e.solarInstalled?void 0:"No solar/clean energy installed",category:"Clean Energy",icon:n.jsx(Ir,{className:"h-4 w-4"})});const we=e.heatPumpInstalled?3200:1200,ae=e.homeImprovements?Math.min(we,e.homeImprovementCost*.3):0;d.push({name:"Energy Efficient Home Improvement Credit",maxAmount:we,estimatedAmount:Math.round(ae),eligible:e.homeImprovements&&e.homeImprovementCost>0,phaseOutApplied:!1,reason:e.homeImprovements?void 0:"No qualifying improvements",category:"Clean Energy",icon:n.jsx(Hb,{className:"h-4 w-4"})});const st=5250,Ze=e.receivesEmployerEducation&&e.employerEducationAmount>0,Tt=Ze?Math.min(e.employerEducationAmount,st):0;d.push({name:"Employer Educational Assistance Exclusion",maxAmount:st,estimatedAmount:Tt,eligible:Ze,phaseOutApplied:!1,reason:e.receivesEmployerEducation?e.employerEducationAmount===0?"Enter amount received":void 0:"No employer education assistance received",category:"Education",icon:n.jsx($n,{className:"h-4 w-4"})});const at=e.state?tu[e.state]:null,Bt=at&&(at.limit>0||at.unlimited),_r=at!=null&&at.unlimited?e.contributions529:((at==null?void 0:at.limit)||0)*(u&&(at==null?void 0:at.mfjMultiplier)||1),un=e.has529Contributions&&Bt?Math.min(e.contributions529,_r):0;if(d.push({name:"529 Plan State Tax Deduction",maxAmount:at!=null&&at.unlimited?e.contributions529:_r,estimatedAmount:un,eligible:e.has529Contributions&&e.contributions529>0&&Bt,phaseOutApplied:!1,reason:e.has529Contributions?e.state?Bt?void 0:"Your state doesn't offer a 529 deduction":"Select your state":"No 529 contributions",category:"Education",icon:n.jsx(rO,{className:"h-4 w-4"})}),e.isSmallBusinessOwner){d.push({name:"Work Opportunity Tax Credit",maxAmount:9600,estimatedAmount:e.hiredTargetedEmployees?2400:0,eligible:e.hiredTargetedEmployees,phaseOutApplied:!1,reason:e.hiredTargetedEmployees?void 0:"No targeted employees hired",category:"Business",icon:n.jsx(Wn,{className:"h-4 w-4"})});const U=e.researchExpenses>0?Math.round(e.researchExpenses*.14):0;d.push({name:"R&D Tax Credit (Simplified)",maxAmount:e.researchExpenses?Math.round(e.researchExpenses*.2):0,estimatedAmount:U,eligible:e.researchExpenses>0,phaseOutApplied:!1,reason:e.researchExpenses===0?"No qualified research expenses":void 0,category:"Business",icon:n.jsx(Wn,{className:"h-4 w-4"})})}return d},[e]),o=i.filter(d=>d.eligible).reduce((d,u)=>d+u.estimatedAmount,0),l=i.filter(d=>d.eligible).length,c=[...new Set(i.map(d=>d.category))];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Wn,{className:"h-5 w-5"}),"Tax Credits Calculator"]}),n.jsx(ye,{children:"Enter your information to see which tax credits you may qualify for in 2024"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[n.jsx($t,{className:"h-4 w-4"}),"Income & Filing Status"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"Filing Status"}),n.jsxs(Re,{value:e.filingStatus,onValueChange:d=>a("filingStatus",d),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:qNe.map(d=>n.jsx(he,{value:d.value,children:d.label},d.value))})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"State (for 529 deduction)"}),n.jsxs(Re,{value:e.state,onValueChange:d=>a("state",d),children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Select State"})}),n.jsx(Ae,{children:WNe.map(d=>n.jsx(he,{value:d.value,children:d.label},d.value))})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Adjusted Gross Income (AGI)"}),n.jsx(F,{type:"number",placeholder:"0",value:e.agi||"",onChange:d=>a("agi",parseFloat(d.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Earned Income (Wages)"}),n.jsx(F,{type:"number",placeholder:"0",value:e.earnedIncome||"",onChange:d=>a("earnedIncome",parseFloat(d.target.value)||0)})]})]})]}),n.jsx(sn,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[n.jsx(Or,{className:"h-4 w-4"}),"Family & Dependents"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"Children Under 6"}),n.jsx(F,{type:"number",min:"0",value:e.childrenUnder6,onChange:d=>a("childrenUnder6",parseInt(d.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Children 6-17"}),n.jsx(F,{type:"number",min:"0",value:e.children6to16,onChange:d=>a("children6to16",parseInt(d.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Dependents Needing Care"}),n.jsx(F,{type:"number",min:"0",value:e.dependentsForCare,onChange:d=>a("dependentsForCare",parseInt(d.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Child Care Expenses"}),n.jsx(F,{type:"number",placeholder:"0",value:e.childCareExpenses||"",onChange:d=>a("childCareExpenses",parseFloat(d.target.value)||0)})]})]})]}),n.jsx(sn,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[n.jsx(Vu,{className:"h-4 w-4"}),"Education"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"College Students (First 4 Years)"}),n.jsx(F,{type:"number",min:"0",value:e.collegeStudents,onChange:d=>a("collegeStudents",parseInt(d.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Tuition Paid (for credits)"}),n.jsx(F,{type:"number",placeholder:"0",value:e.tuitionPaid||"",onChange:d=>a("tuitionPaid",parseFloat(d.target.value)||0)})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"Retirement Contributions"}),n.jsx(F,{type:"number",placeholder:"0",value:e.retirementContributions||"",onChange:d=>a("retirementContributions",parseFloat(d.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Retirement Contributions"}),n.jsx(F,{type:"number",placeholder:"0",value:e.retirementContributions||"",onChange:d=>a("retirementContributions",parseFloat(d.target.value)||0)})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[n.jsxs(q,{className:"p-4 space-y-3 border-primary/20 bg-primary/5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($n,{className:"h-4 w-4 text-primary"}),n.jsx(M,{children:"Employer Pays for Education or Student Loans"})]}),n.jsx(lr,{checked:e.receivesEmployerEducation,onCheckedChange:d=>a("receivesEmployerEducation",d)})]}),e.receivesEmployerEducation&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{className:"text-xs",children:"Amount Provided by Employer"}),n.jsx(F,{type:"number",placeholder:"0",value:e.employerEducationAmount||"",onChange:d=>a("employerEducationAmount",parseFloat(d.target.value)||0)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Up to $5,250 is tax-free (Section 127). Includes:"}),n.jsxs("ul",{className:"text-xs text-muted-foreground list-disc list-inside space-y-0.5",children:[n.jsx("li",{children:"Tuition & fees paid by employer"}),n.jsxs("li",{children:[n.jsx("strong",{children:"Student loan repayments"})," by employer"]}),n.jsx("li",{children:"Books & supplies"})]}),n.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:" Proof: Get documentation from employer showing educational assistance provided"})]})]}),n.jsxs(q,{className:"p-4 space-y-3 border-secondary/20 bg-secondary/5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rO,{className:"h-4 w-4 text-secondary"}),n.jsx(M,{children:"529 Plan Contributions"})]}),n.jsx(lr,{checked:e.has529Contributions,onCheckedChange:d=>a("has529Contributions",d)})]}),e.has529Contributions&&n.jsxs("div",{children:[n.jsx(M,{className:"text-xs",children:"Total 529 Contributions This Year"}),n.jsx(F,{type:"number",placeholder:"0",value:e.contributions529||"",onChange:d=>a("contributions529",parseFloat(d.target.value)||0)}),e.state&&tu[e.state]&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:tu[e.state].unlimited?"Your state offers unlimited deduction":tu[e.state].limit>0?`Your state limit: $${(tu[e.state].limit*(e.filingStatus==="mfj"?tu[e.state].mfjMultiplier:1)).toLocaleString()}`:"Your state doesn't offer a 529 deduction"})]})]})]})]}),n.jsx(sn,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[n.jsx(Ir,{className:"h-4 w-4"}),"Clean Energy & Vehicles"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs(q,{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(M,{children:"Purchased New Electric Vehicle"}),n.jsx(lr,{checked:e.purchasedNewEV,onCheckedChange:d=>a("purchasedNewEV",d)})]}),e.purchasedNewEV&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(M,{className:"text-xs",children:"EV Purchase Price"}),n.jsx(F,{type:"number",value:e.evPrice||"",onChange:d=>a("evPrice",parseFloat(d.target.value)||0)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(M,{className:"text-xs",children:"MSRP Under $55K (cars) / $80K (SUVs)"}),n.jsx(lr,{checked:e.evMSRPLimit,onCheckedChange:d=>a("evMSRPLimit",d)})]})]})]}),n.jsxs(q,{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(M,{children:"Purchased Used Electric Vehicle"}),n.jsx(lr,{checked:e.purchasedUsedEV,onCheckedChange:d=>a("purchasedUsedEV",d)})]}),e.purchasedUsedEV&&n.jsxs("div",{children:[n.jsx(M,{className:"text-xs",children:"Used EV Purchase Price"}),n.jsx(F,{type:"number",value:e.usedEVPrice||"",onChange:d=>a("usedEVPrice",parseFloat(d.target.value)||0)})]})]}),n.jsxs(q,{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(M,{children:"Installed Solar/Wind/Battery"}),n.jsx(lr,{checked:e.solarInstalled,onCheckedChange:d=>a("solarInstalled",d)})]}),e.solarInstalled&&n.jsxs("div",{children:[n.jsx(M,{className:"text-xs",children:"Total Installation Cost"}),n.jsx(F,{type:"number",value:e.solarCost||"",onChange:d=>a("solarCost",parseFloat(d.target.value)||0)})]})]}),n.jsxs(q,{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(M,{children:"Home Energy Improvements"}),n.jsx(lr,{checked:e.homeImprovements,onCheckedChange:d=>a("homeImprovements",d)})]}),e.homeImprovements&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(M,{className:"text-xs",children:"Includes Heat Pump"}),n.jsx(lr,{checked:e.heatPumpInstalled,onCheckedChange:d=>a("heatPumpInstalled",d)})]}),n.jsxs("div",{children:[n.jsx(M,{className:"text-xs",children:"Total Improvement Cost"}),n.jsx(F,{type:"number",value:e.homeImprovementCost||"",onChange:d=>a("homeImprovementCost",parseFloat(d.target.value)||0)})]})]})]})]})]}),n.jsx(sn,{}),n.jsxs(_m,{children:[n.jsx(Sm,{asChild:!0,children:n.jsxs($,{variant:"outline",className:"w-full justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Wn,{className:"h-4 w-4"}),"Business Credits (Optional)"]}),n.jsx(Gs,{className:"h-4 w-4"})]})}),n.jsxs(Cm,{className:"pt-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(M,{children:"Are you a small business owner?"}),n.jsx(lr,{checked:e.isSmallBusinessOwner,onCheckedChange:d=>a("isSmallBusinessOwner",d)})]}),e.isSmallBusinessOwner&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(M,{children:"Hired targeted employees (veterans, etc.)"}),n.jsx(lr,{checked:e.hiredTargetedEmployees,onCheckedChange:d=>a("hiredTargetedEmployees",d)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Qualified Research Expenses"}),n.jsx(F,{type:"number",placeholder:"0",value:e.researchExpenses||"",onChange:d=>a("researchExpenses",parseFloat(d.target.value)||0)})]})]})]})]}),n.jsxs($,{onClick:()=>s(!0),className:"w-full",size:"lg",children:[n.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Calculate My Credits"]})]})]}),r&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(q,{className:"bg-gradient-to-br from-green-50 to-emerald-100 dark:from-green-950/30 dark:to-emerald-900/30 border-green-200 dark:border-green-800",children:n.jsx(K,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-green-800 dark:text-green-200",children:"Estimated Total Tax Credits"}),n.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:["You may qualify for ",l," credit",l!==1?"s":""]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-4xl font-bold text-green-700 dark:text-green-300",children:["$",o.toLocaleString()]}),n.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:"potential savings"})]})]})})}),c.map(d=>{var m;const u=i.filter(f=>f.category===d),h=u.some(f=>f.eligible);return n.jsxs(q,{children:[n.jsx(de,{className:"pb-2",children:n.jsxs(ce,{className:"text-lg flex items-center gap-2",children:[(m=u[0])==null?void 0:m.icon,d," Credits",h&&n.jsx(ne,{variant:"default",className:"ml-2",children:"Eligible"})]})}),n.jsx(K,{className:"space-y-3",children:u.map(f=>n.jsx("div",{className:`p-4 rounded-lg border ${f.eligible?"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800":"bg-muted/50 border-muted"}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[f.eligible?n.jsx(At,{className:"h-4 w-4 text-green-600"}):n.jsx(FJ,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("h4",{className:"font-medium",children:f.name}),f.phaseOutApplied&&n.jsxs(ne,{variant:"outline",className:"text-xs",children:[n.jsx(jt,{className:"h-3 w-3 mr-1"}),"Phase-out applied"]})]}),f.reason&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1 ml-6",children:f.reason})]}),n.jsx("div",{className:"text-right",children:f.eligible?n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-lg font-bold text-green-700 dark:text-green-300",children:["$",f.estimatedAmount.toLocaleString()]}),f.estimatedAmount<f.maxAmount&&f.maxAmount>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["of $",f.maxAmount.toLocaleString()," max"]})]}):n.jsx("p",{className:"text-muted-foreground",children:"$0"})})]})},f.name))})]},d)}),n.jsx(q,{className:"border-amber-200 bg-amber-50/50 dark:border-amber-800 dark:bg-amber-950/20",children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(jt,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[n.jsx("p",{className:"font-medium",children:"Disclaimer"}),n.jsx("p",{className:"mt-1",children:"This calculator provides estimates based on 2024 tax law. Actual credits depend on your complete tax situation. Consult a tax professional for personalized advice. Some credits have additional requirements not captured here."})]})]})})})]})]})}function KNe(){const e=Qt();return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container flex h-16 items-center justify-between px-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs($,{variant:"ghost",size:"sm",onClick:()=>e(-1),children:[n.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-xl font-semibold",children:"Tax Credits Calculator"})]}),n.jsxs("nav",{className:"flex items-center gap-4",children:[n.jsx(Vs,{to:"/",children:"Home"}),n.jsx(Vs,{to:"/tax-rules",children:"Tax Rules"}),n.jsx(Vs,{to:"/subscriptions",children:"Subscriptions"})]})]})}),n.jsx("main",{className:"container px-4 py-8 max-w-4xl",children:n.jsx(HNe,{})})]})}function GNe(){const[e,t]=x.useState(""),[r,s]=x.useState(new Date().toISOString().split("T")[0]),[a,i]=x.useState("5250"),[o,l]=x.useState(!1),c=`
SECTION 127 EDUCATIONAL ASSISTANCE PROGRAM

${e||"[COMPANY NAME]"}
Educational Assistance Plan

Effective Date: ${r||"[DATE]"}



ARTICLE I - PURPOSE

This Educational Assistance Program (the "Plan") is established by ${e||"[COMPANY NAME]"} (the "Employer") pursuant to Section 127 of the Internal Revenue Code to provide educational assistance benefits to eligible employees on a tax-favored basis.

ARTICLE II - DEFINITIONS

2.1 "Educational Assistance" means:
    (a) Payment of expenses for education of the employee, including tuition, fees, books, supplies, and equipment
    (b) Payment toward principal or interest on qualified education loans of the employee
    (c) The provision of courses of instruction for the employee

2.2 "Eligible Employee" means any employee of the Employer who has completed at least [30/60/90] days of service.

2.3 "Plan Year" means the calendar year.

ARTICLE III - ELIGIBILITY

3.1 All employees meeting the definition of Eligible Employee are entitled to participate in this Plan.

3.2 The Plan does not discriminate in favor of employees who are highly compensated employees (as defined in Section 414(q) of the Code) or their dependents.

ARTICLE IV - BENEFITS

4.1 Maximum Annual Benefit: The maximum educational assistance that may be provided to any employee under this Plan is $${a||"5,250"} per calendar year.

4.2 Qualifying Expenses include:
     Tuition and fees for courses at accredited institutions
     Books, supplies, and equipment required for courses
     Student loan principal and interest payments (through December 31, 2025)

4.3 Non-Qualifying Expenses:
     Meals, lodging, or transportation
     Tools or supplies retained by employee after course completion
     Courses involving sports, games, or hobbies (unless job-related)

ARTICLE V - ADMINISTRATION

5.1 The Employer shall administer this Plan and has full discretionary authority to:
    (a) Interpret the terms of the Plan
    (b) Determine eligibility for benefits
    (c) Establish procedures for claims and appeals

5.2 Employees must submit requests for educational assistance in writing, including:
     Description of educational program or student loan information
     Cost documentation
     Expected completion date (if applicable)

ARTICLE VI - FUNDING

6.1 The Employer shall pay the cost of all benefits under this Plan directly or reimburse employees for qualified expenses.

6.2 Employees may not elect to receive cash in lieu of educational assistance.

ARTICLE VII - AMENDMENTS AND TERMINATION

7.1 The Employer reserves the right to amend, modify, or terminate this Plan at any time.

7.2 Amendment or termination shall not affect benefits already approved.

ARTICLE VIII - GENERAL PROVISIONS

8.1 This Plan is intended to qualify as an educational assistance program under Section 127 of the Internal Revenue Code.

8.2 Benefits under this Plan are not considered wages for purposes of federal income tax withholding.

8.3 No more than 5% of the amounts paid or incurred by the Employer for educational assistance during the year may be provided for the class of individuals who own more than 5% of the stock or capital/profits interest of the Employer.



ADOPTION

${e||"[COMPANY NAME]"} hereby adopts this Educational Assistance Program effective ${r||"[DATE]"}.


_________________________________          _______________
Authorized Signature                        Date


_________________________________
Print Name and Title



REQUIRED DOCUMENTATION CHECKLIST:

 Signed Plan Document (this document)
 Employee Notification/Summary
 Reimbursement Request Form
 Record of Benefits Provided (per employee, per year)

TAX FILING REMINDERS:

 Exclude qualified benefits from employee W-2 Box 1
 May note benefits in W-2 Box 14 (optional)
 Deduct as business expense (wages/benefits)
 Keep records for 4+ years


`,d=()=>{navigator.clipboard.writeText(c),l(!0),We.success("Plan document copied to clipboard"),setTimeout(()=>l(!1),2e3)},u=()=>{const h=new Blob([c],{type:"text/plain"}),m=URL.createObjectURL(h),f=document.createElement("a");f.href=m,f.download=`Section-127-Plan-${e||"Template"}.txt`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(m),We.success("Plan document downloaded")};return n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(wt,{className:"h-5 w-5"}),"Section 127 Educational Assistance Plan Template"]}),n.jsx(ye,{children:"Generate a compliant written plan document required by the IRS. Customize and download."})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"Company Name"}),n.jsx(F,{placeholder:"Your Business Name",value:e,onChange:h=>t(h.target.value)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Effective Date"}),n.jsx(F,{type:"date",value:r,onChange:h=>s(h.target.value)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Maximum Annual Benefit ($)"}),n.jsx(F,{type:"number",placeholder:"5250",value:a,onChange:h=>i(h.target.value)}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"IRS max is $5,250"})]})]}),n.jsx(sn,{}),n.jsxs("div",{children:[n.jsx(M,{className:"mb-2 block",children:"Plan Document Preview"}),n.jsx("div",{className:"bg-muted/50 rounded-lg p-4 max-h-96 overflow-y-auto font-mono text-xs whitespace-pre-wrap border",children:c})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs($,{onClick:d,variant:"outline",className:"gap-2",children:[o?n.jsx(ss,{className:"h-4 w-4"}):n.jsx(WJ,{className:"h-4 w-4"}),o?"Copied!":"Copy to Clipboard"]}),n.jsxs($,{onClick:u,className:"gap-2",children:[n.jsx(ud,{className:"h-4 w-4"}),"Download as Text File"]})]}),n.jsx(q,{className:"bg-amber-50/50 dark:bg-amber-950/20 border-amber-200 dark:border-amber-800",children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx($n,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Requirements Reminder"}),n.jsxs("ul",{className:"mt-2 space-y-1 text-amber-700 dark:text-amber-300",children:[n.jsx("li",{children:" Plan must be in writing (this document)"}),n.jsx("li",{children:" Cannot discriminate in favor of highly compensated employees"}),n.jsx("li",{children:" No more than 5% of benefits can go to 5%+ owners"}),n.jsx("li",{children:" Employee cannot choose cash instead of education benefit"}),n.jsx("li",{children:" Keep records of all payments made"})]})]})]})})})]})]})}function gH(e){const t=ze(),{data:r=[],isLoading:s}=ft({queryKey:["employer-education-benefits",e],queryFn:async()=>{let c=Y.from("employer_education_benefits").select("*").order("payment_date",{ascending:!1});e&&(c=c.eq("tax_year",e));const{data:d,error:u}=await c;if(u)throw u;return d}}),a=Be({mutationFn:async c=>{const{data:d}=await Y.auth.getUser();if(!d.user)throw new Error("Not authenticated");const{data:u,error:h}=await Y.from("employer_education_benefits").insert({...c,user_id:d.user.id}).select().single();if(h)throw h;return u},onSuccess:()=>{t.invalidateQueries({queryKey:["employer-education-benefits"]}),We.success("Education benefit added")},onError:c=>{We.error("Failed to add benefit: "+c.message)}}),i=Be({mutationFn:async c=>{const{error:d}=await Y.from("employer_education_benefits").delete().eq("id",c);if(d)throw d},onSuccess:()=>{t.invalidateQueries({queryKey:["employer-education-benefits"]}),We.success("Benefit deleted")},onError:c=>{We.error("Failed to delete: "+c.message)}}),o=r.reduce((c,d)=>{const u=d.employee_name;return c[u]||(c[u]={total:0,count:0,overLimit:!1}),c[u].total+=Number(d.amount),c[u].count+=1,c[u].overLimit=c[u].total>5250,c},{}),l=r.reduce((c,d)=>c+Number(d.amount),0);return{benefits:r,isLoading:s,addBenefit:a,deleteBenefit:i,employeeTotals:o,totalPaid:l}}const KR=[{value:"tuition",label:"Tuition & Fees"},{value:"student_loan",label:"Student Loan Payment"},{value:"books",label:"Books & Supplies"},{value:"equipment",label:"Equipment"},{value:"other",label:"Other Education Expense"}],my=new Date().getFullYear();function YNe(){const[e,t]=x.useState(my),[r,s]=x.useState(!1),{benefits:a,isLoading:i,addBenefit:o,deleteBenefit:l,employeeTotals:c,totalPaid:d}=gH(e),[u,h]=x.useState({employee_name:"",employee_email:"",payment_date:new Date().toISOString().split("T")[0],amount:0,payment_type:"tuition",description:"",tax_year:my,documentation_notes:"",is_student_loan_payment:!1}),m=()=>{!u.employee_name||u.amount<=0||(o.mutate({...u,is_student_loan_payment:u.payment_type==="student_loan"}),s(!1),h({employee_name:"",employee_email:"",payment_date:new Date().toISOString().split("T")[0],amount:0,payment_type:"tuition",description:"",tax_year:my,documentation_notes:"",is_student_loan_payment:!1}))},f=Array.from({length:5},(p,g)=>my-g);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(q,{children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:n.jsx($t,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Paid (",e,")"]}),n.jsxs("p",{className:"text-2xl font-bold",children:["$",d.toLocaleString()]})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary/10 flex items-center justify-center",children:n.jsx(Or,{className:"h-5 w-5 text-secondary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Employees Benefited"}),n.jsx("p",{className:"text-2xl font-bold",children:Object.keys(c).length})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:n.jsx(wt,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Payments Recorded"}),n.jsx("p",{className:"text-2xl font-bold",children:a.length})]})]})})})]}),Object.keys(c).length>0&&n.jsxs(q,{children:[n.jsxs(de,{className:"pb-2",children:[n.jsxs(ce,{className:"text-lg",children:["Employee Totals (Tax Year ",e,")"]}),n.jsx(ye,{children:"Track against the $5,250 annual limit per employee"})]}),n.jsx(K,{children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Object.entries(c).map(([p,g])=>n.jsxs("div",{className:`p-3 rounded-lg border ${g.overLimit?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:p}),g.overLimit?n.jsx(jt,{className:"h-4 w-4 text-red-600"}):n.jsx(At,{className:"h-4 w-4 text-green-600"})]}),n.jsxs("p",{className:`text-lg font-bold ${g.overLimit?"text-red-600":"text-green-600"}`,children:["$",g.total.toLocaleString()]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:g.overLimit?`$${(g.total-5250).toLocaleString()} over limit (taxable)`:`$${(5250-g.total).toLocaleString()} remaining`})]},p))})})]}),n.jsxs(q,{children:[n.jsx(de,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Vu,{className:"h-5 w-5"}),"Education Benefit Payments"]}),n.jsx(ye,{children:"Track all educational assistance and student loan payments to employees"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Re,{value:e.toString(),onValueChange:p=>t(parseInt(p)),children:[n.jsx(Pe,{className:"w-32",children:n.jsx(Ie,{})}),n.jsx(Ae,{children:f.map(p=>n.jsx(he,{value:p.toString(),children:p},p))})]}),n.jsxs(Xt,{open:r,onOpenChange:s,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{className:"gap-2",children:[n.jsx(jr,{className:"h-4 w-4"}),"Add Payment"]})}),n.jsxs(qt,{className:"max-w-lg",children:[n.jsx(Ht,{children:n.jsx(Kt,{children:"Record Education Benefit Payment"})}),n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx(M,{children:"Employee Name *"}),n.jsx(F,{placeholder:"John Smith",value:u.employee_name,onChange:p=>h({...u,employee_name:p.target.value})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Employee Email"}),n.jsx(F,{type:"email",placeholder:"john@company.com",value:u.employee_email,onChange:p=>h({...u,employee_email:p.target.value})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Payment Date *"}),n.jsx(F,{type:"date",value:u.payment_date,onChange:p=>h({...u,payment_date:p.target.value})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Amount *"}),n.jsx(F,{type:"number",placeholder:"0.00",value:u.amount||"",onChange:p=>h({...u,amount:parseFloat(p.target.value)||0})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Payment Type"}),n.jsxs(Re,{value:u.payment_type,onValueChange:p=>h({...u,payment_type:p}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:KR.map(p=>n.jsx(he,{value:p.value,children:p.label},p.value))})]})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Description"}),n.jsx(F,{placeholder:"e.g., Spring semester tuition, Navient loan payment",value:u.description,onChange:p=>h({...u,description:p.target.value})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Documentation Notes"}),n.jsx(wr,{placeholder:"e.g., Invoice #12345, Check #789, Direct payment confirmation",value:u.documentation_notes,onChange:p=>h({...u,documentation_notes:p.target.value}),rows:2})]}),n.jsx($,{onClick:m,className:"w-full",disabled:!u.employee_name||u.amount<=0,children:"Record Payment"})]})]})]})]})]})}),n.jsx(K,{children:i?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):a.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Vu,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),n.jsxs("p",{children:["No education benefits recorded for ",e]}),n.jsx("p",{className:"text-sm",children:'Click "Add Payment" to record a payment'})]}):n.jsx("div",{className:"rounded-lg border overflow-hidden",children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Date"}),n.jsx(te,{children:"Employee"}),n.jsx(te,{children:"Type"}),n.jsx(te,{children:"Description"}),n.jsx(te,{className:"text-right",children:"Amount"}),n.jsx(te,{})]})}),n.jsx(Wt,{children:a.map(p=>{var g;return n.jsxs(Ve,{children:[n.jsx(Q,{children:_t(new Date(p.payment_date),"MMM d, yyyy")}),n.jsx(Q,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:p.employee_name}),p.employee_email&&n.jsx("p",{className:"text-xs text-muted-foreground",children:p.employee_email})]})}),n.jsx(Q,{children:n.jsx(ne,{variant:p.is_student_loan_payment?"secondary":"outline",children:((g=KR.find(v=>v.value===p.payment_type))==null?void 0:g.label)||p.payment_type})}),n.jsx(Q,{className:"max-w-[200px] truncate",children:p.description||"-"}),n.jsxs(Q,{className:"text-right font-medium",children:["$",Number(p.amount).toLocaleString()]}),n.jsx(Q,{children:n.jsx($,{variant:"ghost",size:"icon",onClick:()=>l.mutate(p.id),children:n.jsx(xr,{className:"h-4 w-4 text-destructive"})})})]},p.id)})})]})})})]}),n.jsx(q,{className:"border-primary/20 bg-primary/5",children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(wt,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-medium",children:"Tax Filing Reminders"}),n.jsxs("ul",{className:"mt-2 space-y-1 text-muted-foreground",children:[n.jsxs("li",{children:[" ",n.jsx("strong",{children:"W-2 Box 1:"})," Exclude benefits up to $5,250 per employee"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"W-2 Box 14:"})," Optionally note the benefit amount (informational)"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Business Deduction:"})," Deduct total as employee benefit expense"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Over $5,250:"})," Any excess is taxable wages for the employee"]})]})]})]})})})]})}const XNe=[{code:"A",description:"Uncollected Social Security or RRTA tax on tips",taxable:!0,category:"Taxes"},{code:"B",description:"Uncollected Medicare tax on tips",taxable:!0,category:"Taxes"},{code:"C",description:"Taxable cost of group-term life insurance over $50,000",taxable:!0,category:"Benefits"},{code:"D",description:"Elective deferrals to a 401(k) plan",taxable:!1,category:"Retirement"},{code:"E",description:"Elective deferrals to a 403(b) plan",taxable:!1,category:"Retirement"},{code:"F",description:"Elective deferrals to a 408(k)(6) SEP plan",taxable:!1,category:"Retirement"},{code:"G",description:"Elective deferrals and employer contributions to a 457(b) plan",taxable:!1,category:"Retirement"},{code:"H",description:"Elective deferrals to a 501(c)(18)(D) tax-exempt plan",taxable:!1,category:"Retirement"},{code:"J",description:"Nontaxable sick pay",taxable:!1,category:"Benefits"},{code:"K",description:"20% excise tax on excess golden parachute payments",taxable:!0,category:"Taxes"},{code:"L",description:"Substantiated employee business expense reimbursements",taxable:!1,category:"Reimbursements"},{code:"M",description:"Uncollected SS/RRTA tax on group-term life insurance over $50,000 (former employees)",taxable:!0,category:"Taxes"},{code:"N",description:"Uncollected Medicare tax on group-term life insurance over $50,000 (former employees)",taxable:!0,category:"Taxes"},{code:"P",description:"Excludable moving expense reimbursements (military only)",taxable:!1,category:"Reimbursements"},{code:"Q",description:"Nontaxable combat pay",taxable:!1,category:"Military"},{code:"R",description:"Employer contributions to an Archer MSA",taxable:!1,category:"Healthcare"},{code:"S",description:"Employee salary reduction contributions to a SIMPLE IRA (408(p))",taxable:!1,category:"Retirement"},{code:"T",description:"Adoption benefits",taxable:!1,category:"Benefits"},{code:"V",description:"Income from exercise of nonstatutory stock options",taxable:!0,category:"Compensation"},{code:"W",description:"Employer contributions to Health Savings Account (HSA)",taxable:!1,category:"Healthcare"},{code:"Y",description:"Deferrals under Section 409A nonqualified deferred compensation plan",taxable:!1,category:"Retirement"},{code:"Z",description:"Income under Section 409A on nonqualified deferred compensation plan",taxable:!0,category:"Compensation"},{code:"AA",description:"Designated Roth contributions under a 401(k) plan",taxable:!0,category:"Retirement"},{code:"BB",description:"Designated Roth contributions under a 403(b) plan",taxable:!0,category:"Retirement"},{code:"DD",description:"Cost of employer-sponsored health coverage (informational only)",taxable:!1,category:"Healthcare"},{code:"EE",description:"Designated Roth contributions under a governmental 457(b) plan",taxable:!0,category:"Retirement"},{code:"FF",description:"Permitted benefits under a QSEHRA",taxable:!1,category:"Healthcare"},{code:"GG",description:"Income from qualified equity grants under Section 83(i)",taxable:!0,category:"Compensation"},{code:"HH",description:"Aggregate deferrals under Section 83(i) elections",taxable:!1,category:"Compensation"}],QNe=[{code:"EDU",description:"Educational assistance (Section 127)",limit:5250,taxable:!1,category:"Education"},{code:"EDUC",description:"Educational assistance (Section 127)",limit:5250,taxable:!1,category:"Education"},{code:"SLRP",description:"Student loan repayment assistance",limit:5250,taxable:!1,category:"Education"},{code:"UNION",description:"Union dues",limit:null,taxable:!1,category:"Deductions"},{code:"HEALTH",description:"Health insurance premiums (after-tax)",limit:null,taxable:!1,category:"Healthcare"},{code:"DENTAL",description:"Dental insurance premiums",limit:null,taxable:!1,category:"Healthcare"},{code:"VISION",description:"Vision insurance premiums",limit:null,taxable:!1,category:"Healthcare"},{code:"SDI",description:"State Disability Insurance",limit:null,taxable:!1,category:"State Taxes"},{code:"CASDI",description:"California State Disability Insurance",limit:null,taxable:!1,category:"State Taxes"},{code:"NYSDI",description:"New York State Disability Insurance",limit:null,taxable:!1,category:"State Taxes"},{code:"NJSDI",description:"New Jersey State Disability Insurance",limit:null,taxable:!1,category:"State Taxes"},{code:"NJFLI",description:"New Jersey Family Leave Insurance",limit:null,taxable:!1,category:"State Taxes"},{code:"NYPFL",description:"New York Paid Family Leave",limit:null,taxable:!1,category:"State Taxes"},{code:"MAPFL",description:"Massachusetts Paid Family Leave",limit:null,taxable:!1,category:"State Taxes"},{code:"WAPFL",description:"Washington Paid Family Leave",limit:null,taxable:!1,category:"State Taxes"},{code:"CTPFL",description:"Connecticut Paid Family Leave",limit:null,taxable:!1,category:"State Taxes"},{code:"UNIFORM",description:"Uniform/clothing allowance",limit:null,taxable:!1,category:"Reimbursements"},{code:"TOOLS",description:"Tool allowance",limit:null,taxable:!1,category:"Reimbursements"},{code:"CAR",description:"Car/auto allowance",limit:null,taxable:!0,category:"Compensation"},{code:"MOVING",description:"Moving expenses (taxable)",limit:null,taxable:!0,category:"Reimbursements"},{code:"LIFE",description:"Group-term life insurance (taxable portion)",limit:null,taxable:!0,category:"Benefits"},{code:"GTL",description:"Group-term life insurance over $50,000",limit:null,taxable:!0,category:"Benefits"},{code:"FSA",description:"Flexible Spending Account contributions",limit:3050,taxable:!1,category:"Healthcare"},{code:"DCFSA",description:"Dependent Care FSA contributions",limit:5e3,taxable:!1,category:"Dependent Care"},{code:"HSA-EE",description:"Employee HSA contributions (payroll)",limit:4150,taxable:!1,category:"Healthcare"},{code:"PARKING",description:"Qualified parking benefits",limit:315,taxable:!1,category:"Benefits"},{code:"TRANSIT",description:"Qualified transit benefits",limit:315,taxable:!1,category:"Benefits"},{code:"TIPS",description:"Reported tips (informational)",limit:null,taxable:!0,category:"Compensation"},{code:"BONUS",description:"Bonus payments (informational)",limit:null,taxable:!0,category:"Compensation"},{code:"SEVER",description:"Severance pay",limit:null,taxable:!0,category:"Compensation"},{code:"PTO",description:"Paid time off payout",limit:null,taxable:!0,category:"Compensation"},{code:"CHARITY",description:"Charitable contributions (payroll deduction)",limit:null,taxable:!1,category:"Deductions"},{code:"414H",description:"Government retirement contributions (Section 414(h))",limit:null,taxable:!1,category:"Retirement"},{code:"ROTH IRA",description:"Roth IRA contributions via payroll",limit:7e3,taxable:!0,category:"Retirement"},{code:"RSU",description:"Restricted Stock Units income",limit:null,taxable:!0,category:"Compensation"},{code:"ESPP",description:"Employee Stock Purchase Plan",limit:null,taxable:!0,category:"Compensation"}],ZNe=[{box:"1",name:"Wages, tips, other compensation",description:"Total taxable wages, tips, prizes, and other compensation. Excludes pre-tax deductions like 401(k).",taxable:!0},{box:"2",name:"Federal income tax withheld",description:"Total federal income tax withheld from paychecks.",taxable:!1},{box:"3",name:"Social Security wages",description:"Total wages subject to Social Security tax. Max $168,600 for 2024.",taxable:!0},{box:"4",name:"Social Security tax withheld",description:"Social Security tax withheld (6.2% of Box 3).",taxable:!1},{box:"5",name:"Medicare wages and tips",description:"Total wages subject to Medicare tax (no limit).",taxable:!0},{box:"6",name:"Medicare tax withheld",description:"Medicare tax withheld (1.45% of Box 5, plus 0.9% Additional Medicare Tax if applicable).",taxable:!1},{box:"7",name:"Social Security tips",description:"Tips reported to employer and subject to Social Security tax.",taxable:!0},{box:"8",name:"Allocated tips",description:"Tips allocated by employer if reported tips are below threshold.",taxable:!0},{box:"9",name:"Verification code",description:"Used for electronic filing verification (if present).",taxable:!1},{box:"10",name:"Dependent care benefits",description:"Total dependent care benefits provided or paid. Up to $5,000 is excludable.",taxable:!1},{box:"11",name:"Nonqualified plans",description:"Distributions from nonqualified deferred compensation plans.",taxable:!0},{box:"12",name:"Codes (see Box 12 codes)",description:"Various compensation and benefit codes. Up to 4 items can be listed.",taxable:!1},{box:"13",name:"Checkboxes",description:"Statutory employee, Retirement plan participant, Third-party sick pay.",taxable:!1},{box:"14",name:"Other",description:"Employer-specific information like union dues, health insurance, education assistance, state taxes.",taxable:!1}],JNe=[{box:"1",name:"Wages, tips, other compensation",description:"Sum of all W-2 Box 1 amounts"},{box:"2",name:"Federal income tax withheld",description:"Sum of all W-2 Box 2 amounts"},{box:"3",name:"Social Security wages",description:"Sum of all W-2 Box 3 amounts"},{box:"4",name:"Social Security tax withheld",description:"Sum of all W-2 Box 4 amounts"},{box:"5",name:"Medicare wages and tips",description:"Sum of all W-2 Box 5 amounts"},{box:"6",name:"Medicare tax withheld",description:"Sum of all W-2 Box 6 amounts"},{box:"7",name:"Social Security tips",description:"Sum of all W-2 Box 7 amounts"},{box:"8",name:"Allocated tips",description:"Sum of all W-2 Box 8 amounts"},{box:"10",name:"Dependent care benefits",description:"Sum of all W-2 Box 10 amounts"},{box:"11",name:"Nonqualified plans",description:"Sum of all W-2 Box 11 amounts"},{box:"12a",name:"Deferred compensation",description:"Sum of specific Box 12 codes (D, E, F, G, S)"}];function e_e(){const[e,t]=x.useState(""),r=XNe.filter(a=>a.code.toLowerCase().includes(e.toLowerCase())||a.description.toLowerCase().includes(e.toLowerCase())||a.category.toLowerCase().includes(e.toLowerCase())),s=QNe.filter(a=>a.code.toLowerCase().includes(e.toLowerCase())||a.description.toLowerCase().includes(e.toLowerCase())||a.category.toLowerCase().includes(e.toLowerCase()));return n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(wt,{className:"h-5 w-5"}),"W-2 & W-3 Box Reference"]}),n.jsx(ye,{children:"Complete reference for all W-2 and W-3 box codes used by employers"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(xp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(F,{placeholder:"Search codes, descriptions, or categories...",className:"pl-10",value:e,onChange:a=>t(a.target.value)})]}),n.jsxs(Dr,{defaultValue:"boxes",className:"space-y-4",children:[n.jsxs(Nr,{className:"grid w-full grid-cols-4",children:[n.jsx(ke,{value:"boxes",children:"All Boxes"}),n.jsx(ke,{value:"box12",children:"Box 12 Codes"}),n.jsx(ke,{value:"box14",children:"Box 14 Codes"}),n.jsx(ke,{value:"w3",children:"W-3 Form"})]}),n.jsx(De,{value:"boxes",children:n.jsx("div",{className:"rounded-lg border overflow-hidden",children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{className:"w-20",children:"Box"}),n.jsx(te,{children:"Name"}),n.jsx(te,{children:"Description"}),n.jsx(te,{className:"w-24",children:"Taxable"})]})}),n.jsx(Wt,{children:ZNe.map(a=>n.jsxs(Ve,{children:[n.jsx(Q,{className:"font-mono font-bold",children:a.box}),n.jsx(Q,{className:"font-medium",children:a.name}),n.jsx(Q,{className:"text-sm text-muted-foreground",children:a.description}),n.jsx(Q,{children:n.jsx(ne,{variant:a.taxable?"destructive":"secondary",children:a.taxable?"Yes":"No/Varies"})})]},a.box))})]})})}),n.jsx(De,{value:"box12",children:n.jsx("div",{className:"rounded-lg border overflow-hidden",children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{className:"w-20",children:"Code"}),n.jsx(te,{children:"Description"}),n.jsx(te,{className:"w-32",children:"Category"}),n.jsx(te,{className:"w-24",children:"Taxable"})]})}),n.jsx(Wt,{children:r.map(a=>n.jsxs(Ve,{children:[n.jsx(Q,{className:"font-mono font-bold text-primary",children:a.code}),n.jsx(Q,{children:a.description}),n.jsx(Q,{children:n.jsx(ne,{variant:"outline",children:a.category})}),n.jsx(Q,{children:n.jsx(ne,{variant:a.taxable?"destructive":"default",children:a.taxable?"Yes":"No"})})]},a.code))})]})})}),n.jsxs(De,{value:"box14",children:[n.jsx(q,{className:"mb-4 bg-amber-50/50 dark:bg-amber-950/20 border-amber-200 dark:border-amber-800",children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Gs,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[n.jsx("p",{className:"font-medium",children:"Box 14 is not standardized"}),n.jsx("p",{className:"mt-1",children:"Employers can use any codes they choose. These are common codes, but your employer may use different abbreviations."})]})]})})}),n.jsx("div",{className:"rounded-lg border overflow-hidden",children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{className:"w-24",children:"Code"}),n.jsx(te,{children:"Description"}),n.jsx(te,{className:"w-32",children:"Category"}),n.jsx(te,{className:"w-24",children:"Limit"}),n.jsx(te,{className:"w-24",children:"Taxable"})]})}),n.jsx(Wt,{children:s.map(a=>n.jsxs(Ve,{children:[n.jsx(Q,{className:"font-mono font-bold text-secondary",children:a.code}),n.jsx(Q,{children:a.description}),n.jsx(Q,{children:n.jsx(ne,{variant:"outline",children:a.category})}),n.jsx(Q,{children:a.limit?`$${a.limit.toLocaleString()}`:"-"}),n.jsx(Q,{children:n.jsx(ne,{variant:a.taxable?"destructive":"default",children:a.taxable?"Yes":"No"})})]},a.code))})]})})]}),n.jsxs(De,{value:"w3",children:[n.jsx(q,{className:"mb-4 border-primary/20 bg-primary/5",children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(wt,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-medium",children:"W-3: Transmittal of Wage and Tax Statements"}),n.jsx("p",{className:"mt-1 text-muted-foreground",children:"The W-3 is the summary form employers file with the SSA along with all employee W-2s. It contains totals of all W-2 amounts."})]})]})})}),n.jsx("div",{className:"rounded-lg border overflow-hidden",children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{className:"w-20",children:"Box"}),n.jsx(te,{children:"Name"}),n.jsx(te,{children:"Description"})]})}),n.jsx(Wt,{children:JNe.map(a=>n.jsxs(Ve,{children:[n.jsx(Q,{className:"font-mono font-bold",children:a.box}),n.jsx(Q,{className:"font-medium",children:a.name}),n.jsx(Q,{className:"text-sm text-muted-foreground",children:a.description})]},a.box))})]})})]})]}),n.jsx(q,{className:"border-green-200 dark:border-green-800 bg-green-50/50 dark:bg-green-950/20",children:n.jsxs(K,{className:"p-4",children:[n.jsx("h4",{className:"font-medium text-green-800 dark:text-green-200 mb-2",children:"Section 127 Educational Assistance - Box 14 Reporting"}),n.jsxs("ul",{className:"text-sm space-y-1 text-green-700 dark:text-green-300",children:[n.jsxs("li",{children:[" Up to $5,250 is ",n.jsx("strong",{children:"excluded"})," from Box 1 (not taxable)"]}),n.jsx("li",{children:' Report in Box 14 with code like "EDU", "EDUC", or "SLRP"'}),n.jsx("li",{children:" Includes: tuition, fees, books, supplies, student loan payments"}),n.jsx("li",{children:" Amount over $5,250 must be included in Box 1 as taxable wages"})]})]})})]})]})}const GR=new Date().getFullYear(),t_e={employerEIN:"",employerName:"",employerAddress:"",employerCity:"",employerState:"",employerZip:"",employeeSSN:"",employeeName:"",employeeAddress:"",employeeCity:"",employeeState:"",employeeZip:"",box1Wages:0,box2FedWithheld:0,box3SocialSecWages:0,box4SocialSecWithheld:0,box5MedicareWages:0,box6MedicareWithheld:0,box7SocialSecTips:0,box8AllocatedTips:0,box10DependentCareBenefits:0,box11NonqualifiedPlans:0,box12Codes:[],box13Statutory:!1,box13Retirement:!1,box13ThirdPartySick:!1,box14Other:[],box15StateId:"",box16StateWages:0,box17StateWithheld:0,box18LocalWages:0,box19LocalWithheld:0,box20LocalityName:""},Ts={"401k":23e3,"401k_catchup":7500,"403b":23e3,"403b_catchup":7500,"457b":23e3,"457b_catchup":7500,simple:16e3,simple_catchup:3500,hsa_individual:4150,hsa_family:8300,hsa_catchup:1e3,fsa:3200,dcfsa:5e3,adoption:16810,qsehra_individual:6150,qsehra_family:12450,social_security_wage_base:168600},YR=[{code:"A",label:"Uncollected SS tax on tips",limit:null,limitNote:null},{code:"B",label:"Uncollected Medicare tax on tips",limit:null,limitNote:null},{code:"C",label:"Taxable cost of group-term life insurance over $50,000",limit:null,limitNote:"Taxable portion only"},{code:"D",label:"401(k) deferrals",limit:Ts["401k"],limitNote:"$23,000 (2024); +$7,500 catch-up if 50+"},{code:"E",label:"403(b) deferrals",limit:Ts["403b"],limitNote:"$23,000 (2024); +$7,500 catch-up if 50+"},{code:"F",label:"408(k)(6) SEP deferrals",limit:null,limitNote:"Employer contribution only"},{code:"G",label:"457(b) deferrals",limit:Ts["457b"],limitNote:"$23,000 (2024); +$7,500 catch-up if 50+"},{code:"H",label:"501(c)(18)(D) deferrals",limit:null,limitNote:null},{code:"J",label:"Nontaxable sick pay",limit:null,limitNote:"Informational only"},{code:"K",label:"20% excise tax on golden parachutes",limit:null,limitNote:null},{code:"L",label:"Substantiated employee business expense reimbursements",limit:null,limitNote:null},{code:"M",label:"Uncollected SS tax on group-term life insurance",limit:null,limitNote:null},{code:"N",label:"Uncollected Medicare tax on group-term life insurance",limit:null,limitNote:null},{code:"P",label:"Excludable moving expense reimbursements",limit:null,limitNote:"Military only"},{code:"Q",label:"Nontaxable combat pay",limit:null,limitNote:"Military only"},{code:"R",label:"Employer contributions to Archer MSA",limit:null,limitNote:"Limited availability"},{code:"S",label:"408(p) SIMPLE deferrals",limit:Ts.simple,limitNote:"$16,000 (2024); +$3,500 catch-up if 50+"},{code:"T",label:"Adoption benefits",limit:Ts.adoption,limitNote:"$16,810 max exclusion (2024)"},{code:"V",label:"Income from exercise of nonstatutory stock options",limit:null,limitNote:"Taxable income"},{code:"W",label:"Employer contributions to HSA",limit:Ts.hsa_family,limitNote:"$4,150 self / $8,300 family (2024); +$1,000 if 55+"},{code:"Y",label:"Deferrals under 409A nonqualified deferred compensation plan",limit:null,limitNote:null},{code:"Z",label:"Income under 409A",limit:null,limitNote:"Taxable - included in Box 1"},{code:"AA",label:"Roth 401(k) contributions",limit:Ts["401k"],limitNote:"$23,000 combined with D (2024)"},{code:"BB",label:"Roth 403(b) contributions",limit:Ts["403b"],limitNote:"$23,000 combined with E (2024)"},{code:"DD",label:"Cost of employer-sponsored health coverage",limit:null,limitNote:"Informational only - not taxable"},{code:"EE",label:"Roth 457(b) contributions",limit:Ts["457b"],limitNote:"$23,000 combined with G (2024)"},{code:"FF",label:"Permitted benefits under qualified small employer HRA",limit:Ts.qsehra_family,limitNote:"$6,150 self / $12,450 family (2024)"},{code:"GG",label:"Income from qualified equity grants under 83(i)",limit:null,limitNote:"Deferred income"},{code:"HH",label:"Aggregate deferrals under 83(i)",limit:null,limitNote:"Tracking only"}],yN=[{code:"EDUC ASST",label:"Educational Assistance (Section 127)",limit:5250,limitNote:"$5,250 max tax-free"},{code:"SLRP",label:"Student Loan Repayment (Section 127)",limit:5250,limitNote:"Combined with education: $5,250 total"},{code:"FSA",label:"Health FSA Contributions",limit:Ts.fsa,limitNote:"$3,200 max (2024)"},{code:"DCFSA",label:"Dependent Care FSA",limit:Ts.dcfsa,limitNote:"$5,000 max (MFJ)"},{code:"HSA-EE",label:"Employee HSA Contributions",limit:Ts.hsa_family,limitNote:"$4,150 self / $8,300 family"},{code:"PARKING",label:"Qualified Parking",limit:315,limitNote:"$315/month max (2024)"},{code:"TRANSIT",label:"Transit/Vanpool",limit:315,limitNote:"$315/month max (2024)"},{code:"UNION",label:"Union Dues",limit:null,limitNote:"No limit - not deductible 2018-2025"},{code:"SUI",label:"State Unemployment Insurance",limit:null,limitNote:"State-specific"},{code:"SDI",label:"State Disability Insurance",limit:null,limitNote:"CA, NJ, NY, HI, RI, PR only"},{code:"FLI",label:"Family Leave Insurance",limit:null,limitNote:"State-specific"},{code:"GTLI",label:"Group-Term Life Insurance (taxable)",limit:null,limitNote:"Coverage over $50,000"},{code:"OTHER",label:"Other",limit:null,limitNote:null}];function r_e(){const[e,t]=x.useState(GR-1),[r,s]=x.useState(""),[a,i]=x.useState(t_e),[o,l]=x.useState(!1),c=x.useRef(null),{benefits:d,employeeTotals:u}=gH(e),h=Array.from({length:5},(S,k)=>GR-1-k),m=Object.keys(u),f=S=>{var B;s(S);const k=u[S];(B=d.filter(R=>R.employee_name===S)[0])!=null&&B.employee_email;const T=Math.min((k==null?void 0:k.total)||0,5250),A=Math.max(((k==null?void 0:k.total)||0)-5250,0);i(R=>({...R,employeeName:S,box14Other:T>0?[{description:"EDUC ASST",amount:T},...A>0?[{description:"EDUC EXCESS (taxable)",amount:A}]:[]]:[]}))},p=(S,k)=>{i(E=>({...E,[S]:k}))},g=()=>{i(S=>({...S,box12Codes:[...S.box12Codes,{code:"",amount:0}]}))},v=(S,k,E)=>{i(T=>{const A=[...T.box12Codes];return A[S]={...A[S],[k]:E},{...T,box12Codes:A}})},j=S=>{i(k=>({...k,box12Codes:k.box12Codes.filter((E,T)=>T!==S)}))},y=()=>{i(S=>({...S,box14Other:[...S.box14Other,{description:"",amount:0}]}))},b=(S,k,E)=>{i(T=>{const A=[...T.box14Other];return A[S]={...A[S],[k]:E},{...T,box14Other:A}})},w=S=>{i(k=>({...k,box14Other:k.box14Other.filter((E,T)=>T!==S)}))},N=()=>{if(c.current){const S=c.current.innerHTML,k=window.open("","_blank");k&&(k.document.write(`
          <html>
            <head>
              <title>W-2 Form - ${a.employeeName} - ${e}</title>
              <style>
                body { font-family: Arial, sans-serif; padding: 20px; }
                .w2-form { max-width: 800px; margin: 0 auto; border: 2px solid #000; padding: 20px; }
                .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 10px; }
                .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1px; background: #000; }
                .cell { background: #fff; padding: 8px; min-height: 40px; }
                .cell-label { font-size: 10px; color: #666; }
                .cell-value { font-weight: bold; font-size: 14px; }
                .full-width { grid-column: span 2; }
                @media print { body { print-color-adjust: exact; } }
              </style>
            </head>
            <body>${S}</body>
          </html>
        `),k.document.close(),k.print())}},_=S=>{const k=S.replace(/\D/g,"");return k.length>=9?`XXX-XX-${k.slice(-4)}`:S},C=S=>S.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx($i,{className:"h-5 w-5"}),"Select Employee"]}),n.jsx(ye,{children:"Choose an employee from your tracked education benefits to pre-populate W-2 data"})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"Tax Year"}),n.jsxs(Re,{value:e.toString(),onValueChange:S=>t(parseInt(S)),children:[n.jsx(Pe,{className:"w-32",children:n.jsx(Ie,{})}),n.jsx(Ae,{children:h.map(S=>n.jsx(he,{value:S.toString(),children:S},S))})]})]}),n.jsxs("div",{className:"flex-1 min-w-[200px]",children:[n.jsx(M,{children:"Employee (from Tracker)"}),n.jsxs(Re,{value:r,onValueChange:f,children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Select employee..."})}),n.jsx(Ae,{children:m.length===0?n.jsxs(he,{value:"",disabled:!0,children:["No employees found for ",e]}):m.map(S=>{var k;return n.jsxs(he,{value:S,children:[S," ($",(k=u[S])==null?void 0:k.total.toLocaleString()," education benefits)"]},S)})})]})]})]}),r&&u[r]&&n.jsx("div",{className:"mt-4 p-3 rounded-lg bg-muted",children:n.jsx("div",{className:"flex items-center gap-2",children:u[r].overLimit?n.jsxs(n.Fragment,{children:[n.jsx(jt,{className:"h-4 w-4 text-amber-600"}),n.jsxs("span",{className:"text-sm",children:[n.jsx("strong",{children:r})," received $",u[r].total.toLocaleString()," in education benefits. $",(u[r].total-5250).toLocaleString()," exceeds the $5,250 limit and must be included in Box 1 wages."]})]}):n.jsxs(n.Fragment,{children:[n.jsx(At,{className:"h-4 w-4 text-green-600"}),n.jsxs("span",{className:"text-sm",children:[n.jsx("strong",{children:r})," received $",u[r].total.toLocaleString()," in education benefits (within $5,250 limit - excluded from Box 1)"]})]})})})]})]}),n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(wt,{className:"h-5 w-5"}),"W-2 Form Data"]}),n.jsx(ye,{children:"Enter all W-2 information for the selected employee"})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold flex items-center gap-2 mb-3",children:[n.jsx($n,{className:"h-4 w-4"}),"Employer Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"Employer EIN (Box b)"}),n.jsx(F,{placeholder:"XX-XXXXXXX",value:a.employerEIN,onChange:S=>p("employerEIN",S.target.value)})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(M,{children:"Employer Name (Box c)"}),n.jsx(F,{placeholder:"Company Name",value:a.employerName,onChange:S=>p("employerName",S.target.value)})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(M,{children:"Address"}),n.jsx(F,{placeholder:"Street Address",value:a.employerAddress,onChange:S=>p("employerAddress",S.target.value)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"City"}),n.jsx(F,{value:a.employerCity,onChange:S=>p("employerCity",S.target.value)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"State"}),n.jsx(F,{maxLength:2,value:a.employerState,onChange:S=>p("employerState",S.target.value.toUpperCase())})]}),n.jsxs("div",{children:[n.jsx(M,{children:"ZIP"}),n.jsx(F,{value:a.employerZip,onChange:S=>p("employerZip",S.target.value)})]})]})]}),n.jsx(sn,{}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold flex items-center gap-2 mb-3",children:[n.jsx($i,{className:"h-4 w-4"}),"Employee Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"SSN (Box a) - Last 4 shown on preview"}),n.jsx(F,{type:"password",placeholder:"XXX-XX-XXXX",value:a.employeeSSN,onChange:S=>p("employeeSSN",S.target.value)})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(M,{children:"Employee Name (Box e)"}),n.jsx(F,{placeholder:"First Last",value:a.employeeName,onChange:S=>p("employeeName",S.target.value)})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(M,{children:"Address (Box f)"}),n.jsx(F,{placeholder:"Street Address",value:a.employeeAddress,onChange:S=>p("employeeAddress",S.target.value)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"City"}),n.jsx(F,{value:a.employeeCity,onChange:S=>p("employeeCity",S.target.value)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"State"}),n.jsx(F,{maxLength:2,value:a.employeeState,onChange:S=>p("employeeState",S.target.value.toUpperCase())})]}),n.jsxs("div",{children:[n.jsx(M,{children:"ZIP"}),n.jsx(F,{value:a.employeeZip,onChange:S=>p("employeeZip",S.target.value)})]})]})]}),n.jsx(sn,{}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold flex items-center gap-2 mb-3",children:[n.jsx($t,{className:"h-4 w-4"}),"Wage & Tax Information"]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"Box 1: Wages, tips, other"}),n.jsx(F,{type:"number",step:"0.01",value:a.box1Wages||"",onChange:S=>p("box1Wages",parseFloat(S.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Box 2: Federal tax withheld"}),n.jsx(F,{type:"number",step:"0.01",value:a.box2FedWithheld||"",onChange:S=>p("box2FedWithheld",parseFloat(S.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Box 3: Social security wages"}),n.jsx(F,{type:"number",step:"0.01",value:a.box3SocialSecWages||"",onChange:S=>p("box3SocialSecWages",parseFloat(S.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Box 4: SS tax withheld"}),n.jsx(F,{type:"number",step:"0.01",value:a.box4SocialSecWithheld||"",onChange:S=>p("box4SocialSecWithheld",parseFloat(S.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Box 5: Medicare wages"}),n.jsx(F,{type:"number",step:"0.01",value:a.box5MedicareWages||"",onChange:S=>p("box5MedicareWages",parseFloat(S.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Box 6: Medicare tax withheld"}),n.jsx(F,{type:"number",step:"0.01",value:a.box6MedicareWithheld||"",onChange:S=>p("box6MedicareWithheld",parseFloat(S.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Box 7: SS tips"}),n.jsx(F,{type:"number",step:"0.01",value:a.box7SocialSecTips||"",onChange:S=>p("box7SocialSecTips",parseFloat(S.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Box 8: Allocated tips"}),n.jsx(F,{type:"number",step:"0.01",value:a.box8AllocatedTips||"",onChange:S=>p("box8AllocatedTips",parseFloat(S.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Box 10: Dependent care benefits"}),n.jsx(F,{type:"number",step:"0.01",value:a.box10DependentCareBenefits||"",onChange:S=>p("box10DependentCareBenefits",parseFloat(S.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Box 11: Nonqualified plans"}),n.jsx(F,{type:"number",step:"0.01",value:a.box11NonqualifiedPlans||"",onChange:S=>p("box11NonqualifiedPlans",parseFloat(S.target.value)||0)})]})]})]}),n.jsx(sn,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:"Box 12: Coded Benefits"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"IRS limits shown - warnings appear when exceeded"})]}),n.jsx($,{variant:"outline",size:"sm",onClick:g,children:"Add Code"})]}),a.box12Codes.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No Box 12 codes added"}):n.jsx("div",{className:"space-y-3",children:a.box12Codes.map((S,k)=>{const E=YR.find(A=>A.code===S.code),T=(E==null?void 0:E.limit)&&S.amount>E.limit;return n.jsxs("div",{className:`p-3 rounded-lg border ${T?"border-amber-500 bg-amber-50 dark:bg-amber-950/20":"border-border"}`,children:[n.jsxs("div",{className:"flex gap-2 items-start",children:[n.jsxs("div",{className:"w-48",children:[n.jsx(M,{children:"Code"}),n.jsxs(Re,{value:S.code,onValueChange:A=>v(k,"code",A),children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Select..."})}),n.jsx(Ae,{children:YR.map(A=>n.jsx(he,{value:A.code,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-mono font-bold",children:A.code}),n.jsx("span",{className:"text-xs truncate max-w-[180px]",children:A.label})]})},A.code))})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx(M,{children:"Amount"}),n.jsx(F,{type:"number",step:"0.01",value:S.amount||"",onChange:A=>v(k,"amount",parseFloat(A.target.value)||0),className:T?"border-amber-500":""})]}),n.jsx($,{variant:"ghost",size:"sm",className:"mt-6",onClick:()=>j(k),children:""})]}),E&&n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:E.label}),E.limit&&n.jsxs(ne,{variant:T?"destructive":"outline",className:"text-xs",children:["Limit: $",E.limit.toLocaleString()]}),E.limitNote&&n.jsx("span",{className:"text-xs text-muted-foreground italic",children:E.limitNote}),T&&n.jsxs("div",{className:"flex items-center gap-1 text-amber-600",children:[n.jsx(jt,{className:"h-3 w-3"}),n.jsxs("span",{className:"text-xs font-medium",children:["Over by $",(S.amount-E.limit).toLocaleString()]})]})]})]},k)})})]}),n.jsx(sn,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:"Box 14: Other (Education Benefits Auto-Populated)"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Select from common codes or enter custom descriptions"})]}),n.jsx($,{variant:"outline",size:"sm",onClick:y,children:"Add Entry"})]}),a.box14Other.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No Box 14 entries"}):n.jsx("div",{className:"space-y-3",children:a.box14Other.map((S,k)=>{const E=yN.find(A=>A.code===S.description.toUpperCase()),T=(E==null?void 0:E.limit)&&S.amount>E.limit;return n.jsxs("div",{className:`p-3 rounded-lg border ${T?"border-amber-500 bg-amber-50 dark:bg-amber-950/20":"border-border"}`,children:[n.jsxs("div",{className:"flex gap-2 items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(M,{children:"Description / Code"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Re,{value:yN.some(A=>A.code===S.description.toUpperCase())?S.description.toUpperCase():"",onValueChange:A=>b(k,"description",A),children:[n.jsx(Pe,{className:"w-48",children:n.jsx(Ie,{placeholder:"Common codes..."})}),n.jsx(Ae,{children:yN.map(A=>n.jsx(he,{value:A.code,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-mono font-bold text-xs",children:A.code}),A.limit&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(max $",A.limit.toLocaleString(),")"]})]})},A.code))})]}),n.jsx(F,{placeholder:"Or custom description",value:S.description,onChange:A=>b(k,"description",A.target.value),className:"flex-1"})]})]}),n.jsxs("div",{className:"w-32",children:[n.jsx(M,{children:"Amount"}),n.jsx(F,{type:"number",step:"0.01",value:S.amount||"",onChange:A=>b(k,"amount",parseFloat(A.target.value)||0),className:T?"border-amber-500":""})]}),n.jsx($,{variant:"ghost",size:"sm",className:"mt-6",onClick:()=>w(k),children:""})]}),E&&n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:E.label}),E.limit&&n.jsxs(ne,{variant:T?"destructive":"outline",className:"text-xs",children:["Limit: $",E.limit.toLocaleString()]}),E.limitNote&&n.jsx("span",{className:"text-xs text-muted-foreground italic",children:E.limitNote}),T&&n.jsxs("div",{className:"flex items-center gap-1 text-amber-600",children:[n.jsx(jt,{className:"h-3 w-3"}),n.jsxs("span",{className:"text-xs font-medium",children:["Over by $",(S.amount-E.limit).toLocaleString()," - excess is taxable"]})]})]})]},k)})})]}),n.jsx(sn,{}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-3",children:"State & Local Taxes"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx(M,{children:"Box 15: State/Employer ID"}),n.jsx(F,{value:a.box15StateId,onChange:S=>p("box15StateId",S.target.value)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Box 16: State wages"}),n.jsx(F,{type:"number",step:"0.01",value:a.box16StateWages||"",onChange:S=>p("box16StateWages",parseFloat(S.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Box 17: State tax withheld"}),n.jsx(F,{type:"number",step:"0.01",value:a.box17StateWithheld||"",onChange:S=>p("box17StateWithheld",parseFloat(S.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Box 18: Local wages"}),n.jsx(F,{type:"number",step:"0.01",value:a.box18LocalWages||"",onChange:S=>p("box18LocalWages",parseFloat(S.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Box 19: Local tax withheld"}),n.jsx(F,{type:"number",step:"0.01",value:a.box19LocalWithheld||"",onChange:S=>p("box19LocalWithheld",parseFloat(S.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Box 20: Locality name"}),n.jsx(F,{value:a.box20LocalityName,onChange:S=>p("box20LocalityName",S.target.value)})]})]})]}),n.jsx(sn,{}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx($,{onClick:()=>l(!o),variant:"outline",children:o?"Hide Preview":"Preview W-2"}),n.jsxs($,{onClick:N,className:"gap-2",children:[n.jsx(pT,{className:"h-4 w-4"}),"Print W-2"]})]})]})]}),o&&n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsx(ce,{children:"W-2 Preview"}),n.jsx(ye,{children:"Review before printing"})]}),n.jsx(K,{children:n.jsxs("div",{ref:c,className:"bg-background border-2 border-foreground p-6 max-w-3xl mx-auto text-sm",children:[n.jsxs("div",{className:"text-center border-b-2 border-foreground pb-3 mb-4",children:[n.jsx("h2",{className:"text-lg font-bold",children:"Form W-2 Wage and Tax Statement"}),n.jsxs("p",{className:"text-muted-foreground",children:["Tax Year ",e]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Copy B - To Be Filed With Employee's FEDERAL Tax Return"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-px bg-foreground/20",children:[n.jsxs("div",{className:"bg-background p-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"a Employee's SSN"}),n.jsx("p",{className:"font-mono",children:_(a.employeeSSN)})]}),n.jsxs("div",{className:"bg-background p-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"b Employer ID number (EIN)"}),n.jsx("p",{className:"font-mono",children:a.employerEIN})]}),n.jsxs("div",{className:"bg-background p-2 col-span-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"c Employer's name, address, and ZIP"}),n.jsx("p",{className:"font-semibold",children:a.employerName}),n.jsx("p",{children:a.employerAddress}),n.jsxs("p",{children:[a.employerCity,", ",a.employerState," ",a.employerZip]})]}),n.jsxs("div",{className:"bg-background p-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"1 Wages, tips, other compensation"}),n.jsxs("p",{className:"font-bold text-lg",children:["$",C(a.box1Wages)]})]}),n.jsxs("div",{className:"bg-background p-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"2 Federal income tax withheld"}),n.jsxs("p",{className:"font-bold text-lg",children:["$",C(a.box2FedWithheld)]})]}),n.jsxs("div",{className:"bg-background p-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"3 Social security wages"}),n.jsxs("p",{children:["$",C(a.box3SocialSecWages)]})]}),n.jsxs("div",{className:"bg-background p-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"4 Social security tax withheld"}),n.jsxs("p",{children:["$",C(a.box4SocialSecWithheld)]})]}),n.jsxs("div",{className:"bg-background p-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"5 Medicare wages and tips"}),n.jsxs("p",{children:["$",C(a.box5MedicareWages)]})]}),n.jsxs("div",{className:"bg-background p-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"6 Medicare tax withheld"}),n.jsxs("p",{children:["$",C(a.box6MedicareWithheld)]})]}),n.jsxs("div",{className:"bg-background p-2 col-span-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"e Employee's name"}),n.jsx("p",{className:"font-semibold",children:a.employeeName})]}),n.jsxs("div",{className:"bg-background p-2 col-span-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"f Employee's address and ZIP"}),n.jsx("p",{children:a.employeeAddress}),n.jsxs("p",{children:[a.employeeCity,", ",a.employeeState," ",a.employeeZip]})]}),a.box12Codes.length>0&&n.jsxs("div",{className:"bg-background p-2 col-span-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"12 Coded Items"}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:a.box12Codes.map((S,k)=>n.jsxs(ne,{variant:"outline",children:[S.code,": $",C(S.amount)]},k))})]}),a.box14Other.length>0&&n.jsxs("div",{className:"bg-background p-2 col-span-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"14 Other"}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:a.box14Other.map((S,k)=>n.jsxs(ne,{variant:"secondary",children:[S.description,": $",C(S.amount)]},k))})]}),(a.box16StateWages>0||a.box17StateWithheld>0)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-background p-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"15 State / Employer's state ID"}),n.jsx("p",{children:a.box15StateId})]}),n.jsxs("div",{className:"bg-background p-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"16 State wages"}),n.jsxs("p",{children:["$",C(a.box16StateWages)]})]}),n.jsxs("div",{className:"bg-background p-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"17 State income tax"}),n.jsxs("p",{children:["$",C(a.box17StateWithheld)]})]}),n.jsxs("div",{className:"bg-background p-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"20 Locality"}),n.jsx("p",{children:a.box20LocalityName})]})]})]})]})})]})]})}function n_e(){const e=Qt(),[t,r]=x.useState(!0);return x.useEffect(()=>{(async()=>{const{data:{session:a}}=await Y.auth.getSession();if(!a){e("/auth");return}r(!1)})()},[e]),t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx("div",{className:"w-8 h-8 border-3 border-primary/30 border-t-primary rounded-full animate-spin"})}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-50",children:n.jsx("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:n.jsx(Mt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center",children:n.jsx(uT,{className:"w-6 h-6 text-primary-foreground"})}),n.jsx("span",{className:"text-xl font-display font-bold text-foreground",children:"Employer Education Benefits"})]})]})})}),n.jsx("main",{className:"container mx-auto px-6 py-8",children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-display font-bold text-foreground mb-2",children:"Section 127 Educational Assistance"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your employer educational assistance program. Provide up to $5,250 tax-free per employee annually for tuition, books, or student loan payments."})]}),n.jsxs(Dr,{defaultValue:"tracker",className:"space-y-6",children:[n.jsxs(Nr,{className:"grid w-full grid-cols-4 max-w-2xl",children:[n.jsxs(ke,{value:"tracker",className:"gap-2",children:[n.jsx(Vu,{className:"h-4 w-4"}),"Payment Tracker"]}),n.jsxs(ke,{value:"w2-generator",className:"gap-2",children:[n.jsx(pT,{className:"h-4 w-4"}),"W-2 Generator"]}),n.jsxs(ke,{value:"plan",className:"gap-2",children:[n.jsx(wt,{className:"h-4 w-4"}),"Plan Template"]}),n.jsxs(ke,{value:"w2-reference",className:"gap-2",children:[n.jsx(Fl,{className:"h-4 w-4"}),"W-2 Reference"]})]}),n.jsx(De,{value:"tracker",children:n.jsx(YNe,{})}),n.jsx(De,{value:"w2-generator",children:n.jsx(r_e,{})}),n.jsx(De,{value:"plan",children:n.jsx(GNe,{})}),n.jsx(De,{value:"w2-reference",children:n.jsx(e_e,{})})]})]})})]})}function s_e(){const e=ze(),{data:t=[],isLoading:r}=ft({queryKey:["businesses-extended"],queryFn:async()=>{const{data:c,error:d}=await Y.from("businesses").select("*").order("name");if(d)throw d;return c}}),s=Be({mutationFn:async c=>{const{data:d}=await Y.auth.getUser();if(!d.user)throw new Error("Not authenticated");const{data:u,error:h}=await Y.from("businesses").insert({name:c.name,structure:c.structure,ein:c.ein,state:c.state,entity_type:c.entity_type,is_501c3:c.is_501c3,nonprofit_category:c.nonprofit_category,church_denomination:c.church_denomination,user_id:d.user.id}).select().single();if(h)throw h;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["businesses-extended"]}),We.success("Business added")},onError:c=>{We.error("Failed to add business: "+c.message)}}),a=Be({mutationFn:async({id:c,entity_type:d,is_501c3:u,nonprofit_category:h,church_denomination:m})=>{const{data:f,error:p}=await Y.from("businesses").update({entity_type:d,is_501c3:u,nonprofit_category:h,church_denomination:m}).eq("id",c).select().single();if(p)throw p;return f},onSuccess:()=>{e.invalidateQueries({queryKey:["businesses-extended"]}),We.success("Business updated")},onError:c=>{We.error("Failed to update: "+c.message)}}),i=t.filter(c=>c.entity_type==="for_profit"||!c.entity_type),o=t.filter(c=>c.entity_type==="nonprofit"),l=t.filter(c=>c.entity_type==="church");return{businesses:t,isLoading:r,addBusiness:s,updateBusiness:a,forProfitBusinesses:i,nonprofitOrgs:o,churches:l}}function a_e(e){const t=ze(),{data:r=[],isLoading:s}=ft({queryKey:["1099-recipients",e],queryFn:async()=>{let o=Y.from("form_1099_recipients").select("*").order("recipient_name");e&&(o=o.eq("business_id",e));const{data:l,error:c}=await o;if(c)throw c;return l}}),a=Be({mutationFn:async o=>{const{data:l}=await Y.auth.getUser();if(!l.user)throw new Error("Not authenticated");const{data:c,error:d}=await Y.from("form_1099_recipients").insert({recipient_name:o.recipient_name,business_id:o.business_id,recipient_type:o.recipient_type,tin:o.tin,tin_type:o.tin_type,address_line1:o.address_line1,city:o.city,state:o.state,zip:o.zip,email:o.email,user_id:l.user.id}).select().single();if(d)throw d;return c},onSuccess:()=>{t.invalidateQueries({queryKey:["1099-recipients"]}),We.success("Recipient added")},onError:o=>{We.error("Failed to add recipient: "+o.message)}}),i=Be({mutationFn:async o=>{const{error:l}=await Y.from("form_1099_recipients").delete().eq("id",o);if(l)throw l},onSuccess:()=>{t.invalidateQueries({queryKey:["1099-recipients"]}),We.success("Recipient deleted")},onError:o=>{We.error("Failed to delete: "+o.message)}});return{recipients:r,isLoading:s,addRecipient:a,deleteRecipient:i}}function i_e(e,t){const r=ze(),{data:s=[],isLoading:a}=ft({queryKey:["1099-nec-payments",e,t],queryFn:async()=>{let u=Y.from("form_1099_nec_payments").select("*").order("payment_date",{ascending:!1});e&&(u=u.eq("business_id",e)),t&&(u=u.eq("tax_year",t));const{data:h,error:m}=await u;if(m)throw m;return h}}),i=Be({mutationFn:async u=>{const{data:h}=await Y.auth.getUser();if(!h.user)throw new Error("Not authenticated");const{data:m,error:f}=await Y.from("form_1099_nec_payments").insert({recipient_name:u.recipient_name,amount:u.amount,payment_date:u.payment_date,business_id:u.business_id,recipient_id:u.recipient_id,description:u.description,payment_method:u.payment_method,check_number:u.check_number,box_number:u.box_number,tax_year:u.tax_year,user_id:h.user.id}).select().single();if(f)throw f;return m},onSuccess:()=>{r.invalidateQueries({queryKey:["1099-nec-payments"]}),We.success("Payment recorded")},onError:u=>{We.error("Failed to record payment: "+u.message)}}),o=Be({mutationFn:async u=>{const{error:h}=await Y.from("form_1099_nec_payments").delete().eq("id",u);if(h)throw h},onSuccess:()=>{r.invalidateQueries({queryKey:["1099-nec-payments"]}),We.success("Payment deleted")},onError:u=>{We.error("Failed to delete: "+u.message)}}),l=s.reduce((u,h)=>{const m=h.recipient_name;return u[m]||(u[m]={total:0,count:0,needs1099:!1,recipientId:h.recipient_id}),u[m].total+=Number(h.amount),u[m].count+=1,u[m].needs1099=u[m].total>=600,u},{}),c=s.reduce((u,h)=>u+Number(h.amount),0),d=Object.values(l).filter(u=>u.needs1099).length;return{payments:s,isLoading:a,addPayment:i,deletePayment:o,recipientTotals:l,totalPaid:c,recipientsNeeding1099:d}}const XR=[{value:"check",label:"Check"},{value:"ach",label:"ACH/Direct Deposit"},{value:"cash",label:"Cash"},{value:"venmo",label:"Venmo"},{value:"paypal",label:"PayPal"},{value:"zelle",label:"Zelle"},{value:"wire",label:"Wire Transfer"},{value:"other",label:"Other"}],fy=new Date().getFullYear();function o_e({businessId:e}){const[t,r]=x.useState(fy),[s,a]=x.useState(!1),[i,o]=x.useState(!1),{payments:l,isLoading:c,addPayment:d,deletePayment:u,recipientTotals:h,totalPaid:m,recipientsNeeding1099:f}=i_e(e,t),{recipients:p,addRecipient:g}=a_e(e),[v,j]=x.useState({recipient_id:"",recipient_name:"",payment_date:new Date().toISOString().split("T")[0],amount:0,description:"",payment_method:"check",check_number:"",tax_year:fy}),[y,b]=x.useState({recipient_name:"",recipient_type:"individual",tin:"",tin_type:"ssn",address_line1:"",city:"",state:"",zip:"",email:""}),w=()=>{!v.recipient_name||v.amount<=0||(d.mutate({...v,business_id:e}),a(!1),j({recipient_id:"",recipient_name:"",payment_date:new Date().toISOString().split("T")[0],amount:0,description:"",payment_method:"check",check_number:"",tax_year:fy}))},N=()=>{y.recipient_name&&(g.mutate({...y,business_id:e}),o(!1),b({recipient_name:"",recipient_type:"individual",tin:"",tin_type:"ssn",address_line1:"",city:"",state:"",zip:"",email:""}))},_=S=>{const k=p.find(E=>E.id===S);k&&j(E=>({...E,recipient_id:S,recipient_name:k.recipient_name}))},C=Array.from({length:5},(S,k)=>fy-k);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(q,{children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:n.jsx($t,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Paid (",t,")"]}),n.jsxs("p",{className:"text-2xl font-bold",children:["$",m.toLocaleString()]})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary/10 flex items-center justify-center",children:n.jsx(Or,{className:"h-5 w-5 text-secondary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Recipients"}),n.jsx("p",{className:"text-2xl font-bold",children:Object.keys(h).length})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:n.jsx(wt,{className:"h-5 w-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Need 1099 ($600)"}),n.jsx("p",{className:"text-2xl font-bold",children:f})]})]})})}),n.jsx(q,{children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:n.jsx(At,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Under Threshold"}),n.jsx("p",{className:"text-2xl font-bold",children:Object.keys(h).length-f})]})]})})})]}),Object.keys(h).length>0&&n.jsxs(q,{children:[n.jsxs(de,{className:"pb-2",children:[n.jsxs(ce,{className:"text-lg",children:["Contractor Totals (Tax Year ",t,")"]}),n.jsx(ye,{children:"1099-NEC required for payments $600 per recipient"})]}),n.jsx(K,{children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Object.entries(h).map(([S,k])=>n.jsxs("div",{className:`p-3 rounded-lg border ${k.needs1099?"bg-amber-50 dark:bg-amber-950/20 border-amber-200 dark:border-amber-800":"bg-muted/30 border-border"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium truncate",children:S}),k.needs1099?n.jsx(ne,{variant:"destructive",className:"ml-2",children:"1099 Required"}):n.jsx(ne,{variant:"outline",className:"ml-2",children:"Under $600"})]}),n.jsxs("p",{className:`text-lg font-bold ${k.needs1099?"text-amber-600":""}`,children:["$",k.total.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[k.count," payment",k.count!==1?"s":""]})]},S))})})]}),n.jsxs(q,{children:[n.jsx(de,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Or,{className:"h-5 w-5"}),"1099-NEC Payments"]}),n.jsx(ye,{children:"Track all payments to contractors and independent contractors"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Re,{value:t.toString(),onValueChange:S=>r(parseInt(S)),children:[n.jsx(Pe,{className:"w-32",children:n.jsx(Ie,{})}),n.jsx(Ae,{children:C.map(S=>n.jsx(he,{value:S.toString(),children:S},S))})]}),n.jsxs(Xt,{open:i,onOpenChange:o,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{variant:"outline",className:"gap-2",children:[n.jsx(jr,{className:"h-4 w-4"}),"Add Recipient"]})}),n.jsxs(qt,{className:"max-w-lg",children:[n.jsx(Ht,{children:n.jsx(Kt,{children:"Add 1099 Recipient"})}),n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx(M,{children:"Recipient Name *"}),n.jsx(F,{placeholder:"John Smith or ABC Consulting LLC",value:y.recipient_name,onChange:S=>b({...y,recipient_name:S.target.value})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Type"}),n.jsxs(Re,{value:y.recipient_type,onValueChange:S=>b({...y,recipient_type:S}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"individual",children:"Individual"}),n.jsx(he,{value:"business",children:"Business/Corp"}),n.jsx(he,{value:"llc",children:"LLC"})]})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"TIN Type"}),n.jsxs(Re,{value:y.tin_type,onValueChange:S=>b({...y,tin_type:S}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"ssn",children:"SSN"}),n.jsx(he,{value:"ein",children:"EIN"})]})]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(M,{children:"SSN/EIN (optional)"}),n.jsx(F,{type:"password",placeholder:"XXX-XX-XXXX or XX-XXXXXXX",value:y.tin,onChange:S=>b({...y,tin:S.target.value})})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(M,{children:"Address"}),n.jsx(F,{placeholder:"Street Address",value:y.address_line1,onChange:S=>b({...y,address_line1:S.target.value})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"City"}),n.jsx(F,{value:y.city,onChange:S=>b({...y,city:S.target.value})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"State"}),n.jsx(F,{maxLength:2,value:y.state,onChange:S=>b({...y,state:S.target.value.toUpperCase()})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"ZIP"}),n.jsx(F,{value:y.zip,onChange:S=>b({...y,zip:S.target.value})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Email"}),n.jsx(F,{type:"email",value:y.email,onChange:S=>b({...y,email:S.target.value})})]})]}),n.jsx($,{onClick:N,className:"w-full",disabled:!y.recipient_name,children:"Add Recipient"})]})]})]}),n.jsxs(Xt,{open:s,onOpenChange:a,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{className:"gap-2",children:[n.jsx(jr,{className:"h-4 w-4"}),"Record Payment"]})}),n.jsxs(qt,{className:"max-w-lg",children:[n.jsx(Ht,{children:n.jsx(Kt,{children:"Record Contractor Payment"})}),n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.length>0&&n.jsxs("div",{className:"col-span-2",children:[n.jsx(M,{children:"Select Saved Recipient"}),n.jsxs(Re,{value:v.recipient_id,onValueChange:_,children:[n.jsx(Pe,{children:n.jsx(Ie,{placeholder:"Choose recipient..."})}),n.jsx(Ae,{children:p.map(S=>n.jsx(he,{value:S.id,children:S.recipient_name},S.id))})]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(M,{children:"Recipient Name *"}),n.jsx(F,{placeholder:"John Smith",value:v.recipient_name,onChange:S=>j({...v,recipient_name:S.target.value})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Payment Date *"}),n.jsx(F,{type:"date",value:v.payment_date,onChange:S=>j({...v,payment_date:S.target.value})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Amount *"}),n.jsx(F,{type:"number",step:"0.01",placeholder:"0.00",value:v.amount||"",onChange:S=>j({...v,amount:parseFloat(S.target.value)||0})})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Payment Method"}),n.jsxs(Re,{value:v.payment_method,onValueChange:S=>j({...v,payment_method:S}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:XR.map(S=>n.jsx(he,{value:S.value,children:S.label},S.value))})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Check Number"}),n.jsx(F,{placeholder:"Optional",value:v.check_number,onChange:S=>j({...v,check_number:S.target.value})})]})]}),n.jsxs("div",{children:[n.jsx(M,{children:"Description"}),n.jsx(wr,{placeholder:"e.g., Web development services, Consulting Q1",value:v.description,onChange:S=>j({...v,description:S.target.value}),rows:2})]}),n.jsx($,{onClick:w,className:"w-full",disabled:!v.recipient_name||v.amount<=0,children:"Record Payment"})]})]})]})]})]})}),n.jsx(K,{children:c?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):l.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Or,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),n.jsxs("p",{children:["No payments recorded for ",t]}),n.jsx("p",{className:"text-sm",children:'Click "Record Payment" to add a contractor payment'})]}):n.jsx("div",{className:"rounded-lg border overflow-hidden",children:n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Date"}),n.jsx(te,{children:"Recipient"}),n.jsx(te,{children:"Method"}),n.jsx(te,{children:"Description"}),n.jsx(te,{className:"text-right",children:"Amount"}),n.jsx(te,{})]})}),n.jsx(Wt,{children:l.map(S=>{var k;return n.jsxs(Ve,{children:[n.jsx(Q,{children:_t(new Date(S.payment_date),"MMM d, yyyy")}),n.jsx(Q,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:S.recipient_name}),S.check_number&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Check #",S.check_number]})]})}),n.jsx(Q,{children:n.jsx(ne,{variant:"outline",children:((k=XR.find(E=>E.value===S.payment_method))==null?void 0:k.label)||S.payment_method})}),n.jsx(Q,{className:"max-w-[200px] truncate",children:S.description||"-"}),n.jsxs(Q,{className:"text-right font-medium",children:["$",Number(S.amount).toLocaleString()]}),n.jsx(Q,{children:n.jsx($,{variant:"ghost",size:"icon",onClick:()=>u.mutate(S.id),children:n.jsx(xr,{className:"h-4 w-4 text-destructive"})})})]},S.id)})})]})})})]}),n.jsx(q,{className:"border-primary/20 bg-primary/5",children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(wt,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-medium",children:"1099-NEC Form Boxes"}),n.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-2 text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Box 1:"})," Nonemployee compensation ($600+ threshold)"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Box 2:"})," Payer made direct sales $5,000 (checkbox)"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Box 4:"})," Federal income tax withheld"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Box 5-7:"})," State tax information"]})]}),n.jsxs("p",{className:"mt-2 text-xs",children:[n.jsx("strong",{children:"Due dates:"})," To recipient by Jan 31 | To IRS by Jan 31 (paper) or Mar 31 (e-file)"]})]})]})})})]})}const vN=[{box:"1",name:"Nonemployee Compensation",threshold:600,description:"Payments to contractors, freelancers, self-employed individuals for services. Most common box.",required:!0},{box:"2",name:"Payer Direct Sales",threshold:5e3,description:"Check if payer made direct sales of $5,000+ of consumer products for resale",required:!1},{box:"4",name:"Federal Income Tax Withheld",threshold:null,description:"Backup withholding (24%) if recipient didn't provide TIN",required:!1},{box:"5",name:"State Tax Withheld",threshold:null,description:"State income tax withheld, if any",required:!1},{box:"6",name:"State/Payer's State No.",threshold:null,description:"State ID number of payer",required:!1},{box:"7",name:"State Income",threshold:null,description:"State taxable income",required:!1}],QR=[{box:"1",name:"Rents",threshold:600,description:"Payments for renting office space, equipment, vehicles, land, etc.",required:!0},{box:"2",name:"Royalties",threshold:10,description:"Payments for natural resources extraction, intellectual property royalties",required:!0},{box:"3",name:"Other Income",threshold:600,description:"Prizes, awards, punitive damages, other taxable income not elsewhere classified",required:!0},{box:"4",name:"Federal Tax Withheld",threshold:null,description:"Backup withholding at 24%",required:!1},{box:"5",name:"Fishing Boat Proceeds",threshold:null,description:"Crew member's share from boat operator",required:!1},{box:"6",name:"Medical/Health Care Payments",threshold:600,description:"Payments to physicians, medical corps for services (not employee wages)",required:!0},{box:"7",name:"Payer Direct Sales",threshold:5e3,description:"Consumer products sold for resale",required:!1},{box:"8",name:"Substitute Payments in Lieu of Dividends",threshold:10,description:"Related to securities loans",required:!0},{box:"9",name:"Crop Insurance Proceeds",threshold:600,description:"Payments from crop insurance",required:!0},{box:"10",name:"Gross Proceeds to Attorney",threshold:600,description:"Payments to attorneys for legal services (even if corporation)",required:!0},{box:"11",name:"Fish Purchased for Resale",threshold:600,description:"Cash payments for fish purchase",required:!0},{box:"12",name:"Section 409A Deferrals",threshold:null,description:"Deferred compensation under nonqualified plans",required:!1},{box:"14",name:"Excess Golden Parachute",threshold:null,description:"Excess golden parachute payments",required:!1},{box:"15a",name:"Section 409A Income",threshold:null,description:"Income from nonqualified deferred compensation",required:!1}],ZR=[{box:"1a",name:"Gross Amount",threshold:600,description:"Total gross payment amount (2024+: $600 threshold, previously $20,000)",required:!0,note:"Threshold changed from $20,000/200 transactions to $600 in 2024"},{box:"1b",name:"Card Not Present Transactions",threshold:null,description:"Subset of Box 1a for online/phone transactions",required:!1},{box:"2",name:"Merchant Category Code",threshold:null,description:"MCC describing type of business",required:!1},{box:"3",name:"Number of Payment Transactions",threshold:null,description:"Count of reportable transactions",required:!1},{box:"4",name:"Federal Tax Withheld",threshold:null,description:"Backup withholding if applicable",required:!1},{box:"5a-5l",name:"Monthly Gross Amounts",threshold:null,description:"Breakdown by month (Jan-Dec)",required:!1},{box:"6",name:"State ID",threshold:null,description:"State identification number",required:!1},{box:"7",name:"State Income",threshold:null,description:"State taxable income",required:!1},{box:"8",name:"State Tax Withheld",threshold:null,description:"State income tax withheld",required:!1}],JR=[{box:"1",name:"Interest Income",threshold:10,description:"Total taxable interest paid",required:!0},{box:"2",name:"Early Withdrawal Penalty",threshold:null,description:"Penalty for early CD withdrawal - deductible",required:!1},{box:"3",name:"Interest on U.S. Savings Bonds/Treasury",threshold:null,description:"May be excludable for education expenses",required:!1},{box:"4",name:"Federal Tax Withheld",threshold:null,description:"Backup withholding",required:!1},{box:"5",name:"Investment Expenses",threshold:null,description:"Share of investment expenses (limited deductibility)",required:!1},{box:"6",name:"Foreign Tax Paid",threshold:null,description:"May be eligible for foreign tax credit",required:!1},{box:"8",name:"Tax-Exempt Interest",threshold:10,description:"Municipal bond interest - still reportable but not taxable federally",required:!0},{box:"9",name:"Private Activity Bond Interest",threshold:null,description:"Subject to AMT",required:!1},{box:"10",name:"Market Discount",threshold:null,description:"Accrued market discount on bonds",required:!1},{box:"11",name:"Bond Premium",threshold:null,description:"Amortizable bond premium",required:!1},{box:"12",name:"Bond Premium on Treasury",threshold:null,description:"Premium on U.S. Treasury bonds",required:!1},{box:"13",name:"Bond Premium on Tax-Exempt",threshold:null,description:"Premium on tax-exempt bonds",required:!1}],eI=[{box:"1a",name:"Total Ordinary Dividends",threshold:10,description:"All ordinary dividends (includes qualified)",required:!0},{box:"1b",name:"Qualified Dividends",threshold:null,description:"Subset of 1a eligible for lower capital gains rates",required:!1,note:"Taxed at 0%, 15%, or 20% based on income"},{box:"2a",name:"Total Capital Gain Distributions",threshold:null,description:"Long-term capital gains from mutual funds",required:!1},{box:"2b",name:"Unrecaptured Section 1250 Gain",threshold:null,description:"Depreciation recapture on real estate - taxed at 25% max",required:!1},{box:"2c",name:"Section 1202 Gain",threshold:null,description:"Qualified small business stock gain exclusion",required:!1},{box:"2d",name:"Collectibles (28%) Gain",threshold:null,description:"Gains from collectibles - taxed at 28% max",required:!1},{box:"2e",name:"Section 897 Ordinary Dividends",threshold:null,description:"FIRPTA gain from REIT sales",required:!1},{box:"2f",name:"Section 897 Capital Gain",threshold:null,description:"FIRPTA capital gain",required:!1},{box:"3",name:"Nondividend Distributions",threshold:null,description:"Return of capital - reduces basis, not currently taxable",required:!1},{box:"4",name:"Federal Tax Withheld",threshold:null,description:"Backup withholding",required:!1},{box:"5",name:"Section 199A Dividends",threshold:null,description:"REIT dividends eligible for 20% QBI deduction",required:!1,note:"Important for pass-through deduction"},{box:"6",name:"Investment Expenses",threshold:null,description:"Share of expenses (limited deductibility)",required:!1},{box:"7",name:"Foreign Tax Paid",threshold:null,description:"May be eligible for foreign tax credit",required:!1},{box:"9",name:"Cash Liquidation Distributions",threshold:null,description:"From liquidating corporation",required:!1},{box:"10",name:"Noncash Liquidation Distributions",threshold:null,description:"FMV of property in liquidation",required:!1},{box:"11",name:"FATCA Filing Required",threshold:null,description:"Foreign account reporting indicator",required:!1},{box:"12",name:"Exempt-Interest Dividends",threshold:null,description:"Tax-exempt from mutual funds",required:!1},{box:"13",name:"State Tax Withheld",threshold:null,description:"State income tax withheld",required:!1}];function l_e({formType:e}){const[t,r]=x.useState(e||"all"),s=(a,i)=>n.jsx("div",{className:"space-y-3",children:a.map(o=>n.jsxs("div",{className:`p-4 rounded-lg border ${o.required?"border-primary/30 bg-primary/5":"border-border"}`,children:[n.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ne,{variant:o.required?"default":"outline",className:"font-mono",children:["Box ",o.box]}),n.jsx("span",{className:"font-semibold",children:o.name})]}),o.threshold&&n.jsxs(ne,{variant:"secondary",className:"text-xs",children:["$",o.threshold.toLocaleString()," threshold"]})]}),n.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:o.description}),o.note&&n.jsxs("div",{className:"mt-2 flex items-start gap-2 text-xs text-amber-600 dark:text-amber-400",children:[n.jsx(Gs,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),n.jsx("span",{children:o.note})]})]},o.box))});if(e){let a;switch(e){case"1099-NEC":a=vN;break;case"1099-MISC":a=QR;break;case"1099-K":a=ZR;break;case"1099-INT":a=JR;break;case"1099-DIV":a=eI;break;default:a=vN}return s(a)}return n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(wt,{className:"h-5 w-5"}),"1099 Form Box Reference Guide"]}),n.jsx(ye,{children:"Complete reference for all 1099 form boxes, thresholds, and requirements"})]}),n.jsxs(K,{children:[n.jsxs(Dr,{value:t,onValueChange:r,children:[n.jsxs(Nr,{className:"grid w-full grid-cols-5 mb-6",children:[n.jsxs(ke,{value:"1099-NEC",className:"gap-1",children:[n.jsx(Or,{className:"h-3 w-3"}),"NEC"]}),n.jsxs(ke,{value:"1099-MISC",className:"gap-1",children:[n.jsx($t,{className:"h-3 w-3"}),"MISC"]}),n.jsxs(ke,{value:"1099-K",className:"gap-1",children:[n.jsx(Bl,{className:"h-3 w-3"}),"K"]}),n.jsxs(ke,{value:"1099-INT",className:"gap-1",children:[n.jsx(fT,{className:"h-3 w-3"}),"INT"]}),n.jsxs(ke,{value:"1099-DIV",className:"gap-1",children:[n.jsx($n,{className:"h-3 w-3"}),"DIV"]})]}),n.jsxs(De,{value:"1099-NEC",children:[n.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-muted",children:[n.jsx("h3",{className:"font-semibold",children:"1099-NEC: Nonemployee Compensation"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"For payments to contractors, freelancers, and self-employed individuals. Replaced Box 7 of 1099-MISC starting in 2020."}),n.jsxs("div",{className:"mt-2 text-xs",children:[n.jsx("strong",{children:"Due:"})," Jan 31 to recipient & IRS (paper) | Mar 31 (e-file)"]})]}),s(vN)]}),n.jsxs(De,{value:"1099-MISC",children:[n.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-muted",children:[n.jsx("h3",{className:"font-semibold",children:"1099-MISC: Miscellaneous Income"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"For rents, royalties, prizes, awards, medical payments, and other miscellaneous income. No longer used for nonemployee compensation (use 1099-NEC)."}),n.jsxs("div",{className:"mt-2 text-xs",children:[n.jsx("strong",{children:"Due:"})," Jan 31 to recipient | Feb 28 paper / Mar 31 e-file to IRS"]})]}),s(QR)]}),n.jsxs(De,{value:"1099-K",children:[n.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-muted",children:[n.jsx("h3",{className:"font-semibold",children:"1099-K: Payment Card and Third Party Network Transactions"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Issued by payment processors (Stripe, PayPal, Square, Venmo, etc.) for gross payment volume."}),n.jsxs("div",{className:"mt-2 flex items-start gap-2 text-xs text-amber-600",children:[n.jsx(jt,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),n.jsxs("span",{children:[n.jsx("strong",{children:"2024 threshold:"})," $600 (reduced from $20,000/200 transactions). Gross receipts - you can deduct expenses on Schedule C."]})]})]}),s(ZR)]}),n.jsxs(De,{value:"1099-INT",children:[n.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-muted",children:[n.jsx("h3",{className:"font-semibold",children:"1099-INT: Interest Income"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Reports interest earned from banks, brokerage accounts, bonds, CDs, and other interest-bearing accounts."}),n.jsxs("div",{className:"mt-2 text-xs",children:[n.jsx("strong",{children:"Threshold:"})," $10 for most interest | ",n.jsx("strong",{children:"Due:"})," Jan 31 to recipient"]})]}),s(JR)]}),n.jsxs(De,{value:"1099-DIV",children:[n.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-muted",children:[n.jsx("h3",{className:"font-semibold",children:"1099-DIV: Dividends and Distributions"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Reports dividends from stocks, mutual funds, REITs, and capital gain distributions."}),n.jsxs("div",{className:"mt-2 text-xs",children:[n.jsx("strong",{children:"Threshold:"})," $10 for dividends | ",n.jsx("strong",{children:"Key:"})," Box 1b (qualified) taxed at capital gains rates"]})]}),s(eI)]})]}),n.jsx("div",{className:"mt-6 p-4 rounded-lg border border-amber-200 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-800",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(jt,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"Important Filing Notes"}),n.jsxs("ul",{className:"mt-2 space-y-1 text-amber-700 dark:text-amber-300",children:[n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Corporations:"})," Generally exempt from 1099-NEC/MISC (except attorneys, medical payments)"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"W-9:"})," Collect before payment to avoid 24% backup withholding"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Penalties:"})," $60-$310 per form for late/incorrect filing (2024)"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"State filing:"})," Many states require separate filing or participate in Combined Federal/State Program"]})]})]})]})})]})]})}const tI=[{box:1,name:"Rents",threshold:600},{box:2,name:"Royalties",threshold:10},{box:3,name:"Other income",threshold:600},{box:4,name:"Federal income tax withheld",threshold:null},{box:5,name:"Fishing boat proceeds",threshold:null},{box:6,name:"Medical and health care payments",threshold:600},{box:7,name:"Payer made direct sales totaling $5,000+",threshold:5e3},{box:8,name:"Substitute payments in lieu of dividends",threshold:10},{box:9,name:"Crop insurance proceeds",threshold:600},{box:10,name:"Gross proceeds paid to attorney",threshold:600},{box:11,name:"Fish purchased for resale",threshold:600},{box:12,name:"Section 409A deferrals",threshold:null},{box:14,name:"Excess golden parachute payments",threshold:null}];function c_e({businessId:e}){const[t,r]=x.useState(!1),[s,a]=x.useState({recipient_name:"",box_number:1,amount:"",payment_date:new Date().toISOString().split("T")[0],description:"",payment_method:"check"}),i=ze(),{data:o=[],isLoading:l}=ft({queryKey:["1099-misc-payments",e],queryFn:async()=>{const{data:{user:m}}=await Y.auth.getUser();if(!m)throw new Error("Not authenticated");let f=Y.from("form_1099_misc_payments").select("*").eq("user_id",m.id).order("payment_date",{ascending:!1});e&&(f=f.eq("business_id",e));const{data:p,error:g}=await f;if(g)throw g;return p}}),c=Be({mutationFn:async m=>{const{data:{user:f}}=await Y.auth.getUser();if(!f)throw new Error("Not authenticated");const{error:p}=await Y.from("form_1099_misc_payments").insert({user_id:f.id,business_id:e||null,recipient_name:m.recipient_name,box_number:m.box_number,amount:parseFloat(m.amount)||0,payment_date:m.payment_date,description:m.description,payment_method:m.payment_method,tax_year:new Date().getFullYear()});if(p)throw p},onSuccess:()=>{i.invalidateQueries({queryKey:["1099-misc-payments"]}),We.success("Payment recorded"),r(!1),a({recipient_name:"",box_number:1,amount:"",payment_date:new Date().toISOString().split("T")[0],description:"",payment_method:"check"})},onError:m=>We.error(`Failed to add payment: ${m.message}`)}),d=Be({mutationFn:async m=>{const{error:f}=await Y.from("form_1099_misc_payments").delete().eq("id",m);if(f)throw f},onSuccess:()=>{i.invalidateQueries({queryKey:["1099-misc-payments"]}),We.success("Payment deleted")}}),u=o.reduce((m,f)=>{const p=`${f.recipient_name}-${f.box_number}`;return m[p]=(m[p]||0)+(f.amount||0),m},{}),h=m=>tI.find(f=>f.box===m);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"1099-MISC Payments"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Track miscellaneous income payments"})]}),n.jsxs(Xt,{open:t,onOpenChange:r,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{children:[n.jsx(jr,{className:"w-4 h-4 mr-2"}),"Add Payment"]})}),n.jsxs(qt,{children:[n.jsx(Ht,{children:n.jsx(Kt,{children:"Record 1099-MISC Payment"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Recipient Name"}),n.jsx(F,{value:s.recipient_name,onChange:m=>a({...s,recipient_name:m.target.value}),placeholder:"Enter recipient name"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box Number"}),n.jsxs(Re,{value:s.box_number.toString(),onValueChange:m=>a({...s,box_number:parseInt(m)}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsx(Ae,{children:tI.map(m=>n.jsxs(he,{value:m.box.toString(),children:["Box ",m.box,": ",m.name]},m.box))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Amount"}),n.jsx(F,{type:"number",value:s.amount,onChange:m=>a({...s,amount:m.target.value}),placeholder:"0.00"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Payment Date"}),n.jsx(F,{type:"date",value:s.payment_date,onChange:m=>a({...s,payment_date:m.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Payment Method"}),n.jsxs(Re,{value:s.payment_method,onValueChange:m=>a({...s,payment_method:m}),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"check",children:"Check"}),n.jsx(he,{value:"ach",children:"ACH/Direct Deposit"}),n.jsx(he,{value:"wire",children:"Wire Transfer"}),n.jsx(he,{value:"cash",children:"Cash"}),n.jsx(he,{value:"credit_card",children:"Credit Card"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Description"}),n.jsx(F,{value:s.description,onChange:m=>a({...s,description:m.target.value}),placeholder:"Optional description"})]}),n.jsx($,{className:"w-full",onClick:()=>c.mutate(s),disabled:!s.recipient_name||!s.amount||c.isPending,children:"Record Payment"})]})]})]})]}),Object.entries(u).map(([m,f])=>{const[p,g]=m.split("-"),v=parseInt(g),j=h(v);return j!=null&&j.threshold&&f>=j.threshold?n.jsx(q,{className:"border-warning bg-warning/10",children:n.jsxs(K,{className:"py-3 flex items-center gap-3",children:[n.jsx(jt,{className:"w-5 h-5 text-warning"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-sm",children:[p,": $",f.toLocaleString()," in Box ",v," (",j.name,")"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Threshold: $",j.threshold.toLocaleString(),"  1099-MISC required"]})]})]})},m):null}),n.jsxs(q,{children:[n.jsx(de,{children:n.jsx(ce,{className:"text-base",children:"Payment History"})}),n.jsx(K,{children:l?n.jsx("p",{className:"text-muted-foreground",children:"Loading..."}):o.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No payments recorded yet"}):n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Date"}),n.jsx(te,{children:"Recipient"}),n.jsx(te,{children:"Box"}),n.jsx(te,{className:"text-right",children:"Amount"}),n.jsx(te,{})]})}),n.jsx(Wt,{children:o.map(m=>{var f;return n.jsxs(Ve,{children:[n.jsx(Q,{children:new Date(m.payment_date).toLocaleDateString()}),n.jsx(Q,{children:m.recipient_name}),n.jsxs(Q,{children:["Box ",m.box_number,n.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",(f=h(m.box_number))==null?void 0:f.name,")"]})]}),n.jsxs(Q,{className:"text-right font-mono",children:["$",(m.amount||0).toLocaleString()]}),n.jsx(Q,{children:n.jsx($,{variant:"ghost",size:"icon",onClick:()=>d.mutate(m.id),children:n.jsx(xr,{className:"w-4 h-4 text-destructive"})})})]},m.id)})})]})})]})]})}const d_e=["January","February","March","April","May","June","July","August","September","October","November","December"];function u_e({businessId:e}){const[t,r]=x.useState(!1),[s,a]=x.useState({payer_name:"",payer_tin:"",gross_amount:"",payment_card_transactions:"",third_party_network_transactions:"",card_not_present:"",federal_withheld:"",state_withheld:"",state_income:"",state_id:"",january_amount:"",february_amount:"",march_amount:"",april_amount:"",may_amount:"",june_amount:"",july_amount:"",august_amount:"",september_amount:"",october_amount:"",november_amount:"",december_amount:""}),i=ze(),{data:o=[],isLoading:l}=ft({queryKey:["1099-k-received",e],queryFn:async()=>{const{data:{user:m}}=await Y.auth.getUser();if(!m)throw new Error("Not authenticated");let f=Y.from("form_1099_k_received").select("*").eq("user_id",m.id).order("created_at",{ascending:!1});e&&(f=f.eq("business_id",e));const{data:p,error:g}=await f;if(g)throw g;return p}}),c=Be({mutationFn:async m=>{const{data:{user:f}}=await Y.auth.getUser();if(!f)throw new Error("Not authenticated");const{error:p}=await Y.from("form_1099_k_received").insert({user_id:f.id,business_id:e||null,payer_name:m.payer_name,payer_tin:m.payer_tin||null,gross_amount:parseFloat(m.gross_amount)||0,payment_card_transactions:parseFloat(m.payment_card_transactions)||0,third_party_network_transactions:parseFloat(m.third_party_network_transactions)||0,card_not_present:parseFloat(m.card_not_present)||0,federal_withheld:parseFloat(m.federal_withheld)||0,state_withheld:parseFloat(m.state_withheld)||0,state_income:parseFloat(m.state_income)||0,state_id:m.state_id||null,january_amount:parseFloat(m.january_amount)||0,february_amount:parseFloat(m.february_amount)||0,march_amount:parseFloat(m.march_amount)||0,april_amount:parseFloat(m.april_amount)||0,may_amount:parseFloat(m.may_amount)||0,june_amount:parseFloat(m.june_amount)||0,july_amount:parseFloat(m.july_amount)||0,august_amount:parseFloat(m.august_amount)||0,september_amount:parseFloat(m.september_amount)||0,october_amount:parseFloat(m.october_amount)||0,november_amount:parseFloat(m.november_amount)||0,december_amount:parseFloat(m.december_amount)||0,tax_year:new Date().getFullYear()});if(p)throw p},onSuccess:()=>{i.invalidateQueries({queryKey:["1099-k-received"]}),We.success("1099-K recorded"),r(!1),a({payer_name:"",payer_tin:"",gross_amount:"",payment_card_transactions:"",third_party_network_transactions:"",card_not_present:"",federal_withheld:"",state_withheld:"",state_income:"",state_id:"",january_amount:"",february_amount:"",march_amount:"",april_amount:"",may_amount:"",june_amount:"",july_amount:"",august_amount:"",september_amount:"",october_amount:"",november_amount:"",december_amount:""})},onError:m=>We.error(`Failed to add form: ${m.message}`)}),d=Be({mutationFn:async m=>{const{error:f}=await Y.from("form_1099_k_received").delete().eq("id",m);if(f)throw f},onSuccess:()=>{i.invalidateQueries({queryKey:["1099-k-received"]}),We.success("Form deleted")}}),u=o.reduce((m,f)=>m+(f.gross_amount||0),0),h=o.reduce((m,f)=>m+(f.federal_withheld||0),0);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"1099-K Received"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Track payment card and third-party network income"})]}),n.jsxs(Xt,{open:t,onOpenChange:r,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{children:[n.jsx(jr,{className:"w-4 h-4 mr-2"}),"Add 1099-K"]})}),n.jsxs(qt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Ht,{children:n.jsx(Kt,{children:"Record 1099-K Received"})}),n.jsxs(Dr,{defaultValue:"basic",className:"mt-4",children:[n.jsxs(Nr,{className:"grid w-full grid-cols-3",children:[n.jsx(ke,{value:"basic",children:"Basic Info"}),n.jsx(ke,{value:"monthly",children:"Monthly Breakdown"}),n.jsx(ke,{value:"withholding",children:"Withholding"})]}),n.jsxs(De,{value:"basic",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Payer Name (PSE)"}),n.jsx(F,{value:s.payer_name,onChange:m=>a({...s,payer_name:m.target.value}),placeholder:"e.g., PayPal, Stripe, Square"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Payer TIN"}),n.jsx(F,{value:s.payer_tin,onChange:m=>a({...s,payer_tin:m.target.value}),placeholder:"XX-XXXXXXX"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 1a: Gross Amount"}),n.jsx(F,{type:"number",value:s.gross_amount,onChange:m=>a({...s,gross_amount:m.target.value}),placeholder:"0.00"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 1b: Card Not Present"}),n.jsx(F,{type:"number",value:s.card_not_present,onChange:m=>a({...s,card_not_present:m.target.value}),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 2: Payment Card Transactions"}),n.jsx(F,{type:"number",value:s.payment_card_transactions,onChange:m=>a({...s,payment_card_transactions:m.target.value}),placeholder:"0.00"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 3: Third Party Network Transactions"}),n.jsx(F,{type:"number",value:s.third_party_network_transactions,onChange:m=>a({...s,third_party_network_transactions:m.target.value}),placeholder:"0.00"})]})]}),n.jsxs(De,{value:"monthly",className:"mt-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Monthly gross amounts (Boxes 5a-5l)"}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:d_e.map((m,f)=>{const p=`${m.toLowerCase()}_amount`;return n.jsxs("div",{className:"space-y-1",children:[n.jsx(M,{className:"text-xs",children:m}),n.jsx(F,{type:"number",value:s[p],onChange:g=>a({...s,[p]:g.target.value}),placeholder:"0.00",className:"h-8 text-sm"})]},m)})})]}),n.jsxs(De,{value:"withholding",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 4: Federal Income Tax Withheld"}),n.jsx(F,{type:"number",value:s.federal_withheld,onChange:m=>a({...s,federal_withheld:m.target.value}),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"State ID"}),n.jsx(F,{value:s.state_id,onChange:m=>a({...s,state_id:m.target.value}),placeholder:"e.g., GA"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 6: State Income"}),n.jsx(F,{type:"number",value:s.state_income,onChange:m=>a({...s,state_income:m.target.value}),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 7: State Tax Withheld"}),n.jsx(F,{type:"number",value:s.state_withheld,onChange:m=>a({...s,state_withheld:m.target.value}),placeholder:"0.00"})]})]})]})]}),n.jsx($,{className:"w-full mt-4",onClick:()=>c.mutate(s),disabled:!s.payer_name||c.isPending,children:"Save 1099-K"})]})]})]}),n.jsx(q,{className:"border-info bg-info/10",children:n.jsxs(K,{className:"py-3 flex items-start gap-3",children:[n.jsx(Gs,{className:"w-5 h-5 text-info mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-medium",children:"2024 Threshold: $5,000"}),n.jsx("p",{className:"text-muted-foreground",children:"Payment Settlement Entities must report if gross payments exceed $5,000. This will drop to $600 in future years."})]})]})}),o.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(q,{children:n.jsxs(K,{className:"py-4 flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(Bl,{className:"w-5 h-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Gross (1099-K)"}),n.jsxs("p",{className:"text-xl font-bold",children:["$",u.toLocaleString()]})]})]})}),n.jsx(q,{children:n.jsxs(K,{className:"py-4 flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-secondary/10",children:n.jsx($t,{className:"w-5 h-5 text-secondary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Federal Withheld"}),n.jsxs("p",{className:"text-xl font-bold",children:["$",h.toLocaleString()]})]})]})})]}),n.jsxs(q,{children:[n.jsx(de,{children:n.jsx(ce,{className:"text-base",children:"Received 1099-K Forms"})}),n.jsx(K,{children:l?n.jsx("p",{className:"text-muted-foreground",children:"Loading..."}):o.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No 1099-K forms recorded yet"}):n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Payer"}),n.jsx(te,{className:"text-right",children:"Gross Amount"}),n.jsx(te,{className:"text-right",children:"Card Transactions"}),n.jsx(te,{className:"text-right",children:"Third Party"}),n.jsx(te,{className:"text-right",children:"Fed. Withheld"}),n.jsx(te,{})]})}),n.jsx(Wt,{children:o.map(m=>n.jsxs(Ve,{children:[n.jsx(Q,{className:"font-medium",children:m.payer_name}),n.jsxs(Q,{className:"text-right font-mono",children:["$",(m.gross_amount||0).toLocaleString()]}),n.jsxs(Q,{className:"text-right font-mono",children:["$",(m.payment_card_transactions||0).toLocaleString()]}),n.jsxs(Q,{className:"text-right font-mono",children:["$",(m.third_party_network_transactions||0).toLocaleString()]}),n.jsxs(Q,{className:"text-right font-mono",children:["$",(m.federal_withheld||0).toLocaleString()]}),n.jsx(Q,{children:n.jsx($,{variant:"ghost",size:"icon",onClick:()=>d.mutate(m.id),children:n.jsx(xr,{className:"w-4 h-4 text-destructive"})})})]},m.id))})]})})]})]})}function h_e({businessId:e}){const[t,r]=x.useState(!1),[s,a]=x.useState("1099-INT"),[i,o]=x.useState({payer_name:"",payer_tin:"",interest_income:"",early_withdrawal_penalty:"",interest_on_savings_bonds:"",federal_withheld:"",investment_expenses:"",foreign_tax_paid:"",tax_exempt_interest:"",private_activity_bond_interest:"",market_discount:"",bond_premium:"",state_withheld:"",state_id:"",ordinary_dividends:"",qualified_dividends:"",capital_gain_distributions:"",nondividend_distributions:"",section_199a_dividends:"",collectibles_gain:"",section_1202_gain:"",section_1250_gain:"",exempt_interest_dividends:""}),l=ze(),{data:c=[],isLoading:d}=ft({queryKey:["1099-investment-income",e],queryFn:async()=>{const{data:{user:y}}=await Y.auth.getUser();if(!y)throw new Error("Not authenticated");let b=Y.from("form_1099_investment_income").select("*").eq("user_id",y.id).order("created_at",{ascending:!1});e&&(b=b.eq("business_id",e));const{data:w,error:N}=await b;if(N)throw N;return w}}),u=Be({mutationFn:async y=>{const{data:{user:b}}=await Y.auth.getUser();if(!b)throw new Error("Not authenticated");const{error:w}=await Y.from("form_1099_investment_income").insert({user_id:b.id,business_id:e||null,form_type:y.form_type,payer_name:y.payer_name,payer_tin:y.payer_tin||null,interest_income:parseFloat(y.interest_income)||0,early_withdrawal_penalty:parseFloat(y.early_withdrawal_penalty)||0,interest_on_savings_bonds:parseFloat(y.interest_on_savings_bonds)||0,federal_withheld:parseFloat(y.federal_withheld)||0,investment_expenses:parseFloat(y.investment_expenses)||0,foreign_tax_paid:parseFloat(y.foreign_tax_paid)||0,tax_exempt_interest:parseFloat(y.tax_exempt_interest)||0,private_activity_bond_interest:parseFloat(y.private_activity_bond_interest)||0,market_discount:parseFloat(y.market_discount)||0,bond_premium:parseFloat(y.bond_premium)||0,state_withheld:parseFloat(y.state_withheld)||0,state_id:y.state_id||null,ordinary_dividends:parseFloat(y.ordinary_dividends)||0,qualified_dividends:parseFloat(y.qualified_dividends)||0,capital_gain_distributions:parseFloat(y.capital_gain_distributions)||0,nondividend_distributions:parseFloat(y.nondividend_distributions)||0,section_199a_dividends:parseFloat(y.section_199a_dividends)||0,collectibles_gain:parseFloat(y.collectibles_gain)||0,section_1202_gain:parseFloat(y.section_1202_gain)||0,section_1250_gain:parseFloat(y.section_1250_gain)||0,exempt_interest_dividends:parseFloat(y.exempt_interest_dividends)||0,tax_year:new Date().getFullYear()});if(w)throw w},onSuccess:()=>{l.invalidateQueries({queryKey:["1099-investment-income"]}),We.success("Form recorded"),r(!1),m()},onError:y=>We.error(`Failed to add form: ${y.message}`)}),h=Be({mutationFn:async y=>{const{error:b}=await Y.from("form_1099_investment_income").delete().eq("id",y);if(b)throw b},onSuccess:()=>{l.invalidateQueries({queryKey:["1099-investment-income"]}),We.success("Form deleted")}}),m=()=>{o({payer_name:"",payer_tin:"",interest_income:"",early_withdrawal_penalty:"",interest_on_savings_bonds:"",federal_withheld:"",investment_expenses:"",foreign_tax_paid:"",tax_exempt_interest:"",private_activity_bond_interest:"",market_discount:"",bond_premium:"",state_withheld:"",state_id:"",ordinary_dividends:"",qualified_dividends:"",capital_gain_distributions:"",nondividend_distributions:"",section_199a_dividends:"",collectibles_gain:"",section_1202_gain:"",section_1250_gain:"",exempt_interest_dividends:""})},f=c.filter(y=>y.form_type==="1099-INT"),p=c.filter(y=>y.form_type==="1099-DIV"),g=f.reduce((y,b)=>y+(b.interest_income||0),0),v=p.reduce((y,b)=>y+(b.ordinary_dividends||0),0),j=p.reduce((y,b)=>y+(b.qualified_dividends||0),0);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"1099-INT & 1099-DIV"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Track interest and dividend income"})]}),n.jsxs(Xt,{open:t,onOpenChange:r,children:[n.jsx(qr,{asChild:!0,children:n.jsxs($,{children:[n.jsx(jr,{className:"w-4 h-4 mr-2"}),"Add Form"]})}),n.jsxs(qt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Ht,{children:n.jsx(Kt,{children:"Record Investment Income Form"})}),n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Form Type"}),n.jsxs(Re,{value:s,onValueChange:y=>a(y),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"1099-INT",children:"1099-INT (Interest Income)"}),n.jsx(he,{value:"1099-DIV",children:"1099-DIV (Dividend Income)"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Payer Name"}),n.jsx(F,{value:i.payer_name,onChange:y=>o({...i,payer_name:y.target.value}),placeholder:"e.g., Bank of America, Fidelity"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Payer TIN"}),n.jsx(F,{value:i.payer_tin,onChange:y=>o({...i,payer_tin:y.target.value}),placeholder:"XX-XXXXXXX"})]})]}),s==="1099-INT"?n.jsxs(Dr,{defaultValue:"income",className:"mt-4",children:[n.jsxs(Nr,{className:"grid w-full grid-cols-3",children:[n.jsx(ke,{value:"income",children:"Income"}),n.jsx(ke,{value:"adjustments",children:"Adjustments"}),n.jsx(ke,{value:"withholding",children:"Withholding"})]}),n.jsxs(De,{value:"income",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 1: Interest Income"}),n.jsx(F,{type:"number",value:i.interest_income,onChange:y=>o({...i,interest_income:y.target.value}),placeholder:"0.00"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 3: Savings Bond Interest"}),n.jsx(F,{type:"number",value:i.interest_on_savings_bonds,onChange:y=>o({...i,interest_on_savings_bonds:y.target.value}),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 8: Tax-Exempt Interest"}),n.jsx(F,{type:"number",value:i.tax_exempt_interest,onChange:y=>o({...i,tax_exempt_interest:y.target.value}),placeholder:"0.00"})]})]})]}),n.jsxs(De,{value:"adjustments",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 2: Early Withdrawal Penalty"}),n.jsx(F,{type:"number",value:i.early_withdrawal_penalty,onChange:y=>o({...i,early_withdrawal_penalty:y.target.value}),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 5: Investment Expenses"}),n.jsx(F,{type:"number",value:i.investment_expenses,onChange:y=>o({...i,investment_expenses:y.target.value}),placeholder:"0.00"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 10: Market Discount"}),n.jsx(F,{type:"number",value:i.market_discount,onChange:y=>o({...i,market_discount:y.target.value}),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 11: Bond Premium"}),n.jsx(F,{type:"number",value:i.bond_premium,onChange:y=>o({...i,bond_premium:y.target.value}),placeholder:"0.00"})]})]})]}),n.jsxs(De,{value:"withholding",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 4: Federal Tax Withheld"}),n.jsx(F,{type:"number",value:i.federal_withheld,onChange:y=>o({...i,federal_withheld:y.target.value}),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 6: Foreign Tax Paid"}),n.jsx(F,{type:"number",value:i.foreign_tax_paid,onChange:y=>o({...i,foreign_tax_paid:y.target.value}),placeholder:"0.00"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"State ID"}),n.jsx(F,{value:i.state_id,onChange:y=>o({...i,state_id:y.target.value}),placeholder:"e.g., GA"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"State Tax Withheld"}),n.jsx(F,{type:"number",value:i.state_withheld,onChange:y=>o({...i,state_withheld:y.target.value}),placeholder:"0.00"})]})]})]})]}):n.jsxs(Dr,{defaultValue:"dividends",className:"mt-4",children:[n.jsxs(Nr,{className:"grid w-full grid-cols-3",children:[n.jsx(ke,{value:"dividends",children:"Dividends"}),n.jsx(ke,{value:"gains",children:"Capital Gains"}),n.jsx(ke,{value:"withholding",children:"Withholding"})]}),n.jsxs(De,{value:"dividends",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 1a: Ordinary Dividends"}),n.jsx(F,{type:"number",value:i.ordinary_dividends,onChange:y=>o({...i,ordinary_dividends:y.target.value}),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 1b: Qualified Dividends"}),n.jsx(F,{type:"number",value:i.qualified_dividends,onChange:y=>o({...i,qualified_dividends:y.target.value}),placeholder:"0.00"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 3: Nondividend Distributions"}),n.jsx(F,{type:"number",value:i.nondividend_distributions,onChange:y=>o({...i,nondividend_distributions:y.target.value}),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 5: Section 199A Dividends"}),n.jsx(F,{type:"number",value:i.section_199a_dividends,onChange:y=>o({...i,section_199a_dividends:y.target.value}),placeholder:"0.00"})]})]})]}),n.jsxs(De,{value:"gains",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 2a: Capital Gain Distributions"}),n.jsx(F,{type:"number",value:i.capital_gain_distributions,onChange:y=>o({...i,capital_gain_distributions:y.target.value}),placeholder:"0.00"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 2b: Section 1202 Gain"}),n.jsx(F,{type:"number",value:i.section_1202_gain,onChange:y=>o({...i,section_1202_gain:y.target.value}),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 2c: Section 1250 Gain"}),n.jsx(F,{type:"number",value:i.section_1250_gain,onChange:y=>o({...i,section_1250_gain:y.target.value}),placeholder:"0.00"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 2d: Collectibles (28%) Gain"}),n.jsx(F,{type:"number",value:i.collectibles_gain,onChange:y=>o({...i,collectibles_gain:y.target.value}),placeholder:"0.00"})]})]}),n.jsxs(De,{value:"withholding",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 4: Federal Tax Withheld"}),n.jsx(F,{type:"number",value:i.federal_withheld,onChange:y=>o({...i,federal_withheld:y.target.value}),placeholder:"0.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"Box 7: Foreign Tax Paid"}),n.jsx(F,{type:"number",value:i.foreign_tax_paid,onChange:y=>o({...i,foreign_tax_paid:y.target.value}),placeholder:"0.00"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"State ID"}),n.jsx(F,{value:i.state_id,onChange:y=>o({...i,state_id:y.target.value}),placeholder:"e.g., GA"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{children:"State Tax Withheld"}),n.jsx(F,{type:"number",value:i.state_withheld,onChange:y=>o({...i,state_withheld:y.target.value}),placeholder:"0.00"})]})]})]})]}),n.jsxs($,{className:"w-full mt-4",onClick:()=>u.mutate({...i,form_type:s}),disabled:!i.payer_name||u.isPending,children:["Save ",s]})]})]})]})]}),c.length>0&&n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(q,{children:n.jsxs(K,{className:"py-4 flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(uB,{className:"w-5 h-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Interest"}),n.jsxs("p",{className:"text-xl font-bold",children:["$",g.toLocaleString()]})]})]})}),n.jsx(q,{children:n.jsxs(K,{className:"py-4 flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-secondary/10",children:n.jsx($t,{className:"w-5 h-5 text-secondary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Dividends"}),n.jsxs("p",{className:"text-xl font-bold",children:["$",v.toLocaleString()]})]})]})}),n.jsx(q,{children:n.jsxs(K,{className:"py-4 flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-accent/10",children:n.jsx(Fs,{className:"w-5 h-5 text-accent"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Qualified Divs"}),n.jsxs("p",{className:"text-xl font-bold",children:["$",j.toLocaleString()]})]})]})})]}),n.jsxs(q,{children:[n.jsx(de,{children:n.jsx(ce,{className:"text-base",children:"Received Forms"})}),n.jsx(K,{children:d?n.jsx("p",{className:"text-muted-foreground",children:"Loading..."}):c.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No forms recorded yet"}):n.jsxs(zt,{children:[n.jsx(Ut,{children:n.jsxs(Ve,{children:[n.jsx(te,{children:"Type"}),n.jsx(te,{children:"Payer"}),n.jsx(te,{className:"text-right",children:"Interest"}),n.jsx(te,{className:"text-right",children:"Dividends"}),n.jsx(te,{className:"text-right",children:"Fed. Withheld"}),n.jsx(te,{})]})}),n.jsx(Wt,{children:c.map(y=>n.jsxs(Ve,{children:[n.jsx(Q,{children:n.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-muted",children:y.form_type})}),n.jsx(Q,{className:"font-medium",children:y.payer_name}),n.jsxs(Q,{className:"text-right font-mono",children:["$",(y.interest_income||0).toLocaleString()]}),n.jsxs(Q,{className:"text-right font-mono",children:["$",(y.ordinary_dividends||0).toLocaleString()]}),n.jsxs(Q,{className:"text-right font-mono",children:["$",(y.federal_withheld||0).toLocaleString()]}),n.jsx(Q,{children:n.jsx($,{variant:"ghost",size:"icon",onClick:()=>h.mutate(y.id),children:n.jsx(xr,{className:"w-4 h-4 text-destructive"})})})]},y.id))})]})})]})]})}function m_e(){const e=Qt(),[t,r]=x.useState(!0),[s,a]=x.useState(""),{businesses:i,isLoading:o,forProfitBusinesses:l,nonprofitOrgs:c,churches:d}=s_e();x.useEffect(()=>{(async()=>{const{data:{session:f}}=await Y.auth.getSession();if(!f){e("/auth");return}r(!1)})()},[e]),x.useEffect(()=>{i.length>0&&!s&&a(i[0].id)},[i,s]);const u=i.find(m=>m.id===s),h=(m,f)=>m==="church"?n.jsx(ne,{variant:"secondary",children:"Church"}):m==="nonprofit"&&f?n.jsx(ne,{variant:"secondary",children:"501(c)(3)"}):m==="nonprofit"?n.jsx(ne,{variant:"outline",children:"Nonprofit"}):n.jsx(ne,{variant:"outline",children:"For-Profit"});return t||o?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx("div",{className:"w-8 h-8 border-3 border-primary/30 border-t-primary rounded-full animate-spin"})}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-50",children:n.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:n.jsx(Mt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center",children:n.jsx(uT,{className:"w-6 h-6 text-primary-foreground"})}),n.jsx("span",{className:"text-xl font-display font-bold text-foreground",children:"1099 Form Center"})]})]}),i.length>0&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Re,{value:s,onValueChange:a,children:[n.jsx(Pe,{className:"w-64",children:n.jsx(Ie,{placeholder:"Select entity..."})}),n.jsxs(Ae,{children:[l.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground",children:"For-Profit"}),l.map(m=>n.jsx(he,{value:m.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($n,{className:"h-4 w-4"}),m.name]})},m.id))]}),c.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground",children:"Nonprofits"}),c.map(m=>n.jsx(he,{value:m.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(cn,{className:"h-4 w-4"}),m.name]})},m.id))]}),d.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground",children:"Churches"}),d.map(m=>n.jsx(he,{value:m.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($J,{className:"h-4 w-4"}),m.name]})},m.id))]})]})]}),u&&h(u.entity_type,u.is_501c3)]})]})}),n.jsx("main",{className:"container mx-auto px-6 py-8",children:n.jsx("div",{className:"max-w-6xl mx-auto",children:i.length===0?n.jsx(q,{children:n.jsxs(K,{className:"py-12 text-center",children:[n.jsx($n,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Businesses Set Up"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your businesses first to track 1099 payments"}),n.jsx($,{onClick:()=>e("/business-setup"),children:"Set Up Business"})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-display font-bold text-foreground mb-2",children:"1099 Forms & Contractor Payments"}),n.jsxs("p",{className:"text-muted-foreground",children:["Track payments to contractors, generate 1099 forms, and manage recipient information for ",u==null?void 0:u.name]})]}),n.jsxs(Dr,{defaultValue:"nec-tracker",className:"space-y-6",children:[n.jsxs(Nr,{className:"grid w-full grid-cols-4 max-w-2xl",children:[n.jsxs(ke,{value:"nec-tracker",className:"gap-2",children:[n.jsx(Or,{className:"h-4 w-4"}),"1099-NEC"]}),n.jsxs(ke,{value:"misc-k",className:"gap-2",children:[n.jsx($t,{className:"h-4 w-4"}),"MISC / K"]}),n.jsxs(ke,{value:"int-div",className:"gap-2",children:[n.jsx(fT,{className:"h-4 w-4"}),"INT / DIV"]}),n.jsxs(ke,{value:"reference",className:"gap-2",children:[n.jsx(wt,{className:"h-4 w-4"}),"Box Reference"]})]}),n.jsx(De,{value:"nec-tracker",children:n.jsx(o_e,{businessId:s})}),n.jsx(De,{value:"misc-k",children:n.jsxs("div",{className:"space-y-8",children:[n.jsx(c_e,{businessId:s}),n.jsx(u_e,{businessId:s})]})}),n.jsx(De,{value:"int-div",children:n.jsx(h_e,{businessId:s})}),n.jsx(De,{value:"reference",children:n.jsx(l_e,{})})]})]})})})]})}const rI={single:14600,married_filing_jointly:29200,head_of_household:21900},nI=1e4,f_e=.075,p_e=.21,py=168600;function x_e(){const[e,t]=x.useState({grossRevenue:8e4,businessExpenses:15e3,filingStatus:"single",otherIncome:0,medicalExpenses:0,stateLocalTaxes:8e3,mortgageInterest:12e3,charitableDonations:2e3,reasonableSalary:5e4,ownershipPercentage:100}),[r,s]=x.useState(!1),[a,i]=x.useState(!1),o=(m,f)=>{t(p=>({...p,[m]:f}))},l=m=>{const f=Math.max(0,e.medicalExpenses-m*f_e),p=Math.min(e.stateLocalTaxes,nI),g=e.mortgageInterest,v=m*.6,j=Math.min(e.charitableDonations,v);return f+p+g+j},c=x.useMemo(()=>{const m=e.grossRevenue-e.businessExpenses,f=m*(e.ownershipPercentage/100),p=[],g=pt=>{const Et=pt*.9235,Jr=Math.min(Et,py)*kr.socialSecurityRate,Ys=Et*kr.medicareRate;return{total:Jr+Ys,ss:Jr,medicare:Ys}},v=pt=>{const Et=l(pt),Jr=rI[e.filingStatus];return a?{amount:Et,type:"itemized"}:Et>Jr?{amount:Et,type:"itemized"}:{amount:Jr,type:"standard"}},j=g(m),y=j.total/2,b=m+e.otherIncome-y,w=m*kr.qbiDeduction,N=v(b),_=Math.max(0,b-N.amount-w),C=Sf(_,e.filingStatus),S=_*C;p.push({structure:"sole_proprietor",label:"Sole Proprietor",icon:n.jsx($i,{className:"h-5 w-5"}),netProfit:m,selfEmploymentTax:j.total,socialSecurityTax:j.ss,medicareTax:j.medicare,qbiDeduction:w,incomeTax:S,corporateTax:0,totalTax:j.total+S,takeHome:m-j.total-S,effectiveRate:(j.total+S)/m,notes:["Simplest structure - file Schedule C",`Using ${N.type} deduction: ${Se(N.amount)}`,`20% QBI deduction saves ${Se(w*C)}`,"All profit subject to 15.3% SE tax"],warnings:m>6e4?["Consider S-Corp election for SE tax savings"]:[],recommended:m<5e4}),p.push({...p[0],structure:"single_member_llc",label:"Single-Member LLC",icon:n.jsx($n,{className:"h-5 w-5"}),notes:["Disregarded entity - same taxes as Sole Prop","Provides liability protection",`Using ${N.type} deduction: ${Se(N.amount)}`,"May have state filing fees ($50-$800/year)"],warnings:m>6e4?["Consider S-Corp election to reduce SE tax"]:[],recommended:m>=3e4&&m<6e4});const k=Math.min(e.reasonableSalary,m*.7),E=Math.max(0,m-k),T=Math.min(k,py)*(kr.socialSecurityRate/2),A=Math.min(k,py)*(kr.socialSecurityRate/2),B=k*(kr.medicareRate/2),R=k*(kr.medicareRate/2),L=T+A+B+R,V=E*kr.qbiDeduction,O=k+E+e.otherIncome,P=v(O),I=Math.max(0,O-P.amount-V),G=Sf(I,e.filingStatus),re=I*G,X=2e3,W=L+re+X,oe=j.total+S-W;p.push({structure:"llc_s_corp",label:"LLC taxed as S-Corp",icon:n.jsx(Dx,{className:"h-5 w-5"}),netProfit:m,selfEmploymentTax:L,socialSecurityTax:T+A,medicareTax:B+R,qbiDeduction:V,incomeTax:re,corporateTax:0,totalTax:W,takeHome:m-W,effectiveRate:W/m,notes:[`Reasonable salary: ${Se(k)}`,`Tax-free distributions: ${Se(E)}`,`SE tax savings: ${Se(Math.max(0,j.total-L))}`,`Admin costs included: ~${Se(X)}/year`,oe>0?`Net savings vs Sole Prop: ${Se(oe)}`:""].filter(Boolean),warnings:[k<m*.4?"IRS may challenge salary as too low":"",m<5e4?"Admin costs may outweigh tax savings":""].filter(Boolean),recommended:m>=6e4});const je=g(f),$e=je.total/2,se=f+e.otherIncome-$e,Te=f*kr.qbiDeduction,le=v(se),ge=Math.max(0,se-le.amount-Te),we=Sf(ge,e.filingStatus),ae=ge*we;p.push({structure:"partnership",label:"Partnership",icon:n.jsx(Or,{className:"h-5 w-5"}),netProfit:f,selfEmploymentTax:je.total,socialSecurityTax:je.ss,medicareTax:je.medicare,qbiDeduction:Te,incomeTax:ae,corporateTax:0,totalTax:je.total+ae,takeHome:f-je.total-ae,effectiveRate:(je.total+ae)/f,notes:[`Your ${e.ownershipPercentage}% share: ${Se(f)}`,"K-1 pass-through taxation",`QBI deduction on your share: ${Se(Te)}`,"Partnership files Form 1065"],warnings:e.ownershipPercentage<50?["Limited control with minority ownership"]:[],recommended:!1});const st=Math.min(e.reasonableSalary,m),Ze=Math.min(st,py)*kr.socialSecurityRate,Tt=st*kr.medicareRate,at=Ze+Tt,Bt=m-st,_r=Bt*p_e,U=(Bt-_r)*.15,J=st+e.otherIncome,ie=v(J),ve=Math.max(0,J-ie.amount),be=Sf(ve,e.filingStatus),pe=ve*be,Ee=at+_r+U+pe;return p.push({structure:"c_corp",label:"C Corporation",icon:n.jsx($x,{className:"h-5 w-5"}),netProfit:m,selfEmploymentTax:at,socialSecurityTax:Ze,medicareTax:Tt,qbiDeduction:0,incomeTax:pe,corporateTax:_r+U,totalTax:Ee,takeHome:m-Ee,effectiveRate:Ee/m,notes:["21% flat corporate tax rate","Double taxation on dividends",`Corporate tax: ${Se(_r)}`,`Dividend tax (15%): ${Se(U)}`,"No QBI deduction available"],warnings:["Double taxation reduces take-home","Complex compliance requirements","Not recommended for most small businesses"],recommended:!1}),p},[e,a]),d=x.useMemo(()=>c.reduce((m,f)=>f.totalTax<m.totalTax?f:m),[c]),u=x.useMemo(()=>{const m=e.grossRevenue-e.businessExpenses+e.otherIncome;return l(m)},[e]),h=rI[e.filingStatus];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(q,{children:[n.jsxs(de,{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Wn,{className:"h-5 w-5 text-primary"}),"Business Structure Tax Comparison"]}),n.jsx(ye,{children:"Compare SE tax + itemized deductions across all 5 business structures"})]}),n.jsxs(K,{children:[n.jsxs(Dr,{defaultValue:"income",className:"space-y-4",children:[n.jsxs(Nr,{className:"grid w-full grid-cols-3",children:[n.jsx(ke,{value:"income",children:"Income & Business"}),n.jsx(ke,{value:"schedule-a",children:"Schedule A"}),n.jsx(ke,{value:"advanced",children:"Advanced"})]}),n.jsxs(De,{value:"income",className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"grossRevenue",children:"Gross Business Revenue"}),n.jsxs("div",{className:"relative",children:[n.jsx($t,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(F,{id:"grossRevenue",type:"number",value:e.grossRevenue,onChange:m=>o("grossRevenue",Number(m.target.value)),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"businessExpenses",children:"Business Expenses"}),n.jsxs("div",{className:"relative",children:[n.jsx($t,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(F,{id:"businessExpenses",type:"number",value:e.businessExpenses,onChange:m=>o("businessExpenses",Number(m.target.value)),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"filingStatus",children:"Filing Status"}),n.jsxs(Re,{value:e.filingStatus,onValueChange:m=>o("filingStatus",m),children:[n.jsx(Pe,{children:n.jsx(Ie,{})}),n.jsxs(Ae,{children:[n.jsx(he,{value:"single",children:"Single"}),n.jsx(he,{value:"married_filing_jointly",children:"Married Filing Jointly"}),n.jsx(he,{value:"head_of_household",children:"Head of Household"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"otherIncome",children:"Other Income (W-2, etc.)"}),n.jsxs("div",{className:"relative",children:[n.jsx($t,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(F,{id:"otherIncome",type:"number",value:e.otherIncome,onChange:m=>o("otherIncome",Number(m.target.value)),className:"pl-9"})]})]})]}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Net Business Profit"}),n.jsx("span",{className:"text-lg font-bold text-primary",children:Se(e.grossRevenue-e.businessExpenses)})]})})]}),n.jsxs(De,{value:"schedule-a",className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(M,{children:"Force Itemized Deductions"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Standard: ",Se(h)," | Itemized: ",Se(u)]})]}),n.jsx(lr,{checked:a,onCheckedChange:i})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(M,{htmlFor:"medicalExpenses",className:"flex items-center gap-2",children:[n.jsx(cn,{className:"h-4 w-4 text-red-500"}),"Medical Expenses"]}),n.jsxs("div",{className:"relative",children:[n.jsx($t,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(F,{id:"medicalExpenses",type:"number",value:e.medicalExpenses,onChange:m=>o("medicalExpenses",Number(m.target.value)),className:"pl-9"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Only amounts exceeding 7.5% of AGI are deductible"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(M,{htmlFor:"stateLocalTaxes",className:"flex items-center gap-2",children:[n.jsx(hT,{className:"h-4 w-4 text-blue-500"}),"State & Local Taxes (SALT)"]}),n.jsxs("div",{className:"relative",children:[n.jsx($t,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(F,{id:"stateLocalTaxes",type:"number",value:e.stateLocalTaxes,onChange:m=>o("stateLocalTaxes",Number(m.target.value)),className:"pl-9"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Capped at $10,000 (income + property taxes)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(M,{htmlFor:"mortgageInterest",className:"flex items-center gap-2",children:[n.jsx(Hb,{className:"h-4 w-4 text-green-500"}),"Mortgage Interest"]}),n.jsxs("div",{className:"relative",children:[n.jsx($t,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(F,{id:"mortgageInterest",type:"number",value:e.mortgageInterest,onChange:m=>o("mortgageInterest",Number(m.target.value)),className:"pl-9"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Deductible on loans up to $750K"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(M,{htmlFor:"charitableDonations",className:"flex items-center gap-2",children:[n.jsx(wt,{className:"h-4 w-4 text-purple-500"}),"Charitable Donations"]}),n.jsxs("div",{className:"relative",children:[n.jsx($t,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(F,{id:"charitableDonations",type:"number",value:e.charitableDonations,onChange:m=>o("charitableDonations",Number(m.target.value)),className:"pl-9"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Cash: up to 60% of AGI, Property: varies"})]})]}),n.jsxs("div",{className:"rounded-lg border p-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Medical (above 7.5% AGI)"}),n.jsx("span",{children:Se(Math.max(0,e.medicalExpenses-(e.grossRevenue-e.businessExpenses+e.otherIncome)*.075))})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"SALT (capped at $10K)"}),n.jsx("span",{children:Se(Math.min(e.stateLocalTaxes,nI))})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Mortgage Interest"}),n.jsx("span",{children:Se(e.mortgageInterest)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Charitable Donations"}),n.jsx("span",{children:Se(e.charitableDonations)})]}),n.jsx(sn,{}),n.jsxs("div",{className:"flex justify-between font-medium",children:[n.jsx("span",{children:"Total Itemized"}),n.jsx("span",{className:u>h?"text-green-600":"",children:Se(u)})]}),n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Standard Deduction"}),n.jsx("span",{children:Se(h)})]}),u>h&&n.jsxs(ne,{variant:"outline",className:"text-green-600 border-green-600",children:["Itemizing saves ",Se(u-h)]})]})]}),n.jsxs(De,{value:"advanced",className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"reasonableSalary",children:"S-Corp Reasonable Salary"}),n.jsxs("div",{className:"relative",children:[n.jsx($t,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(F,{id:"reasonableSalary",type:"number",value:e.reasonableSalary,onChange:m=>o("reasonableSalary",Number(m.target.value)),className:"pl-9"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:'IRS requires "reasonable" compensation for services'})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"ownershipPercentage",children:"Partnership Ownership %"}),n.jsx(F,{id:"ownershipPercentage",type:"number",min:1,max:100,value:e.ownershipPercentage,onChange:m=>o("ownershipPercentage",Number(m.target.value))}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Your share of partnership profits"})]})]}),n.jsxs("div",{className:"rounded-lg bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 p-4",children:[n.jsxs("h4",{className:"font-medium flex items-center gap-2 text-amber-800 dark:text-amber-200",children:[n.jsx(Xa,{className:"h-4 w-4"}),"S-Corp Salary Guidelines"]}),n.jsxs("ul",{className:"text-sm text-amber-700 dark:text-amber-300 mt-2 space-y-1",children:[n.jsx("li",{children:" Typically 40-60% of net profit"}),n.jsx("li",{children:" Must be comparable to industry standards"}),n.jsx("li",{children:" Too low = IRS scrutiny, too high = wasted SE tax savings"}),n.jsx("li",{children:" Factor in your actual duties and time spent"})]})]})]})]}),n.jsx("div",{className:"mt-6",children:n.jsxs($,{onClick:()=>s(!0),className:"w-full",children:[n.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Calculate All Structures"]})})]})]}),r&&n.jsxs(n.Fragment,{children:[n.jsxs(q,{className:"border-green-500 bg-green-50/50 dark:bg-green-950/20",children:[n.jsx(de,{className:"pb-2",children:n.jsxs(ce,{className:"flex items-center gap-2 text-green-700 dark:text-green-300",children:[n.jsx(At,{className:"h-5 w-5"}),"Recommended: ",d.label]})}),n.jsx(K,{children:n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tax"}),n.jsx("p",{className:"text-xl font-bold text-green-700 dark:text-green-300",children:Se(d.totalTax)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Take Home"}),n.jsx("p",{className:"text-xl font-bold",children:Se(d.takeHome)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Effective Rate"}),n.jsx("p",{className:"text-xl font-bold",children:M2(d.effectiveRate)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"SE Tax"}),n.jsx("p",{className:"text-xl font-bold",children:Se(d.selfEmploymentTax)})]})]})})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:c.map(m=>n.jsxs(q,{className:m.structure===d.structure?"ring-2 ring-green-500":"",children:[n.jsx(de,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ce,{className:"text-lg flex items-center gap-2",children:[m.icon,m.label]}),m.recommended&&n.jsx(ne,{variant:"secondary",className:"text-xs",children:"Recommended"})]})}),n.jsxs(K,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Net Profit"}),n.jsx("span",{children:Se(m.netProfit)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"SE/Payroll Tax"}),n.jsxs("span",{className:"text-red-600",children:["-",Se(m.selfEmploymentTax)]})]}),n.jsxs("div",{className:"flex justify-between text-sm pl-4 text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Social Security"}),n.jsxs("span",{children:["-",Se(m.socialSecurityTax)]})]}),n.jsxs("div",{className:"flex justify-between text-sm pl-4 text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Medicare"}),n.jsxs("span",{children:["-",Se(m.medicareTax)]})]}),m.qbiDeduction>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"QBI Deduction"}),n.jsx("span",{className:"text-green-600",children:Se(m.qbiDeduction)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Income Tax"}),n.jsxs("span",{className:"text-red-600",children:["-",Se(m.incomeTax)]})]}),m.corporateTax>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Corp/Dividend Tax"}),n.jsxs("span",{className:"text-red-600",children:["-",Se(m.corporateTax)]})]}),n.jsx(sn,{}),n.jsxs("div",{className:"flex justify-between font-medium",children:[n.jsx("span",{children:"Total Tax"}),n.jsx("span",{className:"text-red-600",children:Se(m.totalTax)})]}),n.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[n.jsx("span",{children:"Take Home"}),n.jsx("span",{className:"text-green-600",children:Se(m.takeHome)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Effective Rate"}),n.jsx("span",{children:M2(m.effectiveRate)})]})]}),m.notes.length>0&&n.jsx("div",{className:"space-y-1",children:m.notes.map((f,p)=>n.jsxs("p",{className:"text-xs text-muted-foreground flex items-start gap-1",children:[n.jsx(At,{className:"h-3 w-3 mt-0.5 text-green-500 shrink-0"}),f]},p))}),m.warnings.length>0&&n.jsx("div",{className:"space-y-1",children:m.warnings.map((f,p)=>n.jsxs("p",{className:"text-xs text-amber-600 flex items-start gap-1",children:[n.jsx(Xa,{className:"h-3 w-3 mt-0.5 shrink-0"}),f]},p))}),m.structure!==d.structure&&n.jsx("div",{className:"pt-2 border-t",children:n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(zx,{className:"h-3 w-3"}),Se(m.totalTax-d.totalTax)," more than ",d.label]})})]})]},m.structure))}),n.jsxs(q,{children:[n.jsx(de,{children:n.jsx(ce,{className:"text-lg",children:"Key Tax Percentages Reference"})}),n.jsx(K,{children:n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[n.jsx("p",{className:"text-2xl font-bold text-primary",children:"15.3%"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Self-Employment Tax"}),n.jsx("p",{className:"text-xs",children:"12.4% SS + 2.9% Medicare"})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[n.jsx("p",{className:"text-2xl font-bold text-primary",children:"20%"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"QBI Deduction"}),n.jsx("p",{className:"text-xs",children:"Pass-through income deduction"})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[n.jsx("p",{className:"text-2xl font-bold text-primary",children:"21%"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"C-Corp Tax Rate"}),n.jsx("p",{className:"text-xs",children:"Flat federal rate"})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[n.jsx("p",{className:"text-2xl font-bold text-primary",children:"7.5%"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Medical Threshold"}),n.jsx("p",{className:"text-xs",children:"% of AGI before deducting"})]})]})})]})]})]})}function g_e(){const e=Qt();return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container flex h-16 items-center justify-between px-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs($,{variant:"ghost",size:"sm",onClick:()=>e(-1),children:[n.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-xl font-semibold",children:"Business Structure Calculator"})]}),n.jsxs("nav",{className:"flex items-center gap-4",children:[n.jsx(Vs,{to:"/",children:"Home"}),n.jsx(Vs,{to:"/tax-rules",children:"Tax Rules"}),n.jsx(Vs,{to:"/business-setup",children:"Business Setup"})]})]})}),n.jsx("main",{className:"container px-4 py-8 max-w-6xl",children:n.jsx(x_e,{})})]})}const yH="oz-drift-state";function y_e(){try{const e=sessionStorage.getItem(yH);if(e)return JSON.parse(e)}catch{}return{lastQuestId:null,lastActiveTime:Date.now(),driftTriggeredAt:null}}function v_e(e){try{sessionStorage.setItem(yH,JSON.stringify(e))}catch{}}function Wi(){const{data:e=[]}=$d(),{data:t=[]}=h2(),{data:r=[]}=tW(),[s,a]=x.useState(y_e);return x.useEffect(()=>{const i=()=>{const o={...s,lastActiveTime:Date.now()};a(o),v_e(o)};return window.addEventListener("click",i),window.addEventListener("keydown",i),()=>{window.removeEventListener("click",i),window.removeEventListener("keydown",i)}},[s]),x.useMemo(()=>{var $e;const i=new Date,o=e.filter(se=>!se.is_completed),l=o.length,c=t.filter(se=>!se.is_completed).length,d=r.filter(se=>!se.ai_summary).length,u=t.filter(se=>!se.is_completed&&se.due_date&&new Date(se.due_date)<i).length,h=t.filter(se=>!se.is_completed&&se.blocked_by).length,m=t.filter(se=>se.is_setback).length,f=[...o].sort((se,Te)=>new Date(se.created_at).getTime()-new Date(Te.created_at).getTime()),p=(($e=f[0])==null?void 0:$e.id)||null,g=f.slice(1,3).map(se=>se.id),v=f.slice(3,6).map(se=>se.id),j=Math.max(0,l-6),y=!p,b=g.length<2,w=v.length<3;let k=Math.min(100,l*15+c*3+d*10+u*8);const E=Math.min(100,m*20+h*15+u*10),T=Math.min(100,c*5+d*15),A=Math.min(100,u*25+h*10+(l>3?20:0)),B=Math.min(100,l*10+(c>10?30:c*3)+d*12+h*8),R=(Date.now()-s.lastActiveTime)/1e3/60,L=Math.min(50,R*5),V=Math.min(50,c*2+d*5),O=Math.min(100,L+V),P=O>=75;let I,G;k>=85?(I="overload",G=" Emerald City power grid critical! Pausing non-essential quests."):k>=65?(I="critical",G=" Storm approaching the city. Consider closing some loops."):k>=40?(I="elevated",G=" Clouds gathering. Stay focused on current quests."):(I="stable",G=" Emerald City is glowing bright. All systems optimal.");const re=E>=70?"burnout":E>=40?"stressed":"healthy",X=T>=70?"scattered":T>=40?"foggy":"sharp",W=A>=70?"frozen":A>=40?"anxious":"brave",oe=B>=70?"paralyzed":B>=40?"wavering":"decisive",je=k>=65||E>=60||A>=60||O>=60;return{openProjects:l,openTasks:c,unprocessedDumps:d,overdueTasks:u,blockedTasks:h,setbackTasks:m,ramUsage:k,emotionalLoad:E,logicLoad:T,anxietyLevel:A,executiveLoad:B,driftLevel:O,isInVoid:P,lastActiveQuest:s.lastQuestId,status:I,statusMessage:G,tinManState:re,scarecrowState:X,lionState:W,dorothyState:oe,totoAlert:je,planetProject:p,moonProjects:g,probeProjects:v,archivedCount:j,canAddPlanet:y,canAddMoon:b,canAddProbe:w}},[e,t,r,s])}function b_e(){const e=Wi(),t=()=>{switch(e.status){case"overload":return"text-red-500";case"critical":return"text-orange-500";case"elevated":return"text-yellow-500";default:return"text-emerald-500"}},r=s=>s>=70?"bg-red-500":s>=40?"bg-yellow-500":"bg-emerald-500";return n.jsxs(q,{className:"border-2 border-emerald-500/30 bg-gradient-to-br from-emerald-950/50 to-background",children:[n.jsx(de,{className:"pb-2",children:n.jsxs(ce,{className:"flex items-center gap-2 text-lg",children:[n.jsx(Rr,{className:"h-5 w-5 text-emerald-400"}),"Cognitive RAM",e.totoAlert&&n.jsx(jt,{className:"h-4 w-4 text-amber-400 animate-pulse ml-auto"})]})}),n.jsxs(K,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"System Load"}),n.jsxs("span",{className:z("font-mono font-bold",t()),children:[Math.round(e.ramUsage),"%"]})]}),n.jsxs("div",{className:"relative h-4 rounded-full bg-muted overflow-hidden",children:[n.jsx("div",{className:z("h-full transition-all duration-500 rounded-full",r(e.ramUsage)),style:{width:`${e.ramUsage}%`}}),e.status==="overload"&&n.jsx("div",{className:"absolute inset-0 bg-red-500/20 animate-pulse"})]})]}),n.jsx("p",{className:z("text-sm font-medium",t()),children:e.statusMessage}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[n.jsx(qJ,{className:"h-3 w-3"}),n.jsxs("span",{children:[e.openProjects," open projects"]})]}),n.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[n.jsx(Ir,{className:"h-3 w-3"}),n.jsxs("span",{children:[e.openTasks," active quests"]})]}),e.overdueTasks>0&&n.jsxs("div",{className:"flex items-center gap-1 text-amber-400 col-span-2",children:[n.jsx(jt,{className:"h-3 w-3"}),n.jsxs("span",{children:[e.overdueTasks," overdue"]})]})]})]})]})}function j_e({name:e,icon:t,state:r,stateColor:s,load:a,description:i}){return n.jsx(q,{className:z("border transition-all duration-300",a>=70?"border-red-500/50 bg-red-950/20":a>=40?"border-yellow-500/50 bg-yellow-950/20":"border-emerald-500/30 bg-emerald-950/20"),children:n.jsx(K,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:z("p-2 rounded-full",a>=70?"bg-red-500/20 text-red-400":a>=40?"bg-yellow-500/20 text-yellow-400":"bg-emerald-500/20 text-emerald-400"),children:t}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-semibold text-sm",children:e}),n.jsx("span",{className:z("text-xs font-medium",s),children:r})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i}),n.jsx("div",{className:"mt-2 h-1.5 rounded-full bg-muted overflow-hidden",children:n.jsx("div",{className:z("h-full transition-all duration-500",a>=70?"bg-red-500":a>=40?"bg-yellow-500":"bg-emerald-500"),style:{width:`${a}%`}})})]})]})})})}function w_e(){const e=Wi(),t=[{name:"Dorothy",icon:n.jsx(sB,{className:"h-4 w-4"}),state:e.dorothyState==="paralyzed"?" Paralyzed":e.dorothyState==="wavering"?" Wavering":" Decisive",stateColor:e.dorothyState==="paralyzed"?"text-red-400":e.dorothyState==="wavering"?"text-yellow-400":"text-emerald-400",load:e.executiveLoad,description:"Executive control & decision making"},{name:"Tin Man",icon:n.jsx(cn,{className:"h-4 w-4"}),state:e.tinManState==="burnout"?" Burnout":e.tinManState==="stressed"?" Stressed":" Healthy",stateColor:e.tinManState==="burnout"?"text-red-400":e.tinManState==="stressed"?"text-yellow-400":"text-emerald-400",load:e.emotionalLoad,description:"Emotional processing & burnout monitor"},{name:"Scarecrow",icon:n.jsx(Rr,{className:"h-4 w-4"}),state:e.scarecrowState==="scattered"?" Scattered":e.scarecrowState==="foggy"?" Foggy":" Sharp",stateColor:e.scarecrowState==="scattered"?"text-red-400":e.scarecrowState==="foggy"?"text-yellow-400":"text-emerald-400",load:e.logicLoad,description:"Logic, planning & memory sequencing"},{name:"Lion",icon:n.jsx(Wr,{className:"h-4 w-4"}),state:e.lionState==="frozen"?" Frozen":e.lionState==="anxious"?" Anxious":" Brave",stateColor:e.lionState==="frozen"?"text-red-400":e.lionState==="anxious"?"text-yellow-400":"text-emerald-400",load:e.anxietyLevel,description:"Anxiety, fear & confidence levels"},{name:"Toto",icon:n.jsx(cT,{className:"h-4 w-4"}),state:e.totoAlert?" Alert!":" Watching",stateColor:e.totoAlert?"text-amber-400":"text-emerald-400",load:e.totoAlert?80:20,description:"Impulse watchdog & drift detector"}];return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-sm text-muted-foreground",children:[n.jsx(ht,{className:"h-4 w-4 text-emerald-400"}),"Mental Subsystems"]}),n.jsx("div",{className:"grid gap-3",children:t.map(r=>n.jsx(j_e,{...r},r.name))})]})}function N_e(){const e=Wi(),{data:t=[]}=$d(),r=t.filter(o=>!o.is_completed).slice(0,6),s=()=>{switch(e.status){case"overload":return n.jsx(kee,{className:"h-8 w-8 text-red-400 animate-spin",style:{animationDuration:"3s"}});case"critical":return n.jsx(VJ,{className:"h-8 w-8 text-orange-400 animate-pulse"});case"elevated":return n.jsx(zJ,{className:"h-8 w-8 text-yellow-400"});default:return n.jsx(Lv,{className:"h-8 w-8 text-emerald-400"})}},a=()=>{switch(e.status){case"overload":return"from-red-900/50 via-orange-900/30";case"critical":return"from-orange-900/40 via-yellow-900/20";case"elevated":return"from-yellow-900/30 via-emerald-900/20";default:return"from-emerald-900/40 via-teal-900/20"}},i=()=>e.status==="stable"?"shadow-emerald-500/50 shadow-lg":e.status==="elevated"?"shadow-yellow-500/30 shadow-md":"shadow-none opacity-70";return n.jsxs("div",{className:z("relative rounded-xl overflow-hidden bg-gradient-to-b to-background p-6 min-h-[300px]",a()),children:[n.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[s(),n.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:e.status})]}),n.jsxs("div",{className:"flex flex-col items-center mb-6",children:[n.jsxs("div",{className:z("relative w-16 h-24 bg-gradient-to-t from-emerald-700 to-emerald-500 rounded-t-full transition-all duration-500",i()),children:[n.jsx("div",{className:z("absolute top-4 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full transition-all duration-500",e.status==="stable"?"bg-yellow-300 animate-pulse":"bg-gray-600")}),n.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-20 h-4 bg-emerald-800 rounded-sm"})]}),n.jsx("p",{className:"text-xs text-emerald-400 mt-4 font-medium",children:"The Wizard's Tower"})]}),n.jsxs("div",{className:"flex justify-center gap-2 flex-wrap",children:[r.map((o,l)=>{const c=40+l%3*20,d=l<3;return n.jsx("div",{className:z("relative rounded-t-sm transition-all duration-300",d?"bg-emerald-600":"bg-emerald-800/50"),style:{width:24+l%2*8,height:c,boxShadow:d?"0 0 10px rgba(16, 185, 129, 0.3)":"none"},title:o.name,children:n.jsx("div",{className:"absolute inset-1 grid grid-cols-2 gap-0.5",children:Array.from({length:Math.floor(c/12)}).map((u,h)=>n.jsx("div",{className:z("w-2 h-2 rounded-sm",d&&h%2===0?"bg-yellow-300/70":"bg-emerald-900")},h))})},o.id)}),r.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx($n,{className:"h-12 w-12 mx-auto text-emerald-700/50 mb-2"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"No active projects in the city"})]})]}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-yellow-600/30 to-transparent",children:n.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1",children:[...Array(7)].map((o,l)=>n.jsx("div",{className:"w-6 h-2 bg-yellow-500/40 rounded-sm"},l))})}),e.openTasks>0&&n.jsxs("div",{className:"absolute bottom-10 left-4 text-xs text-muted-foreground",children:[n.jsx("span",{className:"text-yellow-500",children:e.openTasks})," open loops on the road"]})]})}const bN=[{id:"desert",title:"Lost in the Desert",message:"You've wandered too far from the Yellow Brick Road. The Emerald City is nowhere in sight.",background:"bg-gradient-to-b from-orange-900 via-yellow-900 to-orange-950",icon:"",tip:"Close some projects to find your way back."},{id:"space",title:"Floating in Space",message:"You've drifted so far off course, you're not even in Oz anymore.",background:"bg-gradient-to-b from-slate-950 via-purple-950 to-black",icon:"",tip:"Ground yourself. Finish one thing."},{id:"witch",title:"The Witch's Domain",message:"Too many distractions have led you to dangerous territory.",background:"bg-gradient-to-b from-green-950 via-gray-900 to-black",icon:"",tip:"Focus on what matters to escape."},{id:"eggs",title:"Sitting on Eggs",message:"You're a chicken sitting on too many eggs. None of them are hatching.",background:"bg-gradient-to-b from-amber-950 via-yellow-900 to-amber-950",icon:"",tip:"Pick ONE egg to nurture. Let the others go."},{id:"tornado",title:"Caught in the Tornado",message:"Your mind is spinning. Everything is chaos. You can't focus on anything.",background:"bg-gradient-to-b from-gray-800 via-slate-900 to-gray-950",icon:"",tip:"Stop. Breathe. Pick one thing."}],jN=["You are not broken. Your OS just needs a reboot.","One brick at a time builds the whole road.","The Wizard believes in you. Now believe in yourself.","Chaos is just energy without direction.","Close a loop. Feel the relief.","Your brain is powerful. Let's aim it.","Not every idea needs action today.","Progress over perfection. Always.","The Emerald City is waiting. You'll get there."];function __e(){const e=Wi(),[t,r]=x.useState(!1),[s,a]=x.useState(bN[0]),[i,o]=x.useState(jN[0]),[l,c]=x.useState(!0),[d,u]=x.useState("in"),h=x.useRef(null);x.useEffect(()=>{if(e.status==="overload"&&!t){const f=bN[Math.floor(Math.random()*bN.length)],p=jN[Math.floor(Math.random()*jN.length)];a(f),o(p),r(!0),l&&h.current&&h.current.play().catch(()=>{})}},[e.status,t,l]),x.useEffect(()=>{if(!t)return;const f=["in","hold","out"];let p=0;const g=setInterval(()=>{p=(p+1)%f.length,u(f[p])},4e3);return()=>clearInterval(g)},[t]);const m=()=>{r(!1),h.current&&(h.current.pause(),h.current.currentTime=0)};return t?n.jsxs("div",{className:z("fixed inset-0 z-50 flex flex-col items-center justify-center transition-all duration-1000",s.background),children:[n.jsx("audio",{ref:h,src:"https://assets.mixkit.co/active_storage/sfx/2515/2515-preview.mp3",loop:!0,hidden:!0}),n.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:()=>c(!l),className:"text-white/70 hover:text-white hover:bg-white/10",children:l?n.jsx(gB,{className:"h-5 w-5"}):n.jsx(Oee,{className:"h-5 w-5"})}),n.jsx($,{variant:"ghost",size:"icon",onClick:m,className:"text-white/70 hover:text-white hover:bg-white/10",children:n.jsx(Vi,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"text-center space-y-8 p-8 max-w-lg",children:[n.jsx("div",{className:"text-8xl animate-bounce",style:{animationDuration:"3s"},children:s.icon}),n.jsx("h1",{className:"text-3xl font-bold text-white",children:s.title}),n.jsx("p",{className:"text-xl text-white/80",children:s.message}),n.jsx("div",{className:"relative mx-auto",children:n.jsx("div",{className:z("w-32 h-32 rounded-full border-4 border-white/30 flex items-center justify-center transition-all duration-[4000ms]",d==="in"&&"scale-125 bg-emerald-500/20",d==="hold"&&"scale-125 bg-blue-500/20",d==="out"&&"scale-100 bg-white/10"),children:n.jsxs("span",{className:"text-white/70 text-sm uppercase tracking-widest",children:[d==="in"&&"Breathe In",d==="hold"&&"Hold",d==="out"&&"Breathe Out"]})})}),n.jsxs("p",{className:"text-lg text-emerald-300 italic",children:['"',i,'"']}),n.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:n.jsxs("p",{className:"text-white/90 text-sm",children:[" ",n.jsx("strong",{children:"Tip:"})," ",s.tip]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/50 text-xs",children:"Current RAM Usage"}),n.jsx("div",{className:"h-2 rounded-full bg-white/20 overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-500 transition-all",style:{width:`${e.ramUsage}%`}})}),n.jsxs("p",{className:"text-white/70 text-sm",children:[e.openProjects," projects  ",e.openTasks," tasks  ",e.overdueTasks," overdue"]})]}),n.jsx($,{onClick:m,className:"bg-emerald-600 hover:bg-emerald-700 text-white px-8 py-6 text-lg",children:"Return to Emerald City"})]}),s.id==="space"&&n.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((f,p)=>n.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`}},p))})]}):null}const S_e={project:"Is starting a new project right now a real quest or a dopamine trap?",task:"Is this task helping your current mission or distracting from it?",idea:"Is this idea worth capturing or just mental noise?",buy:"Is this purchase necessary or an impulse escape?",text:"Does this message need to be sent right now?",scroll:"Are you seeking information or avoiding discomfort?",quit:"Are you abandoning this for good reason or fleeing difficulty?",tab:"Do you need this tab open or are you fragmenting attention?",other:"Is this action moving you forward or sideways?"},C_e={project:"novelty",task:"legitimate",idea:"logic",buy:"emotional",text:"emotional",scroll:"novelty",quit:"fear",tab:"novelty",other:"legitimate"},k_e={overload:[" *growls* The city is overloaded! No new projects allowed right now."," Toto blocks your path. Too many open loops!"," *barks urgently* RAM critical! Close something first!"],critical:[" *whimpers* Are you sure? The city is straining..."," Toto looks concerned. Maybe finish something first?"," *tilts head* This feels like a distraction to me..."],elevated:[" *sniffs* Proceed carefully. Your load is building."," Toto is watching. Make sure this is intentional."],stable:[" *wags tail* Looks safe! Go ahead if it's aligned with your quest."," Toto approves. Your RAM is stable."]},T_e={novelty:{emoji:"",text:"Novelty chase detected",action:"Consider delaying"},emotional:{emoji:"",text:"Emotional impulse",action:"Route to Tin Man"},fear:{emoji:"",text:"Fear/avoidance pattern",action:"Route to Lion"},logic:{emoji:"",text:"Needs planning",action:"Route to Scarecrow"},executive:{emoji:"",text:"Decision overload",action:"Route to Dorothy"},legitimate:{emoji:"",text:"Legitimate task",action:"Schedule it"},destructive:{emoji:"",text:"Destructive impulse",action:"Hard block"}};function E_e({isOpen:e,onClose:t,impulseType:r,impulseName:s,onProceed:a,onDelay:i,onRoute:o,onBlock:l}){const c=Wi(),[d,u]=x.useState(!1),[h,m]=x.useState(!1),f=C_e[r],p=T_e[f],g=()=>{const b=k_e[c.status];return b[Math.floor(Math.random()*b.length)]},v=f==="destructive",j=c.status!=="overload"&&!v,y=()=>{if(v)return"bg-gradient-to-br from-red-950 to-background border-red-500";switch(c.status){case"overload":return"bg-gradient-to-br from-red-950 to-background border-red-500/50";case"critical":return"bg-gradient-to-br from-orange-950 to-background border-orange-500/50";case"elevated":return"bg-gradient-to-br from-yellow-950 to-background border-yellow-500/50";default:return"bg-gradient-to-br from-emerald-950 to-background border-emerald-500/50"}};return h?n.jsx(mo,{open:e,onOpenChange:t,children:n.jsxs(Ci,{className:z("border-2",y()),children:[n.jsxs(ki,{children:[n.jsxs(Ei,{className:"flex items-center gap-2",children:[n.jsx(sS,{className:"h-5 w-5 text-blue-400"}),"Delay This Impulse"]}),n.jsx(Pi,{children:"How long should Toto hold this for you?"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-3 py-4",children:[5,10,30,60].map(b=>n.jsx("button",{onClick:()=>i(b),className:"p-3 rounded-lg border border-blue-500/30 bg-blue-950/30 hover:bg-blue-950/50 transition-colors text-center",children:n.jsxs("p",{className:"font-medium",children:[b," min"]})},b))}),n.jsx(Ti,{children:n.jsx(Ai,{onClick:()=>m(!1),children:"Back"})})]})}):d?n.jsx(mo,{open:e,onOpenChange:t,children:n.jsxs(Ci,{className:z("border-2",y()),children:[n.jsxs(ki,{children:[n.jsxs(Ei,{className:"flex items-center gap-2",children:[n.jsx(Iv,{className:"h-5 w-5 text-purple-400"}),"Route This Impulse"]}),n.jsx(Pi,{children:"Which subsystem should process this?"})]}),n.jsxs("div",{className:"grid gap-3 py-4",children:[n.jsxs("button",{onClick:()=>o("tinman"),className:"flex items-center gap-3 p-3 rounded-lg border border-red-500/30 bg-red-950/30 hover:bg-red-950/50 transition-colors text-left",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"Tin Man"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Emotional processing needed"})]})]}),n.jsxs("button",{onClick:()=>o("scarecrow"),className:"flex items-center gap-3 p-3 rounded-lg border border-yellow-500/30 bg-yellow-950/30 hover:bg-yellow-950/50 transition-colors text-left",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"Scarecrow"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Needs planning & logic"})]})]}),n.jsxs("button",{onClick:()=>o("lion"),className:"flex items-center gap-3 p-3 rounded-lg border border-orange-500/30 bg-orange-950/30 hover:bg-orange-950/50 transition-colors text-left",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"Lion"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Fear or anxiety based"})]})]}),n.jsxs("button",{onClick:()=>o("dorothy"),className:"flex items-center gap-3 p-3 rounded-lg border border-pink-500/30 bg-pink-950/30 hover:bg-pink-950/50 transition-colors text-left",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"Dorothy"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Executive decision needed"})]})]})]}),n.jsx(Ti,{children:n.jsx(Ai,{onClick:()=>u(!1),children:"Back"})})]})}):n.jsx(mo,{open:e,onOpenChange:t,children:n.jsxs(Ci,{className:z("border-2",y()),children:[n.jsxs(ki,{children:[n.jsxs(Ei,{className:"flex items-center gap-2",children:[n.jsx(cT,{className:"h-5 w-5 text-amber-400"}),"Toto's Impulse Check",(c.status==="overload"||v)&&n.jsx(jt,{className:"h-4 w-4 text-red-400 animate-pulse ml-auto"})]}),n.jsxs(Pi,{className:"space-y-3",children:[n.jsx("p",{className:"font-medium text-foreground",children:S_e[r]}),s&&n.jsxs("p",{className:"text-sm bg-muted/50 p-2 rounded",children:['"',s,'"']}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:p.emoji}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium",children:p.text}),n.jsx("p",{className:"text-xs text-muted-foreground",children:p.action})]})]}),n.jsx("p",{className:"text-sm italic",children:g()}),n.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Current RAM:"}),n.jsx("div",{className:"flex-1 h-2 rounded-full bg-muted overflow-hidden",children:n.jsx("div",{className:z("h-full transition-all",c.status==="overload"?"bg-red-500":c.status==="critical"?"bg-orange-500":c.status==="elevated"?"bg-yellow-500":"bg-emerald-500"),style:{width:`${c.ramUsage}%`}})}),n.jsxs("span",{className:"text-xs font-mono",children:[Math.round(c.ramUsage),"%"]})]})]})]}),n.jsxs(Ti,{className:"flex-col sm:flex-row gap-2",children:[n.jsx(Ai,{onClick:t,children:"Nevermind"}),v?n.jsxs("button",{onClick:l,className:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium bg-red-600 hover:bg-red-700 text-white h-10 px-4 py-2",children:[n.jsx(RJ,{className:"h-4 w-4"}),"Block This"]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:[n.jsx(sS,{className:"h-4 w-4"}),"Delay"]}),n.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 border border-purple-500/50 bg-purple-950/30 hover:bg-purple-950/50 text-purple-200 h-10 px-4 py-2",children:[n.jsx(Iv,{className:"h-4 w-4"}),"Route It"]}),j?n.jsxs(lc,{onClick:a,className:"bg-emerald-600 hover:bg-emerald-700",children:[n.jsx(ht,{className:"h-4 w-4 mr-2"}),"Real Quest"]}):n.jsxs("div",{className:"text-xs text-red-400 flex items-center gap-1",children:[n.jsx(jt,{className:"h-3 w-3"}),"RAM overloaded - close loops first"]})]})]})]})})}const sI=["Something brilliant just landed in my world.","Let's sort your storm."];function P_e({isOpen:e,onComplete:t,onSkip:r}){const[s,a]=x.useState("tornado"),[i,o]=x.useState(0),[l,c]=x.useState(""),[d,u]=x.useState(!0);x.useEffect(()=>{if(s!=="wizard")return;const m=setInterval(()=>{u(p=>!p)},530),f=setTimeout(()=>{i<sI.length-1?o(p=>p+1):setTimeout(()=>a("dump"),1500)},2500);return()=>{clearInterval(m),clearTimeout(f)}},[s,i]),x.useEffect(()=>{if(!e)return;const m=setTimeout(()=>a("wizard"),3e3);return()=>clearTimeout(m)},[e]);const h=x.useCallback(()=>{l.trim()&&(a("sorting"),setTimeout(()=>t(l),2500))},[l,t]);return e?n.jsx(Qr,{children:n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 overflow-hidden",children:[s==="tornado"&&n.jsxs(ee.div,{className:"absolute inset-0 bg-gradient-to-b from-slate-900 via-gray-800 to-slate-950 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},children:[n.jsxs("div",{className:"relative",children:[[...Array(5)].map((m,f)=>n.jsx(ee.div,{className:"absolute rounded-full border-2 border-emerald-500/30",style:{width:100+f*80,height:100+f*80,left:-(50+f*40),top:-(50+f*40)},animate:{rotate:f%2===0?360:-360},transition:{duration:3+f,repeat:1/0,ease:"linear"}},f)),n.jsx(ee.div,{className:"w-24 h-24 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 flex items-center justify-center",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:n.jsx(ht,{className:"h-10 w-10 text-white"})})]}),[...Array(20)].map((m,f)=>n.jsx(ee.div,{className:"absolute w-1 h-1 bg-emerald-400/60 rounded-full",initial:{x:Math.random()*window.innerWidth,y:window.innerHeight+50},animate:{x:window.innerWidth/2,y:window.innerHeight/2,opacity:[0,1,0]},transition:{duration:2+Math.random()*2,delay:Math.random()*2,repeat:1/0}},f)),n.jsx(ee.p,{className:"absolute bottom-20 text-emerald-400/70 text-lg tracking-widest",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:"Entering Oz..."})]}),s==="wizard"&&n.jsxs(ee.div,{className:"absolute inset-0 bg-gradient-to-b from-emerald-950 via-background to-background flex flex-col items-center justify-center p-8",initial:{opacity:0},animate:{opacity:1},children:[n.jsx(ee.div,{className:"w-32 h-32 rounded-full bg-gradient-to-br from-emerald-400/30 to-yellow-400/20 mb-8 flex items-center justify-center",animate:{boxShadow:["0 0 30px rgba(16,185,129,0.3)","0 0 60px rgba(16,185,129,0.5)","0 0 30px rgba(16,185,129,0.3)"]},transition:{duration:2,repeat:1/0},children:n.jsx(ht,{className:"h-16 w-16 text-emerald-400"})}),n.jsx("div",{className:"text-center max-w-lg space-y-4",children:sI.slice(0,i+1).map((m,f)=>n.jsxs(ee.p,{className:"text-2xl text-emerald-100 font-light",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:['"',m,'"',f===i&&d&&n.jsx("span",{className:"ml-1",children:"|"})]},f))})]}),s==="dump"&&n.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-b from-emerald-950 via-background to-background flex flex-col items-center justify-center p-8",initial:{opacity:0},animate:{opacity:1},children:n.jsxs("div",{className:"w-full max-w-2xl space-y-6",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx(ee.div,{className:"inline-flex w-20 h-20 rounded-full bg-emerald-500/20 items-center justify-center mb-4",animate:{scale:[1,1.05,1]},transition:{duration:3,repeat:1/0},children:n.jsx("img",{src:Eh,alt:"Tornado Alley",className:"h-14 w-14"})}),n.jsx("h2",{className:"text-2xl font-bold text-emerald-100 mb-2",children:"Brain Dump"}),n.jsx("p",{className:"text-emerald-300/70",children:"Ideas, stress, fears, dreams, random chaos  no structure, no judgment. Just purge."})]}),n.jsx(wr,{value:l,onChange:m=>c(m.target.value),placeholder:`Start typing everything on your mind... 

Tasks you're avoiding, ideas you can't stop thinking about, worries, dreams, phone calls you need to make, random thoughts...

Let it all out. The Wizard will help sort the storm.`,className:"min-h-[250px] bg-emerald-950/50 border-emerald-500/30 text-emerald-100 placeholder:text-emerald-500/50 resize-none text-lg"}),n.jsxs("div",{className:"flex gap-4 justify-center",children:[n.jsx($,{variant:"ghost",onClick:r,className:"text-emerald-400/70 hover:text-emerald-400",children:"Skip for now"}),n.jsxs($,{onClick:h,disabled:!l.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-8",children:[n.jsx(ht,{className:"h-4 w-4 mr-2"}),"Sort My Storm"]})]})]})}),s==="sorting"&&n.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-b from-emerald-950 via-background to-background flex flex-col items-center justify-center",initial:{opacity:0},animate:{opacity:1},children:n.jsxs(ee.div,{className:"text-center space-y-6",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:[n.jsx(ee.div,{className:"w-24 h-24 mx-auto rounded-full bg-emerald-500/20 flex items-center justify-center",animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},children:n.jsx(ht,{className:"h-12 w-12 text-emerald-400"})}),n.jsxs("p",{className:"text-2xl text-emerald-100 font-light",children:['"Your storm has shape.',n.jsx("br",{}),'Let me show you what weighs the most."']})]})})]})}):null}const A_e={stable:[{text:"Your orbit is steady. The city hums with quiet power.",tone:"neutral"},{text:"Gravity is holding. A good day for small victories.",tone:"encouraging"},{text:"The engines are stable. What weight shall we move today?",tone:"neutral"},{text:"Your core is centered. Even small steps add mass to momentum.",tone:"encouraging"}],elevated:[{text:"Your orbit is widening slightly. Nothing to fearjust physics.",tone:"calming"},{text:"I sense growing weight. Let us redistribute before it compounds.",tone:"neutral"},{text:"The load increases. Choose one thing to lighten.",tone:"encouraging"},{text:"Pressure is rising in the system. This is data, not judgment.",tone:"calming"}],critical:[{text:"Gravity is weakening. We must stabilize your core.",tone:"warning"},{text:"Too many open loops are draining power. Time to close some.",tone:"warning"},{text:"The city lights flicker. You are not failingyou are overloaded.",tone:"calming"},{text:"Your RAM is strained. This is not weakness. This is physics.",tone:"calming"}],overload:[{text:"System pause. You cannot pour from an empty vessel.",tone:"calming"},{text:"All engines holding. No new weight until we redistribute.",tone:"warning"},{text:"The grid is at capacity. Rest is not failureit is maintenance.",tone:"calming"},{text:"Your mind has reached its edge. We wait here together.",tone:"calming"}]},aI=[{text:"Mass shifted. Gravity restored. Well done.",tone:"celebrating"},{text:"A loop closes. The city grows brighter.",tone:"celebrating"},{text:"You moved weight today. That is not small.",tone:"encouraging"},{text:"Another thread resolved. Your orbit stabilizes.",tone:"celebrating"},{text:"The Wizard nods. Not because it was easybecause you did it anyway.",tone:"celebrating"}],O_e={day1:{text:"Welcome, traveler. The storm brought you here. Now let us sort the wreckage and build something real.",tone:"neutral"},day2:{text:"I have watched your patterns. You drift at certain hours. You spark with certain triggers. This is not flawit is data.",tone:"neutral"},day3:{text:"Today you may feel the Void pull. When you drift beyond orbit, I will find you. No shame. Only re-centering.",tone:"calming"},day4:{text:"You carry a rare engineone that burns bright but dangerous. Today I teach you to use it without torching your world.",tone:"encouraging"},day5:{text:"You are not alone inside yourself. The Tin Man processes your feelings. The Lion guards your courage. Toto watches the gates.",tone:"encouraging"},day6:{text:"Your city grows. Each closed loop adds a brick. Each completed quest lights a window. This is yours.",tone:"celebrating"},day7:{text:"This city is yours. It grows because you exist. Not because you are perfectbecause you persist.",tone:"celebrating"},tornado:{text:"Something brilliant just landed in my world. Let's sort your storm.",tone:"encouraging"},sorting:{text:"Your storm has shape. Let me show you what weighs the most.",tone:"neutral"},firstCity:{text:"Welcome to your Emerald City. These buildings are yours.",tone:"encouraging"},firstQuest:{text:"Every journey starts with one step. Here's your first quest.",tone:"encouraging"},encouragement:{text:"You are not broken. Your OS just needed a reboot.",tone:"calming"}},M_e={drift:{text:"You are outside planetary orbit. What were you building before you left?",tone:"calming"},impulse:{text:"Toto intercepts this impulse. Is it a real quest or a dopamine trap?",tone:"neutral"},anger:{text:"I sense fire in your engine. Shall we channel it into Battle Focus, or cool it first?",tone:"neutral"},fear:{text:"The Lion stirs. This path holds fear. Shall we face it, delay it, or dissolve it?",tone:"calming"},overwhelm:{text:"Too much weight on the grid. We pause. We breathe. We choose only one thing.",tone:"calming"},avoidance:{text:"You are circling something. The Scarecrow notices patterns. Shall we name the thing you're avoiding?",tone:"neutral"},newProject:{text:"A new quest beckons. But first, let Toto sniff it out. Is this a real path or a shiny distraction?",tone:"neutral"},overload:{text:"Your RAM overflows. We must let something go before adding more weight.",tone:"warning"},delay:{text:"This thought is captured. The Cosmic Library holds your idea. It won't be lost.",tone:"calming"}};function vH(){const e=Wi();return x.useMemo(()=>({getGreeting:()=>{const o=A_e[e.status],l=o[Math.floor(Math.random()*o.length)];return{text:l.text,tone:l.tone,category:"greeting"}},getCompletionMessage:()=>{const o=aI[Math.floor(Math.random()*aI.length)];return{text:o.text,tone:o.tone,category:"completion"}},getOnboardingMessage:o=>{const l=O_e[o];return{text:l.text,tone:l.tone,category:"onboarding"}},getInterventionMessage:o=>{const l=M_e[o];return{text:l.text,tone:l.tone,category:"intervention"}},getStatusMessage:()=>{const o={stable:{text:"Systems nominal. Proceed with intention.",tone:"neutral"},elevated:{text:"Load increasing. Monitor your loops.",tone:"warning"},critical:{text:"Approaching threshold. Consider closing something.",tone:"warning"},overload:{text:"Capacity reached. New quests locked until stabilization.",tone:"calming"}},l=o[e.status]||o.stable;return{text:l.text,tone:l.tone,category:"status"}},load:e}),[e])}function R_e({message:e,className:t,showIcon:r=!0,size:s="md",dayKey:a}){const i=vH(),o=e||(a?i.getOnboardingMessage(a):i.getGreeting()),l=()=>{switch(o.tone){case"celebrating":return"from-yellow-500/20 to-emerald-500/20 border-yellow-500/30";case"encouraging":return"from-emerald-500/20 to-teal-500/20 border-emerald-500/30";case"calming":return"from-blue-500/20 to-emerald-500/20 border-blue-500/30";case"warning":return"from-orange-500/20 to-yellow-500/20 border-orange-500/30";case"neutral":return"from-slate-500/20 to-emerald-500/20 border-slate-500/30";default:return"from-emerald-500/20 to-teal-500/20 border-emerald-500/30"}},c=()=>{switch(o.tone){case"celebrating":return"text-yellow-400";case"encouraging":return"text-emerald-400";case"calming":return"text-blue-400";case"warning":return"text-orange-400";case"neutral":return"text-slate-400";default:return"text-emerald-400"}},d={sm:"p-3 text-sm",md:"p-4 text-base",lg:"p-6 text-lg"},u={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"};return n.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:z("rounded-xl bg-gradient-to-r border backdrop-blur-sm",l(),d[s],t),children:n.jsxs("div",{className:"flex items-start gap-3",children:[r&&n.jsx(ee.div,{className:z("flex-shrink-0 mt-0.5",c()),animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0},children:n.jsx(ht,{className:u[s]})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:z("text-foreground/90 italic leading-relaxed",s==="lg"&&"font-light"),children:['"',o.text,'"']}),a&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2 not-italic",children:[" The Wizard, ",a.replace("day","Day ")]})]})]})})}function I_e({quest:e,onAccept:t,onComplete:r,isAccepted:s=!1,isComplete:a=!1}){const i={low:"text-emerald-400",medium:"text-yellow-400",high:"text-orange-400"},o={low:"Light energy",medium:"Moderate energy",high:"High energy"};return n.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{type:"spring",damping:20},children:n.jsxs(q,{className:z("border-2 transition-all duration-300 overflow-hidden",a?"border-emerald-500/50 bg-emerald-950/30":s?"border-yellow-500/50 bg-yellow-950/20":"border-emerald-500/30 hover:border-emerald-500/50"),children:[n.jsx(ee.div,{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/10 via-transparent to-emerald-500/10",animate:{x:["0%","100%","0%"]},transition:{duration:4,repeat:1/0,ease:"linear"}}),n.jsx(de,{className:"relative pb-2",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ee.div,{className:z("p-2 rounded-lg",a?"bg-emerald-500/20":"bg-yellow-500/20"),animate:a?{}:{boxShadow:["0 0 10px rgba(234,179,8,0.2)","0 0 20px rgba(234,179,8,0.4)","0 0 10px rgba(234,179,8,0.2)"]},transition:{duration:2,repeat:1/0},children:a?n.jsx(At,{className:"h-5 w-5 text-emerald-400"}):n.jsx(Di,{className:"h-5 w-5 text-yellow-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-emerald-400/70 uppercase tracking-wider",children:a?"Quest Complete":s?"Active Quest":"First Quest"}),n.jsx(ce,{className:"text-lg",children:e.title})]})]})})}),n.jsxs(K,{className:"relative space-y-4",children:[n.jsx("p",{className:"text-muted-foreground",children:e.description}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[n.jsx(is,{className:"h-4 w-4"}),n.jsxs("span",{children:["~",e.estimatedMinutes," min"]})]}),n.jsxs("div",{className:z("flex items-center gap-1.5",i[e.energyCost]),children:[n.jsx(Ir,{className:"h-4 w-4"}),n.jsx("span",{children:o[e.energyCost]})]})]}),n.jsxs("div",{className:"bg-emerald-500/10 rounded-lg p-3 border border-emerald-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 text-emerald-400",children:[n.jsx(ht,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Reward:"})]}),n.jsx("p",{className:"text-sm text-emerald-300/80 mt-1",children:e.reward})]}),!a&&n.jsx($,{onClick:s?r:t,className:z("w-full",s?"bg-emerald-600 hover:bg-emerald-700":"bg-yellow-600 hover:bg-yellow-700"),children:s?n.jsxs(n.Fragment,{children:[n.jsx(At,{className:"h-4 w-4 mr-2"}),"Complete Quest"]}):n.jsxs(n.Fragment,{children:[n.jsx(Di,{className:"h-4 w-4 mr-2"}),"Accept Quest"]})}),a&&n.jsx("div",{className:"text-center text-emerald-400 text-sm",children:" Emerald City shines brighter"})]})]})})}function D_e({isVisible:e,questTitle:t,onComplete:r}){const s=vH(),[a,i]=x.useState("");return x.useEffect(()=>{if(e){i(s.getCompletionMessage().text);const o=setTimeout(r,3500);return()=>clearTimeout(o)}},[e,r,s]),n.jsx(Qr,{children:e&&n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none",children:[[...Array(30)].map((o,l)=>n.jsx(ee.div,{className:"absolute",initial:{x:window.innerWidth/2,y:window.innerHeight/2,scale:0},animate:{x:window.innerWidth/2+(Math.random()-.5)*600,y:window.innerHeight/2+(Math.random()-.5)*600,scale:[0,1,0],rotate:Math.random()*360},transition:{duration:2,delay:Math.random()*.3,ease:"easeOut"},children:l%3===0?n.jsx($v,{className:"h-6 w-6 text-yellow-400 fill-yellow-400"}):l%3===1?n.jsx(ht,{className:"h-5 w-5 text-emerald-400"}):n.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"})},l)),n.jsxs(ee.div,{className:"bg-gradient-to-br from-emerald-900/95 to-background/95 backdrop-blur-sm rounded-2xl p-8 text-center space-y-4 border border-emerald-500/30",initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,opacity:0},transition:{type:"spring",damping:15},children:[n.jsx(ee.div,{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-br from-yellow-400 to-emerald-500 flex items-center justify-center",animate:{boxShadow:["0 0 20px rgba(234,179,8,0.3)","0 0 40px rgba(234,179,8,0.5)","0 0 20px rgba(234,179,8,0.3)"]},transition:{duration:1,repeat:1/0},children:n.jsx(ri,{className:"h-10 w-10 text-white"})}),n.jsx(ee.h2,{className:"text-2xl font-bold text-emerald-100",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:"Quest Complete!"}),t&&n.jsxs(ee.p,{className:"text-emerald-300",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:['"',t,'"']}),n.jsxs(ee.p,{className:"text-emerald-400/80 italic max-w-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},children:['"',a,'"']})]}),n.jsx(ee.div,{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-emerald-500/20 to-transparent",initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:2}})]})})}const iI=[{name:"Deep Space",bg:"bg-gradient-to-b from-black via-slate-950 to-black",description:"You've drifted into the void between stars.",particles:"bg-white/20"},{name:"White Desert",bg:"bg-gradient-to-b from-stone-100 via-stone-200 to-stone-300",description:"You're standing in endless white sand. No landmarks.",particles:"bg-stone-400/30",darkText:!0},{name:"Frozen Plain",bg:"bg-gradient-to-b from-slate-800 via-blue-950 to-slate-900",description:"Ice stretches in every direction. Time feels frozen.",particles:"bg-blue-300/20"},{name:"The Grid",bg:"bg-black",description:"You're standing on a floating black grid. Nothing else exists.",particles:"bg-emerald-500/10",showGrid:!0}],$_e=[{id:"planet",label:"Return to Planet",description:"Resume your main mission",icon:dT},{id:"library",label:"Park in Cosmic Library",description:"Archive this for later",icon:Fl},{id:"battle",label:"Enter Battle Focus",description:"Activate Controlled Burn",icon:yh},{id:"sanctuary",label:"Rest in Sanctuary",description:"Take a mindful break",icon:hd}];function L_e({onReturn:e}){const t=Wi(),[r,s]=x.useState("fade"),[a]=x.useState(()=>iI[Math.floor(Math.random()*iI.length)]),[i,o]=x.useState(""),[l,c]=x.useState(null);if(!t.isInVoid)return null;x.useEffect(()=>{const u=setTimeout(()=>s("void"),2e3),h=setTimeout(()=>s("question"),4e3);return()=>{clearTimeout(u),clearTimeout(h)}},[]);const d=()=>{l&&e(l,i.trim()||void 0)};return n.jsx(Qr,{children:n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] overflow-hidden",children:[r==="fade"&&n.jsx(ee.div,{className:"absolute inset-0 bg-black",initial:{opacity:0},animate:{opacity:1},transition:{duration:2}}),(r==="void"||r==="question"||r==="choose")&&n.jsxs(ee.div,{className:`absolute inset-0 ${a.bg} flex flex-col items-center justify-center p-8`,initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[a.showGrid&&n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`
                    linear-gradient(rgba(16,185,129,0.3) 1px, transparent 1px),
                    linear-gradient(90deg, rgba(16,185,129,0.3) 1px, transparent 1px)
                  `,backgroundSize:"50px 50px"}}),[...Array(15)].map((u,h)=>n.jsx(ee.div,{className:`absolute w-1 h-1 rounded-full ${a.particles}`,initial:{x:Math.random()*(typeof window<"u"?window.innerWidth:1e3),y:Math.random()*(typeof window<"u"?window.innerHeight:800)},animate:{y:[null,Math.random()*100-50],opacity:[.2,.6,.2]},transition:{duration:4+Math.random()*4,repeat:1/0,repeatType:"reverse"}},h)),n.jsxs(ee.div,{className:"relative z-10 max-w-xl text-center space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[n.jsx(ee.div,{className:"mx-auto",animate:{rotate:[0,10,-10,0]},transition:{duration:4,repeat:1/0},children:n.jsx(Iv,{className:`h-12 w-12 ${a.darkText?"text-stone-600":"text-white/40"}`})}),n.jsx(ee.p,{className:`text-xl font-light ${a.darkText?"text-stone-800":"text-white/80"}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"You are outside planetary orbit."}),n.jsx(ee.p,{className:`text-sm ${a.darkText?"text-stone-600":"text-white/50"}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:a.description}),(r==="question"||r==="choose")&&n.jsxs(ee.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[n.jsx("p",{className:`text-lg ${a.darkText?"text-stone-700":"text-white/90"}`,children:"What were you building before you left the planet?"}),n.jsx(wr,{value:i,onChange:u=>{o(u.target.value),r!=="choose"&&s("choose")},placeholder:"My real goal was...",className:`min-h-[80px] max-w-md mx-auto resize-none ${a.darkText?"bg-white/80 border-stone-400 text-stone-800 placeholder:text-stone-500":"bg-white/10 border-white/20 text-white placeholder:text-white/40"}`}),r==="choose"&&n.jsxs(ee.div,{className:"space-y-4 pt-4",initial:{opacity:0},animate:{opacity:1},children:[n.jsx("p",{className:`text-sm ${a.darkText?"text-stone-600":"text-white/50"}`,children:"Choose your path:"}),n.jsx("div",{className:"grid grid-cols-2 gap-3 max-w-lg mx-auto",children:$_e.map(u=>{const h=u.icon,m=l===u.id;return n.jsxs("button",{onClick:()=>c(u.id),className:`
                                p-3 rounded-lg border text-left transition-all
                                ${a.darkText?m?"bg-emerald-100 border-emerald-400 text-stone-800":"bg-white/60 border-stone-300 text-stone-700 hover:bg-white/80":m?"bg-emerald-500/20 border-emerald-400/50 text-white":"bg-white/5 border-white/10 text-white/80 hover:bg-white/10"}
                              `,children:[n.jsx(h,{className:"h-4 w-4 mb-1"}),n.jsx("p",{className:"text-sm font-medium",children:u.label}),n.jsx("p",{className:`text-xs ${a.darkText?"text-stone-500":"text-white/50"}`,children:u.description})]},u.id)})}),l&&n.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:n.jsxs($,{onClick:d,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[n.jsx(ht,{className:"h-4 w-4 mr-2"}),"Restore Gravity",n.jsx(kn,{className:"h-4 w-4 ml-2"})]})})]})]}),n.jsxs(ee.p,{className:`text-xs ${a.darkText?"text-stone-500":"text-white/30"}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:2},children:["Orbital drift: ",Math.round(t.driftLevel),"%"]})]})]})]})})}function F_e({isActive:e,questTitle:t,questDuration:r,onComplete:s,onAbort:a}){const[i,o]=x.useState(r*60),[l,c]=x.useState("ignition"),[d,u]=x.useState(50),h=r*60,m=(h-i)/h*100;x.useEffect(()=>{if(!e||l!=="burn")return;const p=setInterval(()=>{o(v=>v<=1?(c("cooldown"),0):v-1);const g=i/h;g<.2?u(90):g<.5&&u(70)},1e3);return()=>clearInterval(p)},[e,l,i,h]),x.useEffect(()=>{if(e&&l==="ignition"){const p=setTimeout(()=>c("burn"),3e3);return()=>clearTimeout(p)}},[e,l]);const f=p=>{const g=Math.floor(p/60),v=p%60;return`${g}:${v.toString().padStart(2,"0")}`};return e?n.jsx(Qr,{children:n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[90] overflow-hidden",children:[n.jsxs(ee.div,{className:z("absolute inset-0 transition-colors duration-1000",l==="ignition"&&"bg-gradient-to-b from-orange-950 via-red-950 to-black",l==="burn"&&"bg-gradient-to-b from-red-950 via-black to-red-950",l==="cooldown"&&"bg-gradient-to-b from-emerald-950 via-slate-950 to-black"),children:[n.jsx(ee.div,{className:"absolute inset-0 bg-gradient-radial from-transparent to-black/50",animate:{opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0}}),l==="burn"&&[...Array(20)].map((p,g)=>n.jsx(ee.div,{className:"absolute w-1 h-1 bg-orange-500 rounded-full",initial:{x:Math.random()*(typeof window<"u"?window.innerWidth:1e3),y:typeof window<"u"?window.innerHeight:800},animate:{y:-100,opacity:[0,1,0]},transition:{duration:2+Math.random()*2,delay:Math.random()*2,repeat:1/0}},g))]}),n.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center p-8",children:[l==="ignition"&&n.jsxs(ee.div,{className:"text-center space-y-6",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},children:[n.jsx(ee.div,{animate:{scale:[1,1.2,1]},transition:{duration:.5,repeat:1/0},children:n.jsx(yh,{className:"h-24 w-24 mx-auto text-orange-500"})}),n.jsx("h2",{className:"text-3xl font-bold text-orange-100",children:"CONTROLLED BURN INITIATED"}),n.jsx("p",{className:"text-orange-300/70",children:"Entering Battle Focus..."}),n.jsx(ee.div,{className:"w-48 h-1 mx-auto bg-orange-950 rounded-full overflow-hidden",initial:{scaleX:0},animate:{scaleX:1},transition:{duration:3},children:n.jsx(ee.div,{className:"h-full bg-gradient-to-r from-orange-500 to-red-500",initial:{x:"-100%"},animate:{x:"0%"},transition:{duration:3}})})]}),l==="burn"&&n.jsxs(ee.div,{className:"w-full max-w-lg space-y-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[n.jsx(q,{className:"border-2 border-red-500/50 bg-black/50 backdrop-blur",children:n.jsxs(K,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(Di,{className:"h-6 w-6 text-red-400"}),n.jsx("span",{className:"text-xs uppercase tracking-wider text-red-400",children:"Combat Objective"})]}),n.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:t}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(is,{className:"h-5 w-5 text-orange-400"}),n.jsx("span",{className:z("text-3xl font-mono font-bold",i<60?"text-red-400 animate-pulse":"text-orange-300"),children:f(i)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ir,{className:"h-5 w-5 text-yellow-400"}),n.jsxs("span",{className:"text-sm text-yellow-300",children:["Intensity: ",d,"%"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ws,{value:m,className:"h-3 bg-red-950"}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[Math.round(m),"%"]})]})]})]})}),n.jsxs("div",{className:"flex gap-4 justify-center",children:[n.jsxs($,{variant:"ghost",onClick:a,className:"text-red-400/70 hover:text-red-400 hover:bg-red-950/50",children:[n.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Abort Mission"]}),n.jsxs($,{onClick:()=>c("cooldown"),className:"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700",children:[n.jsx(At,{className:"h-4 w-4 mr-2"}),"Mission Complete"]})]}),n.jsxs(ee.p,{className:"text-center text-xs text-orange-400/60 flex items-center justify-center gap-2",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:[n.jsx(jt,{className:"h-3 w-3"}),"Cooldown will be enforced after burn"]})]}),l==="cooldown"&&n.jsxs(ee.div,{className:"text-center space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[n.jsx(ee.div,{className:"w-24 h-24 mx-auto rounded-full bg-emerald-500/20 flex items-center justify-center",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:n.jsx(Wr,{className:"h-12 w-12 text-emerald-400"})}),n.jsx("h2",{className:"text-2xl font-bold text-emerald-100",children:"BURN COMPLETE"}),n.jsx("p",{className:"text-emerald-300/70 max-w-md",children:"Mission accomplished. Your nervous system is entering cooldown mode. Take a breath. You've earned this."}),n.jsx(ee.div,{className:"w-16 h-16 mx-auto rounded-full border-2 border-emerald-500/50",animate:{scale:[1,1.3,1]},transition:{duration:6,repeat:3}}),n.jsx("p",{className:"text-xs text-emerald-400/60",children:"Breathe with the circle..."}),n.jsxs($,{onClick:s,className:"bg-emerald-600 hover:bg-emerald-700",children:[n.jsx(rS,{className:"h-4 w-4 mr-2"}),"Return to Emerald City"]})]})]})]})}):null}function wN({type:e,projectId:t,projectName:r,isActive:s,canAdd:a}){const i={planet:n.jsx(aB,{className:"h-6 w-6"}),moon:n.jsx(hd,{className:"h-5 w-5"}),probe:n.jsx(vee,{className:"h-4 w-4"}),archived:n.jsx(eB,{className:"h-4 w-4"})},o={planet:"Planet",moon:"Moon",probe:"Probe",archived:"Archived"},l={planet:"from-emerald-500 to-teal-600",moon:"from-blue-500 to-indigo-600",probe:"from-purple-500 to-pink-600",archived:"from-slate-500 to-slate-600"};return n.jsx("div",{className:z("relative rounded-lg border p-3 transition-all",s?"border-emerald-500/50 bg-gradient-to-br from-emerald-950/50 to-transparent":a?"border-dashed border-muted-foreground/30 bg-muted/10":"border-muted-foreground/20 bg-muted/5 opacity-50"),children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:z("p-2 rounded-full",s?`bg-gradient-to-br ${l[e]} text-white`:"bg-muted text-muted-foreground"),children:i[e]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs uppercase tracking-wider text-muted-foreground",children:o[e]}),s&&n.jsx(ss,{className:"h-3 w-3 text-emerald-400"}),!a&&!s&&n.jsx(Vx,{className:"h-3 w-3 text-muted-foreground"})]}),r?n.jsx("p",{className:"text-sm font-medium truncate",children:r}):n.jsx("p",{className:"text-xs text-muted-foreground italic",children:a?"Available":"Locked"})]})]})})}function B_e(){const e=Wi(),{data:t=[]}=$d(),r=s=>{var a;if(s)return(a=t.find(i=>i.id===s))==null?void 0:a.name};return n.jsxs(q,{className:"border-purple-500/30",children:[n.jsx(de,{className:"pb-3",children:n.jsxs(ce,{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(aB,{className:"h-4 w-4 text-purple-400"}),"Project Orbits"]}),n.jsxs(ne,{variant:"outline",className:"text-xs",children:[e.openProjects,"/6 active"]})]})}),n.jsxs(K,{className:"space-y-3",children:[n.jsx(wN,{type:"planet",projectId:e.planetProject,projectName:r(e.planetProject),isActive:!!e.planetProject,canAdd:e.canAddPlanet}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:[0,1].map(s=>n.jsx(wN,{type:"moon",projectId:e.moonProjects[s]||null,projectName:r(e.moonProjects[s]||null),isActive:!!e.moonProjects[s],canAdd:e.canAddMoon},`moon-${s}`))}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:[0,1,2].map(s=>n.jsx(wN,{type:"probe",projectId:e.probeProjects[s]||null,projectName:r(e.probeProjects[s]||null),isActive:!!e.probeProjects[s],canAdd:e.canAddProbe},`probe-${s}`))}),e.archivedCount>0&&n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(eB,{className:"h-3 w-3"}),"Cosmic Library"]}),n.jsxs("span",{children:[e.archivedCount," archived"]})]}),e.openProjects>=6&&n.jsx("p",{className:"text-xs text-amber-400 flex items-center gap-1",children:" Orbit capacity reached. Complete or archive projects to add more."})]})]})}const oI=[{id:"tinman",name:"Tin Man",icon:n.jsx(cn,{className:"h-5 w-5"}),color:"text-rose-400",bgColor:"bg-rose-500/20",borderColor:"border-rose-500/30",purpose:"Emotional Processing",prompt:"What feeling needs attention right now?",responses:["That weight you carry has a name. Naming it lessens its gravity.","Emotions are data, not commands. Let me help you decode this signal.","Your heart is not broken. It is recalibrating.","Feel it fully. Then we move forward.","This storm will pass. You are not the weather."]},{id:"scarecrow",name:"Scarecrow",icon:n.jsx(Rr,{className:"h-5 w-5"}),color:"text-amber-400",bgColor:"bg-amber-500/20",borderColor:"border-amber-500/30",purpose:"Logic & Planning",prompt:"What problem needs untangling?",responses:["Let's break this into smaller pieces. Complexity shrinks under scrutiny.","Your brain is not failing. It's processing too many threads. Let's close some.","First principles: What is actually true here?","The fog will clear. Let's find one clear step forward.","You already know the answer. Let's uncover it together."]},{id:"lion",name:"Lion",icon:n.jsx(Wr,{className:"h-5 w-5"}),color:"text-orange-400",bgColor:"bg-orange-500/20",borderColor:"border-orange-500/30",purpose:"Courage Building",prompt:"What fear is holding you back?",responses:["Fear is just excitement without breath. Breathe.","You've survived every difficult day so far. That's a 100% success rate.","Courage is not the absence of fear. It's taking one step while afraid.","This fear is protecting something valuable. Let's find what.","The thing you're avoiding contains the growth you need."]},{id:"toto",name:"Toto",icon:n.jsx(cT,{className:"h-5 w-5"}),color:"text-emerald-400",bgColor:"bg-emerald-500/20",borderColor:"border-emerald-500/30",purpose:"Impulse Watchdog",prompt:"What impulse needs checking?",responses:["*sniff* This impulse smells like avoidance. Is there something deeper?","I've seen this pattern before. Let's pause and look closer.","Not every itch needs scratching. Some just need acknowledgment.","This might be your nervous system seeking distraction. Let's ground first.","Good instinct to check. Let's see if this serves your true goals."]}];function V_e({isUnlocked:e=!0,className:t}){var j;const[r,s]=x.useState(null),[a,i]=x.useState(""),[o,l]=x.useState(null),[c,d]=x.useState(!1),u=Wi(),{toast:h}=yt(),m=y=>{if(!e){h({title:"Locked",description:"Emotional routing unlocks on Day 5 of your journey."});return}s(y),l(null),i("")},f=()=>{!r||!a.trim()||(d(!0),setTimeout(()=>{const y=r.responses[Math.floor(Math.random()*r.responses.length)];l(y),d(!1)},1500))},p=()=>{s(null),l(null),i("")},v=u.emotionalLoad>60?"tinman":u.logicLoad>60?"scarecrow":u.anxietyLevel>60?"lion":u.totoAlert?"toto":null;return n.jsxs("div",{className:t,children:[n.jsxs(q,{className:z("border-purple-500/30 bg-gradient-to-b from-purple-950/30 to-background",!e&&"opacity-60"),children:[n.jsxs(de,{className:"pb-3",children:[n.jsxs(ce,{className:"flex items-center gap-2 text-base",children:[n.jsx(ht,{className:"h-4 w-4 text-purple-400"}),"Emotional Routing",!e&&n.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:" Day 5"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Route thoughts to the right mental subsystem"})]}),n.jsxs(K,{className:"space-y-3",children:[n.jsx("div",{className:"grid grid-cols-2 gap-2",children:oI.map(y=>n.jsxs($,{variant:"outline",className:z("h-auto py-3 flex flex-col items-center gap-1 transition-all",y.borderColor,v===y.id&&e&&"ring-2 ring-purple-500/50",!e&&"cursor-not-allowed"),onClick:()=>m(y),disabled:!e,children:[n.jsx("div",{className:z("p-2 rounded-full",y.bgColor,y.color),children:y.icon}),n.jsx("span",{className:"text-xs font-medium",children:y.name}),n.jsx("span",{className:"text-[10px] text-muted-foreground",children:y.purpose})]},y.id))}),v&&e&&n.jsxs("p",{className:"text-xs text-purple-400 text-center",children:[" ",(j=oI.find(y=>y.id===v))==null?void 0:j.name," may help right now"]})]})]}),n.jsx(Qr,{children:r&&n.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:n.jsxs(ee.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:z("w-full max-w-md rounded-xl border p-6 bg-background",r.borderColor),children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:z("p-3 rounded-full",r.bgColor,r.color),children:r.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:r.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:r.purpose})]})]}),n.jsx($,{variant:"ghost",size:"icon",onClick:p,children:n.jsx(Vi,{className:"h-4 w-4"})})]}),n.jsxs("p",{className:z("text-sm mb-4 italic",r.color),children:['"',r.prompt,'"']}),!o&&n.jsxs("div",{className:"space-y-3",children:[n.jsx(wr,{value:a,onChange:y=>i(y.target.value),placeholder:"Share what's on your mind... (this stays private)",className:"min-h-[100px] resize-none",disabled:c}),n.jsxs($,{onClick:f,disabled:!a.trim()||c,className:"w-full",children:[c?n.jsx(ee.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:n.jsx(ht,{className:"h-4 w-4 mr-2"})}):n.jsx(gT,{className:"h-4 w-4 mr-2"}),c?"Processing...":"Route Thought"]})]}),o&&n.jsxs(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[n.jsxs("div",{className:z("p-4 rounded-lg border",r.borderColor,r.bgColor),children:[n.jsxs("p",{className:"text-sm leading-relaxed italic",children:['"',o,'"']}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2 text-right",children:[" ",r.name]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx($,{variant:"outline",className:"flex-1",onClick:()=>{l(null),i("")},children:"Continue Routing"}),n.jsx($,{className:"flex-1",onClick:p,children:"Feeling Better"})]})]})]})})})]})}const z_e=[{day:1,title:"Arrival",description:"Storm sorted. First quest given.",icon:n.jsx(_s,{className:"h-4 w-4"})},{day:2,title:"Pattern Reveal",description:"Your drift tendencies revealed.",icon:n.jsx(_s,{className:"h-4 w-4"})},{day:3,title:"First Void",description:"Void Event unlocked. No punishment.",icon:n.jsx(eee,{className:"h-4 w-4"}),feature:"voidEvent"},{day:4,title:"Controlled Burn",description:"Your rage engine, harnessed.",icon:n.jsx(yh,{className:"h-4 w-4"}),feature:"controlledBurn"},{day:5,title:"Emotional Routing",description:"Tin Man, Lion, Toto active.",icon:n.jsx(cn,{className:"h-4 w-4"}),feature:"emotionalRouting"},{day:6,title:"City Expansion",description:"Upgrade your city with quests.",icon:n.jsx($n,{className:"h-4 w-4"}),feature:"cityExpansion"},{day:7,title:"Identity Lock",description:"This city is yours.",icon:n.jsx(sB,{className:"h-4 w-4"}),feature:"identityLock"}];function U_e({currentDay:e,unlockedFeatures:t,onAdvanceDay:r,showDevControls:s=!1}){const a=e/7*100,i=o=>o?t[o]??!1:e>=1;return n.jsxs(q,{className:"border-emerald-500/30",children:[n.jsx(de,{className:"pb-2",children:n.jsxs(ce,{className:"flex items-center justify-between text-base",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_s,{className:"h-4 w-4 text-emerald-400"}),"Journey Progress"]}),n.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["Day ",e," of 7"]})]})}),n.jsxs(K,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ws,{value:a,className:"h-2"}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsx("span",{children:"Arrival"}),n.jsx("span",{children:"Identity Lock"})]})]}),n.jsx("div",{className:"space-y-2",children:z_e.map(o=>{const l=i(o.feature),c=o.day===e,d=o.day<e;return n.jsxs(ee.div,{initial:!1,animate:{opacity:d||c?1:.5,scale:c?1.02:1},className:z("flex items-center gap-3 p-2 rounded-lg transition-colors",c&&"bg-emerald-500/10 border border-emerald-500/30",d&&"bg-muted/30"),children:[n.jsx("div",{className:z("flex items-center justify-center w-8 h-8 rounded-full text-xs font-bold",c?"bg-emerald-500 text-white":d?"bg-emerald-500/30 text-emerald-400":"bg-muted text-muted-foreground"),children:o.day}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:z("text-sm font-medium truncate",c&&"text-emerald-400"),children:o.title}),o.feature&&(l?n.jsx(lee,{className:"h-3 w-3 text-emerald-400"}):n.jsx(Vx,{className:"h-3 w-3 text-muted-foreground"}))]}),n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:o.description})]}),n.jsx("div",{className:z("p-1.5 rounded",c?"bg-emerald-500/20 text-emerald-400":d?"text-emerald-400/60":"text-muted-foreground"),children:o.icon})]},o.day)})}),s&&r&&n.jsxs("div",{className:"pt-3 border-t border-border/50",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Dev: Simulate Day"}),n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx($,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>r(Math.max(1,e-1)),disabled:e<=1,children:n.jsx(lm,{className:"h-4 w-4"})}),n.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5,6,7].map(o=>n.jsx($,{variant:o===e?"default":"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>r(o),children:o},o))}),n.jsx($,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>r(Math.min(7,e+1)),disabled:e>=7,children:n.jsx(as,{className:"h-4 w-4"})})]})]})]})]})}const NN="oz-onboarding-state",xy={hasSeenTornado:!1,hasCompletedDump:!1,hasSeenCity:!1,hasAcceptedFirstQuest:!1,hasCompletedFirstQuest:!1,firstDumpContent:null,firstVisitDate:null,currentDay:1,unlockedFeatures:{voidEvent:!1,controlledBurn:!1,emotionalRouting:!1,cityExpansion:!1,identityLock:!1}};function W_e(e){if(!e)return 1;const t=new Date(e),s=Math.abs(new Date().getTime()-t.getTime()),a=Math.ceil(s/(1e3*60*60*24));return Math.min(a,7)}function gy(e){return{voidEvent:e>=3,controlledBurn:e>=4,emotionalRouting:e>=5,cityExpansion:e>=6,identityLock:e>=7}}function q_e(){const[e,t]=x.useState(()=>{try{const w=localStorage.getItem(NN);if(w){const N=JSON.parse(w),_=W_e(N.firstVisitDate);return{...xy,...N,currentDay:_,unlockedFeatures:gy(_)}}return xy}catch{return xy}}),[r,s]=x.useState(!1),[a,i]=x.useState(!1),[o,l]=x.useState(!1);x.useEffect(()=>{localStorage.setItem(NN,JSON.stringify(e))},[e]),x.useEffect(()=>{if(!e.hasSeenTornado){const w=setTimeout(()=>s(!0),500);return()=>clearTimeout(w)}},[e.hasSeenTornado]),x.useEffect(()=>{if(e.hasSeenTornado&&e.currentDay>1){l(!0);const w=setTimeout(()=>l(!1),5e3);return()=>clearTimeout(w)}},[e.hasSeenTornado,e.currentDay]);const c=x.useCallback(w=>{const N=new Date().toISOString();t(_=>({..._,hasSeenTornado:!0,hasCompletedDump:!0,firstDumpContent:w,firstVisitDate:_.firstVisitDate||N,currentDay:1,unlockedFeatures:gy(1)})),s(!1)},[]),d=x.useCallback(()=>{const w=new Date().toISOString();t(N=>({...N,hasSeenTornado:!0,firstVisitDate:N.firstVisitDate||w,currentDay:1,unlockedFeatures:gy(1)})),s(!1)},[]),u=x.useCallback(()=>{t(w=>({...w,hasSeenCity:!0}))},[]),h=x.useCallback(()=>{t(w=>({...w,hasAcceptedFirstQuest:!0}))},[]),m=x.useCallback(()=>{t(w=>({...w,hasCompletedFirstQuest:!0})),i(!0)},[]),f=x.useCallback(()=>{i(!1)},[]),p=x.useCallback(()=>{l(!1)},[]),g=x.useCallback(()=>{t(xy),localStorage.removeItem(NN)},[]),v=x.useCallback(w=>{const N=Math.min(Math.max(w,1),7);t(_=>({..._,currentDay:N,unlockedFeatures:gy(N)}))},[]),j=!e.hasSeenTornado,y=e.hasSeenTornado&&!e.hasCompletedFirstQuest,b=x.useMemo(()=>`day${e.currentDay}`,[e.currentDay]);return{state:e,showTornadoEntry:r,showQuestCompletion:a,showDayMessage:o,isNewUser:j,needsFirstQuest:y,dayKey:b,completeTornado:c,skipTornado:d,markCitySeen:u,acceptFirstQuest:h,completeFirstQuest:m,dismissQuestCompletion:f,dismissDayMessage:p,resetOnboarding:g,advanceToDay:v}}function H_e(){const e=Wi(),{toast:t}=yt(),{data:r=[]}=$d(),s=rW(),a=nW(),i=q_e(),[o,l]=x.useState(!1),[c,d]=x.useState(!1),[u,h]=x.useState(null),[m,f]=x.useState(!1),[p,g]=x.useState({title:"",duration:25}),v={title:"Close One Open Loop",description:"Pick the smallest, simplest task you've been avoiding. Complete it now. Feel the relief.",estimatedMinutes:10,energyCost:"low",reward:"RAM freed. City lights surge. The Wizard nods in approval."},j=async E=>{i.completeTornado(E);try{const T=await s.mutateAsync({raw_content:E,title:"Entry Storm"});T&&await a.mutateAsync({brainDumpId:T.id,rawContent:E,existingProjects:r.map(A=>A.name)}),t({title:"Storm sorted",description:"The Wizard has organized your thoughts. Welcome to Oz."})}catch(T){console.error("Failed to process brain dump:",T)}},y=(E,T)=>{E==="battle"&&b(T||"Focus Quest"),t({title:"Gravity restored",description:E==="planet"&&T?`Refocused on: "${T}"`:`Navigating to ${E}`})},b=(E,T=25)=>{g({title:E,duration:T}),f(!0)},w=()=>{f(!1),t({title:" Burn complete",description:"Mission accomplished. You've earned your cooldown."})},N=()=>{if(e.openProjects>=6){t({title:"Orbit capacity reached",description:"Complete or archive a project before adding more.",variant:"destructive"});return}h({type:"project",name:"New Project"}),l(!0)},_=()=>{l(!1),t({title:"Quest approved",description:"Toto has cleared this impulse. Proceed with intention."})},C=E=>{l(!1),t({title:"Impulse delayed",description:`This will be revisited in ${E} minutes. Focus on current quests.`})},S=E=>{l(!1),t({title:`Routed to ${{tinman:"Tin Man (Emotional Processing)",scarecrow:"Scarecrow (Logic & Planning)",lion:"Lion (Courage Building)",dorothy:"Dorothy (Executive Decision)"}[E]}`,description:"This impulse has been tagged for proper processing."})},k=()=>{l(!1),t({title:"Impulse blocked",description:"Toto has protected you from a destructive impulse.",variant:"destructive"})};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-emerald-950 via-background to-background",children:[n.jsx(P_e,{isOpen:i.showTornadoEntry,onComplete:j,onSkip:i.skipTornado}),n.jsx(L_e,{onReturn:y}),n.jsx(F_e,{isActive:m,questTitle:p.title,questDuration:p.duration,onComplete:w,onAbort:()=>f(!1)}),n.jsx(D_e,{isVisible:i.showQuestCompletion,questTitle:v.title,onComplete:i.dismissQuestCompletion}),n.jsx(__e,{}),u&&n.jsx(E_e,{isOpen:o,onClose:()=>l(!1),impulseType:u.type,impulseName:u.name,onProceed:_,onDelay:C,onRoute:S,onBlock:k}),n.jsx("header",{className:"sticky top-0 z-40 border-b border-emerald-500/20 bg-emerald-950/80 backdrop-blur-sm",children:n.jsxs("div",{className:"container flex h-16 items-center justify-between px-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ca,{to:"/",children:n.jsx($,{variant:"ghost",size:"icon",children:n.jsx(Mt,{className:"h-5 w-5"})})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ht,{className:"h-6 w-6 text-emerald-400"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-emerald-100",children:"The Oz Engine"}),n.jsx("p",{className:"text-xs text-emerald-400/60",children:"Stabilize your gravity."})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs($,{variant:"outline",size:"sm",onClick:()=>b("Focus Session",25),className:"border-orange-500/50 text-orange-400 hover:bg-orange-950/50",disabled:!i.state.unlockedFeatures.controlledBurn,title:i.state.unlockedFeatures.controlledBurn?void 0:"Unlocks Day 4",children:[n.jsx(yh,{className:"h-4 w-4 mr-1"}),"Burn Mode"]}),n.jsx($,{variant:"ghost",size:"icon",onClick:()=>d(!c),title:"Dev Controls",className:"text-emerald-400/50 hover:text-emerald-400",children:n.jsx(gp,{className:"h-4 w-4"})}),n.jsx($,{variant:"ghost",size:"icon",onClick:i.resetOnboarding,title:"Reset Onboarding (Dev)",className:"text-emerald-400/50 hover:text-emerald-400",children:n.jsx(Rd,{className:"h-4 w-4"})}),n.jsx(w2,{})]})]})}),n.jsx("main",{className:"container px-4 py-8",children:n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(R_e,{size:"lg",dayKey:i.showDayMessage?i.dayKey:void 0}),n.jsxs(q,{className:"border-emerald-500/30 overflow-hidden",children:[n.jsx(de,{className:"pb-2",children:n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(ht,{className:"h-5 w-5 text-emerald-400"}),"Emerald City"]})}),n.jsx(K,{className:"p-0",children:n.jsx(N_e,{})})]}),n.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[n.jsxs($,{variant:"outline",className:"h-auto py-4 flex flex-col gap-2 border-emerald-500/30 hover:bg-emerald-950/50",onClick:N,disabled:e.status==="overload",children:[n.jsx(jr,{className:"h-6 w-6 text-emerald-400"}),n.jsx("span",{children:"New Quest"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:e.status==="overload"?"Locked - RAM full":"Toto will check"})]}),n.jsx(ca,{to:"/projects",className:"contents",children:n.jsxs($,{variant:"outline",className:"h-auto py-4 flex flex-col gap-2 border-yellow-500/30 hover:bg-yellow-950/50",children:[n.jsx(oB,{className:"h-6 w-6 text-yellow-400"}),n.jsx("span",{children:"Active Quests"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.openProjects," projects"]})]})}),n.jsx(w2,{})]}),i.needsFirstQuest&&n.jsx(I_e,{quest:v,onAccept:i.acceptFirstQuest,onComplete:i.completeFirstQuest,isAccepted:i.state.hasAcceptedFirstQuest,isComplete:i.state.hasCompletedFirstQuest}),n.jsx(q,{className:`border-2 ${e.status==="overload"?"border-red-500/50 bg-red-950/20":e.status==="critical"?"border-orange-500/50 bg-orange-950/20":e.status==="elevated"?"border-yellow-500/50 bg-yellow-950/20":"border-emerald-500/50 bg-emerald-950/20"}`,children:n.jsx(K,{className:"py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-full ${e.status==="overload"?"bg-red-500/20":e.status==="critical"?"bg-orange-500/20":e.status==="elevated"?"bg-yellow-500/20":"bg-emerald-500/20"}`,children:n.jsx(Rr,{className:`h-6 w-6 ${e.status==="overload"?"text-red-400":e.status==="critical"?"text-orange-400":e.status==="elevated"?"text-yellow-400":"text-emerald-400"}`})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:e.statusMessage}),n.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ir,{className:"h-3 w-3"})," ",e.openTasks," open loops"]}),e.overdueTasks>0&&n.jsxs("span",{className:"text-amber-400",children:[" ",e.overdueTasks," overdue"]}),e.driftLevel>50&&n.jsxs("span",{className:"text-purple-400",children:[" Drift: ",Math.round(e.driftLevel),"%"]})]})]})]})})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(b_e,{}),c&&n.jsx(U_e,{currentDay:i.state.currentDay,unlockedFeatures:i.state.unlockedFeatures,onAdvanceDay:i.advanceToDay,showDevControls:!0}),n.jsx(B_e,{}),n.jsx(V_e,{isUnlocked:i.state.unlockedFeatures.emotionalRouting}),n.jsx(w_e,{})]})]})})]})}const K_e=({onEnter:e})=>n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex flex-col items-center justify-center relative overflow-hidden bg-deep-night-emerald",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-deep-night-emerald via-dark-emerald/50 to-deep-night-emerald"}),n.jsx(ee.div,{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-1/3 h-2/3",style:{background:"linear-gradient(to top, hsl(var(--gold)/0.3), transparent)",filter:"blur(60px)"},animate:{opacity:[.5,.8,.5]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32",children:[...Array(5)].map((t,r)=>n.jsx(ee.div,{className:"absolute left-1/2 -translate-x-1/2 h-0.5 bg-gradient-to-r from-transparent via-gold/40 to-transparent",style:{bottom:`${r*20+20}px`,width:`${60-r*10}%`},animate:{opacity:[.3,.6,.3]},transition:{duration:3,delay:r*.3,repeat:1/0,ease:"easeInOut"}},r))}),n.jsxs("div",{className:"relative z-10 text-center px-6 max-w-2xl",children:[n.jsx(ee.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:n.jsx(ht,{className:"w-12 h-12 text-gold mx-auto mb-8"})}),n.jsx(ee.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-4xl md:text-5xl font-display font-bold text-clean-white mb-6",children:"Welcome, Traveler."}),n.jsxs(ee.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"space-y-2 mb-12",children:[n.jsx("p",{className:"text-xl text-moon-silver",children:"You are not behind."}),n.jsx("p",{className:"text-xl text-moon-silver",children:"You are not broken."}),n.jsx("p",{className:"text-xl text-gold font-semibold",children:"You are rebuilding."})]}),n.jsx(ee.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1},children:n.jsx($,{onClick:e,size:"lg",className:"bg-gold hover:bg-gold/90 text-deep-night-emerald font-semibold px-8 py-6 text-lg rounded-lg shadow-lg shadow-gold/20",children:"ENTER THE CROSSING"})})]}),[...Array(20)].map((t,r)=>n.jsx(ee.div,{className:"absolute w-1 h-1 rounded-full bg-gold/30",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[-20,20],opacity:[.2,.5,.2]},transition:{duration:3+Math.random()*2,delay:Math.random()*2,repeat:1/0,ease:"easeInOut"}},r))]}),G_e=[{id:"overloaded",label:"Overloaded",icon:n.jsx(Ir,{className:"w-6 h-6"}),description:"Too much happening"},{id:"foggy",label:"Foggy",icon:n.jsx(BJ,{className:"w-6 h-6"}),description:"Can't think clearly"},{id:"exhausted",label:"Exhausted",icon:n.jsx(IJ,{className:"w-6 h-6"}),description:"Running on empty"},{id:"numb",label:"Numb",icon:n.jsx(hd,{className:"w-6 h-6"}),description:"Disconnected"},{id:"ready",label:"Ready",icon:n.jsx($i,{className:"w-6 h-6"}),description:"Let's build"}],Y_e=({onStateSelect:e})=>n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex flex-col items-center justify-center relative bg-deep-night-emerald p-6",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-dark-emerald/30 via-transparent to-transparent"}),n.jsxs("div",{className:"relative z-10 max-w-2xl w-full",children:[n.jsxs(ee.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-center mb-12",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-dark-emerald border border-gold/20 mb-6",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-gold animate-pulse"}),n.jsx("span",{className:"text-moon-silver text-sm font-medium",children:"THE NAVIGATOR"})]}),n.jsx("p",{className:"text-xl md:text-2xl text-clean-white leading-relaxed",children:'"Right now your only job is to find your footing.'}),n.jsx("p",{className:"text-xl md:text-2xl text-moon-silver leading-relaxed",children:"Not to be perfect."}),n.jsx("p",{className:"text-xl md:text-2xl text-gold leading-relaxed",children:'Just to be present."'})]}),n.jsxs(ee.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:[n.jsx("p",{className:"text-moon-silver text-center mb-6",children:"Choose your current state:"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3",children:G_e.map((t,r)=>n.jsx(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5+r*.1},children:n.jsxs($,{variant:"outline",onClick:()=>e(t.id),className:"w-full h-auto py-6 flex flex-col items-center gap-3 bg-dark-emerald/50 border-moon-silver/20 hover:border-gold hover:bg-dark-emerald text-clean-white transition-all duration-300 group",children:[n.jsx("span",{className:"text-moon-silver group-hover:text-gold transition-colors",children:t.icon}),n.jsx("span",{className:"font-semibold",children:t.label}),n.jsx("span",{className:"text-xs text-moon-silver/70",children:t.description})]})},t.id))})]})]})]}),X_e=({name:e,subtitle:t,icon:r,actions:s,meterName:a,meterValue:i,onComplete:o,isComplete:l})=>{const[c,d]=x.useState(0),[u,h]=x.useState(!1),m=()=>{c<s.length-1?d(c+1):(h(!0),setTimeout(()=>{o()},1500))};return l?n.jsx(q,{className:"bg-dark-emerald/50 border-gold/30 p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gold/20 flex items-center justify-center text-gold",children:n.jsx(ss,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-clean-white",children:e}),n.jsxs("p",{className:"text-gold text-sm",children:[a," +",i," "]})]})]})}):n.jsx(q,{className:"bg-dark-emerald border-moon-silver/20 p-6 overflow-hidden",children:n.jsx(Qr,{mode:"wait",children:u?n.jsxs(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-8",children:[n.jsx(ee.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"w-16 h-16 rounded-full bg-gold/20 flex items-center justify-center mx-auto mb-4",children:n.jsx(ss,{className:"w-8 h-8 text-gold"})}),n.jsxs("p",{className:"text-gold font-semibold",children:[a," +",i]})]},"completion"):n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gold/10 flex items-center justify-center text-gold",children:r}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-clean-white",children:e}),n.jsx("p",{className:"text-moon-silver text-sm",children:t})]})]}),n.jsx("div",{className:"flex gap-2 mb-6",children:s.map((f,p)=>n.jsx("div",{className:`h-1 flex-1 rounded-full transition-colors duration-500 ${p<c?"bg-gold":p===c?"bg-gold/50":"bg-moon-silver/20"}`},p))}),n.jsxs(ee.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},className:"mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 text-moon-silver text-sm mb-2",children:[n.jsx(Fx,{className:"w-3 h-3"}),n.jsx("span",{children:s[c].layer})]}),n.jsx("p",{className:"text-clean-white text-lg pl-5",children:s[c].action})]},c),n.jsxs($,{onClick:m,className:"w-full bg-dark-emerald hover:bg-gold/20 border border-gold/30 hover:border-gold text-clean-white group",children:[n.jsx("span",{children:"Done"}),n.jsx(as,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]},"quest")})})},Q_e=({signal:e,power:t,control:r})=>{const s=[{name:"Signal",value:e,icon:n.jsx(_ee,{className:"w-4 h-4"}),max:5},{name:"Power",value:t,icon:n.jsx(Ir,{className:"w-4 h-4"}),max:5},{name:"Control",value:r,icon:n.jsx(Wr,{className:"w-4 h-4"}),max:5}];return n.jsx("div",{className:"flex gap-6 justify-center",children:s.map(a=>n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-moon-silver",children:[a.icon,n.jsx("span",{className:"text-sm font-medium",children:a.name})]}),n.jsx("div",{className:"w-20 h-2 bg-deep-night-emerald rounded-full overflow-hidden border border-moon-silver/20",children:n.jsx(ee.div,{className:"h-full bg-gradient-to-r from-gold/80 to-gold rounded-full",initial:{width:0},animate:{width:`${a.value/a.max*100}%`},transition:{duration:.5,ease:"easeOut"}})}),n.jsxs("span",{className:"text-gold text-sm font-semibold",children:["+",a.value]})]},a.name))})},Z_e=()=>n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen flex flex-col items-center justify-center relative bg-deep-night-emerald p-6",children:[n.jsx(ee.div,{className:"absolute inset-0",style:{background:"radial-gradient(circle at center, hsl(var(--gold)/0.15), transparent 60%)"},animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),n.jsxs("div",{className:"relative z-10 text-center max-w-2xl",children:[n.jsx(ee.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.3},className:"w-24 h-24 rounded-full bg-gold/20 flex items-center justify-center mx-auto mb-8 border-2 border-gold",children:n.jsx(Md,{className:"w-12 h-12 text-gold"})}),n.jsx(ee.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-3xl md:text-4xl font-display font-bold text-clean-white mb-4",children:"The Road Illuminates."}),n.jsx(ee.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"text-xl text-moon-silver mb-4",children:"Territory I  The Crossing"}),n.jsx(ee.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"text-gold font-semibold text-lg mb-12",children:"COMPLETE"}),n.jsxs(ee.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"flex justify-center gap-8 mb-12",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gold",children:"+15"}),n.jsx("p",{className:"text-moon-silver text-sm",children:"Total Points"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-clean-white",children:"3/3"}),n.jsx("p",{className:"text-moon-silver text-sm",children:"Nodes Cleared"})]})]}),n.jsxs(ee.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.3},className:"bg-dark-emerald/50 border border-moon-silver/20 rounded-lg p-6 mb-8",children:[n.jsx("p",{className:"text-moon-silver text-sm mb-2",children:"UNLOCKED"}),n.jsx("p",{className:"text-clean-white text-lg font-semibold",children:"Territory II  Engine Fields"}),n.jsx("p",{className:"text-moon-silver/70 text-sm",children:"Energy, sleep, and rhythm systems"})]}),n.jsx(ee.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.5},className:"flex flex-col sm:flex-row gap-4 justify-center",children:n.jsx($,{asChild:!0,size:"lg",className:"bg-gold hover:bg-gold/90 text-deep-night-emerald font-semibold",children:n.jsxs(ca,{to:"/oz-engine",children:["Return to Command",n.jsx(kn,{className:"w-4 h-4 ml-2"})]})})})]})]}),J_e=()=>{const[e,t]=x.useState("arrival"),[r,s]=x.useState(null),[a,i]=x.useState({signal:0,power:0,control:0}),[o,l]=x.useState([]),c=()=>{t("orientation")},d=m=>{s(m),t("quests")},u=(m,f)=>{l(p=>[...p,m]),i(p=>({...p,[f]:p[f]+5})),o.length===2&&setTimeout(()=>t("complete"),1e3)},h=[{id:"grounding",name:"Restore Signal",subtitle:"Grounding Node",icon:n.jsx(yB,{className:"w-6 h-6"}),meterType:"signal",meterName:"Signal Meter",actions:[{layer:"Stabilize",action:"Take 5 slow, deep breaths"},{layer:"Build",action:"Drink a glass of water"},{layer:"Expand",action:"Step outside or face sunlight"}]},{id:"power",name:"Restore Power",subtitle:"Body Power Node",icon:n.jsx(Ir,{className:"w-6 h-6"}),meterType:"power",meterName:"Power Meter",actions:[{layer:"Stabilize",action:"Sit upright"},{layer:"Build",action:"Stretch your arms overhead"},{layer:"Expand",action:"Walk for 3 minutes"}]},{id:"control",name:"Restore Control",subtitle:"Order Node",icon:n.jsx(Wr,{className:"w-6 h-6"}),meterType:"control",meterName:"Control Meter",actions:[{layer:"Stabilize",action:"Clear one surface"},{layer:"Build",action:"Put away 3 items"},{layer:"Expand",action:"Create one safe space"}]}];return n.jsx("div",{className:"min-h-screen bg-deep-night-emerald",children:n.jsxs(Qr,{mode:"wait",children:[e==="arrival"&&n.jsx(K_e,{onEnter:c},"arrival"),e==="orientation"&&n.jsx(Y_e,{onStateSelect:d},"orientation"),e==="quests"&&n.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-deep-night-emerald p-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx($,{variant:"ghost",asChild:!0,className:"text-moon-silver hover:text-clean-white",children:n.jsxs(ca,{to:"/oz-engine",children:[n.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Back to Command"]})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-xl font-display font-bold text-clean-white",children:"Territory I  The Crossing"}),n.jsx("p",{className:"text-moon-silver text-sm",children:"Stabilization & Orientation"})]}),n.jsx("div",{className:"w-32"})," "]}),n.jsx("div",{className:"mb-8 p-4 bg-dark-emerald/50 rounded-lg border border-moon-silver/10",children:n.jsx(Q_e,{signal:a.signal,power:a.power,control:a.control})}),n.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:h.map(m=>n.jsx(X_e,{name:m.name,subtitle:m.subtitle,icon:m.icon,actions:m.actions,meterName:m.meterName,meterValue:5,isComplete:o.includes(m.id),onComplete:()=>u(m.id,m.meterType)},m.id))}),n.jsx(ee.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center text-moon-silver/60 text-sm mt-12",children:"No failure. No deadlines. Go at your pace."})]})},"quests"),e==="complete"&&n.jsx(Z_e,{},"complete")]})})},eSe=[{id:"c1-restore-signal",territory:"crossing",nodeName:"Grounding Node",title:"Restore Signal",description:"Reconnect your senses to the present moment.",stabilizeStep:{id:"c1-stabilize",label:"Stabilize",instruction:"Take 5 slow, deep breaths. In through the nose, out through the mouth."},buildStep:{id:"c1-build",label:"Build",instruction:"Drink a full glass of water. Feel it move through you."},expandStep:{id:"c1-expand",label:"Expand",instruction:"Step outside or face direct sunlight for 60 seconds."},reward:{metric:"signal",amount:5}},{id:"c2-restore-power",territory:"crossing",nodeName:"Body Power Node",title:"Restore Power",description:"Reactivate your physical foundation.",stabilizeStep:{id:"c2-stabilize",label:"Stabilize",instruction:"Sit fully upright. Feet flat on the floor. Shoulders back."},buildStep:{id:"c2-build",label:"Build",instruction:"Stretch your arms overhead, then out to the sides. Hold each for 10 seconds."},expandStep:{id:"c2-expand",label:"Expand",instruction:"Walk for 3 minutes. Any pace. Just move."},reward:{metric:"energy",amount:5}},{id:"c3-restore-control",territory:"crossing",nodeName:"Order Node",title:"Restore Control",description:"Create one point of order in your environment.",stabilizeStep:{id:"c3-stabilize",label:"Stabilize",instruction:"Clear one surface completely. Desk, counter, or table."},buildStep:{id:"c3-build",label:"Build",instruction:"Put away 3 items that are out of place."},expandStep:{id:"c3-expand",label:"Expand",instruction:'Create one "safe space"  a chair, corner, or spot that feels calm.'},reward:{metric:"control",amount:5},unlocks:{territory:"engineFields"}}],tSe=[{id:"e1-sleep-grid",territory:"engineFields",nodeName:"Sleep Grid",title:"Restore Sleep",description:"Begin rebuilding your sleep infrastructure.",stabilizeStep:{id:"e1-stabilize",label:"Stabilize",instruction:"Dim all lights in your space for 10 minutes before bed."},buildStep:{id:"e1-build",label:"Build",instruction:"Set an alarm and create a 30-minute wind-down window."},expandStep:{id:"e1-expand",label:"Expand",instruction:"Put your phone on a charger away from your bed."},reward:{metric:"energy",amount:7}},{id:"e2-fuel-station",territory:"engineFields",nodeName:"Fuel Station",title:"Restore Fuel",description:"Nourish your body with intention.",stabilizeStep:{id:"e2-stabilize",label:"Stabilize",instruction:"Drink a full glass of water right now."},buildStep:{id:"e2-build",label:"Build",instruction:"Eat something with protein. Eggs, nuts, cheese, meat."},expandStep:{id:"e2-expand",label:"Expand",instruction:"Prep one healthy snack for later today."},reward:{metric:"energy",amount:7}},{id:"e3-breath-loop",territory:"engineFields",nodeName:"Breath Loop",title:"Restore Calm",description:"Regulate your nervous system through breath.",stabilizeStep:{id:"e3-stabilize",label:"Stabilize",instruction:"Practice 4-6 breathing for 2 minutes. Inhale 4 seconds, exhale 6 seconds."},buildStep:{id:"e3-build",label:"Build",instruction:"Listen to 3 minutes of calm audio or sit in silence."},expandStep:{id:"e3-expand",label:"Expand",instruction:'Write down one worry, then "park it"  set it aside for later.'},reward:{metric:"signal",amount:7},unlocks:{territory:"ledgerDistrict"}}],lo=[{id:"crossing",name:"The Crossing",theme:"Stabilization & Orientation",description:"Every Traveler enters through The Crossing. This is where nervous systems calm, minds clear, and the road becomes visible.",unlockKey:"crossing",quests:eSe},{id:"engineFields",name:"Engine Fields",theme:"Power, Rhythm, Recovery",description:"Rebuild your energy infrastructure. Sleep, fuel, and breath are the engines that power everything else.",unlockKey:"engineFields",quests:tSe},{id:"ledgerDistrict",name:"Ledger District",theme:"Stability, Money, Work, Taxes",description:"Build your financial foundation. Income, taxes, credit, and contracts live here.",unlockKey:"ledgerDistrict",quests:[],comingSoon:!0},{id:"hearthlands",name:"Hearthlands",theme:"Home & Order",description:"Create sanctuary. Hygiene, food, tools, and calm spaces.",unlockKey:"hearthlands",quests:[],comingSoon:!0},{id:"signalTowers",name:"Signal Towers",theme:"Boundaries & Voice",description:"Speak your truth. Boundaries, scripts, community, and protection.",unlockKey:"signalTowers",quests:[],comingSoon:!0}],yy=[{mentor:"Navigator",domain:"Orientation",quote:"Find your footing first. Then take the next step."},{mentor:"Strategist",domain:"ADHD Clarity",quote:"One node. One action. Then we move."},{mentor:"Architect",domain:"Emotional Safety",quote:"Safety first. Your system comes before your output."},{mentor:"Guardian",domain:"Courage & Boundaries",quote:"Small courage counts. Do the doable thing."},{mentor:"Navigator",domain:"Orientation",quote:"You are not behind. You are rebuilding."},{mentor:"Strategist",domain:"ADHD Clarity",quote:"Clarity comes from action, not from waiting."},{mentor:"Architect",domain:"Emotional Safety",quote:"Build the foundation. The structure follows."},{mentor:"Guardian",domain:"Courage & Boundaries",quote:"Protection is not weakness. It is wisdom."}];function kP(e){return lo.find(t=>t.id===e)}function bH(e){for(const t of lo){const r=t.quests.find(s=>s.id===e);if(r)return r}}function rSe(e){const t=kP(e);return(t==null?void 0:t.quests)||[]}const lI="emerald-road-traveler-profile",nSe=()=>({id:crypto.randomUUID(),name:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,currentState:"foggy",pace:"standard",energy:30,signal:30,control:30,territoryUnlocked:{crossing:!0,engineFields:!1,ledgerDistrict:!1,hearthlands:!1,signalTowers:!1},completedQuestIds:[],completedSteps:{},lastActiveISO:new Date().toISOString(),createdAt:new Date().toISOString()});function xg(){const[e,t]=x.useState(null),[r,s]=x.useState(!0);x.useEffect(()=>{try{const j=localStorage.getItem(lI);if(j){const y=JSON.parse(j);t(y)}}catch(j){console.error("Failed to load traveler profile:",j)}finally{s(!1)}},[]);const a=x.useCallback(j=>{const y={...j,lastActiveISO:new Date().toISOString()};localStorage.setItem(lI,JSON.stringify(y)),t(y)},[]),i=x.useCallback((j,y,b)=>{const w=nSe();return w.name=j,w.currentState=y,w.pace=b,a(w),w},[a]),o=x.useCallback(j=>{e&&a({...e,...j})},[e,a]),l=x.useCallback((j,y)=>{if(!e)return;const b={...e.completedSteps};b[j]||(b[j]=[]),b[j].includes(y)||b[j].push(y),a({...e,completedSteps:b})},[e,a]),c=x.useCallback(j=>{if(!e)return null;const y=bH(j);if(!y)return null;const b=[...e.completedQuestIds];b.includes(j)||b.push(j);const w={completedQuestIds:b},N=y.reward.metric;w[N]=Math.min(100,e[N]+y.reward.amount);let _=null;if(rSe(y.territory).every(k=>b.includes(k.id))){const k=lo.findIndex(T=>T.id===y.territory),E=lo[k+1];E&&!e.territoryUnlocked[E.unlockKey]&&(w.territoryUnlocked={...e.territoryUnlocked,[E.unlockKey]:!0},_=E.id)}return a({...e,...w}),{reward:y.reward,unlockedTerritory:_}},[e,a]),d=x.useCallback(()=>{if(!e)return null;for(const j of lo)if(e.territoryUnlocked[j.unlockKey]&&!j.comingSoon){for(const y of j.quests)if(!e.completedQuestIds.includes(y.id))return y}return null},[e]),u=x.useCallback(()=>{if(!e)return!1;const j=new Date(e.lastActiveISO);return(Date.now()-j.getTime())/(1e3*60*60)>48},[e]),h=x.useCallback(()=>{e&&a({...e,energy:30,signal:30,control:30,territoryUnlocked:{crossing:!0,engineFields:!1,ledgerDistrict:!1,hearthlands:!1,signalTowers:!1},completedQuestIds:[],completedSteps:{}})},[e,a]),m=x.useCallback(j=>(e==null?void 0:e.completedQuestIds.includes(j))??!1,[e]),f=x.useCallback((j,y)=>{var b;return((b=e==null?void 0:e.completedSteps[j])==null?void 0:b.includes(y))??!1},[e]),p=x.useCallback(j=>{const y=lo.find(b=>b.id===j);return!y||!e?!1:e.territoryUnlocked[y.unlockKey]},[e]),g=x.useCallback(()=>e?JSON.stringify(e,null,2):"",[e]),v=x.useCallback(j=>{try{const y=JSON.parse(j);return a(y),!0}catch{return!1}},[a]);return{profile:e,isLoading:r,hasProfile:!!e,initializeProfile:i,updateProfile:o,completeStep:l,completeQuest:c,getNextQuest:d,needsSoftReset:u,resetProgress:h,isQuestComplete:m,isStepComplete:f,isTerritoryUnlocked:p,exportProfile:g,importProfile:v}}const sSe=[{value:"overloaded",label:"Overloaded",description:"Too much input, too many demands"},{value:"foggy",label:"Foggy",description:"Hard to think clearly, feels hazy"},{value:"exhausted",label:"Exhausted",description:"Deeply tired, low reserves"},{value:"numb",label:"Numb",description:"Disconnected, shut down"},{value:"ready",label:"Ready",description:"Present and able to move forward"}];function jH({onComplete:e}){const[t,r]=x.useState("intro"),[s,a]=x.useState([]),[i,o]=x.useState(""),[l,c]=x.useState(!1),[d,u]=x.useState(!1),[h,m]=x.useState([]),[f,p]=x.useState([]),g=x.useRef(null),v=x.useRef(null),j=x.useRef([]),y=x.useRef(null);x.useEffect(()=>{var O;(O=y.current)==null||O.scrollIntoView({behavior:"smooth"})},[s]),x.useEffect(()=>{t==="chat"&&s.length===0&&b()},[t]);const b=async()=>{c(!0);try{const{data:O,error:P}=await Y.functions.invoke("brain-melee-chat",{body:{messages:[{role:"user",content:"Start conversation - greet me warmly and ask how I'm doing."}],phase:"trust-building"}});if(P)throw P;a([{role:"assistant",content:O.message}])}catch(O){console.error("Greeting error:",O),a([{role:"assistant",content:"Hey there!  How's your day going? I'm here to help you get everything out of your head and into something organized."}])}finally{c(!1)}},w=async()=>{if(!i.trim()&&h.length===0)return;const O=i.trim();let P=O;h.length>0&&(P+=`

[User uploaded ${h.length} file(s): ${h.map(G=>G.name).join(", ")}]`);const I=[...s,{role:"user",content:O}];a(I),o(""),c(!0);try{const{data:G,error:re}=await Y.functions.invoke("brain-melee-chat",{body:{messages:I.map(X=>({role:X.role,content:X.content})),phase:"trust-building"}});if(re)throw re;a([...I,{role:"assistant",content:G.message}])}catch(G){console.error("Chat error:",G),We.error("Failed to send message. Please try again.")}finally{c(!1)}},N=async()=>{try{if(typeof MediaRecorder>"u"){We.error("Voice recording isn't supported in this browser. Please type instead.");return}const O=await navigator.mediaDevices.getUserMedia({audio:!0}),I=["audio/webm;codecs=opus","audio/webm","audio/mp4"].find(re=>MediaRecorder.isTypeSupported(re)),G=I?new MediaRecorder(O,{mimeType:I}):new MediaRecorder(O);v.current=G,j.current=[],G.ondataavailable=re=>{re.data.size>0&&j.current.push(re.data)},G.onstop=async()=>{try{const re=new Blob(j.current,{type:G.mimeType||"audio/webm"});await C(re)}finally{O.getTracks().forEach(re=>re.stop())}},G.start(),u(!0),We.info("Recording... Click again to stop.")}catch(O){console.error("Recording error:",O),We.error("Could not access microphone. Please check permissions.")}},_=()=>{v.current&&d&&(v.current.stop(),u(!1))},C=async O=>{c(!0);try{const P=await new Promise((re,X)=>{const W=new FileReader;W.onerror=()=>X(new Error("Failed to read audio")),W.onloadend=()=>{try{const je=W.result.split(",")[1];if(!je)throw new Error("Invalid audio encoding");re(je)}catch(oe){X(oe)}},W.readAsDataURL(O)}),{data:I,error:G}=await Y.functions.invoke("voice-to-text",{body:{audio:P}});if(G)throw G;I!=null&&I.text?(o(re=>re+(re?" ":"")+I.text),We.success("Voice transcribed!")):We.error("No speech detected. Try again.")}catch(P){console.error("Transcription error:",P),We.error("Could not transcribe audio. Try typing instead.")}finally{c(!1)}},S=10*1024*1024,k=O=>O>=1024*1024?`${(O/(1024*1024)).toFixed(1)}MB`:O>=1024?`${(O/1024).toFixed(1)}KB`:`${O}B`,E=O=>{const P=Array.from(O.target.files||[]),I=P.filter(G=>G.size>S);if(I.length>0){const G=I.map(X=>`${X.name} (${k(X.size)})`).join(", ");We.error(n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{children:" Files too large - please zip first!"}),n.jsxs("p",{className:"text-xs",children:["Exceeds 10MB: ",G]}),n.jsx("a",{href:"https://www.ezyzip.com/compress-files-online.html",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-primary underline text-sm",children:" Compress free at ezyZip.com"})]}));const re=P.filter(X=>X.size<=S);if(re.length===0)return;m(X=>[...X,...re]),We.success(`Added ${re.length} file(s)`);return}m(G=>[...G,...P]),We.success(`Added ${P.length} file(s)`)},T=O=>{m(P=>P.filter((I,G)=>G!==O))},A=async()=>{var O,P,I,G;r("organizing"),c(!0);try{const re=s.map(oe=>`${oe.role}: ${oe.content}`).join(`

`),{data:X,error:W}=await Y.functions.invoke("brain-melee-chat",{body:{messages:[{role:"user",content:`Organize this brain dump conversation:

${re}`}],phase:"organizing"}});if(W)throw W;try{const oe=X.message.match(/```json\n?([\s\S]*?)\n?```/)||X.message.match(/\{[\s\S]*\}/),je=oe?oe[1]||oe[0]:X.message,$e=JSON.parse(je.trim()),se=[];let Te=0;(O=$e.projects)==null||O.forEach(le=>{se.push({id:`item-${Te++}`,title:le.name,type:"project",priority:le.priority,description:le.description,checked:!0})}),(P=$e.tasks)==null||P.forEach(le=>{se.push({id:`item-${Te++}`,title:le.title,type:"task",priority:le.priority,description:le.due_context,checked:!0})}),(I=$e.ideas)==null||I.forEach(le=>{se.push({id:`item-${Te++}`,title:le.title,type:"idea",description:le.notes,checked:!0})}),(G=$e.concerns)==null||G.forEach(le=>{se.push({id:`item-${Te++}`,title:le.issue,type:"concern",description:le.suggested_action,checked:!0})}),p(se),r("review")}catch(oe){console.error("Parse error:",oe),We.error("Could not organize content. Please try again."),r("chat")}}catch(re){console.error("Organize error:",re),We.error("Failed to organize content."),r("chat")}finally{c(!1)}},B=O=>{p(P=>P.map(I=>I.id===O?{...I,checked:!I.checked}:I))},R=()=>{const O=f.filter(P=>P.checked);e==null||e(O),We.success(`Created ${O.length} items from your Brain Dump!`)},L=O=>{switch(O){case"project":return"";case"task":return"";case"idea":return"";case"concern":return"";default:return""}},V=O=>{switch(O){case"project":return"bg-primary/10 border-primary/30";case"task":return"bg-emerald-500/10 border-emerald-500/30";case"idea":return"bg-amber-500/10 border-amber-500/30";case"concern":return"bg-rose-500/10 border-rose-500/30";default:return"bg-muted"}};return t==="intro"?n.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto",children:n.jsxs(q,{className:"overflow-hidden border-2 border-primary/20 shadow-glow",children:[n.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-primary/20 via-secondary/10 to-accent/20",children:[n.jsx("img",{src:Eh,alt:"Tornado Alley",className:"absolute inset-0 w-full h-full object-cover mix-blend-overlay opacity-60"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Rr,{className:"w-16 h-16 text-primary mx-auto mb-2 animate-pulse"}),n.jsx("h2",{className:"text-3xl font-display font-bold text-foreground",children:"Brain Dump"})]})})]}),n.jsxs(K,{className:"p-6",children:[n.jsx("p",{className:"text-lg text-muted-foreground text-center mb-6",children:"Get it all outta your head. Talk, type, or upload  we'll help you organize the chaos into actionable projects."}),n.jsxs("div",{className:"flex flex-wrap gap-3 justify-center mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-secondary/10 text-secondary-foreground text-sm",children:[n.jsx(eS,{className:"w-4 h-4"}),"Voice input"]}),n.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-secondary/10 text-secondary-foreground text-sm",children:[n.jsx(yp,{className:"w-4 h-4"}),"File uploads"]}),n.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-secondary/10 text-secondary-foreground text-sm",children:[n.jsx(ht,{className:"w-4 h-4"}),"AI organized"]})]}),n.jsxs($,{size:"lg",className:"w-full gap-2 text-lg h-14",onClick:()=>r("chat"),children:[n.jsx(Ir,{className:"w-5 h-5"}),"Start Brain Dump"]})]})]})}):t==="chat"?n.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-2xl mx-auto",children:n.jsxs(q,{className:"border-2 border-primary/20 shadow-glow",children:[n.jsx(de,{className:"pb-3 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(Rr,{className:"w-5 h-5 text-primary"}),"Brain Dump"]}),s.length>2&&n.jsxs($,{onClick:A,className:"gap-2",disabled:l,children:[n.jsx(ht,{className:"w-4 h-4"}),"Organize It"]})]})}),n.jsxs(K,{className:"p-0",children:[n.jsx(ti,{className:"h-80 p-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Qr,{children:s.map((O,P)=>n.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${O.role==="user"?"justify-end":"justify-start"}`,children:n.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${O.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:O.content})},P))}),l&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-muted rounded-2xl px-4 py-2",children:n.jsx(on,{className:"w-4 h-4 animate-spin"})})}),n.jsx("div",{ref:y})]})}),h.length>0&&n.jsx("div",{className:"px-4 py-2 border-t border-border/50",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:h.map((O,P)=>n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted rounded text-xs",children:[n.jsx(wt,{className:"w-3 h-3"}),O.name,n.jsx("button",{onClick:()=>T(P),className:"ml-1 hover:text-destructive",children:n.jsx(Vi,{className:"w-3 h-3"})})]},P))})}),n.jsx("div",{className:"p-4 border-t",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"file",ref:g,onChange:E,multiple:!0,className:"hidden"}),n.jsx($,{variant:"outline",size:"icon",onClick:()=>{var O;return(O=g.current)==null?void 0:O.click()},title:"Upload files",children:n.jsx(yp,{className:"w-4 h-4"})}),n.jsx($,{variant:d?"destructive":"outline",size:"icon",onClick:d?_:N,title:d?"Stop recording":"Start voice input",children:d?n.jsx(dB,{className:"w-4 h-4"}):n.jsx(eS,{className:"w-4 h-4"})}),n.jsx(wr,{value:i,onChange:O=>o(O.target.value),onKeyDown:O=>{O.key==="Enter"&&!O.shiftKey&&(O.preventDefault(),w())},placeholder:"Let it all out... what's on your mind?",className:"min-h-[44px] max-h-32 resize-none",rows:1}),n.jsx($,{onClick:w,disabled:l||!i.trim()&&h.length===0,size:"icon",children:n.jsx(gT,{className:"w-4 h-4"})})]})})]})]})}):t==="organizing"?n.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-2xl mx-auto",children:n.jsx(q,{className:"border-2 border-primary/20 shadow-glow",children:n.jsxs(K,{className:"py-16 text-center",children:[n.jsx(on,{className:"w-12 h-12 mx-auto mb-4 animate-spin text-primary"}),n.jsx("h3",{className:"text-xl font-display font-bold mb-2",children:"Organizing your thoughts..."}),n.jsx("p",{className:"text-muted-foreground",children:"AI is turning your brain dump into structured projects and tasks."})]})})}):n.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-2xl mx-auto",children:n.jsxs(q,{className:"border-2 border-primary/20 shadow-glow",children:[n.jsxs(de,{className:"border-b",children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(At,{className:"w-5 h-5 text-emerald-500"}),"Review & Confirm"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Check the items you want to create. Uncheck any you don't need."})]}),n.jsxs(K,{className:"p-0",children:[n.jsx(ti,{className:"h-96",children:n.jsx("div",{className:"p-4 space-y-3",children:f.map(O=>n.jsxs(ee.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:`flex items-start gap-3 p-3 rounded-lg border ${V(O.type)} ${O.checked?"":"opacity-50"}`,children:[n.jsx(ga,{checked:O.checked,onCheckedChange:()=>B(O.id),className:"mt-1"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:L(O.type)}),n.jsx("span",{className:"font-medium",children:O.title}),O.priority&&n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${O.priority==="high"?"bg-rose-500/20 text-rose-600":O.priority==="medium"?"bg-amber-500/20 text-amber-600":"bg-emerald-500/20 text-emerald-600"}`,children:O.priority})]}),O.description&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:O.description})]})]},O.id))})}),n.jsxs("div",{className:"p-4 border-t flex justify-between items-center",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.filter(O=>O.checked).length," of ",f.length," items selected"]}),n.jsxs($,{onClick:R,className:"gap-2",children:["Create Items",n.jsx(kn,{className:"w-4 h-4"})]})]})]})]})})}function aSe(){const e=Qt(),{initializeProfile:t}=xg(),r=F7(),s=TE(),[a,i]=x.useState(1),[o,l]=x.useState(""),[c,d]=x.useState("foggy"),[u,h]=x.useState("standard"),m=async g=>{const v=g.filter(y=>y.type==="project"),j=g.filter(y=>y.type==="task"||y.type==="idea"||y.type==="concern");for(const y of v)try{await r.mutateAsync({name:y.title,description:y.description||"",color:y.priority==="high"?"#ef4444":y.priority==="medium"?"#f59e0b":"#22c55e"})}catch(b){console.error("Failed to create project:",b)}for(const y of j)try{await s.mutateAsync({title:y.title,description:y.description||"",priority:y.priority||"medium"})}catch(b){console.error("Failed to create task:",b)}We.success(`Created ${v.length} projects and ${j.length} tasks!`),f()},f=()=>{o.trim()&&(t(o.trim(),c,u),e("/dashboard"))},p=()=>a===1?o.trim().length>0:!0;return n.jsxs("div",{className:"min-h-screen bg-night-emerald flex flex-col",children:[n.jsx("header",{className:"border-b border-emerald-gold/20 bg-night-emerald/95",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-gold flex items-center justify-center",children:n.jsx(cB,{className:"w-5 h-5 text-night-emerald"})}),n.jsx("span",{className:"text-lg font-bold text-clean-white",children:"Emerald Road OS"})]})})}),n.jsx("div",{className:"container mx-auto px-4 py-6",children:n.jsx("div",{className:"flex items-center justify-center gap-2 mb-8",children:[1,2,3,4].map(g=>n.jsx("div",{className:z("w-3 h-3 rounded-full transition-all",g===a?"bg-emerald-gold w-8":g<a?"bg-emerald-gold/60":"bg-moon-silver/30")},g))})}),n.jsxs("main",{className:"flex-1 container mx-auto px-4 max-w-md",children:[a===1&&n.jsxs("div",{className:"animate-fade-in",children:[n.jsx("div",{className:"w-16 h-16 rounded-2xl bg-emerald-gold/20 flex items-center justify-center mx-auto mb-6",children:n.jsx($i,{className:"w-8 h-8 text-emerald-gold"})}),n.jsx("h1",{className:"text-2xl font-bold text-clean-white text-center mb-2",children:"Welcome, Traveler."}),n.jsx("p",{className:"text-moon-silver/80 text-center mb-8",children:"Let's set up your profile. What should we call you?"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx(M,{htmlFor:"name",className:"text-moon-silver",children:"Your Name"}),n.jsx(F,{id:"name",value:o,onChange:g=>l(g.target.value),placeholder:"Enter your name",className:"mt-2 bg-dark-emerald border-moon-silver/20 text-clean-white placeholder:text-moon-silver/50 focus:border-emerald-gold",autoFocus:!0})]})})]}),a===2&&n.jsxs("div",{className:"animate-fade-in",children:[n.jsx("div",{className:"w-16 h-16 rounded-2xl bg-emerald-gold/20 flex items-center justify-center mx-auto mb-6",children:n.jsx(Iv,{className:"w-8 h-8 text-emerald-gold"})}),n.jsx("h1",{className:"text-2xl font-bold text-clean-white text-center mb-2",children:"Where are you right now?"}),n.jsx("p",{className:"text-moon-silver/80 text-center mb-8",children:"No judgment. Just orientation. This helps us meet you where you are."}),n.jsx(jd,{value:c,onValueChange:g=>d(g),children:n.jsx("div",{className:"space-y-3",children:sSe.map(g=>n.jsxs("div",{children:[n.jsx(ha,{value:g.value,id:g.value,className:"peer sr-only"}),n.jsxs(M,{htmlFor:g.value,className:z("flex items-center gap-4 p-4 rounded-xl border cursor-pointer transition-all",c===g.value?"bg-emerald-gold/10 border-emerald-gold":"bg-dark-emerald border-moon-silver/20 hover:border-moon-silver/40"),children:[n.jsx("div",{className:z("w-4 h-4 rounded-full border-2 flex items-center justify-center",c===g.value?"border-emerald-gold":"border-moon-silver/40"),children:c===g.value&&n.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-gold"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-clean-white",children:g.label}),n.jsx("div",{className:"text-sm text-moon-silver/70",children:g.description})]})]})]},g.value))})})]}),a===3&&n.jsxs("div",{className:"animate-fade-in",children:[n.jsx("div",{className:"w-16 h-16 rounded-2xl bg-emerald-gold/20 flex items-center justify-center mx-auto mb-6",children:n.jsx(JJ,{className:"w-8 h-8 text-emerald-gold"})}),n.jsx("h1",{className:"text-2xl font-bold text-clean-white text-center mb-2",children:"Choose your pace."}),n.jsx("p",{className:"text-moon-silver/80 text-center mb-8",children:"This affects the tone and pacing of prompts. You can change it anytime."}),n.jsx(jd,{value:u,onValueChange:g=>h(g),children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(ha,{value:"gentle",id:"gentle",className:"peer sr-only"}),n.jsxs(M,{htmlFor:"gentle",className:z("flex items-center gap-4 p-4 rounded-xl border cursor-pointer transition-all",u==="gentle"?"bg-emerald-gold/10 border-emerald-gold":"bg-dark-emerald border-moon-silver/20 hover:border-moon-silver/40"),children:[n.jsx("div",{className:z("w-4 h-4 rounded-full border-2 flex items-center justify-center",u==="gentle"?"border-emerald-gold":"border-moon-silver/40"),children:u==="gentle"&&n.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-gold"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-clean-white",children:"Gentle"}),n.jsx("div",{className:"text-sm text-moon-silver/70",children:"Softer prompts, more compassionate tone"})]})]})]}),n.jsxs("div",{children:[n.jsx(ha,{value:"standard",id:"standard",className:"peer sr-only"}),n.jsxs(M,{htmlFor:"standard",className:z("flex items-center gap-4 p-4 rounded-xl border cursor-pointer transition-all",u==="standard"?"bg-emerald-gold/10 border-emerald-gold":"bg-dark-emerald border-moon-silver/20 hover:border-moon-silver/40"),children:[n.jsx("div",{className:z("w-4 h-4 rounded-full border-2 flex items-center justify-center",u==="standard"?"border-emerald-gold":"border-moon-silver/40"),children:u==="standard"&&n.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-gold"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-clean-white",children:"Standard"}),n.jsx("div",{className:"text-sm text-moon-silver/70",children:"Direct and clear, steady pace"})]})]})]})]})})]}),a===4&&n.jsxs("div",{className:"animate-fade-in max-w-2xl mx-auto",children:[n.jsx("div",{className:"w-16 h-16 rounded-2xl bg-emerald-gold/20 flex items-center justify-center mx-auto mb-6",children:n.jsx(Rr,{className:"w-8 h-8 text-emerald-gold"})}),n.jsx("h1",{className:"text-2xl font-bold text-clean-white text-center mb-2",children:"Tornado Alley"}),n.jsx("p",{className:"text-moon-silver/80 text-center mb-8",children:"Let's get everything out of your head and organized into projects."}),n.jsx(jH,{onComplete:m})]})]}),a<4&&n.jsx("footer",{className:"border-t border-moon-silver/10 bg-night-emerald",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 max-w-md",children:[n.jsxs("div",{className:"flex gap-3",children:[a>1&&n.jsxs($,{onClick:()=>i(a-1),variant:"outline",className:"flex-1 border-moon-silver/30 text-moon-silver hover:bg-dark-emerald",children:[n.jsx(lm,{className:"w-4 h-4 mr-1"}),"Back"]}),a<3?n.jsxs($,{onClick:()=>i(a+1),disabled:!p(),className:"flex-1 bg-emerald-gold hover:bg-emerald-gold/90 text-night-emerald font-semibold",children:["Continue",n.jsx(as,{className:"w-4 h-4 ml-1"})]}):n.jsxs($,{onClick:()=>i(4),className:"flex-1 bg-emerald-gold hover:bg-emerald-gold/90 text-night-emerald font-semibold",children:["Brain Dump",n.jsx(Rr,{className:"w-4 h-4 ml-1"})]})]}),a===3&&n.jsxs($,{onClick:f,variant:"ghost",className:"w-full mt-2 text-moon-silver/70 hover:text-moon-silver",children:[n.jsx(rS,{className:"w-4 h-4 mr-1"}),"Skip Brain Dump"]})]})}),a===4&&n.jsx("footer",{className:"border-t border-moon-silver/10 bg-night-emerald",children:n.jsx("div",{className:"container mx-auto px-4 py-4 max-w-md",children:n.jsxs($,{onClick:f,variant:"ghost",className:"w-full text-moon-silver/70 hover:text-moon-silver",children:[n.jsx(rS,{className:"w-4 h-4 mr-1"}),"Skip & Continue to Dashboard"]})})})]})}function rd({showBack:e,backTo:t="/dashboard",backLabel:r="Back"}){const s=Ro(),a=[{path:"/dashboard",label:"Dashboard",icon:oee},{path:"/er-settings",label:"Settings",icon:gp}];return n.jsx("header",{className:"sticky top-0 z-50 border-b border-emerald-gold/20 bg-night-emerald/95 backdrop-blur-sm",children:n.jsx("div",{className:"container mx-auto px-4 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-4",children:e?n.jsx(ca,{to:t,children:n.jsxs($,{variant:"ghost",size:"sm",className:"text-moon-silver hover:text-emerald-gold gap-1",children:[n.jsx(lm,{className:"w-4 h-4"}),r]})}):n.jsxs(ca,{to:"/",className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-gold flex items-center justify-center",children:n.jsx(cB,{className:"w-5 h-5 text-night-emerald"})}),n.jsx("span",{className:"text-lg font-bold text-clean-white hidden sm:block",children:"Emerald Road OS"})]})}),n.jsx("nav",{className:"flex items-center gap-1",children:a.map(i=>{const o=i.icon,l=s.pathname===i.path;return n.jsx(ca,{to:i.path,children:n.jsxs($,{variant:"ghost",size:"sm",className:z("gap-2",l?"text-emerald-gold bg-emerald-gold/10":"text-moon-silver hover:text-emerald-gold"),children:[n.jsx(o,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:i.label})]})},i.path)})})]})})})}function iSe({territory:e,isUnlocked:t,completedQuests:r,isActive:s}){const a=Qt(),i=e.quests.length,o=r===i&&i>0,l=e.comingSoon,c=()=>{t&&!l&&a(`/territory/${e.id}`)};return n.jsxs("div",{onClick:c,className:z("relative p-5 rounded-xl border transition-all duration-300",t&&!l?"bg-dark-emerald border-emerald-gold/30 cursor-pointer hover:border-emerald-gold hover:shadow-[0_0_20px_rgba(230,194,0,0.15)]":"bg-night-emerald/50 border-moon-silver/10 cursor-not-allowed",s&&"ring-2 ring-emerald-gold ring-offset-2 ring-offset-night-emerald"),children:[!t&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-night-emerald/60 rounded-xl",children:n.jsx(Vx,{className:"w-6 h-6 text-moon-silver/50"})}),l&&t&&n.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 text-xs font-medium bg-warning-amber/20 text-warning-amber rounded",children:"Coming Soon"}),o&&n.jsx("div",{className:"absolute top-3 right-3",children:n.jsx(At,{className:"w-5 h-5 text-emerald-gold"})}),n.jsxs("div",{className:z(!t&&"opacity-40"),children:[n.jsx("h3",{className:"text-lg font-bold text-clean-white mb-1",children:e.name}),n.jsx("p",{className:"text-xs text-emerald-gold font-medium mb-2",children:e.theme}),n.jsx("p",{className:"text-sm text-moon-silver/80 line-clamp-2 mb-3",children:e.description}),i>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex gap-1",children:e.quests.map((d,u)=>n.jsx("div",{className:z("w-2 h-2 rounded-full",u<r?"bg-emerald-gold":"bg-moon-silver/30")},u))}),n.jsxs("span",{className:"text-xs text-moon-silver/60",children:[r,"/",i," nodes"]})]}),t&&!l&&n.jsx(as,{className:"w-4 h-4 text-moon-silver/50"})]})]})]})}function _N({label:e,value:t,maxValue:r=100,icon:s,className:a}){const i=Math.min(100,t/r*100);return n.jsxs("div",{className:z("p-4 rounded-xl bg-dark-emerald border border-emerald-gold/20",a),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[s&&n.jsx("span",{className:"text-emerald-gold",children:s}),n.jsx("span",{className:"text-sm font-medium text-moon-silver",children:e})]}),n.jsxs("span",{className:"text-sm font-bold text-emerald-gold",children:[t,"/",r]})]}),n.jsx("div",{className:"h-2 bg-night-emerald rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-gold/80 to-emerald-gold rounded-full transition-all duration-700 ease-out",style:{width:`${i}%`,boxShadow:i>0?"0 0 10px hsla(51, 80%, 45%, 0.5)":"none"}})})]})}const oSe={Navigator:"text-emerald-gold",Strategist:"text-moon-silver",Architect:"text-emerald-gold",Guardian:"text-warning-amber"};function lSe({className:e}){const[t,r]=x.useState(yy[0]),[s,a]=x.useState(!1);return x.useEffect(()=>{const i=setInterval(()=>{a(!0),setTimeout(()=>{r(o=>{const c=(yy.indexOf(o)+1)%yy.length;return yy[c]}),a(!1)},300)},8e3);return()=>clearInterval(i)},[]),n.jsx("div",{className:z("p-4 rounded-xl bg-dark-emerald border border-moon-silver/10",e),children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(gee,{className:"w-5 h-5 text-moon-silver/40 flex-shrink-0 mt-1"}),n.jsxs("div",{className:z("transition-opacity duration-300",s?"opacity-0":"opacity-100"),children:[n.jsxs("p",{className:"text-sm text-moon-silver/90 italic mb-2",children:['"',t.quote,'"']}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:z("text-xs font-bold",oSe[t.mentor]),children:["The ",t.mentor]}),n.jsxs("span",{className:"text-xs text-moon-silver/50",children:[" ",t.domain]})]})]})]})})}function cSe({onDismiss:e}){return n.jsx("div",{className:"p-4 rounded-xl bg-dark-emerald border border-emerald-gold/30 mb-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-gold/20 flex items-center justify-center flex-shrink-0",children:n.jsx(mB,{className:"w-5 h-5 text-emerald-gold"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-bold text-clean-white mb-1",children:"Welcome back, Traveler."}),n.jsx("p",{className:"text-sm text-moon-silver/80 mb-3",children:"It's been a while since you were last here. That's okay. There's no streak to break, no progress lost. Your road is still here. Pick up wherever feels right."}),n.jsx("div",{className:"flex gap-2",children:n.jsx($,{onClick:e,size:"sm",className:"bg-emerald-gold hover:bg-emerald-gold/90 text-night-emerald font-semibold",children:"Continue Journey"})})]})]})})}function dSe(){const e=Qt(),{profile:t,isLoading:r,hasProfile:s,getNextQuest:a,needsSoftReset:i,updateProfile:o}=xg(),[l,c]=x.useState(!1);x.useEffect(()=>{!r&&!s&&e("/onboarding")},[r,s,e]),x.useEffect(()=>{t&&i()&&c(!0)},[t,i]);const d=()=>{c(!1),o({lastActiveISO:new Date().toISOString()})};if(r||!t)return n.jsx("div",{className:"min-h-screen bg-night-emerald flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 border-2 border-emerald-gold/30 border-t-emerald-gold rounded-full animate-spin"})});const u=a(),h=u?lo.find(m=>m.id===u.territory):null;return n.jsxs("div",{className:"min-h-screen bg-night-emerald",children:[n.jsx(rd,{}),n.jsxs("main",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("h1",{className:"text-2xl font-bold text-clean-white mb-1",children:["Welcome back, ",t.name,"."]}),n.jsx("p",{className:"text-moon-silver/70",children:"Your road continues. One node at a time."})]}),l&&n.jsx(cSe,{onDismiss:d}),n.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[n.jsxs("div",{className:"lg:col-span-4 space-y-4",children:[n.jsx("h2",{className:"text-sm font-medium text-moon-silver/60 uppercase tracking-wider mb-3",children:"Territories"}),lo.map(m=>{const f=m.quests.filter(v=>t.completedQuestIds.includes(v.id)).length,p=t.territoryUnlocked[m.unlockKey],g=(u==null?void 0:u.territory)===m.id;return n.jsx(iSe,{territory:m,isUnlocked:p,completedQuests:f,isActive:g},m.id)})]}),n.jsxs("div",{className:"lg:col-span-5 space-y-4",children:[n.jsx("h2",{className:"text-sm font-medium text-moon-silver/60 uppercase tracking-wider mb-3",children:"Today's Focus"}),u?n.jsxs("div",{className:"p-6 rounded-xl bg-dark-emerald border border-emerald-gold/30",children:[n.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-gold/20 flex items-center justify-center flex-shrink-0",children:n.jsx(Di,{className:"w-6 h-6 text-emerald-gold"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-emerald-gold font-medium",children:[h==null?void 0:h.name,"  ",u.nodeName]}),n.jsx("h3",{className:"text-xl font-bold text-clean-white",children:u.title}),n.jsx("p",{className:"text-sm text-moon-silver/70 mt-1",children:u.description})]})]}),n.jsxs("div",{className:"space-y-2 mb-5 pl-16",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-moon-silver/60",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-moon-silver/40"}),n.jsx("span",{className:"font-medium",children:"Stabilize:"}),n.jsx("span",{children:u.stabilizeStep.instruction})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-moon-silver/60",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-moon-silver/40"}),n.jsx("span",{className:"font-medium",children:"Build:"}),n.jsx("span",{children:u.buildStep.instruction})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-moon-silver/60",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-moon-silver/40"}),n.jsx("span",{className:"font-medium",children:"Expand:"}),n.jsx("span",{children:u.expandStep.instruction})]})]}),n.jsxs($,{onClick:()=>e(`/quest/${u.id}`),className:"w-full bg-emerald-gold hover:bg-emerald-gold/90 text-night-emerald font-bold h-12",children:["Start This Node",n.jsx(as,{className:"w-5 h-5 ml-1"})]})]}):n.jsxs("div",{className:"p-6 rounded-xl bg-dark-emerald border border-moon-silver/20 text-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-emerald-gold/20 flex items-center justify-center mx-auto mb-4",children:n.jsx(Ir,{className:"w-8 h-8 text-emerald-gold"})}),n.jsx("h3",{className:"text-xl font-bold text-clean-white mb-2",children:"All nodes complete."}),n.jsx("p",{className:"text-moon-silver/70",children:"You've completed all available territories. More systems are coming soon."})]}),n.jsx(lSe,{})]}),n.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[n.jsx("h2",{className:"text-sm font-medium text-moon-silver/60 uppercase tracking-wider mb-3",children:"System Status"}),n.jsx(_N,{label:"Energy",value:t.energy,icon:n.jsx(Ir,{className:"w-4 h-4"})}),n.jsx(_N,{label:"Signal",value:t.signal,icon:n.jsx(yee,{className:"w-4 h-4"})}),n.jsx(_N,{label:"Control",value:t.control,icon:n.jsx(Wr,{className:"w-4 h-4"})}),n.jsxs("div",{className:"p-4 rounded-xl bg-dark-emerald border border-moon-silver/10",children:[n.jsx("p",{className:"text-xs text-moon-silver/50 mb-1",children:"Current State"}),n.jsx("p",{className:"text-sm font-medium text-clean-white capitalize",children:t.currentState})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-dark-emerald border border-moon-silver/10",children:[n.jsx("p",{className:"text-xs text-moon-silver/50 mb-1",children:"Quests Completed"}),n.jsx("p",{className:"text-sm font-medium text-clean-white",children:t.completedQuestIds.length})]})]})]})]})]})}function uSe({quest:e,isComplete:t,completedSteps:r,isLocked:s}){const a=Qt(),i=[{id:e.stabilizeStep.id,label:"Stabilize",instruction:e.stabilizeStep.instruction},{id:e.buildStep.id,label:"Build",instruction:e.buildStep.instruction},{id:e.expandStep.id,label:"Expand",instruction:e.expandStep.instruction}],o=()=>{s||a(`/quest/${e.id}`)};return n.jsxs("div",{className:z("p-5 rounded-xl border transition-all duration-300",t?"bg-emerald-gold/10 border-emerald-gold/40":"bg-dark-emerald border-moon-silver/20 hover:border-emerald-gold/40",s&&"opacity-50 cursor-not-allowed"),children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-emerald-gold font-medium mb-1",children:e.nodeName}),n.jsx("h3",{className:"text-lg font-bold text-clean-white",children:e.title}),n.jsx("p",{className:"text-sm text-moon-silver/70 mt-1",children:e.description})]}),t&&n.jsx(At,{className:"w-6 h-6 text-emerald-gold flex-shrink-0"})]}),n.jsx("div",{className:"space-y-2 mb-4",children:i.map(l=>{const c=r.includes(l.id);return n.jsxs("div",{className:"flex items-start gap-3",children:[c?n.jsx(At,{className:"w-4 h-4 text-emerald-gold flex-shrink-0 mt-0.5"}):n.jsx(Fx,{className:"w-4 h-4 text-moon-silver/40 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("span",{className:z("text-xs font-medium",c?"text-emerald-gold":"text-moon-silver/60"),children:l.label}),n.jsx("p",{className:z("text-sm",c?"text-moon-silver/60 line-through":"text-moon-silver/80"),children:l.instruction})]})]},l.id)})}),n.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-moon-silver/10",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-moon-silver/50",children:"Reward:"}),n.jsxs("span",{className:"text-xs font-medium text-emerald-gold capitalize",children:["+",e.reward.amount," ",e.reward.metric]})]}),!t&&n.jsxs($,{onClick:o,disabled:s,size:"sm",className:"bg-emerald-gold hover:bg-emerald-gold/90 text-night-emerald font-semibold gap-1",children:["Start Node",n.jsx(as,{className:"w-4 h-4"})]})]})]})}function hSe(){const{id:e}=RT(),t=Qt(),{profile:r,isLoading:s,hasProfile:a,isTerritoryUnlocked:i,isQuestComplete:o}=xg(),l=e?kP(e):null;return x.useEffect(()=>{!s&&!a&&t("/onboarding")},[s,a,t]),s||!r?n.jsx("div",{className:"min-h-screen bg-night-emerald flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 border-2 border-emerald-gold/30 border-t-emerald-gold rounded-full animate-spin"})}):l?i(l.id)?n.jsxs("div",{className:"min-h-screen bg-night-emerald",children:[n.jsx(rd,{showBack:!0,backTo:"/dashboard",backLabel:"Dashboard"}),n.jsxs("main",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-gold/20 flex items-center justify-center",children:n.jsx(Md,{className:"w-5 h-5 text-emerald-gold"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-clean-white",children:l.name}),n.jsx("p",{className:"text-sm text-emerald-gold font-medium",children:l.theme})]})]}),n.jsx("p",{className:"text-moon-silver/70 max-w-2xl",children:l.description})]}),l.comingSoon&&n.jsxs("div",{className:"p-6 rounded-xl bg-dark-emerald border border-warning-amber/30 text-center",children:[n.jsx("p",{className:"text-warning-amber font-medium",children:"This territory is coming soon."}),n.jsx("p",{className:"text-moon-silver/60 text-sm mt-1",children:"New nodes are being developed."})]}),!l.comingSoon&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-sm font-medium text-moon-silver/60 uppercase tracking-wider",children:["Nodes (",l.quests.filter(d=>o(d.id)).length,"/",l.quests.length," complete)"]}),l.quests.map(d=>{const u=o(d.id),h=r.completedSteps[d.id]||[];return n.jsx(uSe,{quest:d,isComplete:u,completedSteps:h},d.id)})]})]})]}):n.jsxs("div",{className:"min-h-screen bg-night-emerald",children:[n.jsx(rd,{showBack:!0,backTo:"/dashboard",backLabel:"Dashboard"}),n.jsx("main",{className:"container mx-auto px-4 py-12",children:n.jsxs("div",{className:"max-w-md mx-auto text-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-moon-silver/10 flex items-center justify-center mx-auto mb-6",children:n.jsx(Vx,{className:"w-8 h-8 text-moon-silver/50"})}),n.jsx("h1",{className:"text-2xl font-bold text-clean-white mb-2",children:l.name}),n.jsx("p",{className:"text-moon-silver/70",children:"This territory is locked. Complete the previous territory to unlock it."})]})})]}):n.jsxs("div",{className:"min-h-screen bg-night-emerald",children:[n.jsx(rd,{showBack:!0,backTo:"/dashboard",backLabel:"Dashboard"}),n.jsx("main",{className:"container mx-auto px-4 py-12 text-center",children:n.jsx("h1",{className:"text-2xl font-bold text-clean-white",children:"Territory not found."})})]})}function mSe({territory:e,isOpen:t,onClose:r}){const s=Qt();if(!e)return null;const a=()=>{r(),s(`/territory/${e.id}`)},i=()=>{r(),s("/dashboard")};return n.jsx(Xt,{open:t,onOpenChange:r,children:n.jsxs(qt,{className:"bg-night-emerald border-emerald-gold/30 max-w-md",children:[n.jsxs(Ht,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-emerald-gold/20 flex items-center justify-center mb-4",children:n.jsx(Md,{className:"w-8 h-8 text-emerald-gold"})}),n.jsxs(Kt,{className:"text-2xl font-bold text-clean-white flex items-center justify-center gap-2",children:[n.jsx(ht,{className:"w-5 h-5 text-emerald-gold"}),"Territory Unlocked",n.jsx(ht,{className:"w-5 h-5 text-emerald-gold"})]}),n.jsx(ko,{className:"text-moon-silver/80 mt-2",children:"You have unlocked a new territory on the Emerald Road."})]}),n.jsxs("div",{className:"py-6",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-dark-emerald border border-emerald-gold/20",children:[n.jsx("h3",{className:"text-xl font-bold text-clean-white mb-1",children:e.name}),n.jsx("p",{className:"text-sm text-emerald-gold font-medium mb-2",children:e.theme}),n.jsx("p",{className:"text-sm text-moon-silver/70",children:e.description})]}),n.jsx("p",{className:"text-center text-moon-silver/60 text-sm mt-4",children:"The road illuminates. New systems await."})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx($,{onClick:i,variant:"outline",className:"flex-1 border-moon-silver/30 text-moon-silver hover:bg-dark-emerald",children:"Return to Dashboard"}),n.jsx($,{onClick:a,className:"flex-1 bg-emerald-gold hover:bg-emerald-gold/90 text-night-emerald font-semibold",children:"Explore Territory"})]})]})})}function fSe(){const{id:e}=RT(),t=Qt(),{profile:r,isLoading:s,hasProfile:a,completeStep:i,completeQuest:o,isStepComplete:l}=xg(),[c,d]=x.useState("stabilize"),[u,h]=x.useState(null),[m,f]=x.useState(!1),[p,g]=x.useState(null),v=e?bH(e):null,j=v?kP(v.territory):null;if(x.useEffect(()=>{!s&&!a&&t("/onboarding")},[s,a,t]),x.useEffect(()=>{v&&r&&(l(v.id,v.expandStep.id)?d("complete"):l(v.id,v.buildStep.id)?d("expand"):l(v.id,v.stabilizeStep.id)?d("build"):d("stabilize"))},[v,r,l]),s||!r)return n.jsx("div",{className:"min-h-screen bg-night-emerald flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 border-2 border-emerald-gold/30 border-t-emerald-gold rounded-full animate-spin"})});if(!v||!j)return n.jsxs("div",{className:"min-h-screen bg-night-emerald",children:[n.jsx(rd,{showBack:!0,backTo:"/dashboard",backLabel:"Dashboard"}),n.jsx("main",{className:"container mx-auto px-4 py-12 text-center",children:n.jsx("h1",{className:"text-2xl font-bold text-clean-white",children:"Quest not found."})})]});const y=[{id:"stabilize",step:v.stabilizeStep,label:"Stabilize"},{id:"build",step:v.buildStep,label:"Build"},{id:"expand",step:v.expandStep,label:"Expand"}],b=y.find(_=>_.id===c),w=()=>{if(b){if(i(v.id,b.step.id),c==="stabilize")d("build");else if(c==="build")d("expand");else if(c==="expand"){const _=o(v.id);if(_&&(g(_.reward),_.unlockedTerritory)){const C=lo.find(S=>S.id===_.unlockedTerritory);C&&h(C)}d("complete")}}},N=()=>{u?f(!0):t("/dashboard")};return n.jsxs("div",{className:"min-h-screen bg-night-emerald flex flex-col",children:[n.jsx(rd,{showBack:!0,backTo:`/territory/${j.id}`,backLabel:j.name}),n.jsxs("main",{className:"flex-1 container mx-auto px-4 py-6 flex flex-col max-w-lg",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("p",{className:"text-xs text-emerald-gold font-medium mb-1",children:v.nodeName}),n.jsx("h1",{className:"text-2xl font-bold text-clean-white",children:v.title})]}),n.jsx("div",{className:"flex items-center justify-center gap-4 mb-8",children:y.map((_,C)=>{const S=l(v.id,_.step.id)||c==="complete"||c==="build"&&C===0||c==="expand"&&C<2,k=_.id===c;return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[n.jsx("div",{className:z("w-10 h-10 rounded-full flex items-center justify-center transition-all",S?"bg-emerald-gold text-night-emerald":k?"bg-emerald-gold/20 text-emerald-gold ring-2 ring-emerald-gold":"bg-moon-silver/10 text-moon-silver/40"),children:S?n.jsx(At,{className:"w-5 h-5"}):n.jsx("span",{className:"text-sm font-bold",children:C+1})}),n.jsx("span",{className:z("text-xs font-medium",k?"text-emerald-gold":"text-moon-silver/50"),children:_.label})]}),C<y.length-1&&n.jsx("div",{className:z("w-8 h-0.5 -mt-5",S?"bg-emerald-gold":"bg-moon-silver/20")})]},_.id)})}),n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[c!=="complete"&&b&&n.jsxs("div",{className:"animate-fade-in",children:[n.jsx("p",{className:"text-emerald-gold font-medium text-lg mb-4",children:b.label}),n.jsx("p",{className:"text-2xl text-clean-white font-light leading-relaxed max-w-md",children:b.step.instruction})]}),c==="complete"&&n.jsxs("div",{className:"animate-fade-in",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-emerald-gold/20 flex items-center justify-center mx-auto mb-6",children:n.jsx(ht,{className:"w-10 h-10 text-emerald-gold"})}),n.jsx("h2",{className:"text-2xl font-bold text-clean-white mb-2",children:"System Restored."}),p&&n.jsxs("p",{className:"text-emerald-gold font-medium mb-4",children:["+",p.amount," ",p.metric]}),n.jsx("p",{className:"text-moon-silver/70 max-w-sm mx-auto mb-8",children:"Carry this into real life. The small action you just took matters."})]})]}),n.jsx("div",{className:"mt-auto pt-6",children:c!=="complete"?n.jsxs($,{onClick:w,className:"w-full h-14 bg-emerald-gold hover:bg-emerald-gold/90 text-night-emerald font-bold text-lg",children:["Done",n.jsx(as,{className:"w-5 h-5 ml-1"})]}):n.jsxs($,{onClick:N,className:"w-full h-14 bg-emerald-gold hover:bg-emerald-gold/90 text-night-emerald font-bold text-lg",children:[u?"See What's Next":"Return to Dashboard",n.jsx(kn,{className:"w-5 h-5 ml-1"})]})})]}),n.jsx(mSe,{territory:u,isOpen:m,onClose:()=>f(!1)})]})}function pSe(){const e=Qt(),{profile:t,isLoading:r,hasProfile:s,updateProfile:a,resetProgress:i,exportProfile:o,importProfile:l}=xg(),[c,d]=x.useState(""),[u,h]=x.useState(!1),[m,f]=x.useState(!1),[p,g]=x.useState(""),[v,j]=x.useState(!1);if(x.useEffect(()=>{!r&&!s&&e("/onboarding")},[r,s,e]),x.useEffect(()=>{t&&d(t.name)},[t]),r||!t)return n.jsx("div",{className:"min-h-screen bg-night-emerald flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 border-2 border-emerald-gold/30 border-t-emerald-gold rounded-full animate-spin"})});const y=()=>{c.trim()&&(a({name:c.trim()}),We.success("Name updated."))},b=()=>{const _=o(),C=new Blob([_],{type:"application/json"}),S=URL.createObjectURL(C),k=document.createElement("a");k.href=S,k.download=`emerald-road-profile-${new Date().toISOString().split("T")[0]}.json`,k.click(),URL.revokeObjectURL(S),We.success("Profile exported.")},w=()=>{l(p)?(We.success("Profile imported successfully."),j(!1),g("")):We.error("Invalid profile data.")},N=()=>{i(),We.success("Progress reset. Your road begins again.")};return n.jsxs("div",{className:"min-h-screen bg-night-emerald",children:[n.jsx(rd,{}),n.jsxs("main",{className:"container mx-auto px-4 py-6 max-w-lg",children:[n.jsx("h1",{className:"text-2xl font-bold text-clean-white mb-6",children:"Settings"}),n.jsxs("section",{className:"p-5 rounded-xl bg-dark-emerald border border-moon-silver/20 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx($i,{className:"w-5 h-5 text-emerald-gold"}),n.jsx("h2",{className:"text-lg font-bold text-clean-white",children:"Profile"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(M,{htmlFor:"name",className:"text-moon-silver",children:"Name"}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(F,{id:"name",value:c,onChange:_=>d(_.target.value),className:"bg-night-emerald border-moon-silver/20 text-clean-white focus:border-emerald-gold"}),n.jsx($,{onClick:y,disabled:c===t.name,className:"bg-emerald-gold hover:bg-emerald-gold/90 text-night-emerald",children:"Save"})]})]}),n.jsxs("div",{className:"pt-2 border-t border-moon-silver/10",children:[n.jsx("p",{className:"text-xs text-moon-silver/50",children:"Traveler ID"}),n.jsx("p",{className:"text-sm text-moon-silver font-mono",children:t.id.slice(0,8)})]})]})]}),n.jsxs("section",{className:"p-5 rounded-xl bg-dark-emerald border border-moon-silver/20 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(Od,{className:"w-5 h-5 text-emerald-gold"}),n.jsx("h2",{className:"text-lg font-bold text-clean-white",children:"Accessibility"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(xB,{className:"w-4 h-4 text-moon-silver/60"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-clean-white",children:"Large Text"}),n.jsx("p",{className:"text-xs text-moon-silver/50",children:"Increase text size throughout"})]})]}),n.jsx(lr,{checked:m,onCheckedChange:f,className:"data-[state=checked]:bg-emerald-gold"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Rd,{className:"w-4 h-4 text-moon-silver/60"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-clean-white",children:"Reduce Motion"}),n.jsx("p",{className:"text-xs text-moon-silver/50",children:"Minimize animations"})]})]}),n.jsx(lr,{checked:u,onCheckedChange:h,className:"data-[state=checked]:bg-emerald-gold"})]})]})]}),n.jsxs("section",{className:"p-5 rounded-xl bg-dark-emerald border border-moon-silver/20 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(ud,{className:"w-5 h-5 text-emerald-gold"}),n.jsx("h2",{className:"text-lg font-bold text-clean-white",children:"Data"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs($,{onClick:b,variant:"outline",className:"w-full justify-start border-moon-silver/20 text-moon-silver hover:bg-night-emerald",children:[n.jsx(ud,{className:"w-4 h-4 mr-2"}),"Export Profile (JSON)"]}),n.jsxs($,{onClick:()=>j(!v),variant:"outline",className:"w-full justify-start border-moon-silver/20 text-moon-silver hover:bg-night-emerald",children:[n.jsx(yp,{className:"w-4 h-4 mr-2"}),"Import Profile"]}),v&&n.jsxs("div",{className:"space-y-2 pt-2",children:[n.jsx(wr,{value:p,onChange:_=>g(_.target.value),placeholder:"Paste JSON data here...",className:"bg-night-emerald border-moon-silver/20 text-clean-white min-h-[100px]"}),n.jsx($,{onClick:w,disabled:!p.trim(),className:"w-full bg-emerald-gold hover:bg-emerald-gold/90 text-night-emerald",children:"Import"})]})]})]}),n.jsxs("section",{className:"p-5 rounded-xl bg-dark-emerald border border-warning-amber/30",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(xr,{className:"w-5 h-5 text-warning-amber"}),n.jsx("h2",{className:"text-lg font-bold text-clean-white",children:"Reset"})]}),n.jsx("p",{className:"text-sm text-moon-silver/70 mb-4",children:"This will reset all progress. Your territories, quests, and meters will return to their initial state. Your name and profile will be preserved."}),n.jsxs(mo,{children:[n.jsx(nP,{asChild:!0,children:n.jsx($,{variant:"outline",className:"w-full border-warning-amber/50 text-warning-amber hover:bg-warning-amber/10",children:"Reset Progress"})}),n.jsxs(Ci,{className:"bg-night-emerald border-moon-silver/20",children:[n.jsxs(ki,{children:[n.jsx(Ei,{className:"text-clean-white",children:"Reset all progress?"}),n.jsx(Pi,{className:"text-moon-silver/70",children:"This will reset your territories, quests, and meters. This action cannot be undone."})]}),n.jsxs(Ti,{children:[n.jsx(Ai,{className:"border-moon-silver/20 text-moon-silver hover:bg-dark-emerald",children:"Cancel"}),n.jsx(lc,{onClick:N,className:"bg-warning-amber hover:bg-warning-amber/90 text-night-emerald",children:"Reset"})]})]})]})]})]})]})}const wH={AL:{name:"Alabama Secretary of State",url:"https://www.sos.alabama.gov/business-entities",llcFee:"$200",corpFee:"$100",processingTime:"2-3 weeks"},AK:{name:"Alaska Division of Corporations",url:"https://www.commerce.alaska.gov/web/cbpl/Corporations.aspx",llcFee:"$250",corpFee:"$250",processingTime:"5-7 days"},AZ:{name:"Arizona Corporation Commission",url:"https://azcc.gov/",llcFee:"$50",corpFee:"$60",processingTime:"3-5 days"},AR:{name:"Arkansas Secretary of State",url:"https://www.sos.arkansas.gov/business-commercial-services-bcs",llcFee:"$50",corpFee:"$50",processingTime:"5-7 days"},CA:{name:"California Secretary of State",url:"https://www.sos.ca.gov/business-programs/",llcFee:"$70",corpFee:"$100",processingTime:"1-2 weeks"},CO:{name:"Colorado Secretary of State",url:"https://www.sos.state.co.us/biz/",llcFee:"$50",corpFee:"$50",processingTime:"3-5 days"},CT:{name:"Connecticut Secretary of State",url:"https://portal.ct.gov/SOTS/Business-Services/",llcFee:"$120",corpFee:"$275",processingTime:"1-2 weeks"},DE:{name:"Delaware Division of Corporations",url:"https://corp.delaware.gov/",llcFee:"$90",corpFee:"$89",processingTime:"Same day"},FL:{name:"Florida Division of Corporations",url:"https://dos.myflorida.com/sunbiz/",llcFee:"$125",corpFee:"$70",processingTime:"3-5 days"},GA:{name:"Georgia Secretary of State",url:"https://sos.ga.gov/corporations-division-0",llcFee:"$100",corpFee:"$100",processingTime:"5-7 days"},HI:{name:"Hawaii DCCA",url:"https://cca.hawaii.gov/breg/",llcFee:"$50",corpFee:"$50",processingTime:"1-2 weeks"},ID:{name:"Idaho Secretary of State",url:"https://sos.idaho.gov/business-services/",llcFee:"$100",corpFee:"$100",processingTime:"3-5 days"},IL:{name:"Illinois Secretary of State",url:"https://www.ilsos.gov/departments/business_services/",llcFee:"$150",corpFee:"$150",processingTime:"1-2 weeks"},IN:{name:"Indiana Secretary of State",url:"https://www.in.gov/sos/business/",llcFee:"$100",corpFee:"$100",processingTime:"3-5 days"},IA:{name:"Iowa Secretary of State",url:"https://sos.iowa.gov/business/",llcFee:"$50",corpFee:"$50",processingTime:"3-5 days"},KS:{name:"Kansas Secretary of State",url:"https://www.sos.ks.gov/business/business.html",llcFee:"$165",corpFee:"$90",processingTime:"5-7 days"},KY:{name:"Kentucky Secretary of State",url:"https://www.sos.ky.gov/bus/",llcFee:"$40",corpFee:"$50",processingTime:"3-5 days"},LA:{name:"Louisiana Secretary of State",url:"https://www.sos.la.gov/BusinessServices/",llcFee:"$100",corpFee:"$75",processingTime:"5-7 days"},ME:{name:"Maine Bureau of Corporations",url:"https://www.maine.gov/sos/cec/corp/",llcFee:"$175",corpFee:"$175",processingTime:"1-2 weeks"},MD:{name:"Maryland SDAT",url:"https://dat.maryland.gov/",llcFee:"$100",corpFee:"$120",processingTime:"1-2 weeks"},MA:{name:"Massachusetts Secretary of State",url:"https://www.sec.state.ma.us/cor/",llcFee:"$500",corpFee:"$275",processingTime:"1-2 weeks"},MI:{name:"Michigan LARA",url:"https://www.michigan.gov/lara/bureau-list/cscl/corp",llcFee:"$50",corpFee:"$50",processingTime:"3-5 days"},MN:{name:"Minnesota Secretary of State",url:"https://www.sos.state.mn.us/business-liens/",llcFee:"$160",corpFee:"$180",processingTime:"5-7 days"},MS:{name:"Mississippi Secretary of State",url:"https://www.sos.ms.gov/business-services/",llcFee:"$50",corpFee:"$50",processingTime:"5-7 days"},MO:{name:"Missouri Secretary of State",url:"https://www.sos.mo.gov/business/",llcFee:"$50",corpFee:"$58",processingTime:"3-5 days"},MT:{name:"Montana Secretary of State",url:"https://sosmt.gov/business/",llcFee:"$70",corpFee:"$70",processingTime:"3-5 days"},NE:{name:"Nebraska Secretary of State",url:"https://sos.nebraska.gov/business/",llcFee:"$105",corpFee:"$60",processingTime:"3-5 days"},NV:{name:"Nevada Secretary of State",url:"https://www.nvsos.gov/sos/businesses/",llcFee:"$75",corpFee:"$75",processingTime:"1-2 days"},NH:{name:"New Hampshire Secretary of State",url:"https://www.sos.nh.gov/corporation-division",llcFee:"$100",corpFee:"$100",processingTime:"5-7 days"},NJ:{name:"New Jersey Division of Revenue",url:"https://www.njportal.com/dor/BusinessFormation/",llcFee:"$125",corpFee:"$125",processingTime:"1-2 weeks"},NM:{name:"New Mexico Secretary of State",url:"https://portal.sos.state.nm.us/BFS/online/",llcFee:"$50",corpFee:"$100",processingTime:"3-5 days"},NY:{name:"New York Department of State",url:"https://www.dos.ny.gov/corps/",llcFee:"$200",corpFee:"$125",processingTime:"1-2 weeks"},NC:{name:"North Carolina Secretary of State",url:"https://www.sosnc.gov/divisions/business_registration",llcFee:"$125",corpFee:"$125",processingTime:"3-5 days"},ND:{name:"North Dakota Secretary of State",url:"https://sos.nd.gov/business/",llcFee:"$135",corpFee:"$100",processingTime:"3-5 days"},OH:{name:"Ohio Secretary of State",url:"https://www.ohiosos.gov/businesses/",llcFee:"$99",corpFee:"$99",processingTime:"3-5 days"},OK:{name:"Oklahoma Secretary of State",url:"https://www.sos.ok.gov/business/",llcFee:"$100",corpFee:"$50",processingTime:"3-5 days"},OR:{name:"Oregon Secretary of State",url:"https://sos.oregon.gov/business/Pages/default.aspx",llcFee:"$100",corpFee:"$100",processingTime:"3-5 days"},PA:{name:"Pennsylvania DOS",url:"https://www.dos.pa.gov/BusinessCharities/Business/",llcFee:"$125",corpFee:"$125",processingTime:"1-2 weeks"},RI:{name:"Rhode Island Secretary of State",url:"https://www.sos.ri.gov/divisions/business-portal",llcFee:"$150",corpFee:"$230",processingTime:"3-5 days"},SC:{name:"South Carolina Secretary of State",url:"https://sos.sc.gov/online-filings/",llcFee:"$110",corpFee:"$135",processingTime:"5-7 days"},SD:{name:"South Dakota Secretary of State",url:"https://sdsos.gov/business-services/",llcFee:"$165",corpFee:"$165",processingTime:"3-5 days"},TN:{name:"Tennessee Secretary of State",url:"https://sos.tn.gov/business-services",llcFee:"$300",corpFee:"$100",processingTime:"3-5 days"},TX:{name:"Texas Secretary of State",url:"https://www.sos.state.tx.us/corp/",llcFee:"$300",corpFee:"$300",processingTime:"3-5 days"},UT:{name:"Utah Division of Corporations",url:"https://corporations.utah.gov/",llcFee:"$54",corpFee:"$70",processingTime:"3-5 days"},VT:{name:"Vermont Secretary of State",url:"https://sos.vermont.gov/corporations/",llcFee:"$125",corpFee:"$125",processingTime:"5-7 days"},VA:{name:"Virginia SCC",url:"https://www.scc.virginia.gov/clk/",llcFee:"$100",corpFee:"$100",processingTime:"3-5 days"},WA:{name:"Washington Secretary of State",url:"https://www.sos.wa.gov/corps/",llcFee:"$200",corpFee:"$200",processingTime:"3-5 days"},WV:{name:"West Virginia Secretary of State",url:"https://sos.wv.gov/business/Pages/default.aspx",llcFee:"$100",corpFee:"$100",processingTime:"5-7 days"},WI:{name:"Wisconsin DFI",url:"https://www.wdfi.org/corporations/",llcFee:"$130",corpFee:"$100",processingTime:"3-5 days"},WY:{name:"Wyoming Secretary of State",url:"https://sos.wyo.gov/Business/",llcFee:"$100",corpFee:"$100",processingTime:"1-2 days"},DC:{name:"DC DLCP",url:"https://dcra.dc.gov/service/business-registration",llcFee:"$220",corpFee:"$270",processingTime:"5-7 days"}},S0=[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"DC",label:"District of Columbia"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"}],TP=[{value:"sole_proprietorship",label:"Sole Proprietorship",description:"Simplest structure. No separate legal entity. Personal liability.",pros:["Easy to start","No formation fees","Simple taxes (Schedule C)"],cons:["Personal liability","Self-employment tax","Hard to raise capital"],taxRule:"File Schedule C with Form 1040. All profit subject to 15.3% self-employment tax.",tips:["Best for testing a business idea","Can convert to LLC later"]},{value:"llc_single",label:"Single-Member LLC",description:"One owner with liability protection. Taxed as sole prop by default.",pros:["Liability protection","Pass-through taxation","Flexible"],cons:["State fees","Self-employment tax","Annual reports"],taxRule:"Disregarded entity - taxed same as Sole Prop (Schedule C). Can elect S-Corp taxation.",tips:["Same tax treatment as Sole Prop but with liability shield","Consider S-Corp election at $60K+ profit"]},{value:"llc_multi",label:"Multi-Member LLC",description:"Two+ owners with liability protection. Taxed as partnership by default.",pros:["Liability protection","Flexible profit sharing","Pass-through taxation"],cons:["Operating agreement needed","State fees","Complex tax returns"],taxRule:"Taxed as Partnership (Form 1065). Each member gets K-1. Profits flow to personal returns.",tips:["Same tax rules as General Partnership","Operating agreement defines profit splits","Can elect S-Corp taxation"]},{value:"s_corp",label:"S Corporation",description:"Corporation with pass-through taxation. Salary + distribution model.",pros:["Save on self-employment tax","Liability protection","Credibility"],cons:["Reasonable salary required","Payroll taxes","More compliance"],taxRule:"File Form 1120-S. Pay reasonable salary (W-2), then distributions avoid SE tax.",tips:["Must pay yourself 'reasonable compensation'","Best at $60K+ net profit","Saves ~7.65% on distributions"]},{value:"c_corp",label:"C Corporation",description:"Standard corporation. Double taxation but unlimited growth potential.",pros:["Unlimited shareholders","Raise capital easily","Fringe benefits"],cons:["Double taxation","Complex compliance","More expensive"],taxRule:"Corporate tax (21%) + shareholder dividend tax. Double taxation on distributions.",tips:["Not recommended for most small businesses","Used for venture capital, going public"]},{value:"partnership_general",label:"General Partnership",description:"Two+ owners sharing profits. All partners have management rights and liability.",pros:["Easy to form","Pass-through taxation","No state filing required"],cons:["Unlimited personal liability","Partner disputes","Each partner binds the others"],taxRule:"File Form 1065. Each partner gets K-1. All profit subject to SE tax for active partners.",tips:["All partners share unlimited liability","Any partner can create obligations for all"]},{value:"partnership_limited",label:"Limited Partnership (LP)",description:"Has General Partners (manage) and Limited Partners (invest only).",pros:["Limited partners have liability protection","Attract passive investors","Pass-through taxation"],cons:["General partner has unlimited liability","State filing required","More complex structure"],taxRule:"File Form 1065. Limited partners' share not subject to SE tax (passive income).",tips:["Limited Partner = Funder who provides capital","LP cannot participate in management","Great for family investments"]},{value:"nonprofit",label:"Nonprofit (501c3)",description:"Tax-exempt organization for charitable, religious, or educational purposes.",pros:["Tax exempt","Donations deductible","Grant eligible"],cons:["No profit distribution","Complex compliance","Public scrutiny"],taxRule:"File Form 990. Exempt from income tax. Donors can deduct contributions.",tips:["Must serve public benefit","No private benefit to founders","Requires IRS 501(c)(3) application"]}],NH="https://www.irs.gov/businesses/small-businesses-self-employed/apply-for-an-employer-identification-number-ein-online",ru=[{id:1,title:"Entity Type",description:"Choose your business structure"},{id:2,title:"Basic Info",description:"Company name and state"},{id:3,title:"EIN",description:"Employer Identification Number"},{id:4,title:"Ownership",description:"Members or shareholders"},{id:5,title:"Address",description:"Principal place of business"},{id:6,title:"Review",description:"Confirm and generate documents"}],xSe=e=>{switch(e){case"sole_proprietorship":return n.jsx($i,{className:"w-5 h-5"});case"llc_single":return n.jsx($n,{className:"w-5 h-5"});case"llc_multi":return n.jsx(Or,{className:"w-5 h-5"});case"s_corp":return n.jsx(Dx,{className:"w-5 h-5"});case"c_corp":return n.jsx(hT,{className:"w-5 h-5"});case"partnership_general":case"partnership_limited":case"partnership":return n.jsx(bee,{className:"w-5 h-5"});case"nonprofit":return n.jsx(cn,{className:"w-5 h-5"});default:return n.jsx($n,{className:"w-5 h-5"})}},gSe=({value:e,onChange:t})=>n.jsx(Hx,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-display font-bold text-foreground mb-2",children:"Choose Your Business Structure"}),n.jsx("p",{className:"text-muted-foreground",children:"Select the entity type that best fits your business needs. This determines your liability protection, tax treatment, and compliance requirements."})]}),n.jsx("div",{className:"grid gap-4",children:TP.map(r=>n.jsx("button",{onClick:()=>t(r.value),className:z("w-full text-left p-4 rounded-xl border-2 transition-all duration-200",e===r.value?"border-emerald-gold bg-emerald-gold/10":"border-border hover:border-emerald-gold/50 bg-card"),children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:z("w-10 h-10 rounded-lg flex items-center justify-center shrink-0",e===r.value?"bg-emerald-gold text-night-emerald":"bg-muted text-muted-foreground"),children:xSe(r.value)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:r.label}),e===r.value&&n.jsx(ss,{className:"w-4 h-4 text-emerald-gold"})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.description}),r.taxRule&&n.jsx("div",{className:"flex items-center gap-2 mt-2",children:n.jsxs(Wl,{children:[n.jsx(ql,{asChild:!0,children:n.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs bg-blue-500/10 text-blue-600 dark:text-blue-400 px-2 py-1 rounded-full cursor-help",children:[n.jsx(Gs,{className:"w-3 h-3"}),"Tax Rules"]})}),n.jsx(_o,{side:"top",className:"max-w-xs",children:n.jsx("p",{className:"text-sm",children:r.taxRule})})]})}),n.jsxs("div",{className:"flex flex-wrap gap-4 mt-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium text-green-500",children:"Pros:"}),n.jsx("ul",{className:"text-xs text-muted-foreground mt-1 space-y-0.5",children:r.pros.map((s,a)=>n.jsxs("li",{children:[" ",s]},a))})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium text-amber-500",children:"Cons:"}),n.jsx("ul",{className:"text-xs text-muted-foreground mt-1 space-y-0.5",children:r.cons.map((s,a)=>n.jsxs("li",{children:[" ",s]},a))})]})]}),r.tips&&r.tips.length>0&&n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:r.tips.map((s,a)=>n.jsxs(Wl,{children:[n.jsx(ql,{asChild:!0,children:n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-amber-500/10 text-amber-600 dark:text-amber-400 px-2 py-1 rounded-full cursor-help",children:[n.jsx(Bx,{className:"w-3 h-3"}),"Tip ",a+1]})}),n.jsx(_o,{side:"top",className:"max-w-xs",children:n.jsx("p",{className:"text-sm",children:s})})]},a))})]})]})},r.value))})]})}),ySe=({companyName:e,state:t,formationDate:r,entityType:s,onCompanyNameChange:a,onStateChange:i,onFormationDateChange:o})=>{var h,m;const l=t?wH[t]:null,c=((h=TP.find(f=>f.value===s))==null?void 0:h.label)||"Company",d=s.includes("llc"),u=s.includes("corp");return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-display font-bold text-foreground mb-2",children:"Basic Company Information"}),n.jsx("p",{className:"text-muted-foreground",children:"Enter your company name and select the state where you'll file."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"companyName",className:"text-foreground",children:"Company Name"}),n.jsx(F,{id:"companyName",value:e,onChange:f=>a(f.target.value),placeholder:`Enter your ${c} name`,className:"bg-card border-border"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[d&&"Must include 'LLC' or 'Limited Liability Company' in the name.",u&&"Must include 'Inc.', 'Corp.', or 'Corporation' in the name."]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{htmlFor:"state",className:"text-foreground",children:"State of Formation"}),n.jsxs(Re,{value:t,onValueChange:i,children:[n.jsx(Pe,{className:"bg-card border-border",children:n.jsx(Ie,{placeholder:"Select a state"})}),n.jsx(Ae,{className:"bg-card border-border z-50",children:S0.map(f=>n.jsx(he,{value:f.value,children:f.label},f.value))})]})]}),l&&n.jsx("div",{className:"p-4 rounded-xl bg-dark-emerald/50 border border-emerald-gold/20",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Gs,{className:"w-5 h-5 text-emerald-gold shrink-0 mt-0.5"}),n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:l.name}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"LLC Fee:"}),n.jsx("span",{className:"ml-2 text-foreground font-medium",children:l.llcFee})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Corp Fee:"}),n.jsx("span",{className:"ml-2 text-foreground font-medium",children:l.corpFee})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Processing:"}),n.jsx("span",{className:"ml-2 text-foreground font-medium",children:l.processingTime})]})]}),n.jsxs($,{variant:"outline",size:"sm",className:"mt-2 gap-2 border-emerald-gold/30 text-emerald-gold hover:bg-emerald-gold/10",onClick:()=>window.open(l.url,"_blank"),children:[n.jsx(Vl,{className:"w-4 h-4"}),"Visit ",(m=S0.find(f=>f.value===t))==null?void 0:m.label," Secretary of State"]})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(M,{htmlFor:"formationDate",className:"text-foreground flex items-center gap-2",children:[n.jsx(_s,{className:"w-4 h-4"}),"Formation Date"]}),n.jsx(F,{id:"formationDate",type:"date",value:r,onChange:f=>o(f.target.value),className:"bg-card border-border"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"When you filed (or plan to file) with the state."})]})]})]})},vSe=({hasEin:e,ein:t,onHasEinChange:r,onEinChange:s})=>{const a=o=>{const l=o.replace(/\D/g,"").slice(0,9);return l.length<=2?l:`${l.slice(0,2)}-${l.slice(2)}`},i=o=>{s(a(o.target.value))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-display font-bold text-foreground mb-2",children:"Employer Identification Number (EIN)"}),n.jsx("p",{className:"text-muted-foreground",children:"An EIN is like a Social Security Number for your business. It's required for hiring employees, opening business bank accounts, and filing taxes."})]}),n.jsx("div",{className:"p-4 rounded-xl bg-emerald-gold/10 border border-emerald-gold/30",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Xa,{className:"w-5 h-5 text-emerald-gold shrink-0 mt-0.5"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm text-foreground",children:[n.jsx("strong",{children:"Get your EIN for free"})," directly from the IRS. It takes about 10 minutes online."]}),n.jsxs($,{variant:"outline",size:"sm",className:"gap-2 border-emerald-gold/30 text-emerald-gold hover:bg-emerald-gold/10",onClick:()=>window.open(NH,"_blank"),children:[n.jsx(Vl,{className:"w-4 h-4"}),"Apply for EIN at IRS.gov"]})]})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(M,{className:"text-foreground",children:"Do you have an EIN?"}),n.jsxs(jd,{value:e,onValueChange:o=>r(o),className:"space-y-3",children:[n.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all ${e==="yes"?"border-emerald-gold bg-emerald-gold/10":"border-border hover:border-emerald-gold/50 bg-card"}`,children:[n.jsx(ha,{value:"yes"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:"font-medium text-foreground",children:"Yes, I have an EIN"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"I'll enter it below"})]}),n.jsx(Lx,{className:`w-5 h-5 ${e==="yes"?"text-emerald-gold":"text-muted"}`})]}),n.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all ${e==="no"?"border-emerald-gold bg-emerald-gold/10":"border-border hover:border-emerald-gold/50 bg-card"}`,children:[n.jsx(ha,{value:"no"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:"font-medium text-foreground",children:"No, I need to get one"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"I'll apply now or soon"})]})]}),n.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all ${e==="later"?"border-emerald-gold bg-emerald-gold/10":"border-border hover:border-emerald-gold/50 bg-card"}`,children:[n.jsx(ha,{value:"later"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:"font-medium text-foreground",children:"I'll add it later"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Skip for now and continue"})]})]})]}),e==="yes"&&n.jsxs("div",{className:"space-y-2 pt-2",children:[n.jsx(M,{htmlFor:"ein",className:"text-foreground",children:"Enter your EIN"}),n.jsx(F,{id:"ein",value:t,onChange:i,placeholder:"XX-XXXXXXX",className:"bg-card border-border font-mono text-lg",maxLength:10}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: 12-3456789 (9 digits total)"})]}),e==="no"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border",children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Next Steps:"}),n.jsxs("ol",{className:"text-sm text-muted-foreground space-y-2 list-decimal list-inside",children:[n.jsx("li",{children:"Click the IRS link above to start your application"}),n.jsx("li",{children:"Have your formation documents ready"}),n.jsx("li",{children:"Complete the online interview (10 min)"}),n.jsx("li",{children:"Receive your EIN immediately upon completion"}),n.jsx("li",{children:"Come back here and update your company profile"})]})]})]})]})},bSe=[{value:"member",label:"Member"},{value:"manager",label:"Manager"},{value:"managing_member",label:"Managing Member"},{value:"president",label:"President"},{value:"ceo",label:"CEO"},{value:"director",label:"Director"},{value:"shareholder",label:"Shareholder"},{value:"partner",label:"Partner"}],jSe=({members:e,entityType:t,onMembersChange:r})=>{const s=t==="llc_single"||t==="sole_proprietorship",a=e.reduce((c,d)=>c+(d.ownershipPercent||0),0),i=()=>{r([...e,{name:"",email:"",ownershipPercent:0,role:"member"}])},o=c=>{e.length>1&&r(e.filter((d,u)=>u!==c))},l=(c,d,u)=>{const h=[...e];h[c]={...h[c],[d]:u},r(h)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-display font-bold text-foreground mb-2",children:"Ownership & Members"}),n.jsx("p",{className:"text-muted-foreground",children:s?"Enter your information as the sole owner.":"Add all members/shareholders and their ownership percentages."})]}),!s&&a!==100&&e.some(c=>c.ownershipPercent>0)&&n.jsx("div",{className:`p-3 rounded-lg border ${a>100?"bg-destructive/10 border-destructive/30":"bg-amber-500/10 border-amber-500/30"}`,children:n.jsxs("p",{className:`text-sm ${a>100?"text-destructive":"text-amber-500"}`,children:["Total ownership: ",a,"%  ",a>100?"exceeds":"must equal"," 100%"]})}),n.jsxs("div",{className:"space-y-4",children:[e.map((c,d)=>n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Or,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium text-foreground",children:s?"Owner":`Member ${d+1}`})]}),!s&&e.length>1&&n.jsx($,{variant:"ghost",size:"sm",onClick:()=>o(d),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:n.jsx(xr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{className:"text-foreground",children:"Full Name"}),n.jsx(F,{value:c.name,onChange:u=>l(d,"name",u.target.value),placeholder:"John Smith",className:"bg-background border-border"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{className:"text-foreground",children:"Email"}),n.jsx(F,{type:"email",value:c.email,onChange:u=>l(d,"email",u.target.value),placeholder:"john@example.com",className:"bg-background border-border"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{className:"text-foreground",children:"Role"}),n.jsxs(Re,{value:c.role,onValueChange:u=>l(d,"role",u),children:[n.jsx(Pe,{className:"bg-background border-border",children:n.jsx(Ie,{})}),n.jsx(Ae,{className:"bg-card border-border z-50",children:bSe.map(u=>n.jsx(he,{value:u.value,children:u.label},u.value))})]})]}),!s&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{className:"text-foreground",children:"Ownership %"}),n.jsx(F,{type:"number",min:"0",max:"100",value:c.ownershipPercent||"",onChange:u=>l(d,"ownershipPercent",Number(u.target.value)),placeholder:"50",className:"bg-background border-border"})]})]})]},d)),!s&&n.jsxs($,{variant:"outline",onClick:i,className:"w-full gap-2 border-dashed border-emerald-gold/30 text-emerald-gold hover:bg-emerald-gold/10",children:[n.jsx(jr,{className:"w-4 h-4"}),"Add Another Member"]})]})]})},wSe=({address:e,onAddressChange:t})=>{const r=(s,a)=>{t({...e,[s]:a})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-display font-bold text-foreground mb-2",children:"Business Address"}),n.jsx("p",{className:"text-muted-foreground",children:"Enter the principal place of business. This will appear on official documents and state filings."})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Md,{className:"w-5 h-5 text-emerald-gold"}),n.jsx("span",{className:"font-medium text-foreground",children:"Principal Address"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{className:"text-foreground",children:"Street Address"}),n.jsx(F,{value:e.street1,onChange:s=>r("street1",s.target.value),placeholder:"123 Main Street",className:"bg-background border-border"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(M,{className:"text-foreground",children:["Address Line 2 ",n.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),n.jsx(F,{value:e.street2,onChange:s=>r("street2",s.target.value),placeholder:"Suite 100, Building A, etc.",className:"bg-background border-border"})]}),n.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{className:"text-foreground",children:"City"}),n.jsx(F,{value:e.city,onChange:s=>r("city",s.target.value),placeholder:"City",className:"bg-background border-border"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{className:"text-foreground",children:"State"}),n.jsxs(Re,{value:e.state,onValueChange:s=>r("state",s),children:[n.jsx(Pe,{className:"bg-background border-border",children:n.jsx(Ie,{placeholder:"State"})}),n.jsx(Ae,{className:"bg-card border-border z-50",children:S0.map(s=>n.jsx(he,{value:s.value,children:s.label},s.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{className:"text-foreground",children:"ZIP Code"}),n.jsx(F,{value:e.zip,onChange:s=>r("zip",s.target.value),placeholder:"12345",className:"bg-background border-border",maxLength:10})]})]})]})]}),n.jsx("div",{className:"p-3 rounded-lg bg-muted/50 border border-border",children:n.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.jsx("strong",{children:"Note:"})," You can use a home address, virtual office, or registered agent address. Some states require a physical address (no P.O. Box) for your registered agent."]})})]})},NSe=({formData:e,electSCorp:t,onElectSCorpChange:r,onGenerate:s,isGenerating:a})=>{var u,h;const i=((u=TP.find(m=>m.value===e.entityType))==null?void 0:u.label)||"Company",o=((h=S0.find(m=>m.value===e.state))==null?void 0:h.label)||e.state,l=e.state?wH[e.state]:null,c=e.entityType==="llc_single"||e.entityType==="llc_multi",d=[{name:"Operating Agreement",included:e.entityType.includes("llc")},{name:"Articles of Organization",included:e.entityType.includes("llc")},{name:"Articles of Incorporation",included:e.entityType.includes("corp")},{name:"Corporate Bylaws",included:e.entityType.includes("corp")},{name:"Partnership Agreement",included:e.entityType==="partnership"},{name:"Tax Forms Checklist",included:!0},{name:"Compliance Calendar",included:!0},{name:"Form 2553 (S-Corp Election)",included:t}].filter(m=>m.included);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-display font-bold text-foreground mb-2",children:"Review & Generate Documents"}),n.jsx("p",{className:"text-muted-foreground",children:"Confirm your information and generate your complete document package."})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-gold/20 flex items-center justify-center",children:n.jsx($n,{className:"w-6 h-6 text-emerald-gold"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-foreground text-lg",children:e.companyName||"Unnamed Company"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[i,"  ",o]})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 pt-2 border-t border-border",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Formation Date"}),n.jsx("p",{className:"text-foreground font-medium",children:e.formationDate||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"EIN"}),n.jsx("p",{className:"text-foreground font-medium",children:e.hasEin==="yes"?e.ein||"Entered":e.hasEin==="no"?"Pending":"Later"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Members"}),n.jsxs("p",{className:"text-foreground font-medium",children:[e.members.filter(m=>m.name).length," owner(s)"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Address"}),n.jsx("p",{className:"text-foreground font-medium",children:e.address.city?`${e.address.city}, ${e.address.state}`:"Not specified"})]})]})]}),c&&n.jsx("div",{className:"p-4 rounded-xl bg-emerald-gold/10 border border-emerald-gold/30",children:n.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[n.jsx(ga,{checked:t,onCheckedChange:m=>r(m===!0),className:"mt-1"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-foreground",children:"Elect S-Corporation Tax Treatment"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"File Form 2553 to be taxed as an S-Corp. This can save self-employment taxes if you pay yourself a reasonable salary. Requires payroll setup."})]})]})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold text-foreground flex items-center gap-2",children:[n.jsx(wt,{className:"w-4 h-4"}),"Documents Package"]}),n.jsx("div",{className:"grid sm:grid-cols-2 gap-2",children:d.map(m=>n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/30",children:[n.jsx(Lx,{className:"w-4 h-4 text-emerald-gold"}),n.jsx("span",{className:"text-sm text-foreground",children:m.name})]},m.name))})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border space-y-3",children:[n.jsxs("h4",{className:"font-semibold text-foreground flex items-center gap-2",children:[n.jsx(_s,{className:"w-4 h-4"}),"After This Wizard"]}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[e.hasEin!=="yes"&&n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Xa,{className:"w-4 h-4 text-amber-500 shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-foreground",children:"Apply for EIN"}),n.jsxs($,{variant:"link",size:"sm",className:"h-auto p-0 ml-2 text-emerald-gold",onClick:()=>window.open(NH,"_blank"),children:["IRS.gov ",n.jsx(Vl,{className:"w-3 h-3 ml-1"})]})]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(d1,{className:"w-4 h-4 text-muted-foreground shrink-0 mt-0.5"}),n.jsx("span",{className:"text-muted-foreground",children:"File with Secretary of State"}),l&&n.jsxs($,{variant:"link",size:"sm",className:"h-auto p-0 text-emerald-gold",onClick:()=>window.open(l.url,"_blank"),children:[o," SOS ",n.jsx(Vl,{className:"w-3 h-3 ml-1"})]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(d1,{className:"w-4 h-4 text-muted-foreground shrink-0 mt-0.5"}),n.jsx("span",{className:"text-muted-foreground",children:"Open business bank account"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(d1,{className:"w-4 h-4 text-muted-foreground shrink-0 mt-0.5"}),n.jsx("span",{className:"text-muted-foreground",children:"Set up accounting/bookkeeping"})]}),t&&n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Xa,{className:"w-4 h-4 text-amber-500 shrink-0 mt-0.5"}),n.jsx("span",{className:"text-foreground",children:"File Form 2553 within 75 days of formation"})]})]})]}),n.jsx($,{onClick:s,disabled:a||!e.companyName,size:"lg",className:"w-full bg-emerald-gold hover:bg-emerald-gold/90 text-night-emerald font-bold h-14 text-lg gap-2",children:a?n.jsx(n.Fragment,{children:"Generating..."}):n.jsxs(n.Fragment,{children:[n.jsx(ud,{className:"w-5 h-5"}),"Generate Document Package"]})})]})},nu=({icon:e,label:t,description:r,checked:s,onCheckedChange:a,recommended:i})=>n.jsxs("div",{className:"flex items-start justify-between gap-4 p-4 rounded-lg bg-muted/50 border border-border/50",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-0.5 text-muted-foreground",children:e}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(M,{htmlFor:t,className:"text-sm font-medium cursor-pointer",children:t}),i&&n.jsx("span",{className:"text-[10px] bg-emerald-gold/20 text-emerald-gold px-1.5 py-0.5 rounded",children:"Recommended"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})]}),n.jsx(lr,{id:t,checked:s,onCheckedChange:a,className:"shrink-0"})]});function _Se(){const{settings:e,toggleSetting:t,resetToDefaults:r}=ij();return n.jsxs(q,{className:"border-emerald-gold/20",children:[n.jsxs(de,{className:"pb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pp,{className:"w-5 h-5 text-emerald-gold"}),n.jsx(ce,{className:"text-lg",children:"Accessibility Settings"})]}),n.jsx(ye,{children:"Customize your experience to reduce cognitive load and improve focus"})]}),n.jsxs(K,{className:"space-y-3",children:[n.jsx(nu,{icon:n.jsx(Ir,{className:"w-4 h-4"}),label:"Reduced Motion",description:"Minimize animations and transitions for less distraction",checked:e.reducedMotion,onCheckedChange:()=>t("reducedMotion"),recommended:!0}),n.jsx(nu,{icon:n.jsx(qb,{className:"w-4 h-4"}),label:"Focus Mode",description:"Hide non-essential UI elements to stay focused on current task",checked:e.focusMode,onCheckedChange:()=>t("focusMode"),recommended:!0}),n.jsx(nu,{icon:n.jsx(is,{className:"w-4 h-4"}),label:"Time Estimates",description:"Show estimated time for each step to reduce anxiety",checked:e.showTimeEstimates,onCheckedChange:()=>t("showTimeEstimates"),recommended:!0}),n.jsx(nu,{icon:n.jsx(Od,{className:"w-4 h-4"}),label:"High Contrast",description:"Increase color contrast for better visibility",checked:e.highContrast,onCheckedChange:()=>t("highContrast")}),n.jsx(nu,{icon:n.jsx(xB,{className:"w-4 h-4"}),label:"Large Text",description:"Increase text size throughout the app",checked:e.largeText,onCheckedChange:()=>t("largeText")}),n.jsx(nu,{icon:n.jsx(gB,{className:"w-4 h-4"}),label:"Screen Reader Optimized",description:"Enhanced descriptions for assistive technology",checked:e.screenReaderOptimized,onCheckedChange:()=>t("screenReaderOptimized")}),n.jsx("div",{className:"pt-2",children:n.jsxs($,{variant:"outline",size:"sm",onClick:r,className:"w-full gap-2",children:[n.jsx(Rd,{className:"w-3 h-3"}),"Reset to Defaults"]})})]})]})}function L2(){const{settings:e}=ij(),t=Object.values(e).filter(Boolean).length;return n.jsxs(UW,{children:[n.jsx(WW,{asChild:!0,children:n.jsxs($,{variant:"ghost",size:"icon",className:"relative","aria-label":"Accessibility settings",children:[n.jsx(pp,{className:"w-5 h-5"}),t>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-emerald-gold text-night-emerald text-[10px] font-bold rounded-full flex items-center justify-center",children:t})]})}),n.jsxs(sP,{className:"overflow-y-auto",children:[n.jsxs(aP,{className:"mb-4",children:[n.jsxs(iP,{className:"flex items-center gap-2",children:[n.jsx(pp,{className:"w-5 h-5"}),"Accessibility"]}),n.jsx(HW,{children:"Settings designed for ADHD, cognitive differences, and sensory needs"})]}),n.jsx(_Se,{})]})]})}const vy="company-wizard-draft",SN={entityType:"",companyName:"",state:"",formationDate:"",hasEin:"later",ein:"",members:[{name:"",email:"",ownershipPercent:100,role:"managing_member"}],address:{street1:"",street2:"",city:"",state:"",zip:""},electSCorp:!1,documentsGenerated:[]},by=["entity-type","basic-info","ein","ownership","address","review"],SSe=()=>{const e=Qt(),[t,r]=x.useState(1),[s,a]=x.useState(SN),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[d,u]=x.useState(!1),{settings:h}=ij();x.useEffect(()=>{const N=localStorage.getItem(vy);if(N)try{const{step:_,formData:C}=JSON.parse(N);r(_||1),a({...SN,...C}),c(!0)}catch(_){console.error("Failed to load draft:",_)}},[]),x.useEffect(()=>{(s.entityType||s.companyName)&&(localStorage.setItem(vy,JSON.stringify({step:t,formData:s})),c(!0))},[t,s]);const m=()=>{localStorage.removeItem(vy),a(SN),r(1),c(!1),We.success("Draft cleared")},f=()=>{switch(t){case 1:return!!s.entityType;case 2:return!!s.companyName&&!!s.state;case 3:return!0;case 4:return s.members.some(N=>N.name);case 5:return!!s.address.street1&&!!s.address.city&&!!s.address.state&&!!s.address.zip;case 6:return!0;default:return!0}},p=x.useCallback(()=>{if(!(t>=6)){if(!f()){const N=(()=>{switch(t){case 1:return"Select a business structure to continue.";case 2:return"Enter a company name and select a state to continue.";case 4:return"Add at least one owner/member name to continue.";case 5:return"Complete the address fields (street, city, state, ZIP) to continue.";default:return"Complete this step to continue."}})();We.error(N);return}r(N=>Math.min(6,N+1)),u(!0),setTimeout(()=>u(!1),1500)}},[t,s]),g=x.useCallback(()=>{t>1&&r(t-1)},[t]);x.useEffect(()=>{const N=_=>{_.target instanceof HTMLInputElement||_.target instanceof HTMLTextAreaElement||(_.key==="ArrowRight"||_.key==="Enter"?t<6&&p():_.key==="ArrowLeft"||_.key==="Backspace"?t>1&&g():_.key==="Escape"&&e(-1))};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[t,s,p,g,e]);const v=async()=>{o(!0),await new Promise(N=>setTimeout(N,1500)),localStorage.removeItem(vy),We.success("Document package generated! Check your downloads."),o(!1)},j=ru[t-1],y=(t-1)/(ru.length-1)*100,b=Qg[by[t-1]],w=by.slice(t-1).reduce((N,_)=>{var C;return N+(((C=Qg[_])==null?void 0:C.minutes)||0)},0);return n.jsx(Hx,{children:n.jsxs("div",{className:"min-h-screen bg-night-emerald",children:[n.jsx("header",{className:"border-b border-emerald-gold/20 bg-night-emerald/80 backdrop-blur-sm sticky top-0 z-50",children:n.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-gold flex items-center justify-center",children:n.jsx($n,{className:"w-6 h-6 text-night-emerald"})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xl font-display font-bold text-clean-white",children:"Company Wizard"}),l&&n.jsxs("span",{className:"ml-3 text-xs text-emerald-gold flex items-center gap-1",children:[n.jsx(xT,{className:"w-3 h-3"})," Draft saved"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(L2,{}),l&&n.jsxs(Wl,{children:[n.jsx(ql,{asChild:!0,children:n.jsx($,{variant:"ghost",size:"sm",onClick:m,className:"text-moon-silver hover:text-destructive",children:n.jsx(Vi,{className:"w-4 h-4"})})}),n.jsx(_o,{children:"Clear draft and start over"})]}),n.jsx($,{variant:"ghost",onClick:()=>e(-1),className:"text-moon-silver",children:"Exit"})]})]})}),n.jsxs("div",{className:"container mx-auto px-6 py-8 max-w-3xl",id:"main-content",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("span",{className:"text-sm text-moon-silver",children:["Step ",t," of ",ru.length]}),n.jsxs("div",{className:"flex items-center gap-3",children:[h.showTimeEstimates&&n.jsxs("span",{className:"time-estimate",children:[n.jsx(is,{className:"w-3 h-3"}),"~",w," min left"]}),n.jsxs("span",{className:"text-sm text-emerald-gold",children:[Math.round(y),"% complete"]})]})]}),n.jsx(Ws,{value:y,className:"h-2 bg-muted"})]}),n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-display font-bold text-clean-white flex items-center gap-2",children:[j.title,d&&!h.reducedMotion&&n.jsx(pee,{className:"w-5 h-5 text-emerald-gold animate-bounce"})]}),n.jsx("p",{className:"text-moon-silver mt-1",children:j.description})]}),n.jsx("div",{className:"flex items-center gap-2",children:h.showTimeEstimates&&b&&n.jsxs("span",{className:"time-estimate shrink-0",children:[n.jsx(is,{className:"w-3 h-3"}),b.label]})})]}),n.jsxs("div",{className:"flex justify-between items-center mb-6 p-3 rounded-lg bg-dark-emerald/30 border border-emerald-gold/10",children:[n.jsxs($,{variant:"ghost",size:"sm",onClick:g,disabled:t===1,className:"gap-1 text-moon-silver hover:text-clean-white hover:bg-moon-silver/10","aria-label":"Go to previous step",children:[n.jsx(Mt,{className:"w-4 h-4"})," Back"]}),n.jsxs("span",{className:"text-sm text-moon-silver/80",children:["Step ",t," of ",ru.length]}),t<6?n.jsxs($,{size:"sm",onClick:p,className:z("gap-1 bg-emerald-gold hover:bg-emerald-gold/90 text-night-emerald",!f()&&"opacity-60"),"aria-label":`Continue to step ${t+1}`,children:["Next ",n.jsx(kn,{className:"w-4 h-4"})]}):n.jsx("div",{className:"w-16"})]}),n.jsx("div",{className:z("flex items-center justify-between mb-8 overflow-x-auto pb-2",h.focusMode&&"focus-hide"),children:ru.map((N,_)=>n.jsxs("div",{className:"flex items-center",children:[n.jsxs(Wl,{children:[n.jsx(ql,{asChild:!0,children:n.jsx("button",{onClick:()=>N.id<=t&&r(N.id),disabled:N.id>t,"aria-label":`Step ${N.id}: ${N.title}${t>N.id?" (completed)":t===N.id?" (current)":" (upcoming)"}`,className:z("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all",t===N.id?"bg-emerald-gold text-night-emerald ring-2 ring-emerald-gold/50 ring-offset-2 ring-offset-night-emerald focus-primary":t>N.id?"bg-emerald-gold/20 text-emerald-gold cursor-pointer hover:bg-emerald-gold/30":"bg-muted text-muted-foreground cursor-not-allowed"),children:t>N.id?n.jsx(ss,{className:"w-4 h-4"}):N.id})}),n.jsxs(_o,{side:"bottom",children:[n.jsx("p",{className:"font-medium",children:N.title}),n.jsx("p",{className:"text-xs text-muted-foreground",children:N.description}),h.showTimeEstimates&&Qg[by[_]]&&n.jsx("p",{className:"text-xs text-blue-400 mt-1",children:Qg[by[_]].label})]})]}),_<ru.length-1&&n.jsx("div",{className:z("w-8 h-0.5 mx-1 transition-colors",t>N.id?"bg-emerald-gold/40":"bg-muted")})]},N.id))}),n.jsxs("div",{className:z("bg-dark-emerald/30 rounded-2xl border border-emerald-gold/20 p-6",h.focusMode&&"focus-primary"),children:[t===1&&n.jsx(gSe,{value:s.entityType,onChange:N=>a({...s,entityType:N})}),t===2&&n.jsx(ySe,{companyName:s.companyName,state:s.state,formationDate:s.formationDate,entityType:s.entityType,onCompanyNameChange:N=>a({...s,companyName:N}),onStateChange:N=>a({...s,state:N}),onFormationDateChange:N=>a({...s,formationDate:N})}),t===3&&n.jsx(vSe,{hasEin:s.hasEin,ein:s.ein,onHasEinChange:N=>a({...s,hasEin:N}),onEinChange:N=>a({...s,ein:N})}),t===4&&n.jsx(jSe,{members:s.members,entityType:s.entityType,onMembersChange:N=>a({...s,members:N})}),t===5&&n.jsx(wSe,{address:s.address,onAddressChange:N=>a({...s,address:N})}),t===6&&n.jsx(NSe,{formData:s,electSCorp:s.electSCorp,onElectSCorpChange:N=>a({...s,electSCorp:N}),onGenerate:v,isGenerating:i}),t===6&&n.jsxs("div",{className:"mt-6 pt-6 border-t border-emerald-gold/20",children:[n.jsxs($,{variant:"outline",className:"w-full gap-2 border-emerald-gold/40 text-emerald-gold hover:bg-emerald-gold/10",onClick:()=>e("/tax-wizard"),children:[n.jsx(wt,{className:"w-4 h-4"}),"Continue to Tax Form Wizard (SSDI-Safe)"]}),n.jsx("p",{className:"text-xs text-moon-silver/60 text-center mt-2",children:"Guided field-by-field tax form filling with SSDI safeguards"})]})]}),n.jsxs("div",{className:"flex justify-between mt-6",children:[n.jsxs($,{variant:"outline",onClick:g,disabled:t===1,className:"gap-2 border-moon-silver/30 text-moon-silver hover:bg-moon-silver/10","aria-label":"Go to previous step",children:[n.jsx(Mt,{className:"w-4 h-4"})," Back"]}),t<6?n.jsxs($,{onClick:p,"aria-disabled":!f(),className:z("gap-2 bg-emerald-gold hover:bg-emerald-gold/90 text-night-emerald visual-alert",!f()&&"opacity-60 cursor-not-allowed"),"aria-label":`Continue to step ${t+1}`,children:["Next ",n.jsx(kn,{className:"w-4 h-4"})]}):n.jsx("div",{className:"text-xs text-moon-silver/60 flex items-center",children:"Keyboard:   to navigate, Esc to exit"})]}),n.jsx("p",{className:z("text-center text-xs text-moon-silver/40 mt-4",h.focusMode&&"focus-hide"),children:"Tip: Use arrow keys to navigate between steps"})]})]})})},Yr={standardDeductionSingle:14600,standardDeductionMFJ:29200,standardDeductionHOH:21900,section179Limit:129e4,section179PhaseOut:322e4,qbiDeductionRate:.2,qbiThresholdSingle:191950,qbiThresholdMFJ:383900,sgaMonthlyLimit:1620,twpMonthlyLimit:1110,selfEmploymentTaxRate:.153,socialSecurityWageBase:168600,mileageRate:.67,ssTaxableThresholdSingle:25e3,ssTaxableThresholdMFJ:32e3,maxSsTaxablePercent:.85},CSe=[{value:"single",label:"Single"},{value:"married_filing_jointly",label:"Married Filing Jointly"},{value:"married_filing_separately",label:"Married Filing Separately"},{value:"head_of_household",label:"Head of Household"},{value:"qualifying_widow",label:"Qualifying Surviving Spouse"}],kSe={id:"form_1040",name:"Form 1040",fullName:"U.S. Individual Income Tax Return",description:"Reports all income and deductions. For SSDI users, focus on passive income lines to avoid SGA flags.",applicableTo:["passive_owner","active_manager"],estimatedMinutes:45,sections:[{id:"filing_info",title:"Filing Information",fields:[{id:"filing_status",name:"Filing Status",type:"select",options:CSe,explanation:"Your filing status affects your standard deduction and tax brackets. Single filers get ~$14,600 deduction in 2026.",example:"Single if not married",required:!0},{id:"first_name",name:"First Name",type:"text",explanation:"Your legal first name as shown on your Social Security card.",required:!0},{id:"last_name",name:"Last Name",type:"text",explanation:"Your legal last name as shown on your Social Security card.",required:!0},{id:"ssn",name:"Social Security Number",type:"ssn",explanation:"Your 9-digit SSN. This identifies you to the IRS.",required:!0,validation:{pattern:"^\\d{3}-?\\d{2}-?\\d{4}$",message:"Enter valid SSN (XXX-XX-XXXX)"}}]},{id:"income",title:"Income",description:"Report all sources of income. SSDI recipients: passive income here is safe.",fields:[{id:"line_1_wages",name:"Wages, Salaries, Tips",line:"Line 1",type:"currency",explanation:"Total W-2 wages from all jobs (e.g., Home Depot). Attach all W-2 forms.",example:"$45,000 from employment",ssdiWarning:"High wages may trigger SGA review. Keep under $1,620/month if receiving SSDI.",threshold:{value:Yr.sgaMonthlyLimit*12,warning:"Annual wages exceed SGA limit - may affect SSDI benefits"}},{id:"line_2b_taxable_interest",name:"Taxable Interest",line:"Line 2b",type:"currency",explanation:"Interest from bank accounts, CDs, bonds. This is passive income - safe for SSDI.",example:"$250 from savings account"},{id:"line_3b_dividends",name:"Ordinary Dividends",line:"Line 3b",type:"currency",explanation:"Dividends from stocks and mutual funds. Passive income - no SSDI impact.",example:"$500 from investments"},{id:"line_4b_ira_taxable",name:"IRA Distributions (Taxable)",line:"Line 4b",type:"currency",explanation:"Taxable portion of IRA withdrawals. Early withdrawal penalties may apply if under 59."},{id:"line_5b_pensions_taxable",name:"Pensions and Annuities (Taxable)",line:"Line 5b",type:"currency",explanation:"Taxable portion of pension/annuity payments. Passive income."},{id:"line_6a_ss_benefits",name:"Social Security Benefits (Total)",line:"Line 6a",type:"currency",explanation:"Enter your TOTAL SSDI benefits from SSA-1099 Box 5 (~$40,800). Full amount goes here; taxable portion calculated on Line 6b.",example:"$40,800 annual SSDI",defaultValue:0},{id:"line_6b_ss_taxable",name:"Taxable Social Security",line:"Line 6b",type:"calculated",explanation:"Auto-calculated: 0-85% of benefits are taxable based on your combined income (AGI + nontaxable interest + half of SS benefits). If combined income exceeds $34k single, up to 85% is taxable.",calculationFn:"calculateTaxableSS",calculateFrom:["line_6a_ss_benefits","line_11_agi"],maxDescription:"Maximum 85% of benefits if combined income >$34k (single)"},{id:"line_7_capital_gains",name:"Capital Gain or Loss",line:"Line 7",type:"currency",explanation:"Net gain/loss from Schedule D (sales of stocks, property). Enter as negative for losses.",maxLimit:-3e3,maxDescription:"Maximum capital loss deduction: $3,000/year. Excess carries forward."},{id:"line_8_other_income",name:"Other Income",line:"Line 8",type:"currency",explanation:"Miscellaneous income: 1099-NEC (Z-Trip, Rover), gambling, etc. Self-employment income here.",ssdiWarning:"Self-employment income from active work may count toward SGA."}]},{id:"adjustments",title:"Adjustments to Income",fields:[{id:"line_11_agi",name:"Adjusted Gross Income (AGI)",line:"Line 11",type:"calculated",explanation:"Auto-calculated: Total income minus above-the-line deductions (educator expenses, HSA, etc.).",calculationFn:"calculateAGI"},{id:"line_12_standard_deduction",name:"Standard Deduction",line:"Line 12",type:"currency",explanation:"Use standard deduction (~$14,600 single) OR itemize if your deductions exceed this amount (medical, charity, mortgage interest).",defaultValue:Yr.standardDeductionSingle,maxDescription:"Standard: $14,600 (single), $29,200 (MFJ), $21,900 (HOH)"},{id:"line_14_qbi_deduction",name:"Qualified Business Income Deduction",line:"Line 14",type:"calculated",explanation:"Auto-calculated: Up to 20% of qualifying business income from K-1s. Full deduction if income under $191,950 (single).",calculationFn:"calculateQBI",maxDescription:"Phase-out begins at $191,950 (single) / $383,900 (MFJ)"},{id:"line_15_taxable_income",name:"Taxable Income",line:"Line 15",type:"calculated",explanation:"Auto-calculated: AGI minus deductions. This is what you pay taxes on.",calculationFn:"calculateTaxableIncome"}]},{id:"tax_payments",title:"Tax and Payments",fields:[{id:"line_16_tax",name:"Tax",line:"Line 16",type:"calculated",explanation:"Auto-calculated from tax tables based on taxable income and filing status.",calculationFn:"calculateTax"},{id:"line_24_total_tax",name:"Total Tax",line:"Line 24",type:"calculated",explanation:"Total tax including self-employment tax, additional taxes.",calculationFn:"calculateTotalTax"},{id:"line_25_withheld",name:"Federal Tax Withheld",line:"Line 25",type:"currency",explanation:"Total taxes already withheld from W-2s and 1099s. Add all amounts."},{id:"line_33_refund_owed",name:"Refund or Amount Owed",line:"Line 33/37",type:"calculated",explanation:"Auto-calculated: Withheld - Total Tax = Refund (positive) or Owed (negative).",calculationFn:"calculateRefundOwed"}]}],attachments:["Schedule 1","Schedule 2","Schedule 3","All W-2s","All 1099s"]},TSe={id:"ssa_1099",name:"SSA-1099",fullName:"Social Security Benefit Statement",description:"Reports your SSDI/Social Security benefits. This form is provided by SSA - enter the values as shown.",applicableTo:["passive_owner"],estimatedMinutes:5,sections:[{id:"benefits",title:"Benefit Information",fields:[{id:"box_1_name",name:"Beneficiary Name",line:"Box 1",type:"text",explanation:"Your name as shown on the SSA-1099. Must match your tax return.",required:!0},{id:"box_2_ssn",name:"Beneficiary SSN",line:"Box 2",type:"ssn",explanation:"Your Social Security number.",required:!0},{id:"box_3_benefits_paid",name:"Benefits Paid",line:"Box 3",type:"currency",explanation:"Total SSDI benefits paid before deductions (~$40,800). This is your gross benefit amount.",example:"$40,800 annual SSDI",required:!0},{id:"box_5_net_benefits",name:"Net Benefits",line:"Box 5",type:"currency",explanation:"Benefits after Medicare Part B deductions. This goes on Form 1040 Line 6a.",example:"$38,500 after Medicare",required:!0},{id:"box_6_voluntary_withholding",name:"Voluntary Federal Tax Withholding",line:"Box 6",type:"currency",explanation:"If you elected to have taxes withheld from benefits. This is optional.",defaultValue:0}]}]},ESe={id:"form_1065",name:"Form 1065",fullName:"U.S. Return of Partnership Income",description:"For LLC/partnership business returns. Income passes through to K-1s for each member.",applicableTo:["joint_business"],estimatedMinutes:60,sections:[{id:"entity_info",title:"Partnership Information",fields:[{id:"business_name",name:"Partnership Name",type:"text",explanation:"Legal name of the LLC (e.g., TruthSlayer LLC, Front Range Rentals LLC).",required:!0},{id:"ein",name:"Employer Identification Number",type:"ein",explanation:"Your 9-digit EIN from the IRS. Required for all business entities.",required:!0,validation:{pattern:"^\\d{2}-?\\d{7}$",message:"Enter valid EIN (XX-XXXXXXX)"}},{id:"business_address",name:"Business Address",type:"text",explanation:"Principal place of business address.",required:!0},{id:"business_activity",name:"Principal Business Activity",type:"text",explanation:'Describe main business (e.g., "Product Reviews", "Personal Property Rental").',example:"Product Testing & Reviews",required:!0},{id:"business_code",name:"Business Code",type:"text",explanation:"NAICS code for your business type. 711510 for writers/authors, 532289 for rental.",example:"711510 (Independent Artists/Writers)"}]},{id:"income",title:"Income",fields:[{id:"line_1a_gross_receipts",name:"Gross Receipts or Sales",line:"Line 1a",type:"currency",explanation:"Total business revenue: Vine ETV + rental income + affiliate commissions + any sales.",example:"$85,000 total (Vine + Rentals + Affiliates)",required:!0},{id:"line_2_cost_of_goods",name:"Cost of Goods Sold",line:"Line 2",type:"currency",explanation:"From Schedule A: Cost of inventory sold. For Vine, typically minimal (items received free).",example:"$2,000 for purchased inventory"},{id:"line_3_gross_profit",name:"Gross Profit",line:"Line 3",type:"calculated",explanation:"Auto-calculated: Line 1a minus Line 2.",calculationFn:"calculateGrossProfit"},{id:"line_4_ordinary_income",name:"Ordinary Income from Other Sources",line:"Line 4",type:"currency",explanation:"Other business income not from main operations."}]},{id:"deductions",title:"Deductions",description:"Business expenses reduce taxable income passed to K-1s.",fields:[{id:"line_9_salaries",name:"Salaries and Wages",line:"Line 9",type:"currency",explanation:"Wages paid to employees (not partners). Include daughters W-2 wages if employed.",ssdiWarning:"If you receive wages here, it may indicate active work - verify passive status."},{id:"line_10_guaranteed_payments",name:"Guaranteed Payments to Partners",line:"Line 10",type:"currency",explanation:"Fixed payments to partners for services/capital. The active manager portion goes here.",example:"$24,000 to managing member",ssdiWarning:"Guaranteed payments to YOU (passive owner) could indicate active involvement."},{id:"line_12_repairs",name:"Repairs and Maintenance",line:"Line 12",type:"currency",explanation:"Costs to repair business equipment (bounce houses, tech gear, etc.)."},{id:"line_13_bad_debts",name:"Bad Debts",line:"Line 13",type:"currency",explanation:"Uncollectible accounts from customers."},{id:"line_14_rent",name:"Rent",line:"Line 14",type:"currency",explanation:"Rent for business property, storage units, office space.",example:"$3,600 for storage unit"},{id:"line_15_taxes",name:"Taxes and Licenses",line:"Line 15",type:"currency",explanation:"Business licenses, state taxes, property taxes on business assets."},{id:"line_16a_depreciation",name:"Depreciation",line:"Line 16a",type:"currency",explanation:"From Form 4562. Section 179 + bonus depreciation for business equipment.",maxLimit:Yr.section179Limit,maxDescription:`Section 179 max: $${Yr.section179Limit.toLocaleString()}. Phase-out begins at $${Yr.section179PhaseOut.toLocaleString()} total property.`},{id:"line_18_employee_benefits",name:"Employee Benefit Programs",line:"Line 18",type:"currency",explanation:"Health insurance, retirement contributions for employees."},{id:"line_20_other_deductions",name:"Other Deductions",line:"Line 20",type:"currency",explanation:"Supplies, mileage, internet, phone, professional services, insurance.",example:"$15,000 (supplies, mileage, home office)"}]},{id:"summary",title:"Summary",fields:[{id:"line_22_ordinary_income_loss",name:"Ordinary Business Income (Loss)",line:"Line 22",type:"calculated",explanation:"Auto-calculated: This amount passes through to each partners K-1 based on ownership %.",calculationFn:"calculateOrdinaryIncome"}]}],attachments:["Schedule B","Schedule K","Schedule K-1 (for each partner)","Schedule L","Schedule M-1","Schedule M-2","Form 4562"]},PSe={id:"schedule_k1",name:"Schedule K-1",fullName:"Partner's Share of Income, Deductions, Credits",description:"Generated for each LLC member. Shows your share of business income/loss based on ownership percentage.",applicableTo:["passive_owner","active_manager"],estimatedMinutes:20,sections:[{id:"partner_info",title:"Part II - Partner Information",fields:[{id:"partner_name",name:"Partner Name",type:"text",explanation:"Name of partner receiving this K-1.",required:!0},{id:"partner_ssn",name:"Partner SSN/TIN",type:"ssn",explanation:"Social Security Number or Tax ID of partner.",required:!0},{id:"partner_type",name:"Partner Type",type:"select",options:[{value:"general",label:"General Partner"},{value:"limited",label:"Limited Partner"},{value:"llc_member",label:"LLC Member"}],explanation:"Type of partner. LLC members are typically treated as general partners unless limited.",ssdiWarning:"General partners may be presumed active. Limited partners are presumed passive."},{id:"ownership_percentage",name:"Profit/Loss Sharing Percentage",type:"percentage",explanation:"Your ownership share (e.g., 60% passive owner, 40% active manager).",example:"60% for passive owner",required:!0,validation:{min:0,max:100,message:"Enter percentage between 0-100"}},{id:"is_passive",name:"Passive Activity?",type:"select",options:[{value:"yes",label:"Yes - Passive (no material participation)"},{value:"no",label:"No - Active (materially participates)"}],explanation:"CRITICAL for SSDI: Passive means you do NOT materially participate (work <100 hrs/year OR not the most work done).",ssdiWarning:'Selecting "Active" may indicate SGA for SSDI purposes. SSDI recipients should be PASSIVE.'}]},{id:"income_loss",title:"Part III - Partner's Share of Current Year Income",fields:[{id:"line_1_ordinary_income",name:"Ordinary Business Income (Loss)",line:"Line 1",type:"currency",explanation:"Your share of business ordinary income/loss (e.g., 60%  business income). Losses can offset other income.",example:"-$15,000 (60% of $25k loss)",ssdiWarning:"As passive owner, this income does NOT count toward SGA even if positive."},{id:"line_2_net_rental_real_estate",name:"Net Rental Real Estate Income (Loss)",line:"Line 2",type:"currency",explanation:"Your share of real estate rental income. Typically passive."},{id:"line_3_other_net_rental",name:"Other Net Rental Income (Loss)",line:"Line 3",type:"currency",explanation:"Personal property rental income (bounce houses, equipment). Passive income.",example:"$8,000 (60% of rental profits)"},{id:"line_4a_guaranteed_services",name:"Guaranteed Payments for Services",line:"Line 4a",type:"currency",explanation:"Fixed payments for your SERVICES to the partnership.",ssdiWarning:"DANGER: If you receive guaranteed payments for services, this indicates ACTIVE work and counts toward SGA!"},{id:"line_4b_guaranteed_capital",name:"Guaranteed Payments for Capital",line:"Line 4b",type:"currency",explanation:"Fixed payments for your CAPITAL contribution. This is passive and SSDI-safe."},{id:"line_5_interest",name:"Interest Income",line:"Line 5",type:"currency",explanation:"Your share of partnership interest income. Passive."}]},{id:"deductions",title:"Deductions",fields:[{id:"line_13_other_deductions",name:"Other Deductions",line:"Line 13",type:"currency",explanation:"Your share of pass-through deductions (expenses, depreciation adjustments).",example:"$30,000 (60% share)"}]},{id:"self_employment",title:"Self-Employment",fields:[{id:"line_14_se_earnings",name:"Self-Employment Earnings (Loss)",line:"Line 14",type:"currency",explanation:"For ACTIVE partners: SE earnings subject to 15.3% SE tax. For PASSIVE partners: should be $0.",ssdiWarning:"PASSIVE OWNER: This should be $0. If there is an amount here, it suggests active involvement - verify!",defaultValue:0}]},{id:"qbi_info",title:"Section 199A (QBI) Information",fields:[{id:"line_17_v_qbi",name:"Section 199A QBI",line:"Line 17 Code V",type:"currency",explanation:"Your share of Qualified Business Income for the 20% deduction. Based on ordinary income minus guaranteed payments.",example:"$12,000 QBI eligible"},{id:"line_17_ubia",name:"UBIA (Unadjusted Basis Immediately After Acquisition)",line:"Line 17 Code V/Line 20 Code Z",type:"currency",explanation:"Original cost basis of business assets. Used to calculate QBI limit (2.5% of UBIA or 50% of wages).",example:"$80,000 UBIA (original equipment cost)"},{id:"line_17_sstb",name:"Is this a Specified Service Trade or Business (SSTB)?",line:"Line 17",type:"select",options:[{value:"no",label:"No - Full QBI eligible"},{value:"yes",label:"Yes - QBI limited at higher incomes"}],explanation:"SSTBs (health, law, consulting, etc.) have QBI phase-outs. Product reviews/rentals are NOT SSTBs."}]}]},ASe={id:"form_4562",name:"Form 4562",fullName:"Depreciation and Amortization",description:"Write off business equipment costs. Section 179 allows immediate expensing up to $1.29M (2026).",applicableTo:["joint_business"],estimatedMinutes:25,sections:[{id:"section_179",title:"Part I - Section 179 Election",description:"Immediately expense qualifying business equipment instead of depreciating over years.",fields:[{id:"line_1_max_deduction",name:"Maximum Section 179 Deduction",line:"Line 1",type:"currency",explanation:"Maximum allowed deduction for 2026. Auto-populated.",defaultValue:Yr.section179Limit,maxLimit:Yr.section179Limit,maxDescription:`2026 limit: $${Yr.section179Limit.toLocaleString()}`},{id:"line_2_total_cost",name:"Total Cost of Section 179 Property",line:"Line 2",type:"currency",explanation:"Total cost of all equipment you want to expense under Section 179.",required:!0},{id:"line_3_threshold",name:"Threshold Amount",line:"Line 3",type:"currency",explanation:"Phase-out threshold. Deduction reduces dollar-for-dollar above this.",defaultValue:Yr.section179PhaseOut},{id:"line_5_tentative_deduction",name:"Tentative Deduction",line:"Line 5",type:"calculated",explanation:"Auto-calculated: Lesser of Line 1 or Line 2, minus any phase-out reduction.",calculationFn:"calculateSection179"},{id:"line_6_assets_list",name:"Listed Property",line:"Line 6",type:"text",explanation:'List each asset: "Bounce House - $2,000", "Camera Equipment - $3,500", etc.',example:"Computer $1,200; Bounce House $2,000; Camera $3,500"}]},{id:"bonus_depreciation",title:"Part II - Bonus Depreciation",fields:[{id:"line_14_bonus_property",name:"Qualified Property for Bonus Depreciation",line:"Line 14",type:"currency",explanation:"60% bonus depreciation available for 2026 on qualifying new property (phasing down from 100%).",maxDescription:"60% bonus depreciation rate for 2026"}]},{id:"macrs",title:"Part III - MACRS Depreciation",description:"For property not fully expensed under Section 179 or bonus.",fields:[{id:"line_17_macrs_3year",name:"3-Year Property",line:"Line 17a",type:"currency",explanation:"Depreciation for 3-year assets (software, some equipment)."},{id:"line_17_macrs_5year",name:"5-Year Property",line:"Line 17b",type:"currency",explanation:"Depreciation for 5-year assets (computers, vehicles, most business equipment like bounce houses)."},{id:"line_17_macrs_7year",name:"7-Year Property",line:"Line 17c",type:"currency",explanation:"Depreciation for 7-year assets (office furniture, some equipment)."}]}]},OSe={id:"schedule_e",name:"Schedule E",fullName:"Supplemental Income and Loss",description:"Reports K-1 pass-through income/loss on your personal return. This is where SSDI-safe passive income flows.",applicableTo:["passive_owner","active_manager"],estimatedMinutes:15,sections:[{id:"partnership_income",title:"Part II - Income or Loss from Partnerships and S Corporations",fields:[{id:"line_28_partnership_name",name:"Partnership Name",line:"Line 28 Col A",type:"text",explanation:"Name of each LLC/partnership (TruthSlayer LLC, Front Range Rentals).",required:!0},{id:"line_28_passive_income",name:"Passive Income (Loss)",line:"Line 28 Col g",type:"currency",explanation:"Your share of PASSIVE business income/loss from K-1 Line 1. For SSDI: This is SAFE income.",example:"-$15,000 passive loss",ssdiWarning:"Confirm this is marked PASSIVE. Passive income does NOT count toward SGA."},{id:"line_28_nonpassive_income",name:"Nonpassive Income (Loss)",line:"Line 28 Col h/j",type:"currency",explanation:"Your share of ACTIVE/nonpassive business income from K-1. For SSDI recipients: This should be $0.",ssdiWarning:"DANGER: Nonpassive income indicates material participation and MAY count toward SGA!",defaultValue:0}]},{id:"rental_income",title:"Rental Income",fields:[{id:"line_28_rental",name:"Net Rental Income",line:"Line 28 (rental)",type:"currency",explanation:"Your share of rental income from K-1 Line 3. Equipment/personal property rental is passive.",example:"$8,000 from bounce house rentals"}]},{id:"totals",title:"Totals",fields:[{id:"line_41_total_partnership",name:"Total Partnership/S Corp Income (Loss)",line:"Line 41",type:"calculated",explanation:"Auto-calculated: Sum of all passive/nonpassive income minus losses.",calculationFn:"calculateScheduleETotal"},{id:"line_43_total_estate_trust",name:"Total Income (Loss) to 1040",line:"Line 43",type:"calculated",explanation:"Total flows to Form 1040 Schedule 1.",calculationFn:"calculateScheduleETotal"}]}]},MSe={id:"schedule_se",name:"Schedule SE",fullName:"Self-Employment Tax",description:"Calculates 15.3% SE tax for ACTIVE partners. PASSIVE SSDI owners should NOT have SE tax.",applicableTo:["active_manager"],estimatedMinutes:10,sections:[{id:"se_calculation",title:"Self-Employment Tax Calculation",fields:[{id:"line_2_se_profit",name:"Net Profit from Self-Employment",line:"Line 2",type:"currency",explanation:"From K-1 Line 14 (SE earnings) plus any Schedule C profit.",required:!0,threshold:{value:400,warning:"SE tax only applies if net profit exceeds $400"}},{id:"line_3_combined_profit",name:"Combined SE Profit",line:"Line 3",type:"calculated",explanation:"Auto-calculated: Combined profit from all self-employment.",calculationFn:"calculateCombinedSE"},{id:"line_4_se_earnings",name:"SE Earnings (92.35% of profit)",line:"Line 4",type:"calculated",explanation:"Auto-calculated: 92.35% of Line 3. This is the SE tax base.",calculationFn:"calculateSEBase"},{id:"line_12_se_tax",name:"Self-Employment Tax",line:"Line 12",type:"calculated",explanation:"Auto-calculated: 15.3% of SE earnings (12.4% Social Security + 2.9% Medicare).",calculationFn:"calculateSETax",maxDescription:`Social Security portion caps at $${Yr.socialSecurityWageBase.toLocaleString()} wage base`},{id:"line_13_deductible_se",name:"Deductible Portion of SE Tax",line:"Line 13",type:"calculated",explanation:"Auto-calculated: Half of SE tax is deductible on Schedule 1.",calculationFn:"calculateDeductibleSE"}]}]},dv=[kSe,TSe,ESe,PSe,ASe,OSe,MSe];function cI(e){return dv.filter(t=>t.applicableTo.includes(e))}function RSe(e){return e.reduce((t,r)=>t+r.estimatedMinutes,0)}function ISe(e){const t=Number(e.line_6a_ss_benefits)||0,r=Number(e.line_11_agi)||0,s=e.filing_status||"single";if(t===0)return 0;const a=t/2,o=r+0+a,l=s==="married_filing_jointly"?32e3:25e3,c=s==="married_filing_jointly"?44e3:34e3;if(o<=l)return 0;if(o<=c){const d=Math.min((o-l)*.5,t*.5);return Math.round(d*100)/100}else{const d=Math.min((c-l)*.5,t*.5),u=(o-c)*.85,h=Math.min(d+u,t*.85);return Math.round(h*100)/100}}function _H(e){const t=Number(e.line_1_wages)||0,r=Number(e.line_2b_taxable_interest)||0,s=Number(e.line_3b_dividends)||0,a=Number(e.line_4b_ira_taxable)||0,i=Number(e.line_5b_pensions_taxable)||0,o=Number(e.line_6b_ss_taxable)||0,l=Number(e.line_7_capital_gains)||0,c=Number(e.line_8_other_income)||0,d=Number(e.schedule_e_total)||0,u=Number(e.line_13_deductible_se)||0;return t+r+s+a+i+o+l+c+d-u}function DSe(e){const t=Number(e.line_17_v_qbi)||0,r=Number(e.line_15_taxable_income)||0,s=e.filing_status||"single";if(t<=0)return 0;const a=s==="married_filing_jointly"?Yr.qbiThresholdMFJ:Yr.qbiThresholdSingle,i=s==="married_filing_jointly"?1e5:5e4;if(r<=a)return Math.round(t*Yr.qbiDeductionRate*100)/100;const o=r-a;if(o>=i)return 0;const l=o/i,c=Yr.qbiDeductionRate*(1-l);return Math.round(t*c*100)/100}function SH(e){const t=Number(e.line_11_agi)||_H(e),r=Number(e.line_12_standard_deduction)||Yr.standardDeductionSingle,s=Number(e.line_14_qbi_deduction)||0;return Math.max(0,t-r-s)}function CH(e){const t=Number(e.line_15_taxable_income)||SH(e),s=(e.filing_status||"single")==="married_filing_jointly"?[{min:0,max:23200,rate:.1},{min:23200,max:94300,rate:.12},{min:94300,max:201050,rate:.22},{min:201050,max:383900,rate:.24},{min:383900,max:487450,rate:.32},{min:487450,max:731200,rate:.35},{min:731200,max:1/0,rate:.37}]:[{min:0,max:11600,rate:.1},{min:11600,max:47150,rate:.12},{min:47150,max:100525,rate:.22},{min:100525,max:191950,rate:.24},{min:191950,max:243725,rate:.32},{min:243725,max:609350,rate:.35},{min:609350,max:1/0,rate:.37}];let a=0,i=t;for(const o of s){if(i<=0)break;const l=Math.min(i,o.max-o.min);a+=l*o.rate,i-=l}return Math.round(a*100)/100}function kH(e){const t=Number(e.line_16_tax)||CH(e),r=Number(e.line_12_se_tax)||0;return t+r}function $Se(e){const t=Number(e.line_24_total_tax)||kH(e);return(Number(e.line_25_withheld)||0)-t}function TH(e){const t=Number(e.line_1a_gross_receipts)||0,r=Number(e.line_2_cost_of_goods)||0;return t-r}function LSe(e){const t=Number(e.line_3_gross_profit)||TH(e),r=Number(e.line_4_ordinary_income)||0,s=Number(e.line_9_salaries)||0,a=Number(e.line_10_guaranteed_payments)||0,i=Number(e.line_12_repairs)||0,o=Number(e.line_13_bad_debts)||0,l=Number(e.line_14_rent)||0,c=Number(e.line_15_taxes)||0,d=Number(e.line_16a_depreciation)||0,u=Number(e.line_18_employee_benefits)||0,h=Number(e.line_20_other_deductions)||0,m=s+a+i+o+l+c+d+u+h;return t+r-m}function FSe(e){const t=Number(e.line_2_total_cost)||0,r=Yr.section179Limit,s=Yr.section179PhaseOut;if(t<=0)return 0;const a=Math.max(0,t-s),i=Math.min(t,r)-a;return Math.max(0,i)}function BSe(e){const t=Number(e.line_28_passive_income)||0,r=Number(e.line_28_nonpassive_income)||0,s=Number(e.line_28_rental)||0;return t+r+s}function EH(e){const t=Number(e.line_3_combined_profit)||Number(e.line_2_se_profit)||0;return Math.round(t*.9235*100)/100}function PH(e){const t=Number(e.line_4_se_earnings)||EH(e);if(t<400)return 0;const s=Math.min(t,Yr.socialSecurityWageBase)*.124,a=t*.029,i=2e5,o=t>i?(t-i)*.009:0;return Math.round((s+a+o)*100)/100}function VSe(e){const t=Number(e.line_12_se_tax)||PH(e);return Math.round(t*.5*100)/100}function zSe(e){return Number(e.line_2_se_profit)||0}function USe(e,t){const r=[];if(!t)return{isAtRisk:!1,warnings:[],riskLevel:"none"};const s=(Number(e.line_1_wages)||0)/12;s>Yr.sgaMonthlyLimit&&r.push(` Monthly wages ($${s.toFixed(0)}) exceed SGA limit ($${Yr.sgaMonthlyLimit}). This may affect your SSDI benefits.`),Number(e.line_4a_guaranteed_services)>0&&r.push(` You have guaranteed payments for SERVICES ($${e.line_4a_guaranteed_services}). This indicates active work and likely counts toward SGA!`),Number(e.line_28_nonpassive_income)>0&&r.push(` You have NONPASSIVE income on Schedule E ($${e.line_28_nonpassive_income}). This indicates material participation!`),Number(e.line_14_se_earnings)>0&&r.push(` You have self-employment earnings ($${e.line_14_se_earnings}). As a passive owner, this should be $0.`),e.is_passive==="no"&&r.push(" You're marked as an ACTIVE partner. SSDI recipients should maintain PASSIVE status.");let a="none";return r.some(i=>i.includes(""))?a="high":r.some(i=>i.includes(""))?a="medium":r.length>0&&(a="low"),{isAtRisk:r.length>0,warnings:r,riskLevel:a}}function WSe(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(e)}function qSe(e){return{calculateTaxableSS:ISe,calculateAGI:_H,calculateQBI:DSe,calculateTaxableIncome:SH,calculateTax:CH,calculateTotalTax:kH,calculateRefundOwed:$Se,calculateGrossProfit:TH,calculateOrdinaryIncome:LSe,calculateSection179:FSe,calculateScheduleETotal:BSe,calculateSEBase:EH,calculateSETax:PH,calculateDeductibleSE:VSe,calculateCombinedSE:zSe}[e]}const dI=[{id:"passive_owner",name:"Passive Owner (SSDI)",description:"SSDI recipient with 60% passive ownership",icon:Wr},{id:"active_manager",name:"Active Manager (Daughter)",description:"40% share, W-2/1099 income, manages business",icon:wt},{id:"joint_business",name:"Business Forms",description:"LLC returns (1065, K-1s, 4562)",icon:wt}];function HSe(){var R;const e=Qt();ij();const[t,r]=x.useState("profile"),[s,a]=x.useState(null),[i,o]=x.useState([]),[l,c]=x.useState(0),[d,u]=x.useState(0),[h,m]=x.useState(0),[f,p]=x.useState({}),g=s?cI(s):[],v=i.length>0?dv.find(L=>L.id===i[l]):null,j=v==null?void 0:v.sections[d],y=j==null?void 0:j.fields[h],b=RSe(g),w=USe(f,s==="passive_owner"),N=L=>{a(L);const V=cI(L);o(V.map(O=>O.id)),r("forms")},_=()=>{r("filling"),c(0),u(0),m(0)},C=(L,V)=>{p(O=>({...O,[L]:V}))},S=()=>{!v||!j||(h<j.fields.length-1?m(L=>L+1):d<v.sections.length-1?(u(L=>L+1),m(0)):l<i.length-1&&(c(L=>L+1),u(0),m(0)))},k=()=>{if(h>0)m(L=>L-1);else if(d>0){u(V=>V-1);const L=v==null?void 0:v.sections[d-1];m(L?L.fields.length-1:0)}else if(l>0){c(V=>V-1);const L=dv.find(V=>V.id===i[l-1]);L&&(u(L.sections.length-1),m(L.sections[L.sections.length-1].fields.length-1))}},E=i.reduce((L,V)=>{const O=dv.find(P=>P.id===V);return L+((O==null?void 0:O.sections.reduce((P,I)=>P+I.fields.length,0))||0)},0),T=Object.keys(f).length,A=E>0?T/E*100:0,B=L=>{const V=f[L.id]??L.defaultValue??"";if(L.type==="calculated"){const O=L.calculationFn?qSe(L.calculationFn):null,P=O?O(f):0;return n.jsxs("div",{className:"p-4 bg-muted rounded-lg border-2 border-primary/20",children:[n.jsx("span",{className:"text-2xl font-bold text-primary",children:WSe(P)}),n.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:"(Auto-calculated)"})]})}return L.type==="select"&&L.options?n.jsxs(Re,{value:String(V),onValueChange:O=>C(L.id,O),children:[n.jsx(Pe,{className:"text-lg h-14",children:n.jsx(Ie,{placeholder:"Select an option..."})}),n.jsx(Ae,{children:L.options.map(O=>n.jsx(he,{value:O.value,children:O.label},O.value))})]}):n.jsx(F,{type:L.type==="currency"||L.type==="number"?"number":"text",value:V,onChange:O=>C(L.id,L.type==="currency"||L.type==="number"?Number(O.target.value):O.target.value),placeholder:L.example||`Enter ${L.name.toLowerCase()}...`,className:"text-lg h-14"})};return t==="profile"?n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30 p-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs($,{variant:"ghost",onClick:()=>e("/"),children:[n.jsx(Hb,{className:"mr-2 h-4 w-4"})," Home"]}),n.jsx(L2,{})]}),n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"TaxWizard Pro"}),n.jsx("p",{className:"text-xl text-muted-foreground",children:"Guided Tax Form Filling for SSDI Recipients & Multi-Income Scenarios"}),n.jsx(ne,{variant:"outline",className:"mt-4",children:"2026 Tax Year (Filed in 2027)"})]}),n.jsxs(q,{className:"mb-8",children:[n.jsxs(de,{children:[n.jsx(ce,{children:"Who are you filing for?"}),n.jsx(ye,{children:"Select your profile to see relevant forms and SSDI safeguards"})]}),n.jsx(K,{className:"grid gap-4",children:dI.map(L=>n.jsxs($,{variant:"outline",className:"h-auto p-6 justify-start text-left",onClick:()=>N(L.id),children:[n.jsx(L.icon,{className:"h-8 w-8 mr-4 text-primary"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-lg",children:L.name}),n.jsx("div",{className:"text-muted-foreground",children:L.description})]})]},L.id))})]}),n.jsxs(Ua,{children:[n.jsx(Wr,{className:"h-4 w-4"}),n.jsx(wd,{children:"SSDI Protection Built-In"}),n.jsxs(Wa,{children:["This wizard flags any entries that could affect your SSDI benefits. Monthly SGA limit: $",Yr.sgaMonthlyLimit,"."]})]})]})}):t==="forms"?n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30 p-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs($,{variant:"ghost",onClick:()=>r("profile"),className:"mb-6",children:[n.jsx(Mt,{className:"mr-2 h-4 w-4"})," Change Profile"]}),n.jsxs(q,{className:"mb-8",children:[n.jsxs(de,{children:[n.jsxs(ce,{children:["Forms for ",(R=dI.find(L=>L.id===s))==null?void 0:R.name]}),n.jsxs(ye,{className:"flex items-center gap-2",children:[n.jsx(is,{className:"h-4 w-4"})," Estimated time: ",b," minutes"]})]}),n.jsx(K,{className:"space-y-4",children:g.map(L=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:L.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:L.fullName})]}),n.jsxs(ne,{children:[L.estimatedMinutes," min"]})]},L.id))})]}),n.jsxs($,{size:"lg",className:"w-full h-16 text-lg",onClick:_,children:["Start Filling Forms ",n.jsx(kn,{className:"ml-2 h-5 w-5"})]})]})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30 p-6",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs($,{variant:"ghost",onClick:()=>r("forms"),children:[n.jsx(Mt,{className:"mr-2 h-4 w-4"})," Forms"]}),n.jsx(L2,{})]}),n.jsx(Ws,{value:A,className:"mb-4 h-3"}),n.jsxs("div",{className:"text-sm text-muted-foreground mb-6 text-center",children:[T," of ",E," fields completed"]}),w.isAtRisk&&n.jsxs(Ua,{variant:"destructive",className:"mb-6",children:[n.jsx(jt,{className:"h-4 w-4"}),n.jsx(wd,{children:"SSDI Risk Detected"}),n.jsx(Wa,{children:w.warnings.map((L,V)=>n.jsx("div",{children:L},V))})]}),v&&j&&y&&n.jsxs(q,{className:"mb-6",children:[n.jsxs(de,{children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[n.jsx(ne,{variant:"outline",children:v.name}),n.jsx("span",{children:""}),n.jsx("span",{children:j.title})]}),n.jsxs(ce,{className:"flex items-center gap-2",children:[y.line&&n.jsx(ne,{children:y.line}),y.name,n.jsxs(Wl,{children:[n.jsx(ql,{children:n.jsx(LJ,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx(_o,{className:"max-w-sm",children:n.jsx("p",{children:y.explanation})})]})]})]}),n.jsxs(K,{className:"space-y-6",children:[n.jsx("p",{className:"text-muted-foreground",children:y.explanation}),y.maxDescription&&n.jsx(Ua,{children:n.jsxs(Wa,{children:[" ",y.maxDescription]})}),y.ssdiWarning&&s==="passive_owner"&&n.jsxs(Ua,{variant:"destructive",children:[n.jsx(Wr,{className:"h-4 w-4"}),n.jsx(Wa,{children:y.ssdiWarning})]}),n.jsxs("div",{children:[n.jsxs(M,{className:"text-lg mb-2 block",children:[y.name," ",y.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),B(y),y.example&&n.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Example: ",y.example]})]})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs($,{variant:"outline",size:"lg",className:"flex-1",onClick:k,disabled:l===0&&d===0&&h===0,children:[n.jsx(Mt,{className:"mr-2 h-4 w-4"})," Back"]}),n.jsxs($,{size:"lg",className:"flex-1",onClick:S,children:["Next ",n.jsx(kn,{className:"ml-2 h-4 w-4"})]})]}),n.jsx("p",{className:"text-center text-sm text-muted-foreground mt-8",children:" This wizard is educational. Consult a CPA for professional tax advice."})]})})}function cc(){const{toast:e}=yt(),t=ze(),{data:r,isLoading:s}=ft({queryKey:["cognitive-baselines"],queryFn:async()=>{const{data:{user:d}}=await Y.auth.getUser();if(!d)return[];const{data:u,error:h}=await Y.from("cognitive_baselines").select("*").eq("user_id",d.id);if(h)throw h;return u}}),{data:a,isLoading:i}=ft({queryKey:["cognitive-sessions-recent"],queryFn:async()=>{const{data:{user:d}}=await Y.auth.getUser();if(!d)return[];const{data:u,error:h}=await Y.from("cognitive_test_sessions").select("*").eq("user_id",d.id).order("completed_at",{ascending:!1}).limit(50);if(h)throw h;return u}}),o=Be({mutationFn:async d=>{const{data:{user:u}}=await Y.auth.getUser();if(!u)throw new Error("Not authenticated");const{error:h}=await Y.from("cognitive_test_sessions").insert([{user_id:u.id,test_type:d.test_type,score:d.score,duration_seconds:d.duration_seconds,difficulty_level:d.difficulty_level||1,correct_answers:d.correct_answers,total_questions:d.total_questions,metadata:d.metadata||{}}]);if(h)throw h;const{data:m}=await Y.from("cognitive_baselines").select("*").eq("user_id",u.id).eq("test_type",d.test_type).maybeSingle(),f=new Date().toISOString();if(m){const p=(m.total_sessions||0)+1,v=((m.average_score||d.score)*(m.total_sessions||0)+d.score)/p,j=!m.current_best_score||d.score>m.current_best_score,y=m.baseline_score?(d.score-m.baseline_score)/m.baseline_score*100:0,b=m.last_session_date?new Date(m.last_session_date):null,N=b?Math.floor((new Date().getTime()-b.getTime())/(1e3*60*60*24)):0,_=N<=1?(m.streak_days||0)+(N===1?1:0):1,{error:C}=await Y.from("cognitive_baselines").update({total_sessions:p,average_score:v,current_best_score:j?d.score:m.current_best_score,current_best_date:j?f:m.current_best_date,improvement_percentage:y,last_session_date:f,streak_days:_}).eq("id",m.id);if(C)throw C}else{const{error:p}=await Y.from("cognitive_baselines").insert({user_id:u.id,test_type:d.test_type,baseline_score:d.score,baseline_date:f,current_best_score:d.score,current_best_date:f,total_sessions:1,average_score:d.score,last_session_date:f,streak_days:1});if(p)throw p}return d},onSuccess:d=>{t.invalidateQueries({queryKey:["cognitive-baselines"]}),t.invalidateQueries({queryKey:["cognitive-sessions-recent"]}),e({title:"Test Complete!",description:`Score recorded: ${d.score.toFixed(1)}`})},onError:d=>{e({title:"Error saving result",description:d.message,variant:"destructive"})}});return{baselines:r,recentSessions:a,baselinesLoading:s,sessionsLoading:i,recordResult:o,getBaseline:d=>r==null?void 0:r.find(u=>u.test_type===d),getSessionsForTest:d=>(a==null?void 0:a.filter(u=>u.test_type===d))||[]}}const uI=e=>{const t=[()=>{const o=Math.floor(Math.random()*10)+1,l=Math.floor(Math.random()*(e+2))+1,c=4+Math.min(e,2),d=Array.from({length:c},(h,m)=>o+l*m),u=d[c-1]+l;return{sequence:d,answer:u}},()=>{const o=Math.floor(Math.random()*5)+1,l=2,c=4,d=Array.from({length:c},(h,m)=>o*Math.pow(l,m)),u=d[c-1]*l;return{sequence:d,answer:u}},()=>{const o=Math.floor(Math.random()*3)+1,l=Math.floor(Math.random()*3)+1,c=[o,l];for(let u=2;u<5;u++)c.push(c[u-1]+c[u-2]);const d=c[4]+c[3];return{sequence:c,answer:d}}],r=t[Math.floor(Math.random()*Math.min(t.length,e+1))],{sequence:s,answer:a}=r(),i=[a];for(;i.length<4;){const o=a+(Math.floor(Math.random()*10)-5);!i.includes(o)&&o>0&&i.push(o)}return{sequence:s.slice(0,-1),answer:a,options:i.sort(()=>Math.random()-.5)}};function KSe({onComplete:e}){var C;const{recordResult:t,getBaseline:r}=cc(),s=r("pattern_recognition"),[a,i]=x.useState("idle"),[o,l]=x.useState(1),[c,d]=x.useState(null),[u,h]=x.useState(0),[m,f]=x.useState(0),[p]=x.useState(10),[g,v]=x.useState(15),[j,y]=x.useState(null),b=x.useCallback(()=>{i("playing"),h(1),f(0),l(1),d(uI(1)),v(15),y(null)},[]),w=x.useCallback(S=>{if(!c||j)return;const k=S===c.answer;y(k?"correct":"wrong"),k?(f(E=>E+1),l(E=>Math.min(E+.5,5))):l(E=>Math.max(E-.5,1)),setTimeout(()=>{y(null),u>=p?N(m+(k?1:0)):(h(E=>E+1),d(uI(Math.floor(o))),v(15))},800)},[c,u,p,m,o,j]),N=x.useCallback(S=>{const k=S/p*100;i("complete"),t.mutate({test_type:"pattern_recognition",score:k,correct_answers:S,total_questions:p,difficulty_level:Math.floor(o),metadata:{final_difficulty:o}}),e==null||e(k,S,p)},[p,o,t,e]);x.useEffect(()=>{if(a!=="playing"||j)return;const S=setInterval(()=>{v(k=>k<=1?(w(-1),15):k-1)},1e3);return()=>clearInterval(S)},[a,j,w]);const _=m/p*100;return n.jsxs(q,{className:"border-accent/30 bg-gradient-to-br from-card to-accent/5",children:[n.jsxs(de,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rr,{className:"h-5 w-5 text-accent"}),n.jsx(ce,{className:"text-lg",children:"Pattern Recognition"})]}),s&&n.jsxs(ne,{variant:"outline",className:"text-xs",children:["Best: ",(C=s.current_best_score)==null?void 0:C.toFixed(0),"%"]})]}),n.jsx(ye,{children:"Find the next number in the sequence"})]}),n.jsx(K,{className:"space-y-4",children:n.jsxs(Qr,{mode:"wait",children:[a==="idle"&&n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-6 space-y-4",children:[n.jsx(Di,{className:"h-12 w-12 mx-auto text-accent/50"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[p," patterns  Difficulty adapts to your skill"]}),n.jsxs($,{onClick:b,className:"gap-2",children:[n.jsx(Kb,{className:"h-4 w-4"}),"Start Test"]})]},"idle"),a==="playing"&&c&&n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Round ",u,"/",p]}),n.jsx(Ws,{value:u/p*100,className:"flex-1 h-1.5"}),n.jsxs("span",{className:g<=5?"text-destructive font-medium":"",children:[g,"s"]})]}),n.jsxs("div",{className:"flex items-center justify-center gap-2 py-4",children:[c.sequence.map((S,k)=>n.jsx(ee.div,{initial:{scale:0},animate:{scale:1},transition:{delay:k*.1},className:"w-12 h-12 rounded-lg bg-primary/10 border border-primary/20 flex items-center justify-center font-mono font-bold text-lg",children:S},k)),n.jsx(ee.div,{initial:{scale:0},animate:{scale:1},transition:{delay:c.sequence.length*.1},className:"w-12 h-12 rounded-lg bg-accent/20 border-2 border-dashed border-accent flex items-center justify-center font-mono font-bold text-lg text-accent",children:"?"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:c.options.map((S,k)=>n.jsx($,{variant:j&&S===c.answer?"default":(j==="wrong"&&S!==c.answer,"outline"),className:`h-12 font-mono text-lg ${j==="correct"&&S===c.answer?"bg-green-500 text-white":j==="wrong"&&S===c.answer?"bg-green-500/50":""}`,onClick:()=>w(S),disabled:!!j,children:S},k))}),j&&n.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`text-center font-medium ${j==="correct"?"text-green-500":"text-destructive"}`,children:j==="correct"?" Correct!":" Wrong"})]},"playing"),a==="complete"&&n.jsxs(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0},className:"text-center py-6 space-y-4",children:[n.jsx(ri,{className:`h-12 w-12 mx-auto ${_>=70?"text-yellow-500":"text-muted-foreground"}`}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold",children:[_.toFixed(0),"%"]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[m,"/",p," correct"]})]}),s&&s.baseline_score&&n.jsx("p",{className:"text-xs text-muted-foreground",children:_>s.baseline_score?` ${(_-s.baseline_score).toFixed(0)}% above baseline!`:`Baseline: ${s.baseline_score.toFixed(0)}%`}),n.jsxs($,{onClick:b,variant:"outline",className:"gap-2",children:[n.jsx(Rd,{className:"h-4 w-4"}),"Try Again"]})]},"complete")]})})]})}function GSe({onComplete:e}){var _;const{recordResult:t,getBaseline:r}=cc(),s=r("reaction_time"),[a,i]=x.useState("idle"),[o,l]=x.useState([]),[c,d]=x.useState(0),[u,h]=x.useState(0),m=5,f=x.useRef(0),p=x.useRef(null),g=x.useCallback(()=>{i("waiting");const C=1500+Math.random()*2500;p.current=setTimeout(()=>{f.current=performance.now(),i("ready")},C)},[]),v=x.useCallback(()=>{l([]),h(1),d(0),g()},[g]),j=x.useCallback(()=>{if(a==="waiting"){p.current&&clearTimeout(p.current),i("early");return}if(a==="ready"){const C=performance.now()-f.current;d(C),l(S=>[...S,C]),i("clicked")}},[a]),y=x.useCallback(()=>{if(u>=m){const C=o.reduce((k,E)=>k+E,0)/o.length,S=Math.max(0,Math.min(100,(750-C)/5));i("complete"),t.mutate({test_type:"reaction_time",score:S,correct_answers:o.length,total_questions:m,metadata:{trials_json:JSON.stringify(o),average_ms:C,best_ms:Math.min(...o),worst_ms:Math.max(...o)}}),e==null||e(C,o)}else h(C=>C+1),g()},[u,m,o,g,t,e]),b=x.useCallback(()=>{g()},[g]),w=o.length>0?o.reduce((C,S)=>C+S,0)/o.length:0,N=C=>C<250?"text-green-500":C<400?"text-yellow-500":"text-orange-500";return n.jsxs(q,{className:"border-accent/30 bg-gradient-to-br from-card to-accent/5",children:[n.jsxs(de,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ir,{className:"h-5 w-5 text-accent"}),n.jsx(ce,{className:"text-lg",children:"Reaction Time"})]}),s&&n.jsxs(ne,{variant:"outline",className:"text-xs",children:["Best: ",(_=s.current_best_score)==null?void 0:_.toFixed(0)]})]}),n.jsx(ye,{children:"Click as fast as you can when the screen turns green"})]}),n.jsx(K,{children:n.jsxs(Qr,{mode:"wait",children:[a==="idle"&&n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-6 space-y-4",children:[n.jsx(is,{className:"h-12 w-12 mx-auto text-accent/50"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[m," trials  Tests processing speed"]}),n.jsxs($,{onClick:v,className:"gap-2",children:[n.jsx(Kb,{className:"h-4 w-4"}),"Start Test"]})]},"idle"),a==="waiting"&&n.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:j,className:"cursor-pointer",children:n.jsxs("div",{className:"bg-destructive/20 rounded-lg p-12 text-center transition-colors",children:[n.jsx("p",{className:"text-lg font-medium text-destructive",children:"Wait for green..."}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Round ",u,"/",m]})]})},"waiting"),a==="ready"&&n.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0},onClick:j,className:"cursor-pointer",children:n.jsx("div",{className:"bg-green-500 rounded-lg p-12 text-center",children:n.jsx("p",{className:"text-lg font-bold text-white",children:"CLICK NOW!"})})},"ready"),a==="clicked"&&n.jsxs(ee.div,{initial:{opacity:0,scale:1.05},animate:{opacity:1,scale:1},exit:{opacity:0},className:"text-center py-6 space-y-4",children:[n.jsxs("p",{className:`text-3xl font-mono font-bold ${N(c)}`,children:[c.toFixed(0),"ms"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:c<250?"Excellent!":c<400?"Good!":"Keep practicing!"}),n.jsx("div",{className:"flex justify-center gap-2 flex-wrap",children:o.map((C,S)=>n.jsxs(ne,{variant:"outline",className:`font-mono ${N(C)}`,children:[C.toFixed(0),"ms"]},S))}),n.jsx($,{onClick:y,className:"gap-2",children:u>=m?"See Results":"Next Round"})]},"clicked"),a==="early"&&n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-6 space-y-4",children:[n.jsx("p",{className:"text-xl font-medium text-destructive",children:"Too early!"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Wait for the screen to turn green"}),n.jsx($,{onClick:b,variant:"outline",children:"Try Again"})]},"early"),a==="complete"&&n.jsxs(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0},className:"text-center py-6 space-y-4",children:[n.jsx(ri,{className:`h-12 w-12 mx-auto ${w<300?"text-yellow-500":"text-muted-foreground"}`}),n.jsxs("div",{children:[n.jsxs("p",{className:`text-2xl font-mono font-bold ${N(w)}`,children:[w.toFixed(0),"ms"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Average reaction time"})]}),n.jsxs("div",{className:"flex justify-center gap-4 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Best: ",Math.min(...o).toFixed(0),"ms"]}),n.jsx("span",{children:""}),n.jsxs("span",{children:["Worst: ",Math.max(...o).toFixed(0),"ms"]})]}),s&&s.baseline_score&&n.jsx("p",{className:"text-xs text-muted-foreground",children:w<750-s.baseline_score*5?" New personal best!":`Previous best: ${(750-s.baseline_score*5).toFixed(0)}ms`}),n.jsxs($,{onClick:v,variant:"outline",className:"gap-2",children:[n.jsx(Rd,{className:"h-4 w-4"}),"Try Again"]})]},"complete")]})})]})}const hI=["","","","","","","","","","","",""];function YSe({onComplete:e}){const{recordResult:t,getBaseline:r}=cc(),s=r("memory_anchoring"),[a,i]=x.useState("idle"),[o,l]=x.useState(3),[c,d]=x.useState([]),[u,h]=x.useState([]),[m,f]=x.useState([]),[p,g]=x.useState(0),[v,j]=x.useState(0),[y,b]=x.useState(3),w=8,N=x.useCallback(T=>[...hI].sort(()=>Math.random()-.5).slice(0,T),[]),_=x.useCallback(()=>{l(3),g(1),j(0),b(3);const T=N(3);d(T),h([]),i("showing")},[N]),C=x.useCallback(()=>{const T=hI.filter(B=>!c.includes(B)).slice(0,4),A=[...c,...T].sort(()=>Math.random()-.5);f(A),h([]),i("recall")},[c]),S=x.useCallback(T=>{if(a!=="recall")return;const A=[...u,T];h(A),A.length===c.length&&(A.every((R,L)=>R===c[L])?(j(R=>R+1),b(R=>Math.max(R,o)),l(R=>Math.min(R+1,8))):l(R=>Math.max(R-1,3)),i("feedback"))},[a,u,c,o]),k=x.useCallback(()=>{if(p>=w){const T=v/w*50,A=(y-3)/5*50,B=T+A;i("complete"),t.mutate({test_type:"memory_anchoring",score:B,correct_answers:v,total_questions:w,difficulty_level:y,metadata:{highest_level:y}}),e==null||e(B,y)}else{g(A=>A+1);const T=N(o);d(T),h([]),i("showing")}},[p,w,v,y,o,N,t,e]);x.useEffect(()=>{if(a==="showing"){const T=setTimeout(()=>{C()},1500+o*500);return()=>clearTimeout(T)}},[a,o,C]);const E=u.length===c.length&&u.every((T,A)=>T===c[A]);return n.jsxs(q,{className:"border-accent/30 bg-gradient-to-br from-card to-accent/5",children:[n.jsxs(de,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lT,{className:"h-5 w-5 text-accent"}),n.jsx(ce,{className:"text-lg",children:"Memory Anchoring"})]}),s&&s.current_best_score&&n.jsxs(ne,{variant:"outline",className:"text-xs",children:["Best: ",s.current_best_score.toFixed(0),"%"]})]}),n.jsx(ye,{children:"Memorize and recall the sequence in order"})]}),n.jsx(K,{children:n.jsxs(Qr,{mode:"wait",children:[a==="idle"&&n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-6 space-y-4",children:[n.jsx(Od,{className:"h-12 w-12 mx-auto text-accent/50"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[w," rounds  Difficulty adapts to your memory"]}),n.jsxs($,{onClick:_,className:"gap-2",children:[n.jsx(Kb,{className:"h-4 w-4"}),"Start Test"]})]},"idle"),a==="showing"&&n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Round ",p,"/",w]}),n.jsx(Ws,{value:p/w*100,className:"flex-1 h-1.5"}),n.jsxs(ne,{variant:"secondary",className:"text-xs",children:["Level ",o]})]}),n.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Memorize this sequence..."}),n.jsx("div",{className:"flex justify-center gap-3 flex-wrap py-4",children:c.map((T,A)=>n.jsx(ee.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:A*.2},className:"w-14 h-14 rounded-lg bg-primary/10 border border-primary/30 flex items-center justify-center text-2xl",children:T},A))})]},"showing"),a==="recall"&&n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Round ",p,"/",w]}),n.jsx(Ws,{value:p/w*100,className:"flex-1 h-1.5"})]}),n.jsxs("p",{className:"text-center text-sm font-medium",children:["Click symbols in order (",u.length,"/",c.length,")"]}),n.jsxs("div",{className:"flex justify-center gap-2 min-h-[56px]",children:[u.map((T,A)=>n.jsx(ee.div,{initial:{scale:0},animate:{scale:1},className:"w-12 h-12 rounded-lg bg-accent/20 border border-accent/30 flex items-center justify-center text-xl",children:T},A)),Array.from({length:c.length-u.length}).map((T,A)=>n.jsx("div",{className:"w-12 h-12 rounded-lg border-2 border-dashed border-muted-foreground/30"},`empty-${A}`))]}),n.jsx("div",{className:"flex justify-center gap-2 flex-wrap",children:m.map((T,A)=>n.jsx($,{variant:"outline",className:"w-12 h-12 text-xl p-0",onClick:()=>S(T),disabled:u.includes(T),children:T},A))})]},"recall"),a==="feedback"&&n.jsxs(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0},className:"text-center py-6 space-y-4",children:[n.jsx("p",{className:`text-xl font-bold ${E?"text-green-500":"text-destructive"}`,children:E?" Perfect!":" Not quite"}),!E&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Correct sequence:"}),n.jsx("div",{className:"flex justify-center gap-2",children:c.map((T,A)=>n.jsx("span",{className:"text-xl",children:T},A))})]}),n.jsx($,{onClick:k,className:"gap-2",children:p>=w?"See Results":"Next Round"})]},"feedback"),a==="complete"&&n.jsxs(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0},className:"text-center py-6 space-y-4",children:[n.jsx(ri,{className:`h-12 w-12 mx-auto ${y>=5?"text-yellow-500":"text-muted-foreground"}`}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold",children:["Level ",y]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[v,"/",w," rounds correct"]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Memory span: ",y," items"]}),s&&s.current_best_score&&n.jsx("p",{className:"text-xs text-muted-foreground",children:v/w*50+(y-3)/5*50>s.current_best_score?" New record!":`Previous best: ${s.current_best_score.toFixed(0)}%`}),n.jsxs($,{onClick:_,variant:"outline",className:"gap-2",children:[n.jsx(Rd,{className:"h-4 w-4"}),"Try Again"]})]},"complete")]})})]})}function XSe({onComplete:e}){const{recordResult:t,getBaseline:r}=cc(),s=r("focus_duration"),[a,i]=x.useState("idle"),[o,l]=x.useState(0),[c,d]=x.useState(0),[u,h]=x.useState(null),[m,f]=x.useState({x:50,y:50}),p=x.useRef(null),g=x.useRef(null),v=x.useRef(!1),j=120,y=[" New notification!"," Check your phone?"," Random thought..."," Feeling hungry?"," Unread emails..."," That song stuck in your head"," Cat videos exist..."],b=x.useCallback(()=>{l(0),d(0),h(null),i("focusing"),v.current=!1,p.current=setInterval(()=>{l(E=>E>=j?(C(j,0),j):E+1)},1e3),w()},[]),w=x.useCallback(()=>{const E=5e3+Math.random()*1e4;g.current=setTimeout(()=>{if(a==="focusing"){const T=y[Math.floor(Math.random()*y.length)];h(T),setTimeout(()=>{h(null),w()},3e3)}},E)},[a]),N=x.useCallback(()=>{a==="focusing"&&(v.current=!0)},[a]),_=x.useCallback(()=>{a==="focusing"&&v.current&&(d(E=>E+1),v.current=!1,i("distracted"),setTimeout(()=>{i("focusing")},500))},[a]),C=x.useCallback((E,T)=>{p.current&&clearInterval(p.current),g.current&&clearTimeout(g.current);const A=E/j*100,B=T*5,R=Math.max(0,A-B);i("complete"),t.mutate({test_type:"focus_duration",score:R,duration_seconds:E,metadata:{distractions:T,raw_duration:E}}),e==null||e(E,T)},[t,e]),S=x.useCallback(()=>{C(o,c)},[o,c,C]);x.useEffect(()=>{if(a!=="focusing")return;const T=setInterval(()=>{f({x:20+Math.random()*60,y:20+Math.random()*60})},3e3);return()=>clearInterval(T)},[a]),x.useEffect(()=>()=>{p.current&&clearInterval(p.current),g.current&&clearTimeout(g.current)},[]);const k=E=>{const T=Math.floor(E/60),A=E%60;return`${T}:${A.toString().padStart(2,"0")}`};return n.jsxs(q,{className:"border-accent/30 bg-gradient-to-br from-card to-accent/5",children:[n.jsxs(de,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qb,{className:"h-5 w-5 text-accent"}),n.jsx(ce,{className:"text-lg",children:"Focus Duration"})]}),s&&s.current_best_score&&n.jsxs(ne,{variant:"outline",className:"text-xs",children:["Best: ",s.current_best_score.toFixed(0)]})]}),n.jsx(ye,{children:"Keep your cursor on the target  Don't get distracted"})]}),n.jsx(K,{children:n.jsxs(Qr,{mode:"wait",children:[a==="idle"&&n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-6 space-y-4",children:[n.jsx(sS,{className:"h-12 w-12 mx-auto text-accent/50"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep your cursor inside the target zone"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Moving the cursor outside = distraction penalty"}),n.jsxs($,{onClick:b,className:"gap-2",children:[n.jsx(Kb,{className:"h-4 w-4"}),"Start Focus Session"]})]},"idle"),(a==="focusing"||a==="distracted")&&n.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"font-mono text-lg",children:k(o)}),n.jsxs(ne,{variant:c>0?"destructive":"secondary",children:[c," distraction",c!==1?"s":""]})]}),n.jsxs("div",{className:`relative h-48 rounded-lg transition-colors cursor-crosshair overflow-hidden ${a==="distracted"?"bg-destructive/20 border-destructive":"bg-muted/30 border-muted"} border-2`,onMouseEnter:N,onMouseLeave:_,children:[n.jsx(ee.div,{className:"absolute w-16 h-16 rounded-full bg-accent/30 border-2 border-accent flex items-center justify-center",animate:{left:`${m.x}%`,top:`${m.y}%`},transition:{type:"spring",damping:20},style:{transform:"translate(-50%, -50%)"},children:n.jsx("div",{className:"w-4 h-4 rounded-full bg-accent"})}),n.jsx("p",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Keep cursor inside this area"})]}),n.jsx(Qr,{children:u&&n.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-4 right-4 bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-200 px-4 py-2 rounded-lg shadow-lg text-sm font-medium",children:u})}),n.jsx($,{onClick:S,variant:"outline",className:"w-full",children:"End Session"})]},"focusing"),a==="complete"&&n.jsxs(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0},className:"text-center py-6 space-y-4",children:[n.jsx(ri,{className:`h-12 w-12 mx-auto ${o>=60?"text-yellow-500":"text-muted-foreground"}`}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-mono font-bold",children:k(o)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Focus duration"})]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:c===0?" Perfect focus!":`${c} distraction${c!==1?"s":""}`}),s&&s.current_best_score&&n.jsx("p",{className:"text-xs text-muted-foreground",children:o/j*100>s.current_best_score?" New personal best!":`Previous best score: ${s.current_best_score.toFixed(0)}`}),n.jsxs($,{onClick:b,variant:"outline",className:"gap-2",children:[n.jsx(Rd,{className:"h-4 w-4"}),"Try Again"]})]},"complete")]})})]})}var QSe=Array.isArray,Cs=QSe,ZSe=typeof Tg=="object"&&Tg&&Tg.Object===Object&&Tg,AH=ZSe,JSe=AH,e2e=typeof self=="object"&&self&&self.Object===Object&&self,t2e=JSe||e2e||Function("return this")(),qi=t2e,r2e=qi,n2e=r2e.Symbol,gg=n2e,mI=gg,OH=Object.prototype,s2e=OH.hasOwnProperty,a2e=OH.toString,nf=mI?mI.toStringTag:void 0;function i2e(e){var t=s2e.call(e,nf),r=e[nf];try{e[nf]=void 0;var s=!0}catch{}var a=a2e.call(e);return s&&(t?e[nf]=r:delete e[nf]),a}var o2e=i2e,l2e=Object.prototype,c2e=l2e.toString;function d2e(e){return c2e.call(e)}var u2e=d2e,fI=gg,h2e=o2e,m2e=u2e,f2e="[object Null]",p2e="[object Undefined]",pI=fI?fI.toStringTag:void 0;function x2e(e){return e==null?e===void 0?p2e:f2e:pI&&pI in Object(e)?h2e(e):m2e(e)}var $o=x2e;function g2e(e){return e!=null&&typeof e=="object"}var Lo=g2e,y2e=$o,v2e=Lo,b2e="[object Symbol]";function j2e(e){return typeof e=="symbol"||v2e(e)&&y2e(e)==b2e}var km=j2e,w2e=Cs,N2e=km,_2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S2e=/^\w*$/;function C2e(e,t){if(w2e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||N2e(e)?!0:S2e.test(e)||!_2e.test(e)||t!=null&&e in Object(t)}var EP=C2e;function k2e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var dc=k2e;const Tm=ar(dc);var T2e=$o,E2e=dc,P2e="[object AsyncFunction]",A2e="[object Function]",O2e="[object GeneratorFunction]",M2e="[object Proxy]";function R2e(e){if(!E2e(e))return!1;var t=T2e(e);return t==A2e||t==O2e||t==P2e||t==M2e}var PP=R2e;const vt=ar(PP);var I2e=qi,D2e=I2e["__core-js_shared__"],$2e=D2e,CN=$2e,xI=function(){var e=/[^.]+$/.exec(CN&&CN.keys&&CN.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function L2e(e){return!!xI&&xI in e}var F2e=L2e,B2e=Function.prototype,V2e=B2e.toString;function z2e(e){if(e!=null){try{return V2e.call(e)}catch{}try{return e+""}catch{}}return""}var MH=z2e,U2e=PP,W2e=F2e,q2e=dc,H2e=MH,K2e=/[\\^$.*+?()[\]{}|]/g,G2e=/^\[object .+?Constructor\]$/,Y2e=Function.prototype,X2e=Object.prototype,Q2e=Y2e.toString,Z2e=X2e.hasOwnProperty,J2e=RegExp("^"+Q2e.call(Z2e).replace(K2e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eCe(e){if(!q2e(e)||W2e(e))return!1;var t=U2e(e)?J2e:G2e;return t.test(H2e(e))}var tCe=eCe;function rCe(e,t){return e==null?void 0:e[t]}var nCe=rCe,sCe=tCe,aCe=nCe;function iCe(e,t){var r=aCe(e,t);return sCe(r)?r:void 0}var Ld=iCe,oCe=Ld,lCe=oCe(Object,"create"),Uj=lCe,gI=Uj;function cCe(){this.__data__=gI?gI(null):{},this.size=0}var dCe=cCe;function uCe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var hCe=uCe,mCe=Uj,fCe="__lodash_hash_undefined__",pCe=Object.prototype,xCe=pCe.hasOwnProperty;function gCe(e){var t=this.__data__;if(mCe){var r=t[e];return r===fCe?void 0:r}return xCe.call(t,e)?t[e]:void 0}var yCe=gCe,vCe=Uj,bCe=Object.prototype,jCe=bCe.hasOwnProperty;function wCe(e){var t=this.__data__;return vCe?t[e]!==void 0:jCe.call(t,e)}var NCe=wCe,_Ce=Uj,SCe="__lodash_hash_undefined__";function CCe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_Ce&&t===void 0?SCe:t,this}var kCe=CCe,TCe=dCe,ECe=hCe,PCe=yCe,ACe=NCe,OCe=kCe;function Em(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Em.prototype.clear=TCe;Em.prototype.delete=ECe;Em.prototype.get=PCe;Em.prototype.has=ACe;Em.prototype.set=OCe;var MCe=Em;function RCe(){this.__data__=[],this.size=0}var ICe=RCe;function DCe(e,t){return e===t||e!==e&&t!==t}var AP=DCe,$Ce=AP;function LCe(e,t){for(var r=e.length;r--;)if($Ce(e[r][0],t))return r;return-1}var Wj=LCe,FCe=Wj,BCe=Array.prototype,VCe=BCe.splice;function zCe(e){var t=this.__data__,r=FCe(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():VCe.call(t,r,1),--this.size,!0}var UCe=zCe,WCe=Wj;function qCe(e){var t=this.__data__,r=WCe(t,e);return r<0?void 0:t[r][1]}var HCe=qCe,KCe=Wj;function GCe(e){return KCe(this.__data__,e)>-1}var YCe=GCe,XCe=Wj;function QCe(e,t){var r=this.__data__,s=XCe(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}var ZCe=QCe,JCe=ICe,eke=UCe,tke=HCe,rke=YCe,nke=ZCe;function Pm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Pm.prototype.clear=JCe;Pm.prototype.delete=eke;Pm.prototype.get=tke;Pm.prototype.has=rke;Pm.prototype.set=nke;var qj=Pm,ske=Ld,ake=qi,ike=ske(ake,"Map"),OP=ike,yI=MCe,oke=qj,lke=OP;function cke(){this.size=0,this.__data__={hash:new yI,map:new(lke||oke),string:new yI}}var dke=cke;function uke(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var hke=uke,mke=hke;function fke(e,t){var r=e.__data__;return mke(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Hj=fke,pke=Hj;function xke(e){var t=pke(this,e).delete(e);return this.size-=t?1:0,t}var gke=xke,yke=Hj;function vke(e){return yke(this,e).get(e)}var bke=vke,jke=Hj;function wke(e){return jke(this,e).has(e)}var Nke=wke,_ke=Hj;function Ske(e,t){var r=_ke(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}var Cke=Ske,kke=dke,Tke=gke,Eke=bke,Pke=Nke,Ake=Cke;function Am(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Am.prototype.clear=kke;Am.prototype.delete=Tke;Am.prototype.get=Eke;Am.prototype.has=Pke;Am.prototype.set=Ake;var MP=Am,RH=MP,Oke="Expected a function";function RP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Oke);var r=function(){var s=arguments,a=t?t.apply(this,s):s[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,s);return r.cache=i.set(a,o)||i,o};return r.cache=new(RP.Cache||RH),r}RP.Cache=RH;var IH=RP;const Mke=ar(IH);var Rke=IH,Ike=500;function Dke(e){var t=Rke(e,function(s){return r.size===Ike&&r.clear(),s}),r=t.cache;return t}var $ke=Dke,Lke=$ke,Fke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bke=/\\(\\)?/g,Vke=Lke(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Fke,function(r,s,a,i){t.push(a?i.replace(Bke,"$1"):s||r)}),t}),zke=Vke;function Uke(e,t){for(var r=-1,s=e==null?0:e.length,a=Array(s);++r<s;)a[r]=t(e[r],r,e);return a}var IP=Uke,vI=gg,Wke=IP,qke=Cs,Hke=km,Kke=1/0,bI=vI?vI.prototype:void 0,jI=bI?bI.toString:void 0;function DH(e){if(typeof e=="string")return e;if(qke(e))return Wke(e,DH)+"";if(Hke(e))return jI?jI.call(e):"";var t=e+"";return t=="0"&&1/e==-Kke?"-0":t}var Gke=DH,Yke=Gke;function Xke(e){return e==null?"":Yke(e)}var $H=Xke,Qke=Cs,Zke=EP,Jke=zke,eTe=$H;function tTe(e,t){return Qke(e)?e:Zke(e,t)?[e]:Jke(eTe(e))}var LH=tTe,rTe=km,nTe=1/0;function sTe(e){if(typeof e=="string"||rTe(e))return e;var t=e+"";return t=="0"&&1/e==-nTe?"-0":t}var Kj=sTe,aTe=LH,iTe=Kj;function oTe(e,t){t=aTe(t,e);for(var r=0,s=t.length;e!=null&&r<s;)e=e[iTe(t[r++])];return r&&r==s?e:void 0}var DP=oTe,lTe=DP;function cTe(e,t,r){var s=e==null?void 0:lTe(e,t);return s===void 0?r:s}var FH=cTe;const ma=ar(FH);function dTe(e){return e==null}var uTe=dTe;const kt=ar(uTe);var hTe=$o,mTe=Cs,fTe=Lo,pTe="[object String]";function xTe(e){return typeof e=="string"||!mTe(e)&&fTe(e)&&hTe(e)==pTe}var gTe=xTe;const Nd=ar(gTe);var BH={exports:{}},tr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $P=Symbol.for("react.element"),LP=Symbol.for("react.portal"),Gj=Symbol.for("react.fragment"),Yj=Symbol.for("react.strict_mode"),Xj=Symbol.for("react.profiler"),Qj=Symbol.for("react.provider"),Zj=Symbol.for("react.context"),yTe=Symbol.for("react.server_context"),Jj=Symbol.for("react.forward_ref"),ew=Symbol.for("react.suspense"),tw=Symbol.for("react.suspense_list"),rw=Symbol.for("react.memo"),nw=Symbol.for("react.lazy"),vTe=Symbol.for("react.offscreen"),VH;VH=Symbol.for("react.module.reference");function ba(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $P:switch(e=e.type,e){case Gj:case Xj:case Yj:case ew:case tw:return e;default:switch(e=e&&e.$$typeof,e){case yTe:case Zj:case Jj:case nw:case rw:case Qj:return e;default:return t}}case LP:return t}}}tr.ContextConsumer=Zj;tr.ContextProvider=Qj;tr.Element=$P;tr.ForwardRef=Jj;tr.Fragment=Gj;tr.Lazy=nw;tr.Memo=rw;tr.Portal=LP;tr.Profiler=Xj;tr.StrictMode=Yj;tr.Suspense=ew;tr.SuspenseList=tw;tr.isAsyncMode=function(){return!1};tr.isConcurrentMode=function(){return!1};tr.isContextConsumer=function(e){return ba(e)===Zj};tr.isContextProvider=function(e){return ba(e)===Qj};tr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$P};tr.isForwardRef=function(e){return ba(e)===Jj};tr.isFragment=function(e){return ba(e)===Gj};tr.isLazy=function(e){return ba(e)===nw};tr.isMemo=function(e){return ba(e)===rw};tr.isPortal=function(e){return ba(e)===LP};tr.isProfiler=function(e){return ba(e)===Xj};tr.isStrictMode=function(e){return ba(e)===Yj};tr.isSuspense=function(e){return ba(e)===ew};tr.isSuspenseList=function(e){return ba(e)===tw};tr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Gj||e===Xj||e===Yj||e===ew||e===tw||e===vTe||typeof e=="object"&&e!==null&&(e.$$typeof===nw||e.$$typeof===rw||e.$$typeof===Qj||e.$$typeof===Zj||e.$$typeof===Jj||e.$$typeof===VH||e.getModuleId!==void 0)};tr.typeOf=ba;BH.exports=tr;var bTe=BH.exports,jTe=$o,wTe=Lo,NTe="[object Number]";function _Te(e){return typeof e=="number"||wTe(e)&&jTe(e)==NTe}var zH=_Te;const STe=ar(zH);var CTe=zH;function kTe(e){return CTe(e)&&e!=+e}var TTe=kTe;const Om=ar(TTe);var qa=function(t){return t===0?0:t>0?1:-1},$c=function(t){return Nd(t)&&t.indexOf("%")===t.length-1},Ne=function(t){return STe(t)&&!Om(t)},ETe=function(t){return kt(t)},jn=function(t){return Ne(t)||Nd(t)},PTe=0,yg=function(t){var r=++PTe;return"".concat(t||"").concat(r)},_d=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(t)&&!Nd(t))return s;var i;if($c(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Om(i)&&(i=s),a&&i>r&&(i=r),i},du=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},ATe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,s={},a=0;a<r;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},sa=function(t,r){return Ne(t)&&Ne(r)?function(s){return t+s*(r-t)}:function(){return r}};function C0(e,t,r){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):ma(s,t))===r})}var OTe=function(t,r){return Ne(t)&&Ne(r)?t-r:Nd(t)&&Nd(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Yu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function F2(e){"@babel/helpers - typeof";return F2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F2(e)}var MTe=["viewBox","children"],RTe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wI=["points","pathLength"],kN={svg:MTe,polygon:wI,polyline:wI},FP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],k0=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(x.isValidElement(t)&&(s=t.props),!Tm(s))return null;var a={};return Object.keys(s).forEach(function(i){FP.includes(i)&&(a[i]=r||function(o){return s[i](s,o)})}),a},ITe=function(t,r,s){return function(a){return t(r,s,a),null}},T0=function(t,r,s){if(!Tm(t)||F2(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];FP.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=ITe(o,r,s))}),a},DTe=["children"],$Te=["children"];function NI(e,t){if(e==null)return{};var r=LTe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function LTe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function B2(e){"@babel/helpers - typeof";return B2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B2(e)}var _I={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},SI=null,TN=null,BP=function e(t){if(t===SI&&Array.isArray(TN))return TN;var r=[];return x.Children.forEach(t,function(s){kt(s)||(bTe.isFragment(s)?r=r.concat(e(s.props.children)):r.push(s))}),TN=r,SI=t,r};function Ga(e,t){var r=[],s=[];return Array.isArray(t)?s=t.map(function(a){return fo(a)}):s=[fo(t)],BP(e).forEach(function(a){var i=ma(a,"type.displayName")||ma(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}function As(e,t){var r=Ga(e,t);return r&&r[0]}var CI=function(t){if(!t||!t.props)return!1;var r=t.props,s=r.width,a=r.height;return!(!Ne(s)||s<=0||!Ne(a)||a<=0)},FTe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],BTe=function(t){return t&&t.type&&Nd(t.type)&&FTe.indexOf(t.type)>=0},VTe=function(t){return t&&B2(t)==="object"&&"clipDot"in t},zTe=function(t,r,s,a){var i,o=(i=kN==null?void 0:kN[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!vt(t)&&(a&&o.includes(r)||RTe.includes(r))||s&&FP.includes(r)},Ct=function(t,r,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!Tm(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;zTe((l=a)===null||l===void 0?void 0:l[o],o,r,s)&&(i[o]=a[o])}),i},V2=function e(t,r){if(t===r)return!0;var s=x.Children.count(t);if(s!==x.Children.count(r))return!1;if(s===0)return!0;if(s===1)return kI(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<s;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!kI(i,o))return!1}return!0},kI=function(t,r){if(kt(t)&&kt(r))return!0;if(!kt(t)&&!kt(r)){var s=t.props||{},a=s.children,i=NI(s,DTe),o=r.props||{},l=o.children,c=NI(o,$Te);return a&&l?Yu(i,c)&&V2(a,l):!a&&!l?Yu(i,c):!1}return!1},TI=function(t,r){var s=[],a={};return BP(t).forEach(function(i,o){if(BTe(i))s.push(i);else if(i){var l=fo(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var h=d(i,l,o);s.push(h),a[l]=!0}}}),s},UTe=function(t){var r=t&&t.type;return r&&_I[r]?_I[r]:null},WTe=function(t,r){return BP(r).indexOf(t)},qTe=["children","width","height","viewBox","className","style","title","desc"];function z2(){return z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},z2.apply(this,arguments)}function HTe(e,t){if(e==null)return{};var r=KTe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function KTe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function U2(e){var t=e.children,r=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=HTe(e,qTe),u=a||{width:r,height:s,x:0,y:0},h=Ot("recharts-surface",i);return D.createElement("svg",z2({},Ct(d,!0,"svg"),{className:h,width:r,height:s,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),D.createElement("title",null,l),D.createElement("desc",null,c),t)}var GTe=["children","className"];function W2(){return W2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},W2.apply(this,arguments)}function YTe(e,t){if(e==null)return{};var r=XTe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function XTe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var Pr=D.forwardRef(function(e,t){var r=e.children,s=e.className,a=YTe(e,GTe),i=Ot("recharts-layer",s);return D.createElement("g",W2({className:i},Ct(a,!0),{ref:t}),r)}),nd=function(t,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function QTe(e,t,r){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+t];return i}var ZTe=QTe,JTe=ZTe;function eEe(e,t,r){var s=e.length;return r=r===void 0?s:r,!t&&r>=s?e:JTe(e,t,r)}var tEe=eEe,rEe="\\ud800-\\udfff",nEe="\\u0300-\\u036f",sEe="\\ufe20-\\ufe2f",aEe="\\u20d0-\\u20ff",iEe=nEe+sEe+aEe,oEe="\\ufe0e\\ufe0f",lEe="\\u200d",cEe=RegExp("["+lEe+rEe+iEe+oEe+"]");function dEe(e){return cEe.test(e)}var UH=dEe;function uEe(e){return e.split("")}var hEe=uEe,WH="\\ud800-\\udfff",mEe="\\u0300-\\u036f",fEe="\\ufe20-\\ufe2f",pEe="\\u20d0-\\u20ff",xEe=mEe+fEe+pEe,gEe="\\ufe0e\\ufe0f",yEe="["+WH+"]",q2="["+xEe+"]",H2="\\ud83c[\\udffb-\\udfff]",vEe="(?:"+q2+"|"+H2+")",qH="[^"+WH+"]",HH="(?:\\ud83c[\\udde6-\\uddff]){2}",KH="[\\ud800-\\udbff][\\udc00-\\udfff]",bEe="\\u200d",GH=vEe+"?",YH="["+gEe+"]?",jEe="(?:"+bEe+"(?:"+[qH,HH,KH].join("|")+")"+YH+GH+")*",wEe=YH+GH+jEe,NEe="(?:"+[qH+q2+"?",q2,HH,KH,yEe].join("|")+")",_Ee=RegExp(H2+"(?="+H2+")|"+NEe+wEe,"g");function SEe(e){return e.match(_Ee)||[]}var CEe=SEe,kEe=hEe,TEe=UH,EEe=CEe;function PEe(e){return TEe(e)?EEe(e):kEe(e)}var AEe=PEe,OEe=tEe,MEe=UH,REe=AEe,IEe=$H;function DEe(e){return function(t){t=IEe(t);var r=MEe(t)?REe(t):void 0,s=r?r[0]:t.charAt(0),a=r?OEe(r,1).join(""):t.slice(1);return s[e]()+a}}var $Ee=DEe,LEe=$Ee,FEe=LEe("toUpperCase"),BEe=FEe;const sw=ar(BEe);function or(e){return function(){return e}}const XH=Math.cos,E0=Math.sin,ai=Math.sqrt,P0=Math.PI,aw=2*P0,K2=Math.PI,G2=2*K2,Sc=1e-6,VEe=G2-Sc;function QH(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function zEe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return QH;const r=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class UEe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?QH:zEe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,s,a){this._append`Q${+t},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,r,s,a,i,o){this._append`C${+t},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,s,a,i){if(t=+t,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-t,d=a-r,u=o-t,h=l-r,m=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Sc)if(!(Math.abs(h*c-d*u)>Sc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let f=s-o,p=a-l,g=c*c+d*d,v=f*f+p*p,j=Math.sqrt(g),y=Math.sqrt(m),b=i*Math.tan((K2-Math.acos((g+m-v)/(2*j*y)))/2),w=b/y,N=b/j;Math.abs(w-1)>Sc&&this._append`L${t+w*u},${r+w*h}`,this._append`A${i},${i},0,0,${+(h*f>u*p)},${this._x1=t+N*c},${this._y1=r+N*d}`}}arc(t,r,s,a,i,o){if(t=+t,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=t+l,u=r+c,h=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Sc||Math.abs(this._y1-u)>Sc)&&this._append`L${d},${u}`,s&&(m<0&&(m=m%G2+G2),m>VEe?this._append`A${s},${s},0,1,${h},${t-l},${r-c}A${s},${s},0,1,${h},${this._x1=d},${this._y1=u}`:m>Sc&&this._append`A${s},${s},0,${+(m>=K2)},${h},${this._x1=t+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(t,r,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function VP(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return e},()=>new UEe(t)}function zP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ZH(e){this._context=e}ZH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function iw(e){return new ZH(e)}function JH(e){return e[0]}function eK(e){return e[1]}function tK(e,t){var r=or(!0),s=null,a=iw,i=null,o=VP(l);e=typeof e=="function"?e:e===void 0?JH:or(e),t=typeof t=="function"?t:t===void 0?eK:or(t);function l(c){var d,u=(c=zP(c)).length,h,m=!1,f;for(s==null&&(i=a(f=o())),d=0;d<=u;++d)!(d<u&&r(h=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(h,d,c),+t(h,d,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:or(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:or(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:or(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function jy(e,t,r){var s=null,a=or(!0),i=null,o=iw,l=null,c=VP(d);e=typeof e=="function"?e:e===void 0?JH:or(+e),t=typeof t=="function"?t:or(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?eK:or(+r);function d(h){var m,f,p,g=(h=zP(h)).length,v,j=!1,y,b=new Array(g),w=new Array(g);for(i==null&&(l=o(y=c())),m=0;m<=g;++m){if(!(m<g&&a(v=h[m],m,h))===j)if(j=!j)f=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=m-1;p>=f;--p)l.point(b[p],w[p]);l.lineEnd(),l.areaEnd()}j&&(b[m]=+e(v,m,h),w[m]=+t(v,m,h),l.point(s?+s(v,m,h):b[m],r?+r(v,m,h):w[m]))}if(y)return l=null,y+""||null}function u(){return tK().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:or(+h),s=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:or(+h),d):e},d.x1=function(h){return arguments.length?(s=h==null?null:typeof h=="function"?h:or(+h),d):s},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:or(+h),r=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:or(+h),d):t},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:or(+h),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(s).y(t)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:or(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class rK{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function WEe(e){return new rK(e,!0)}function qEe(e){return new rK(e,!1)}const UP={draw(e,t){const r=ai(t/P0);e.moveTo(r,0),e.arc(0,0,r,0,aw)}},HEe={draw(e,t){const r=ai(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},nK=ai(1/3),KEe=nK*2,GEe={draw(e,t){const r=ai(t/KEe),s=r*nK;e.moveTo(0,-r),e.lineTo(s,0),e.lineTo(0,r),e.lineTo(-s,0),e.closePath()}},YEe={draw(e,t){const r=ai(t),s=-r/2;e.rect(s,s,r,r)}},XEe=.8908130915292852,sK=E0(P0/10)/E0(7*P0/10),QEe=E0(aw/10)*sK,ZEe=-XH(aw/10)*sK,JEe={draw(e,t){const r=ai(t*XEe),s=QEe*r,a=ZEe*r;e.moveTo(0,-r),e.lineTo(s,a);for(let i=1;i<5;++i){const o=aw*i/5,l=XH(o),c=E0(o);e.lineTo(c*r,-l*r),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},EN=ai(3),ePe={draw(e,t){const r=-ai(t/(EN*3));e.moveTo(0,r*2),e.lineTo(-EN*r,-r),e.lineTo(EN*r,-r),e.closePath()}},Xs=-.5,Qs=ai(3)/2,Y2=1/ai(12),tPe=(Y2/2+1)*3,rPe={draw(e,t){const r=ai(t/tPe),s=r/2,a=r*Y2,i=s,o=r*Y2+r,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Xs*s-Qs*a,Qs*s+Xs*a),e.lineTo(Xs*i-Qs*o,Qs*i+Xs*o),e.lineTo(Xs*l-Qs*c,Qs*l+Xs*c),e.lineTo(Xs*s+Qs*a,Xs*a-Qs*s),e.lineTo(Xs*i+Qs*o,Xs*o-Qs*i),e.lineTo(Xs*l+Qs*c,Xs*c-Qs*l),e.closePath()}};function nPe(e,t){let r=null,s=VP(a);e=typeof e=="function"?e:or(e||UP),t=typeof t=="function"?t:or(t===void 0?64:+t);function a(){let i;if(r||(r=i=s()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:or(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:or(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function A0(){}function O0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function aK(e){this._context=e}aK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:O0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:O0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sPe(e){return new aK(e)}function iK(e){this._context=e}iK.prototype={areaStart:A0,areaEnd:A0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:O0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aPe(e){return new iK(e)}function oK(e){this._context=e}oK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:O0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iPe(e){return new oK(e)}function lK(e){this._context=e}lK.prototype={areaStart:A0,areaEnd:A0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function oPe(e){return new lK(e)}function EI(e){return e<0?-1:1}function PI(e,t,r){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(r-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(EI(i)+EI(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function AI(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function PN(e,t,r){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*t,i-l,o-l*r,i,o)}function M0(e){this._context=e}M0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:PN(this,this._t0,AI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,PN(this,AI(this,r=PI(this,e,t)),r);break;default:PN(this,this._t0,r=PI(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function cK(e){this._context=new dK(e)}(cK.prototype=Object.create(M0.prototype)).point=function(e,t){M0.prototype.point.call(this,t,e)};function dK(e){this._context=e}dK.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,s,a,i){this._context.bezierCurveTo(t,e,s,r,i,a)}};function lPe(e){return new M0(e)}function cPe(e){return new cK(e)}function uK(e){this._context=e}uK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var s=OI(e),a=OI(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function OI(e){var t,r=e.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function dPe(e){return new uK(e)}function ow(e,t){this._context=e,this._t=t}ow.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function uPe(e){return new ow(e,.5)}function hPe(e){return new ow(e,0)}function mPe(e){return new ow(e,1)}function Ih(e,t){if((o=e.length)>1)for(var r=1,s,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function X2(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function fPe(e,t){return e[t]}function pPe(e){const t=[];return t.key=e,t}function xPe(){var e=or([]),t=X2,r=Ih,s=fPe;function a(i){var o=Array.from(e.apply(this,arguments),pPe),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(h,o[l].key,d,i)]).data=h;for(l=0,u=zP(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:or(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:or(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?X2:typeof i=="function"?i:or(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ih,a):r},a}function gPe(e,t){if((s=e.length)>0){for(var r,s,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<s;++r)e[r][a][1]/=o}Ih(e,t)}}function yPe(e,t){if((a=e.length)>0){for(var r=0,s=e[t[0]],a,i=s.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;s[r][1]+=s[r][0]=-l/2}Ih(e,t)}}function vPe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],h=u[s][1]||0,m=u[s-1][1]||0,f=(h-m)/2,p=0;p<l;++p){var g=e[t[p]],v=g[s][1]||0,j=g[s-1][1]||0;f+=v-j}c+=h,d+=f*h}a[s-1][1]+=a[s-1][0]=r,c&&(r-=d/c)}a[s-1][1]+=a[s-1][0]=r,Ih(e,t)}}function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}var bPe=["type","size","sizeType"];function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Q2.apply(this,arguments)}function MI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function RI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(r),!0).forEach(function(s){jPe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function jPe(e,t,r){return t=wPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wPe(e){var t=NPe(e,"string");return Wp(t)=="symbol"?t:t+""}function NPe(e,t){if(Wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Wp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Pe(e,t){if(e==null)return{};var r=SPe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function SPe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var hK={symbolCircle:UP,symbolCross:HEe,symbolDiamond:GEe,symbolSquare:YEe,symbolStar:JEe,symbolTriangle:ePe,symbolWye:rPe},CPe=Math.PI/180,kPe=function(t){var r="symbol".concat(sw(t));return hK[r]||UP},TPe=function(t,r,s){if(r==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*CPe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},EPe=function(t,r){hK["symbol".concat(sw(t))]=r},WP=function(t){var r=t.type,s=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=_Pe(t,bPe),d=RI(RI({},c),{},{type:s,size:i,sizeType:l}),u=function(){var v=kPe(s),j=nPe().type(v).size(TPe(i,l,s));return j()},h=d.className,m=d.cx,f=d.cy,p=Ct(d,!0);return m===+m&&f===+f&&i===+i?D.createElement("path",Q2({},p,{className:Ot("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(f,")"),d:u()})):null};WP.registerSymbol=EPe;function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function Z2(){return Z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Z2.apply(this,arguments)}function II(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function PPe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?II(Object(r),!0).forEach(function(s){qp(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function APe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OPe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,fK(s.key),s)}}function MPe(e,t,r){return t&&OPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RPe(e,t,r){return t=R0(t),IPe(e,mK()?Reflect.construct(t,r||[],R0(e).constructor):t.apply(e,r))}function IPe(e,t){if(t&&(Dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DPe(e)}function DPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mK=function(){return!!e})()}function R0(e){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R0(e)}function $Pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J2(e,t)}function J2(e,t){return J2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},J2(e,t)}function qp(e,t,r){return t=fK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fK(e){var t=LPe(e,"string");return Dh(t)=="symbol"?t:t+""}function LPe(e,t){if(Dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Dh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zs=32,qP=function(e){function t(){return APe(this,t),RPe(this,t,arguments)}return $Pe(t,e),MPe(t,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=Zs/2,o=Zs/6,l=Zs/3,c=s.inactive?a:s.color;if(s.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:Zs,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Zs,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return D.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Zs/8,"h").concat(Zs,"v").concat(Zs*3/4,"h").concat(-Zs,"z"),className:"recharts-legend-icon"});if(D.isValidElement(s.legendIcon)){var d=PPe({},s);return delete d.legendIcon,D.cloneElement(s.legendIcon,d)}return D.createElement(WP,{fill:c,cx:i,cy:i,size:Zs,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:Zs,height:Zs},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(f,p){var g=f.formatter||c,v=Ot(qp(qp({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",f.inactive));if(f.type==="none")return null;var j=vt(f.value)?null:f.value;nd(!vt(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=f.inactive?d:f.color;return D.createElement("li",Z2({className:v,style:h,key:"legend-item-".concat(p)},T0(s.props,f,p)),D.createElement(U2,{width:o,height:o,viewBox:u,style:m},s.renderIcon(f)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(j,f,p):j))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);qp(qP,"displayName","Legend");qp(qP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var FPe=qj;function BPe(){this.__data__=new FPe,this.size=0}var VPe=BPe;function zPe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var UPe=zPe;function WPe(e){return this.__data__.get(e)}var qPe=WPe;function HPe(e){return this.__data__.has(e)}var KPe=HPe,GPe=qj,YPe=OP,XPe=MP,QPe=200;function ZPe(e,t){var r=this.__data__;if(r instanceof GPe){var s=r.__data__;if(!YPe||s.length<QPe-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new XPe(s)}return r.set(e,t),this.size=r.size,this}var JPe=ZPe,eAe=qj,tAe=VPe,rAe=UPe,nAe=qPe,sAe=KPe,aAe=JPe;function Mm(e){var t=this.__data__=new eAe(e);this.size=t.size}Mm.prototype.clear=tAe;Mm.prototype.delete=rAe;Mm.prototype.get=nAe;Mm.prototype.has=sAe;Mm.prototype.set=aAe;var pK=Mm,iAe="__lodash_hash_undefined__";function oAe(e){return this.__data__.set(e,iAe),this}var lAe=oAe;function cAe(e){return this.__data__.has(e)}var dAe=cAe,uAe=MP,hAe=lAe,mAe=dAe;function I0(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new uAe;++t<r;)this.add(e[t])}I0.prototype.add=I0.prototype.push=hAe;I0.prototype.has=mAe;var xK=I0;function fAe(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(t(e[r],r,e))return!0;return!1}var gK=fAe;function pAe(e,t){return e.has(t)}var yK=pAe,xAe=xK,gAe=gK,yAe=yK,vAe=1,bAe=2;function jAe(e,t,r,s,a,i){var o=r&vAe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var h=-1,m=!0,f=r&bAe?new xAe:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var p=e[h],g=t[h];if(s)var v=o?s(g,p,h,t,e,i):s(p,g,h,e,t,i);if(v!==void 0){if(v)continue;m=!1;break}if(f){if(!gAe(t,function(j,y){if(!yAe(f,y)&&(p===j||a(p,j,r,s,i)))return f.push(y)})){m=!1;break}}else if(!(p===g||a(p,g,r,s,i))){m=!1;break}}return i.delete(e),i.delete(t),m}var vK=jAe,wAe=qi,NAe=wAe.Uint8Array,_Ae=NAe;function SAe(e){var t=-1,r=Array(e.size);return e.forEach(function(s,a){r[++t]=[a,s]}),r}var CAe=SAe;function kAe(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var HP=kAe,DI=gg,$I=_Ae,TAe=AP,EAe=vK,PAe=CAe,AAe=HP,OAe=1,MAe=2,RAe="[object Boolean]",IAe="[object Date]",DAe="[object Error]",$Ae="[object Map]",LAe="[object Number]",FAe="[object RegExp]",BAe="[object Set]",VAe="[object String]",zAe="[object Symbol]",UAe="[object ArrayBuffer]",WAe="[object DataView]",LI=DI?DI.prototype:void 0,AN=LI?LI.valueOf:void 0;function qAe(e,t,r,s,a,i,o){switch(r){case WAe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case UAe:return!(e.byteLength!=t.byteLength||!i(new $I(e),new $I(t)));case RAe:case IAe:case LAe:return TAe(+e,+t);case DAe:return e.name==t.name&&e.message==t.message;case FAe:case VAe:return e==t+"";case $Ae:var l=PAe;case BAe:var c=s&OAe;if(l||(l=AAe),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;s|=MAe,o.set(e,t);var u=EAe(l(e),l(t),s,a,i,o);return o.delete(e),u;case zAe:if(AN)return AN.call(e)==AN.call(t)}return!1}var HAe=qAe;function KAe(e,t){for(var r=-1,s=t.length,a=e.length;++r<s;)e[a+r]=t[r];return e}var bK=KAe,GAe=bK,YAe=Cs;function XAe(e,t,r){var s=t(e);return YAe(e)?s:GAe(s,r(e))}var QAe=XAe;function ZAe(e,t){for(var r=-1,s=e==null?0:e.length,a=0,i=[];++r<s;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var JAe=ZAe;function e4e(){return[]}var t4e=e4e,r4e=JAe,n4e=t4e,s4e=Object.prototype,a4e=s4e.propertyIsEnumerable,FI=Object.getOwnPropertySymbols,i4e=FI?function(e){return e==null?[]:(e=Object(e),r4e(FI(e),function(t){return a4e.call(e,t)}))}:n4e,o4e=i4e;function l4e(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}var c4e=l4e,d4e=$o,u4e=Lo,h4e="[object Arguments]";function m4e(e){return u4e(e)&&d4e(e)==h4e}var f4e=m4e,BI=f4e,p4e=Lo,jK=Object.prototype,x4e=jK.hasOwnProperty,g4e=jK.propertyIsEnumerable,y4e=BI(function(){return arguments}())?BI:function(e){return p4e(e)&&x4e.call(e,"callee")&&!g4e.call(e,"callee")},KP=y4e,D0={exports:{}};function v4e(){return!1}var b4e=v4e;D0.exports;(function(e,t){var r=qi,s=b4e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;e.exports=d})(D0,D0.exports);var wK=D0.exports,j4e=9007199254740991,w4e=/^(?:0|[1-9]\d*)$/;function N4e(e,t){var r=typeof e;return t=t??j4e,!!t&&(r=="number"||r!="symbol"&&w4e.test(e))&&e>-1&&e%1==0&&e<t}var GP=N4e,_4e=9007199254740991;function S4e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=_4e}var YP=S4e,C4e=$o,k4e=YP,T4e=Lo,E4e="[object Arguments]",P4e="[object Array]",A4e="[object Boolean]",O4e="[object Date]",M4e="[object Error]",R4e="[object Function]",I4e="[object Map]",D4e="[object Number]",$4e="[object Object]",L4e="[object RegExp]",F4e="[object Set]",B4e="[object String]",V4e="[object WeakMap]",z4e="[object ArrayBuffer]",U4e="[object DataView]",W4e="[object Float32Array]",q4e="[object Float64Array]",H4e="[object Int8Array]",K4e="[object Int16Array]",G4e="[object Int32Array]",Y4e="[object Uint8Array]",X4e="[object Uint8ClampedArray]",Q4e="[object Uint16Array]",Z4e="[object Uint32Array]",mr={};mr[W4e]=mr[q4e]=mr[H4e]=mr[K4e]=mr[G4e]=mr[Y4e]=mr[X4e]=mr[Q4e]=mr[Z4e]=!0;mr[E4e]=mr[P4e]=mr[z4e]=mr[A4e]=mr[U4e]=mr[O4e]=mr[M4e]=mr[R4e]=mr[I4e]=mr[D4e]=mr[$4e]=mr[L4e]=mr[F4e]=mr[B4e]=mr[V4e]=!1;function J4e(e){return T4e(e)&&k4e(e.length)&&!!mr[C4e(e)]}var eOe=J4e;function tOe(e){return function(t){return e(t)}}var NK=tOe,$0={exports:{}};$0.exports;(function(e,t){var r=AH,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})($0,$0.exports);var rOe=$0.exports,nOe=eOe,sOe=NK,VI=rOe,zI=VI&&VI.isTypedArray,aOe=zI?sOe(zI):nOe,_K=aOe,iOe=c4e,oOe=KP,lOe=Cs,cOe=wK,dOe=GP,uOe=_K,hOe=Object.prototype,mOe=hOe.hasOwnProperty;function fOe(e,t){var r=lOe(e),s=!r&&oOe(e),a=!r&&!s&&cOe(e),i=!r&&!s&&!a&&uOe(e),o=r||s||a||i,l=o?iOe(e.length,String):[],c=l.length;for(var d in e)(t||mOe.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||dOe(d,c)))&&l.push(d);return l}var pOe=fOe,xOe=Object.prototype;function gOe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||xOe;return e===r}var yOe=gOe;function vOe(e,t){return function(r){return e(t(r))}}var SK=vOe,bOe=SK,jOe=bOe(Object.keys,Object),wOe=jOe,NOe=yOe,_Oe=wOe,SOe=Object.prototype,COe=SOe.hasOwnProperty;function kOe(e){if(!NOe(e))return _Oe(e);var t=[];for(var r in Object(e))COe.call(e,r)&&r!="constructor"&&t.push(r);return t}var TOe=kOe,EOe=PP,POe=YP;function AOe(e){return e!=null&&POe(e.length)&&!EOe(e)}var lw=AOe,OOe=pOe,MOe=TOe,ROe=lw;function IOe(e){return ROe(e)?OOe(e):MOe(e)}var XP=IOe,DOe=QAe,$Oe=o4e,LOe=XP;function FOe(e){return DOe(e,LOe,$Oe)}var BOe=FOe,UI=BOe,VOe=1,zOe=Object.prototype,UOe=zOe.hasOwnProperty;function WOe(e,t,r,s,a,i){var o=r&VOe,l=UI(e),c=l.length,d=UI(t),u=d.length;if(c!=u&&!o)return!1;for(var h=c;h--;){var m=l[h];if(!(o?m in t:UOe.call(t,m)))return!1}var f=i.get(e),p=i.get(t);if(f&&p)return f==t&&p==e;var g=!0;i.set(e,t),i.set(t,e);for(var v=o;++h<c;){m=l[h];var j=e[m],y=t[m];if(s)var b=o?s(y,j,m,t,e,i):s(j,y,m,e,t,i);if(!(b===void 0?j===y||a(j,y,r,s,i):b)){g=!1;break}v||(v=m=="constructor")}if(g&&!v){var w=e.constructor,N=t.constructor;w!=N&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof N=="function"&&N instanceof N)&&(g=!1)}return i.delete(e),i.delete(t),g}var qOe=WOe,HOe=Ld,KOe=qi,GOe=HOe(KOe,"DataView"),YOe=GOe,XOe=Ld,QOe=qi,ZOe=XOe(QOe,"Promise"),JOe=ZOe,e5e=Ld,t5e=qi,r5e=e5e(t5e,"Set"),CK=r5e,n5e=Ld,s5e=qi,a5e=n5e(s5e,"WeakMap"),i5e=a5e,eC=YOe,tC=OP,rC=JOe,nC=CK,sC=i5e,kK=$o,Rm=MH,WI="[object Map]",o5e="[object Object]",qI="[object Promise]",HI="[object Set]",KI="[object WeakMap]",GI="[object DataView]",l5e=Rm(eC),c5e=Rm(tC),d5e=Rm(rC),u5e=Rm(nC),h5e=Rm(sC),Cc=kK;(eC&&Cc(new eC(new ArrayBuffer(1)))!=GI||tC&&Cc(new tC)!=WI||rC&&Cc(rC.resolve())!=qI||nC&&Cc(new nC)!=HI||sC&&Cc(new sC)!=KI)&&(Cc=function(e){var t=kK(e),r=t==o5e?e.constructor:void 0,s=r?Rm(r):"";if(s)switch(s){case l5e:return GI;case c5e:return WI;case d5e:return qI;case u5e:return HI;case h5e:return KI}return t});var m5e=Cc,ON=pK,f5e=vK,p5e=HAe,x5e=qOe,YI=m5e,XI=Cs,QI=wK,g5e=_K,y5e=1,ZI="[object Arguments]",JI="[object Array]",wy="[object Object]",v5e=Object.prototype,eD=v5e.hasOwnProperty;function b5e(e,t,r,s,a,i){var o=XI(e),l=XI(t),c=o?JI:YI(e),d=l?JI:YI(t);c=c==ZI?wy:c,d=d==ZI?wy:d;var u=c==wy,h=d==wy,m=c==d;if(m&&QI(e)){if(!QI(t))return!1;o=!0,u=!1}if(m&&!u)return i||(i=new ON),o||g5e(e)?f5e(e,t,r,s,a,i):p5e(e,t,c,r,s,a,i);if(!(r&y5e)){var f=u&&eD.call(e,"__wrapped__"),p=h&&eD.call(t,"__wrapped__");if(f||p){var g=f?e.value():e,v=p?t.value():t;return i||(i=new ON),a(g,v,r,s,i)}}return m?(i||(i=new ON),x5e(e,t,r,s,a,i)):!1}var j5e=b5e,w5e=j5e,tD=Lo;function TK(e,t,r,s,a){return e===t?!0:e==null||t==null||!tD(e)&&!tD(t)?e!==e&&t!==t:w5e(e,t,r,s,TK,a)}var QP=TK,N5e=pK,_5e=QP,S5e=1,C5e=2;function k5e(e,t,r,s){var a=r.length,i=a,o=!s;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var h=new N5e;if(s)var m=s(d,u,c,e,t,h);if(!(m===void 0?_5e(u,d,S5e|C5e,s,h):m))return!1}}return!0}var T5e=k5e,E5e=dc;function P5e(e){return e===e&&!E5e(e)}var EK=P5e,A5e=EK,O5e=XP;function M5e(e){for(var t=O5e(e),r=t.length;r--;){var s=t[r],a=e[s];t[r]=[s,a,A5e(a)]}return t}var R5e=M5e;function I5e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var PK=I5e,D5e=T5e,$5e=R5e,L5e=PK;function F5e(e){var t=$5e(e);return t.length==1&&t[0][2]?L5e(t[0][0],t[0][1]):function(r){return r===e||D5e(r,e,t)}}var B5e=F5e;function V5e(e,t){return e!=null&&t in Object(e)}var z5e=V5e,U5e=LH,W5e=KP,q5e=Cs,H5e=GP,K5e=YP,G5e=Kj;function Y5e(e,t,r){t=U5e(t,e);for(var s=-1,a=t.length,i=!1;++s<a;){var o=G5e(t[s]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++s!=a?i:(a=e==null?0:e.length,!!a&&K5e(a)&&H5e(o,a)&&(q5e(e)||W5e(e)))}var X5e=Y5e,Q5e=z5e,Z5e=X5e;function J5e(e,t){return e!=null&&Z5e(e,t,Q5e)}var eMe=J5e,tMe=QP,rMe=FH,nMe=eMe,sMe=EP,aMe=EK,iMe=PK,oMe=Kj,lMe=1,cMe=2;function dMe(e,t){return sMe(e)&&aMe(t)?iMe(oMe(e),t):function(r){var s=rMe(r,e);return s===void 0&&s===t?nMe(r,e):tMe(t,s,lMe|cMe)}}var uMe=dMe;function hMe(e){return e}var Im=hMe;function mMe(e){return function(t){return t==null?void 0:t[e]}}var fMe=mMe,pMe=DP;function xMe(e){return function(t){return pMe(t,e)}}var gMe=xMe,yMe=fMe,vMe=gMe,bMe=EP,jMe=Kj;function wMe(e){return bMe(e)?yMe(jMe(e)):vMe(e)}var NMe=wMe,_Me=B5e,SMe=uMe,CMe=Im,kMe=Cs,TMe=NMe;function EMe(e){return typeof e=="function"?e:e==null?CMe:typeof e=="object"?kMe(e)?SMe(e[0],e[1]):_Me(e):TMe(e)}var Dm=EMe;function PMe(e,t,r,s){for(var a=e.length,i=r+(s?1:-1);s?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var AMe=PMe;function OMe(e){return e!==e}var MMe=OMe;function RMe(e,t,r){for(var s=r-1,a=e.length;++s<a;)if(e[s]===t)return s;return-1}var IMe=RMe,DMe=AMe,$Me=MMe,LMe=IMe;function FMe(e,t,r){return t===t?LMe(e,t,r):DMe(e,$Me,r)}var BMe=FMe,VMe=BMe;function zMe(e,t){var r=e==null?0:e.length;return!!r&&VMe(e,t,0)>-1}var UMe=zMe;function WMe(e,t,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(r(t,e[s]))return!0;return!1}var qMe=WMe;function HMe(){}var KMe=HMe,MN=CK,GMe=KMe,YMe=HP,XMe=1/0,QMe=MN&&1/YMe(new MN([,-0]))[1]==XMe?function(e){return new MN(e)}:GMe,ZMe=QMe,JMe=xK,eRe=UMe,tRe=qMe,rRe=yK,nRe=ZMe,sRe=HP,aRe=200;function iRe(e,t,r){var s=-1,a=eRe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=tRe;else if(i>=aRe){var d=t?null:nRe(e);if(d)return sRe(d);o=!1,a=rRe,c=new JMe}else c=t?[]:l;e:for(;++s<i;){var u=e[s],h=t?t(u):u;if(u=r||u!==0?u:0,o&&h===h){for(var m=c.length;m--;)if(c[m]===h)continue e;t&&c.push(h),l.push(u)}else a(c,h,r)||(c!==l&&c.push(h),l.push(u))}return l}var oRe=iRe,lRe=Dm,cRe=oRe;function dRe(e,t){return e&&e.length?cRe(e,lRe(t)):[]}var uRe=dRe;const rD=ar(uRe);function AK(e,t,r){return t===!0?rD(e,r):vt(t)?rD(e,t):e}function $h(e){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$h(e)}var hRe=["ref"];function nD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(r),!0).forEach(function(s){cw(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function mRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sD(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,MK(s.key),s)}}function fRe(e,t,r){return t&&sD(e.prototype,t),r&&sD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pRe(e,t,r){return t=L0(t),xRe(e,OK()?Reflect.construct(t,r||[],L0(e).constructor):t.apply(e,r))}function xRe(e,t){if(t&&($h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gRe(e)}function gRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OK=function(){return!!e})()}function L0(e){return L0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L0(e)}function yRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aC(e,t)}function aC(e,t){return aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},aC(e,t)}function cw(e,t,r){return t=MK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MK(e){var t=vRe(e,"string");return $h(t)=="symbol"?t:t+""}function vRe(e,t){if($h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if($h(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bRe(e,t){if(e==null)return{};var r=jRe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function jRe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function wRe(e){return e.value}function NRe(e,t){if(D.isValidElement(e))return D.cloneElement(e,t);if(typeof e=="function")return D.createElement(e,t);t.ref;var r=bRe(t,hRe);return D.createElement(qP,r)}var aD=1,Xu=function(e){function t(){var r;mRe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=pRe(this,t,[].concat(a)),cw(r,"lastBoundingBox",{width:-1,height:-1}),r}return yRe(t,e),fRe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>aD||Math.abs(a.height-this.lastBoundingBox.height)>aD)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Qi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,h,m;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var f=this.getBBoxSnapshot();h={left:((d||0)-f.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();m={top:((u||0)-p.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Qi(Qi({},h),m)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,h=Qi(Qi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return D.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(f){s.wrapperNode=f}},NRe(i,Qi(Qi({},this.props),{},{payload:AK(u,d,wRe)})))}}],[{key:"getWithHeight",value:function(s,a){var i=Qi(Qi({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&Ne(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])}(x.PureComponent);cw(Xu,"displayName","Legend");cw(Xu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var iD=gg,_Re=KP,SRe=Cs,oD=iD?iD.isConcatSpreadable:void 0;function CRe(e){return SRe(e)||_Re(e)||!!(oD&&e&&e[oD])}var kRe=CRe,TRe=bK,ERe=kRe;function RK(e,t,r,s,a){var i=-1,o=e.length;for(r||(r=ERe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?RK(l,t-1,r,s,a):TRe(a,l):s||(a[a.length]=l)}return a}var IK=RK;function PRe(e){return function(t,r,s){for(var a=-1,i=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var ARe=PRe,ORe=ARe,MRe=ORe(),RRe=MRe,IRe=RRe,DRe=XP;function $Re(e,t){return e&&IRe(e,t,DRe)}var DK=$Re,LRe=lw;function FRe(e,t){return function(r,s){if(r==null)return r;if(!LRe(r))return e(r,s);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&s(o[i],i,o)!==!1;);return r}}var BRe=FRe,VRe=DK,zRe=BRe,URe=zRe(VRe),ZP=URe,WRe=ZP,qRe=lw;function HRe(e,t){var r=-1,s=qRe(e)?Array(e.length):[];return WRe(e,function(a,i,o){s[++r]=t(a,i,o)}),s}var $K=HRe;function KRe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var GRe=KRe,lD=km;function YRe(e,t){if(e!==t){var r=e!==void 0,s=e===null,a=e===e,i=lD(e),o=t!==void 0,l=t===null,c=t===t,d=lD(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||s&&o&&c||!r&&c||!a)return 1;if(!s&&!i&&!d&&e<t||d&&r&&a&&!s&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var XRe=YRe,QRe=XRe;function ZRe(e,t,r){for(var s=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++s<o;){var c=QRe(a[s],i[s]);if(c){if(s>=l)return c;var d=r[s];return c*(d=="desc"?-1:1)}}return e.index-t.index}var JRe=ZRe,RN=IP,eIe=DP,tIe=Dm,rIe=$K,nIe=GRe,sIe=NK,aIe=JRe,iIe=Im,oIe=Cs;function lIe(e,t,r){t.length?t=RN(t,function(i){return oIe(i)?function(o){return eIe(o,i.length===1?i[0]:i)}:i}):t=[iIe];var s=-1;t=RN(t,sIe(tIe));var a=rIe(e,function(i,o,l){var c=RN(t,function(d){return d(i)});return{criteria:c,index:++s,value:i}});return nIe(a,function(i,o){return aIe(i,o,r)})}var cIe=lIe;function dIe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var uIe=dIe,hIe=uIe,cD=Math.max;function mIe(e,t,r){return t=cD(t===void 0?e.length-1:t,0),function(){for(var s=arguments,a=-1,i=cD(s.length-t,0),o=Array(i);++a<i;)o[a]=s[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=s[a];return l[t]=r(o),hIe(e,this,l)}}var fIe=mIe;function pIe(e){return function(){return e}}var xIe=pIe,gIe=Ld,yIe=function(){try{var e=gIe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),LK=yIe,vIe=xIe,dD=LK,bIe=Im,jIe=dD?function(e,t){return dD(e,"toString",{configurable:!0,enumerable:!1,value:vIe(t),writable:!0})}:bIe,wIe=jIe,NIe=800,_Ie=16,SIe=Date.now;function CIe(e){var t=0,r=0;return function(){var s=SIe(),a=_Ie-(s-r);if(r=s,a>0){if(++t>=NIe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var kIe=CIe,TIe=wIe,EIe=kIe,PIe=EIe(TIe),AIe=PIe,OIe=Im,MIe=fIe,RIe=AIe;function IIe(e,t){return RIe(MIe(e,t,OIe),e+"")}var DIe=IIe,$Ie=AP,LIe=lw,FIe=GP,BIe=dc;function VIe(e,t,r){if(!BIe(r))return!1;var s=typeof t;return(s=="number"?LIe(r)&&FIe(t,r.length):s=="string"&&t in r)?$Ie(r[t],e):!1}var dw=VIe,zIe=IK,UIe=cIe,WIe=DIe,uD=dw,qIe=WIe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&uD(e,t[0],t[1])?t=[]:r>2&&uD(t[0],t[1],t[2])&&(t=[t[0]]),UIe(e,zIe(t,1),[])}),HIe=qIe;const JP=ar(HIe);function Hp(e){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(e)}function iC(){return iC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},iC.apply(this,arguments)}function KIe(e,t){return QIe(e)||XIe(e,t)||YIe(e,t)||GIe()}function GIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YIe(e,t){if(e){if(typeof e=="string")return hD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hD(e,t)}}function hD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function XIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function QIe(e){if(Array.isArray(e))return e}function mD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(r),!0).forEach(function(s){ZIe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ZIe(e,t,r){return t=JIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JIe(e){var t=eDe(e,"string");return Hp(t)=="symbol"?t:t+""}function eDe(e,t){if(Hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Hp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tDe(e){return Array.isArray(e)&&jn(e[0])&&jn(e[1])?e.join(" ~ "):e}var rDe=function(t){var r=t.separator,s=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,h=t.formatter,m=t.itemSorter,f=t.wrapperClassName,p=t.labelClassName,g=t.label,v=t.labelFormatter,j=t.accessibilityLayer,y=j===void 0?!1:j,b=function(){if(u&&u.length){var A={padding:0,margin:0},B=(m?JP(u,m):u).map(function(R,L){if(R.type==="none")return null;var V=IN({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),O=R.formatter||h||tDe,P=R.value,I=R.name,G=P,re=I;if(O&&G!=null&&re!=null){var X=O(P,I,R,L,u);if(Array.isArray(X)){var W=KIe(X,2);G=W[0],re=W[1]}else G=X}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:V},jn(re)?D.createElement("span",{className:"recharts-tooltip-item-name"},re):null,jn(re)?D.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,D.createElement("span",{className:"recharts-tooltip-item-value"},G),D.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:A},B)}return null},w=IN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=IN({margin:0},d),_=!kt(g),C=_?g:"",S=Ot("recharts-default-tooltip",f),k=Ot("recharts-tooltip-label",p);_&&v&&u!==void 0&&u!==null&&(C=v(g,u));var E=y?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",iC({className:S,style:w},E),D.createElement("p",{className:k,style:N},D.isValidElement(C)?C:"".concat(C)),b())};function Kp(e){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(e)}function Ny(e,t,r){return t=nDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nDe(e){var t=sDe(e,"string");return Kp(t)=="symbol"?t:t+""}function sDe(e,t){if(Kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Kp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sf="recharts-tooltip-wrapper",aDe={visibility:"hidden"};function iDe(e){var t=e.coordinate,r=e.translateX,s=e.translateY;return Ot(sf,Ny(Ny(Ny(Ny({},"".concat(sf,"-right"),Ne(r)&&t&&Ne(t.x)&&r>=t.x),"".concat(sf,"-left"),Ne(r)&&t&&Ne(t.x)&&r<t.x),"".concat(sf,"-bottom"),Ne(s)&&t&&Ne(t.y)&&s>=t.y),"".concat(sf,"-top"),Ne(s)&&t&&Ne(t.y)&&s<t.y))}function fD(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&Ne(i[s]))return i[s];var u=r[s]-l-a,h=r[s]+a;if(t[s])return o[s]?u:h;if(o[s]){var m=u,f=c[s];return m<f?Math.max(h,c[s]):Math.max(u,c[s])}var p=h+l,g=c[s]+d;return p>g?Math.max(u,c[s]):Math.max(h,c[s])}function oDe(e){var t=e.translateX,r=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function lDe(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,h;return o.height>0&&o.width>0&&r?(u=fD({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=fD({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=oDe({translateX:u,translateY:h,useTranslate3d:l})):d=aDe,{cssProperties:d,cssClasses:iDe({translateX:u,translateY:h,coordinate:r})}}function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}function pD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function xD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(r),!0).forEach(function(s){lC(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function cDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dDe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,BK(s.key),s)}}function uDe(e,t,r){return t&&dDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hDe(e,t,r){return t=F0(t),mDe(e,FK()?Reflect.construct(t,r||[],F0(e).constructor):t.apply(e,r))}function mDe(e,t){if(t&&(Lh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fDe(e)}function fDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FK=function(){return!!e})()}function F0(e){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F0(e)}function pDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oC(e,t)}function oC(e,t){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},oC(e,t)}function lC(e,t,r){return t=BK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BK(e){var t=xDe(e,"string");return Lh(t)=="symbol"?t:t+""}function xDe(e,t){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Lh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gD=1,gDe=function(e){function t(){var r;cDe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=hDe(this,t,[].concat(a)),lC(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),lC(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return pDe(t,e),uDe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>gD||Math.abs(s.height-this.state.lastBoundingBox.height)>gD)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,h=a.hasPayload,m=a.isAnimationActive,f=a.offset,p=a.position,g=a.reverseDirection,v=a.useTranslate3d,j=a.viewBox,y=a.wrapperStyle,b=lDe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:f,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:j}),w=b.cssClasses,N=b.cssProperties,_=xD(xD({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},y);return D.createElement("div",{tabIndex:-1,className:w,style:_,ref:function(S){s.wrapperNode=S}},d)}}])}(x.PureComponent),yDe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},po={isSsr:yDe(),get:function(t){return po[t]},set:function(t,r){if(typeof t=="string")po[t]=r;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(a){po[a]=t[a]})}}};function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}function yD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function vD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(r),!0).forEach(function(s){eA(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yD(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function vDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bDe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,zK(s.key),s)}}function jDe(e,t,r){return t&&bDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wDe(e,t,r){return t=B0(t),NDe(e,VK()?Reflect.construct(t,r||[],B0(e).constructor):t.apply(e,r))}function NDe(e,t){if(t&&(Fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _De(e)}function _De(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VK=function(){return!!e})()}function B0(e){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B0(e)}function SDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cC(e,t)}function cC(e,t){return cC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},cC(e,t)}function eA(e,t,r){return t=zK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zK(e){var t=CDe(e,"string");return Fh(t)=="symbol"?t:t+""}function CDe(e,t){if(Fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Fh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kDe(e){return e.dataKey}function TDe(e,t){return D.isValidElement(e)?D.cloneElement(e,t):typeof e=="function"?D.createElement(e,t):D.createElement(rDe,t)}var di=function(e){function t(){return vDe(this,t),wDe(this,t,arguments)}return SDe(t,e),jDe(t,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,h=a.filterNull,m=a.isAnimationActive,f=a.offset,p=a.payload,g=a.payloadUniqBy,v=a.position,j=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,w=a.wrapperStyle,N=p??[];h&&N.length&&(N=AK(p.filter(function(C){return C.value!=null&&(C.hide!==!0||s.props.includeHidden)}),g,kDe));var _=N.length>0;return D.createElement(gDe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:u,hasPayload:_,offset:f,position:v,reverseDirection:j,useTranslate3d:y,viewBox:b,wrapperStyle:w},TDe(d,vD(vD({},this.props),{},{payload:N})))}}])}(x.PureComponent);eA(di,"displayName","Tooltip");eA(di,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!po.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var EDe=qi,PDe=function(){return EDe.Date.now()},ADe=PDe,ODe=/\s/;function MDe(e){for(var t=e.length;t--&&ODe.test(e.charAt(t)););return t}var RDe=MDe,IDe=RDe,DDe=/^\s+/;function $De(e){return e&&e.slice(0,IDe(e)+1).replace(DDe,"")}var LDe=$De,FDe=LDe,bD=dc,BDe=km,jD=NaN,VDe=/^[-+]0x[0-9a-f]+$/i,zDe=/^0b[01]+$/i,UDe=/^0o[0-7]+$/i,WDe=parseInt;function qDe(e){if(typeof e=="number")return e;if(BDe(e))return jD;if(bD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=bD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=FDe(e);var r=zDe.test(e);return r||UDe.test(e)?WDe(e.slice(2),r?2:8):VDe.test(e)?jD:+e}var UK=qDe,HDe=dc,DN=ADe,wD=UK,KDe="Expected a function",GDe=Math.max,YDe=Math.min;function XDe(e,t,r){var s,a,i,o,l,c,d=0,u=!1,h=!1,m=!0;if(typeof e!="function")throw new TypeError(KDe);t=wD(t)||0,HDe(r)&&(u=!!r.leading,h="maxWait"in r,i=h?GDe(wD(r.maxWait)||0,t):i,m="trailing"in r?!!r.trailing:m);function f(_){var C=s,S=a;return s=a=void 0,d=_,o=e.apply(S,C),o}function p(_){return d=_,l=setTimeout(j,t),u?f(_):o}function g(_){var C=_-c,S=_-d,k=t-C;return h?YDe(k,i-S):k}function v(_){var C=_-c,S=_-d;return c===void 0||C>=t||C<0||h&&S>=i}function j(){var _=DN();if(v(_))return y(_);l=setTimeout(j,g(_))}function y(_){return l=void 0,m&&s?f(_):(s=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),d=0,s=c=a=l=void 0}function w(){return l===void 0?o:y(DN())}function N(){var _=DN(),C=v(_);if(s=arguments,a=this,c=_,C){if(l===void 0)return p(c);if(h)return clearTimeout(l),l=setTimeout(j,t),f(c)}return l===void 0&&(l=setTimeout(j,t)),o}return N.cancel=b,N.flush=w,N}var QDe=XDe,ZDe=QDe,JDe=dc,e3e="Expected a function";function t3e(e,t,r){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(e3e);return JDe(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),ZDe(e,t,{leading:s,maxWait:t,trailing:a})}var r3e=t3e;const WK=ar(r3e);function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(e)}function ND(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function _y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(r),!0).forEach(function(s){n3e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function n3e(e,t,r){return t=s3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s3e(e){var t=a3e(e,"string");return Gp(t)=="symbol"?t:t+""}function a3e(e,t){if(Gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Gp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i3e(e,t){return d3e(e)||c3e(e,t)||l3e(e,t)||o3e()}function o3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l3e(e,t){if(e){if(typeof e=="string")return _D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _D(e,t)}}function _D(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function c3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function d3e(e){if(Array.isArray(e))return e}var qK=x.forwardRef(function(e,t){var r=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,h=e.minHeight,m=e.maxHeight,f=e.children,p=e.debounce,g=p===void 0?0:p,v=e.id,j=e.className,y=e.onResize,b=e.style,w=b===void 0?{}:b,N=x.useRef(null),_=x.useRef();_.current=y,x.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var C=x.useState({containerWidth:a.width,containerHeight:a.height}),S=i3e(C,2),k=S[0],E=S[1],T=x.useCallback(function(B,R){E(function(L){var V=Math.round(B),O=Math.round(R);return L.containerWidth===V&&L.containerHeight===O?L:{containerWidth:V,containerHeight:O}})},[]);x.useEffect(function(){var B=function(I){var G,re=I[0].contentRect,X=re.width,W=re.height;T(X,W),(G=_.current)===null||G===void 0||G.call(_,X,W)};g>0&&(B=WK(B,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(B),L=N.current.getBoundingClientRect(),V=L.width,O=L.height;return T(V,O),R.observe(N.current),function(){R.disconnect()}},[T,g]);var A=x.useMemo(function(){var B=k.containerWidth,R=k.containerHeight;if(B<0||R<0)return null;nd($c(o)||$c(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),nd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=$c(o)?B:o,V=$c(c)?R:c;r&&r>0&&(L?V=L/r:V&&(L=V*r),m&&V>m&&(V=m)),nd(L>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,V,o,c,u,h,r);var O=!Array.isArray(f)&&fo(f.type).endsWith("Chart");return D.Children.map(f,function(P){return D.isValidElement(P)?x.cloneElement(P,_y({width:L,height:V},O?{style:_y({height:"100%",width:"100%",maxHeight:V,maxWidth:L},P.props.style)}:{})):P})},[r,f,c,m,h,u,k,o]);return D.createElement("div",{id:v?"".concat(v):void 0,className:Ot("recharts-responsive-container",j),style:_y(_y({},w),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:m}),ref:N},A)}),HK=function(t){return null};HK.displayName="Cell";function Yp(e){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(e)}function SD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function dC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SD(Object(r),!0).forEach(function(s){u3e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SD(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function u3e(e,t,r){return t=h3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h3e(e){var t=m3e(e,"string");return Yp(t)=="symbol"?t:t+""}function m3e(e,t){if(Yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Yp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var su={widthCache:{},cacheCount:0},f3e=2e3,p3e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CD="recharts_measurement_span";function x3e(e){var t=dC({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Kf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||po.isSsr)return{width:0,height:0};var s=x3e(r),a=JSON.stringify({text:t,copyStyle:s});if(su.widthCache[a])return su.widthCache[a];try{var i=document.getElementById(CD);i||(i=document.createElement("span"),i.setAttribute("id",CD),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=dC(dC({},p3e),s);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return su.widthCache[a]=c,++su.cacheCount>f3e&&(su.cacheCount=0,su.widthCache={}),c}catch{return{width:0,height:0}}},g3e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}function V0(e,t){return j3e(e)||b3e(e,t)||v3e(e,t)||y3e()}function y3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v3e(e,t){if(e){if(typeof e=="string")return kD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kD(e,t)}}function kD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function b3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function j3e(e){if(Array.isArray(e))return e}function w3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TD(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_3e(s.key),s)}}function N3e(e,t,r){return t&&TD(e.prototype,t),r&&TD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _3e(e){var t=S3e(e,"string");return Xp(t)=="symbol"?t:t+""}function S3e(e,t){if(Xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Xp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ED=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,C3e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,k3e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,KK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},T3e=Object.keys(KK),Ou="NaN";function E3e(e,t){return e*KK[t]}var Sy=function(){function e(t,r){w3e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!C3e.test(r)&&(this.num=NaN,this.unit=""),T3e.includes(r)&&(this.num=E3e(t,r),this.unit="px")}return N3e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var s,a=(s=k3e.exec(r))!==null&&s!==void 0?s:[],i=V0(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function GK(e){if(e.includes(Ou))return Ou;for(var t=e;t.includes("*")||t.includes("/");){var r,s=(r=ED.exec(t))!==null&&r!==void 0?r:[],a=V0(s,4),i=a[1],o=a[2],l=a[3],c=Sy.parse(i??""),d=Sy.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Ou;t=t.replace(ED,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,m=(h=PD.exec(t))!==null&&h!==void 0?h:[],f=V0(m,4),p=f[1],g=f[2],v=f[3],j=Sy.parse(p??""),y=Sy.parse(v??""),b=g==="+"?j.add(y):j.subtract(y);if(b.isNaN())return Ou;t=t.replace(PD,b.toString())}return t}var AD=/\(([^()]*)\)/;function P3e(e){for(var t=e;t.includes("(");){var r=AD.exec(t),s=V0(r,2),a=s[1];t=t.replace(AD,GK(a))}return t}function A3e(e){var t=e.replace(/\s+/g,"");return t=P3e(t),t=GK(t),t}function O3e(e){try{return A3e(e)}catch{return Ou}}function $N(e){var t=O3e(e.slice(5,-1));return t===Ou?"":t}var M3e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],R3e=["dx","dy","angle","className","breakAll"];function uC(){return uC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},uC.apply(this,arguments)}function OD(e,t){if(e==null)return{};var r=I3e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function I3e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function MD(e,t){return F3e(e)||L3e(e,t)||$3e(e,t)||D3e()}function D3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $3e(e,t){if(e){if(typeof e=="string")return RD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RD(e,t)}}function RD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function L3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function F3e(e){if(Array.isArray(e))return e}var YK=/[ \f\n\r\t\v\u2028\u2029]+/,XK=function(t){var r=t.children,s=t.breakAll,a=t.style;try{var i=[];kt(r)||(s?i=r.toString().split(""):i=r.toString().split(YK));var o=i.map(function(c){return{word:c,width:Kf(c,a).width}}),l=s?0:Kf("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},B3e=function(t,r,s,a,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=Ne(o),h=l,m=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(V,O){var P=O.word,I=O.width,G=V[V.length-1];if(G&&(a==null||i||G.width+I+s<Number(a)))G.words.push(P),G.width+=I+s;else{var re={words:[P],width:I};V.push(re)}return V},[])},f=m(r),p=function(L){return L.reduce(function(V,O){return V.width>O.width?V:O})};if(!u)return f;for(var g="",v=function(L){var V=h.slice(0,L),O=XK({breakAll:d,style:c,children:V+g}).wordsWithComputedWidth,P=m(O),I=P.length>o||p(P).width>Number(a);return[I,P]},j=0,y=h.length-1,b=0,w;j<=y&&b<=h.length-1;){var N=Math.floor((j+y)/2),_=N-1,C=v(_),S=MD(C,2),k=S[0],E=S[1],T=v(N),A=MD(T,1),B=A[0];if(!k&&!B&&(j=N+1),k&&B&&(y=N-1),!k&&B){w=E;break}b++}return w||f},ID=function(t){var r=kt(t)?[]:t.toString().split(YK);return[{words:r}]},V3e=function(t){var r=t.width,s=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||s)&&!po.isSsr){var c,d,u=XK({breakAll:o,children:a,style:i});if(u){var h=u.wordsWithComputedWidth,m=u.spaceWidth;c=h,d=m}else return ID(a);return B3e({breakAll:o,children:a,maxLines:l,style:i},c,d,r,s)}return ID(a)},DD="#808080",z0=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,h=u===void 0?!1:u,m=t.textAnchor,f=m===void 0?"start":m,p=t.verticalAnchor,g=p===void 0?"end":p,v=t.fill,j=v===void 0?DD:v,y=OD(t,M3e),b=x.useMemo(function(){return V3e({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:h,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,h,y.style,y.width]),w=y.dx,N=y.dy,_=y.angle,C=y.className,S=y.breakAll,k=OD(y,R3e);if(!jn(s)||!jn(i))return null;var E=s+(Ne(w)?w:0),T=i+(Ne(N)?N:0),A;switch(g){case"start":A=$N("calc(".concat(d,")"));break;case"middle":A=$N("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:A=$N("calc(".concat(b.length-1," * -").concat(l,")"));break}var B=[];if(h){var R=b[0].width,L=y.width;B.push("scale(".concat((Ne(L)?L/R:1)/R,")"))}return _&&B.push("rotate(".concat(_,", ").concat(E,", ").concat(T,")")),B.length&&(k.transform=B.join(" ")),D.createElement("text",uC({},Ct(k,!0),{x:E,y:T,className:Ot("recharts-text",C),textAnchor:f,fill:j.includes("url")?DD:j}),b.map(function(V,O){var P=V.words.join(S?"":" ");return D.createElement("tspan",{x:E,dy:O===0?A:l,key:"".concat(P,"-").concat(O)},P)}))};function Rl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function z3e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tA(e){let t,r,s;e.length!==2?(t=Rl,r=(l,c)=>Rl(e(l),c),s=(l,c)=>e(l)-c):(t=e===Rl||e===z3e?e:U3e,r=e,s=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=a(l,c,d,u-1);return h>d&&s(l[h-1],c)>-s(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function U3e(){return 0}function QK(e){return e===null?NaN:+e}function*W3e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const q3e=tA(Rl),vg=q3e.right;tA(QK).center;class $D extends Map{constructor(t,r=G3e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(LD(this,t))}has(t){return super.has(LD(this,t))}set(t,r){return super.set(H3e(this,t),r)}delete(t){return super.delete(K3e(this,t))}}function LD({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function H3e({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function K3e({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function G3e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Y3e(e=Rl){if(e===Rl)return ZK;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const s=e(t,r);return s||s===0?s:(e(r,r)===0)-(e(t,t)===0)}}function ZK(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const X3e=Math.sqrt(50),Q3e=Math.sqrt(10),Z3e=Math.sqrt(2);function U0(e,t,r){const s=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=X3e?10:i>=Q3e?5:i>=Z3e?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?U0(e,t,r*2):[l,c,d]}function hC(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?U0(t,e,r):U0(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function mC(e,t,r){return t=+t,e=+e,r=+r,U0(e,t,r)[2]}function fC(e,t,r){t=+t,e=+e,r=+r;const s=t<e,a=s?mC(t,e,r):mC(e,t,r);return(s?-1:1)*(a<0?1/-a:a)}function FD(e,t){let r;for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function BD(e,t){let r;for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function JK(e,t,r=0,s=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=t&&t<=s))return e;for(a=a===void 0?ZK:Y3e(a);s>r;){if(s-r>600){const c=s-r+1,d=t-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),f=Math.max(r,Math.floor(t-d*h/c+m)),p=Math.min(s,Math.floor(t+(c-d)*h/c+m));JK(e,t,f,p,a)}const i=e[t];let o=r,l=s;for(af(e,r,t),a(e[s],i)>0&&af(e,r,s);o<l;){for(af(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?af(e,r,l):(++l,af(e,l,s)),l<=t&&(r=l+1),t<=l&&(s=l-1)}return e}function af(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function J3e(e,t,r){if(e=Float64Array.from(W3e(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return BD(e);if(t>=1)return FD(e);var s,a=(s-1)*t,i=Math.floor(a),o=FD(JK(e,i).subarray(0,i+1)),l=BD(e.subarray(i+1));return o+(l-o)*(a-i)}}function e$e(e,t,r=QK){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function t$e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++s<a;)i[s]=e+s*r;return i}function ja(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Fo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const pC=Symbol("implicit");function rA(){var e=new $D,t=[],r=[],s=pC;function a(i){let o=e.get(i);if(o===void 0){if(s!==pC)return s;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new $D;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return rA(t,r).unknown(s)},ja.apply(a,arguments),a}function Qp(){var e=rA().unknown(void 0),t=e.domain,r=e.range,s=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function h(){var m=t().length,f=a<s,p=f?a:s,g=f?s:a;i=(g-p)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),p+=(g-p-i*(m-c))*u,o=i*(1-c),l&&(p=Math.round(p),o=Math.round(o));var v=t$e(m).map(function(j){return p+i*j});return r(f?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([s,a]=m,s=+s,a=+a,h()):[s,a]},e.rangeRound=function(m){return[s,a]=m,s=+s,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,h()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},e.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),h()):u},e.copy=function(){return Qp(t(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},ja.apply(h(),arguments)}function eG(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return eG(t())},e}function Gf(){return eG(Qp.apply(null,arguments).paddingInner(1))}function nA(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function tG(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function bg(){}var Zp=.7,W0=1/Zp,Qu="\\s*([+-]?\\d+)\\s*",Jp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r$e=/^#([0-9a-f]{3,8})$/,n$e=new RegExp(`^rgb\\(${Qu},${Qu},${Qu}\\)$`),s$e=new RegExp(`^rgb\\(${Mi},${Mi},${Mi}\\)$`),a$e=new RegExp(`^rgba\\(${Qu},${Qu},${Qu},${Jp}\\)$`),i$e=new RegExp(`^rgba\\(${Mi},${Mi},${Mi},${Jp}\\)$`),o$e=new RegExp(`^hsl\\(${Jp},${Mi},${Mi}\\)$`),l$e=new RegExp(`^hsla\\(${Jp},${Mi},${Mi},${Jp}\\)$`),VD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nA(bg,ex,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zD,formatHex:zD,formatHex8:c$e,formatHsl:d$e,formatRgb:UD,toString:UD});function zD(){return this.rgb().formatHex()}function c$e(){return this.rgb().formatHex8()}function d$e(){return rG(this).formatHsl()}function UD(){return this.rgb().formatRgb()}function ex(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=r$e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?WD(t):r===3?new ys(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Cy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Cy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=n$e.exec(e))?new ys(t[1],t[2],t[3],1):(t=s$e.exec(e))?new ys(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=a$e.exec(e))?Cy(t[1],t[2],t[3],t[4]):(t=i$e.exec(e))?Cy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=o$e.exec(e))?KD(t[1],t[2]/100,t[3]/100,1):(t=l$e.exec(e))?KD(t[1],t[2]/100,t[3]/100,t[4]):VD.hasOwnProperty(e)?WD(VD[e]):e==="transparent"?new ys(NaN,NaN,NaN,0):null}function WD(e){return new ys(e>>16&255,e>>8&255,e&255,1)}function Cy(e,t,r,s){return s<=0&&(e=t=r=NaN),new ys(e,t,r,s)}function u$e(e){return e instanceof bg||(e=ex(e)),e?(e=e.rgb(),new ys(e.r,e.g,e.b,e.opacity)):new ys}function xC(e,t,r,s){return arguments.length===1?u$e(e):new ys(e,t,r,s??1)}function ys(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}nA(ys,xC,tG(bg,{brighter(e){return e=e==null?W0:Math.pow(W0,e),new ys(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zp:Math.pow(Zp,e),new ys(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ys(sd(this.r),sd(this.g),sd(this.b),q0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qD,formatHex:qD,formatHex8:h$e,formatRgb:HD,toString:HD}));function qD(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}`}function h$e(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}${Lc((isNaN(this.opacity)?1:this.opacity)*255)}`}function HD(){const e=q0(this.opacity);return`${e===1?"rgb(":"rgba("}${sd(this.r)}, ${sd(this.g)}, ${sd(this.b)}${e===1?")":`, ${e})`}`}function q0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lc(e){return e=sd(e),(e<16?"0":"")+e.toString(16)}function KD(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new za(e,t,r,s)}function rG(e){if(e instanceof za)return new za(e.h,e.s,e.l,e.opacity);if(e instanceof bg||(e=ex(e)),!e)return new za;if(e instanceof za)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),i=Math.max(t,r,s),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-s)/l+(r<s)*6:r===i?o=(s-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new za(o,l,c,e.opacity)}function m$e(e,t,r,s){return arguments.length===1?rG(e):new za(e,t,r,s??1)}function za(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}nA(za,m$e,tG(bg,{brighter(e){return e=e==null?W0:Math.pow(W0,e),new za(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zp:Math.pow(Zp,e),new za(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new ys(LN(e>=240?e-240:e+120,a,s),LN(e,a,s),LN(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new za(GD(this.h),ky(this.s),ky(this.l),q0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=q0(this.opacity);return`${e===1?"hsl(":"hsla("}${GD(this.h)}, ${ky(this.s)*100}%, ${ky(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GD(e){return e=(e||0)%360,e<0?e+360:e}function ky(e){return Math.max(0,Math.min(1,e||0))}function LN(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const sA=e=>()=>e;function f$e(e,t){return function(r){return e+r*t}}function p$e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function x$e(e){return(e=+e)==1?nG:function(t,r){return r-t?p$e(t,r,e):sA(isNaN(t)?r:t)}}function nG(e,t){var r=t-e;return r?f$e(e,r):sA(isNaN(e)?t:e)}const YD=function e(t){var r=x$e(t);function s(a,i){var o=r((a=xC(a)).r,(i=xC(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=nG(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return s.gamma=e,s}(1);function g$e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function y$e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function v$e(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=$m(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function b$e(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function H0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function j$e(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=$m(e[a],t[a]):s[a]=t[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var gC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,FN=new RegExp(gC.source,"g");function w$e(e){return function(){return e}}function N$e(e){return function(t){return e(t)+""}}function _$e(e,t){var r=gC.lastIndex=FN.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=gC.exec(e))&&(a=FN.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:H0(s,a)})),r=FN.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?N$e(c[0].x):w$e(t):(t=c.length,function(d){for(var u=0,h;u<t;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function $m(e,t){var r=typeof t,s;return t==null||r==="boolean"?sA(t):(r==="number"?H0:r==="string"?(s=ex(t))?(t=s,YD):_$e:t instanceof ex?YD:t instanceof Date?b$e:y$e(t)?g$e:Array.isArray(t)?v$e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?j$e:H0)(e,t)}function aA(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function S$e(e,t){t===void 0&&(t=e,e=$m);for(var r=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);r<s;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function C$e(e){return function(){return e}}function K0(e){return+e}var XD=[0,1];function rs(e){return e}function yC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:C$e(isNaN(t)?NaN:.5)}function k$e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function T$e(e,t,r){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=yC(a,s),i=r(o,i)):(s=yC(s,a),i=r(i,o)),function(l){return i(s(l))}}function E$e(e,t,r){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=yC(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=vg(e,l,1,s)-1;return i[c](a[c](l))}}function jg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function uw(){var e=XD,t=XD,r=$m,s,a,i,o=rs,l,c,d;function u(){var m=Math.min(e.length,t.length);return o!==rs&&(o=k$e(e[0],e[m-1])),l=m>2?E$e:T$e,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(s),t,r)))(s(o(m)))}return h.invert=function(m){return o(a((d||(d=l(t,e.map(s),H0)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,K0),u()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),u()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),r=aA,u()},h.clamp=function(m){return arguments.length?(o=m?!0:rs,u()):o!==rs},h.interpolate=function(m){return arguments.length?(r=m,u()):r},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,f){return s=m,a=f,u()}}function iA(){return uw()(rs,rs)}function P$e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function G0(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function Bh(e){return e=G0(Math.abs(e)),e?e[1]:NaN}function A$e(e,t){return function(r,s){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function O$e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var M$e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tx(e){if(!(t=M$e.exec(e)))throw new Error("invalid format: "+e);var t;return new oA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tx.prototype=oA.prototype;function oA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}oA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function R$e(e){e:for(var t=e.length,r=1,s=-1,a;r<t;++r)switch(e[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var sG;function I$e(e,t){var r=G0(e,t);if(!r)return e+"";var s=r[0],a=r[1],i=a-(sG=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+G0(e,Math.max(0,t+i-1))[0]}function QD(e,t){var r=G0(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const ZD={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:P$e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>QD(e*100,t),r:QD,s:I$e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JD(e){return e}var e3=Array.prototype.map,t3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function D$e(e){var t=e.grouping===void 0||e.thousands===void 0?JD:A$e(e3.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?JD:O$e(e3.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(h){h=tx(h);var m=h.fill,f=h.align,p=h.sign,g=h.symbol,v=h.zero,j=h.width,y=h.comma,b=h.precision,w=h.trim,N=h.type;N==="n"?(y=!0,N="g"):ZD[N]||(b===void 0&&(b=12),w=!0,N="g"),(v||m==="0"&&f==="=")&&(v=!0,m="0",f="=");var _=g==="$"?r:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",C=g==="$"?s:/[%p]/.test(N)?o:"",S=ZD[N],k=/[defgprs%]/.test(N);b=b===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function E(T){var A=_,B=C,R,L,V;if(N==="c")B=S(T)+B,T="";else{T=+T;var O=T<0||1/T<0;if(T=isNaN(T)?c:S(Math.abs(T),b),w&&(T=R$e(T)),O&&+T==0&&p!=="+"&&(O=!1),A=(O?p==="("?p:l:p==="-"||p==="("?"":p)+A,B=(N==="s"?t3[8+sG/3]:"")+B+(O&&p==="("?")":""),k){for(R=-1,L=T.length;++R<L;)if(V=T.charCodeAt(R),48>V||V>57){B=(V===46?a+T.slice(R+1):T.slice(R))+B,T=T.slice(0,R);break}}}y&&!v&&(T=t(T,1/0));var P=A.length+T.length+B.length,I=P<j?new Array(j-P+1).join(m):"";switch(y&&v&&(T=t(I+T,I.length?j-B.length:1/0),I=""),f){case"<":T=A+T+B+I;break;case"=":T=A+I+T+B;break;case"^":T=I.slice(0,P=I.length>>1)+A+T+B+I.slice(P);break;default:T=I+A+T+B;break}return i(T)}return E.toString=function(){return h+""},E}function u(h,m){var f=d((h=tx(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(Bh(m)/3)))*3,g=Math.pow(10,-p),v=t3[8+p/3];return function(j){return f(g*j)+v}}return{format:d,formatPrefix:u}}var Ty,lA,aG;$$e({thousands:",",grouping:[3],currency:["$",""]});function $$e(e){return Ty=D$e(e),lA=Ty.format,aG=Ty.formatPrefix,Ty}function L$e(e){return Math.max(0,-Bh(Math.abs(e)))}function F$e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bh(t)/3)))*3-Bh(Math.abs(e)))}function B$e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bh(t)-Bh(e))+1}function iG(e,t,r,s){var a=fC(e,t,r),i;switch(s=tx(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=F$e(a,o))&&(s.precision=i),aG(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=B$e(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=L$e(a))&&(s.precision=i-(s.type==="%")*2);break}}return lA(s)}function uc(e){var t=e.domain;return e.ticks=function(r){var s=t();return hC(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var a=t();return iG(a[0],a[a.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=mC(o,l,r),d===c)return s[a]=o,s[i]=l,t(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function Y0(){var e=iA();return e.copy=function(){return jg(e,Y0())},ja.apply(e,arguments),uc(e)}function oG(e){var t;function r(s){return s==null||isNaN(s=+s)?t:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(e=Array.from(s,K0),r):e.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return oG(e).unknown(t)},e=arguments.length?Array.from(e,K0):[0,1],uc(r)}function lG(e,t){e=e.slice();var r=0,s=e.length-1,a=e[r],i=e[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),e[r]=t.floor(a),e[s]=t.ceil(i),e}function r3(e){return Math.log(e)}function n3(e){return Math.exp(e)}function V$e(e){return-Math.log(-e)}function z$e(e){return-Math.exp(-e)}function U$e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function W$e(e){return e===10?U$e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function q$e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function s3(e){return(t,r)=>-e(-t,r)}function cA(e){const t=e(r3,n3),r=t.domain;let s=10,a,i;function o(){return a=q$e(s),i=W$e(s),r()[0]<0?(a=s3(a),i=s3(i),e(V$e,z$e)):e(r3,n3),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let m=a(d),f=a(u),p,g;const v=l==null?10:+l;let j=[];if(!(s%1)&&f-m<v){if(m=Math.floor(m),f=Math.ceil(f),d>0){for(;m<=f;++m)for(p=1;p<s;++p)if(g=m<0?p/i(-m):p*i(m),!(g<d)){if(g>u)break;j.push(g)}}else for(;m<=f;++m)for(p=s-1;p>=1;--p)if(g=m>0?p/i(-m):p*i(m),!(g<d)){if(g>u)break;j.push(g)}j.length*2<v&&(j=hC(d,u,v))}else j=hC(m,f,Math.min(f-m,v)).map(i);return h?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=tx(c)).precision==null&&(c.trim=!0),c=lA(c)),l===1/0)return c;const d=Math.max(1,s*l/t.ticks().length);return u=>{let h=u/i(Math.round(a(u)));return h*s<s-.5&&(h*=s),h<=d?c(u):""}},t.nice=()=>r(lG(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function cG(){const e=cA(uw()).domain([1,10]);return e.copy=()=>jg(e,cG()).base(e.base()),ja.apply(e,arguments),e}function a3(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function i3(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dA(e){var t=1,r=e(a3(t),i3(t));return r.constant=function(s){return arguments.length?e(a3(t=+s),i3(t)):t},uc(r)}function dG(){var e=dA(uw());return e.copy=function(){return jg(e,dG()).constant(e.constant())},ja.apply(e,arguments)}function o3(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function H$e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function K$e(e){return e<0?-e*e:e*e}function uA(e){var t=e(rs,rs),r=1;function s(){return r===1?e(rs,rs):r===.5?e(H$e,K$e):e(o3(r),o3(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,s()):r},uc(t)}function hA(){var e=uA(uw());return e.copy=function(){return jg(e,hA()).exponent(e.exponent())},ja.apply(e,arguments),e}function G$e(){return hA.apply(null,arguments).exponent(.5)}function l3(e){return Math.sign(e)*e*e}function Y$e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function uG(){var e=iA(),t=[0,1],r=!1,s;function a(i){var o=Y$e(e(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return e.invert(l3(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,K0)).map(l3)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return uG(e.domain(),t).round(r).clamp(e.clamp()).unknown(s)},ja.apply(a,arguments),uc(a)}function hG(){var e=[],t=[],r=[],s;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=e$e(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:t[vg(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Rl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return hG().domain(e).range(t).unknown(s)},ja.apply(i,arguments)}function mG(){var e=0,t=1,r=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[vg(s,c,0,r)]:i}function l(){var c=-1;for(s=new Array(r);++c<r;)s[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,s[0]]:d>=r?[s[r-1],t]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return mG().domain([e,t]).range(a).unknown(i)},ja.apply(uc(o),arguments)}function fG(){var e=[.5],t=[0,1],r,s=1;function a(i){return i!=null&&i<=i?t[vg(e,i,0,s)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return fG().domain(e).range(t).unknown(r)},ja.apply(a,arguments)}const BN=new Date,VN=new Date;function Nn(e,t,r,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>Nn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(BN.setTime(+i),VN.setTime(+o),e(BN),e(VN),Math.floor(r(BN,VN))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const X0=Nn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);X0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Nn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):X0);X0.range;const co=1e3,oa=co*60,uo=oa*60,Eo=uo*24,mA=Eo*7,c3=Eo*30,zN=Eo*365,Fc=Nn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*co)},(e,t)=>(t-e)/co,e=>e.getUTCSeconds());Fc.range;const fA=Nn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*co)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getMinutes());fA.range;const pA=Nn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getUTCMinutes());pA.range;const xA=Nn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*co-e.getMinutes()*oa)},(e,t)=>{e.setTime(+e+t*uo)},(e,t)=>(t-e)/uo,e=>e.getHours());xA.range;const gA=Nn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*uo)},(e,t)=>(t-e)/uo,e=>e.getUTCHours());gA.range;const wg=Nn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*oa)/Eo,e=>e.getDate()-1);wg.range;const hw=Nn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Eo,e=>e.getUTCDate()-1);hw.range;const pG=Nn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Eo,e=>Math.floor(e/Eo));pG.range;function Fd(e){return Nn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*oa)/mA)}const mw=Fd(0),Q0=Fd(1),X$e=Fd(2),Q$e=Fd(3),Vh=Fd(4),Z$e=Fd(5),J$e=Fd(6);mw.range;Q0.range;X$e.range;Q$e.range;Vh.range;Z$e.range;J$e.range;function Bd(e){return Nn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/mA)}const fw=Bd(0),Z0=Bd(1),eLe=Bd(2),tLe=Bd(3),zh=Bd(4),rLe=Bd(5),nLe=Bd(6);fw.range;Z0.range;eLe.range;tLe.range;zh.range;rLe.range;nLe.range;const yA=Nn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());yA.range;const vA=Nn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vA.range;const Po=Nn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Po.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Po.range;const Ao=Nn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ao.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ao.range;function xG(e,t,r,s,a,i){const o=[[Fc,1,co],[Fc,5,5*co],[Fc,15,15*co],[Fc,30,30*co],[i,1,oa],[i,5,5*oa],[i,15,15*oa],[i,30,30*oa],[a,1,uo],[a,3,3*uo],[a,6,6*uo],[a,12,12*uo],[s,1,Eo],[s,2,2*Eo],[r,1,mA],[t,1,c3],[t,3,3*c3],[e,1,zN]];function l(d,u,h){const m=u<d;m&&([d,u]=[u,d]);const f=h&&typeof h.range=="function"?h:c(d,u,h),p=f?f.range(d,+u+1):[];return m?p.reverse():p}function c(d,u,h){const m=Math.abs(u-d)/h,f=tA(([,,v])=>v).right(o,m);if(f===o.length)return e.every(fC(d/zN,u/zN,h));if(f===0)return X0.every(Math.max(fC(d,u,h),1));const[p,g]=o[m/o[f-1][2]<o[f][2]/m?f-1:f];return p.every(g)}return[l,c]}const[sLe,aLe]=xG(Ao,vA,fw,pG,gA,pA),[iLe,oLe]=xG(Po,yA,mw,wg,xA,fA);function UN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function WN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function of(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function lLe(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=lf(a),u=cf(a),h=lf(i),m=cf(i),f=lf(o),p=cf(o),g=lf(l),v=cf(l),j=lf(c),y=cf(c),b={a:O,A:P,b:I,B:G,c:null,d:p3,e:p3,f:ALe,g:VLe,G:ULe,H:TLe,I:ELe,j:PLe,L:gG,m:OLe,M:MLe,p:re,q:X,Q:y3,s:v3,S:RLe,u:ILe,U:DLe,V:$Le,w:LLe,W:FLe,x:null,X:null,y:BLe,Y:zLe,Z:WLe,"%":g3},w={a:W,A:oe,b:je,B:$e,c:null,d:x3,e:x3,f:GLe,g:sFe,G:iFe,H:qLe,I:HLe,j:KLe,L:vG,m:YLe,M:XLe,p:se,q:Te,Q:y3,s:v3,S:QLe,u:ZLe,U:JLe,V:eFe,w:tFe,W:rFe,x:null,X:null,y:nFe,Y:aFe,Z:oFe,"%":g3},N={a:E,A:T,b:A,B,c:R,d:m3,e:m3,f:_Le,g:h3,G:u3,H:f3,I:f3,j:bLe,L:NLe,m:vLe,M:jLe,p:k,q:yLe,Q:CLe,s:kLe,S:wLe,u:mLe,U:fLe,V:pLe,w:hLe,W:xLe,x:L,X:V,y:h3,Y:u3,Z:gLe,"%":SLe};b.x=_(r,b),b.X=_(s,b),b.c=_(t,b),w.x=_(r,w),w.X=_(s,w),w.c=_(t,w);function _(le,ge){return function(we){var ae=[],st=-1,Ze=0,Tt=le.length,at,Bt,_r;for(we instanceof Date||(we=new Date(+we));++st<Tt;)le.charCodeAt(st)===37&&(ae.push(le.slice(Ze,st)),(Bt=d3[at=le.charAt(++st)])!=null?at=le.charAt(++st):Bt=at==="e"?" ":"0",(_r=ge[at])&&(at=_r(we,Bt)),ae.push(at),Ze=st+1);return ae.push(le.slice(Ze,st)),ae.join("")}}function C(le,ge){return function(we){var ae=of(1900,void 0,1),st=S(ae,le,we+="",0),Ze,Tt;if(st!=we.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(ge&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Ze=WN(of(ae.y,0,1)),Tt=Ze.getUTCDay(),Ze=Tt>4||Tt===0?Z0.ceil(Ze):Z0(Ze),Ze=hw.offset(Ze,(ae.V-1)*7),ae.y=Ze.getUTCFullYear(),ae.m=Ze.getUTCMonth(),ae.d=Ze.getUTCDate()+(ae.w+6)%7):(Ze=UN(of(ae.y,0,1)),Tt=Ze.getDay(),Ze=Tt>4||Tt===0?Q0.ceil(Ze):Q0(Ze),Ze=wg.offset(Ze,(ae.V-1)*7),ae.y=Ze.getFullYear(),ae.m=Ze.getMonth(),ae.d=Ze.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Tt="Z"in ae?WN(of(ae.y,0,1)).getUTCDay():UN(of(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Tt+5)%7:ae.w+ae.U*7-(Tt+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,WN(ae)):UN(ae)}}function S(le,ge,we,ae){for(var st=0,Ze=ge.length,Tt=we.length,at,Bt;st<Ze;){if(ae>=Tt)return-1;if(at=ge.charCodeAt(st++),at===37){if(at=ge.charAt(st++),Bt=N[at in d3?ge.charAt(st++):at],!Bt||(ae=Bt(le,we,ae))<0)return-1}else if(at!=we.charCodeAt(ae++))return-1}return ae}function k(le,ge,we){var ae=d.exec(ge.slice(we));return ae?(le.p=u.get(ae[0].toLowerCase()),we+ae[0].length):-1}function E(le,ge,we){var ae=f.exec(ge.slice(we));return ae?(le.w=p.get(ae[0].toLowerCase()),we+ae[0].length):-1}function T(le,ge,we){var ae=h.exec(ge.slice(we));return ae?(le.w=m.get(ae[0].toLowerCase()),we+ae[0].length):-1}function A(le,ge,we){var ae=j.exec(ge.slice(we));return ae?(le.m=y.get(ae[0].toLowerCase()),we+ae[0].length):-1}function B(le,ge,we){var ae=g.exec(ge.slice(we));return ae?(le.m=v.get(ae[0].toLowerCase()),we+ae[0].length):-1}function R(le,ge,we){return S(le,t,ge,we)}function L(le,ge,we){return S(le,r,ge,we)}function V(le,ge,we){return S(le,s,ge,we)}function O(le){return o[le.getDay()]}function P(le){return i[le.getDay()]}function I(le){return c[le.getMonth()]}function G(le){return l[le.getMonth()]}function re(le){return a[+(le.getHours()>=12)]}function X(le){return 1+~~(le.getMonth()/3)}function W(le){return o[le.getUTCDay()]}function oe(le){return i[le.getUTCDay()]}function je(le){return c[le.getUTCMonth()]}function $e(le){return l[le.getUTCMonth()]}function se(le){return a[+(le.getUTCHours()>=12)]}function Te(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ge=_(le+="",b);return ge.toString=function(){return le},ge},parse:function(le){var ge=C(le+="",!1);return ge.toString=function(){return le},ge},utcFormat:function(le){var ge=_(le+="",w);return ge.toString=function(){return le},ge},utcParse:function(le){var ge=C(le+="",!0);return ge.toString=function(){return le},ge}}}var d3={"-":"",_:" ",0:"0"},Tn=/^\s*\d+/,cLe=/^%/,dLe=/[\\^$*+?|[\]().{}]/g;function Ft(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(t)+a:a)}function uLe(e){return e.replace(dLe,"\\$&")}function lf(e){return new RegExp("^(?:"+e.map(uLe).join("|")+")","i")}function cf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function hLe(e,t,r){var s=Tn.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function mLe(e,t,r){var s=Tn.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function fLe(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function pLe(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function xLe(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function u3(e,t,r){var s=Tn.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function h3(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function gLe(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function yLe(e,t,r){var s=Tn.exec(t.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function vLe(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function m3(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function bLe(e,t,r){var s=Tn.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function f3(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function jLe(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function wLe(e,t,r){var s=Tn.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function NLe(e,t,r){var s=Tn.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function _Le(e,t,r){var s=Tn.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function SLe(e,t,r){var s=cLe.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function CLe(e,t,r){var s=Tn.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function kLe(e,t,r){var s=Tn.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function p3(e,t){return Ft(e.getDate(),t,2)}function TLe(e,t){return Ft(e.getHours(),t,2)}function ELe(e,t){return Ft(e.getHours()%12||12,t,2)}function PLe(e,t){return Ft(1+wg.count(Po(e),e),t,3)}function gG(e,t){return Ft(e.getMilliseconds(),t,3)}function ALe(e,t){return gG(e,t)+"000"}function OLe(e,t){return Ft(e.getMonth()+1,t,2)}function MLe(e,t){return Ft(e.getMinutes(),t,2)}function RLe(e,t){return Ft(e.getSeconds(),t,2)}function ILe(e){var t=e.getDay();return t===0?7:t}function DLe(e,t){return Ft(mw.count(Po(e)-1,e),t,2)}function yG(e){var t=e.getDay();return t>=4||t===0?Vh(e):Vh.ceil(e)}function $Le(e,t){return e=yG(e),Ft(Vh.count(Po(e),e)+(Po(e).getDay()===4),t,2)}function LLe(e){return e.getDay()}function FLe(e,t){return Ft(Q0.count(Po(e)-1,e),t,2)}function BLe(e,t){return Ft(e.getFullYear()%100,t,2)}function VLe(e,t){return e=yG(e),Ft(e.getFullYear()%100,t,2)}function zLe(e,t){return Ft(e.getFullYear()%1e4,t,4)}function ULe(e,t){var r=e.getDay();return e=r>=4||r===0?Vh(e):Vh.ceil(e),Ft(e.getFullYear()%1e4,t,4)}function WLe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ft(t/60|0,"0",2)+Ft(t%60,"0",2)}function x3(e,t){return Ft(e.getUTCDate(),t,2)}function qLe(e,t){return Ft(e.getUTCHours(),t,2)}function HLe(e,t){return Ft(e.getUTCHours()%12||12,t,2)}function KLe(e,t){return Ft(1+hw.count(Ao(e),e),t,3)}function vG(e,t){return Ft(e.getUTCMilliseconds(),t,3)}function GLe(e,t){return vG(e,t)+"000"}function YLe(e,t){return Ft(e.getUTCMonth()+1,t,2)}function XLe(e,t){return Ft(e.getUTCMinutes(),t,2)}function QLe(e,t){return Ft(e.getUTCSeconds(),t,2)}function ZLe(e){var t=e.getUTCDay();return t===0?7:t}function JLe(e,t){return Ft(fw.count(Ao(e)-1,e),t,2)}function bG(e){var t=e.getUTCDay();return t>=4||t===0?zh(e):zh.ceil(e)}function eFe(e,t){return e=bG(e),Ft(zh.count(Ao(e),e)+(Ao(e).getUTCDay()===4),t,2)}function tFe(e){return e.getUTCDay()}function rFe(e,t){return Ft(Z0.count(Ao(e)-1,e),t,2)}function nFe(e,t){return Ft(e.getUTCFullYear()%100,t,2)}function sFe(e,t){return e=bG(e),Ft(e.getUTCFullYear()%100,t,2)}function aFe(e,t){return Ft(e.getUTCFullYear()%1e4,t,4)}function iFe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?zh(e):zh.ceil(e),Ft(e.getUTCFullYear()%1e4,t,4)}function oFe(){return"+0000"}function g3(){return"%"}function y3(e){return+e}function v3(e){return Math.floor(+e/1e3)}var au,jG,wG;lFe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lFe(e){return au=lLe(e),jG=au.format,au.parse,wG=au.utcFormat,au.utcParse,au}function cFe(e){return new Date(e)}function dFe(e){return e instanceof Date?+e:+new Date(+e)}function bA(e,t,r,s,a,i,o,l,c,d){var u=iA(),h=u.invert,m=u.domain,f=d(".%L"),p=d(":%S"),g=d("%I:%M"),v=d("%I %p"),j=d("%a %d"),y=d("%b %d"),b=d("%B"),w=d("%Y");function N(_){return(c(_)<_?f:l(_)<_?p:o(_)<_?g:i(_)<_?v:s(_)<_?a(_)<_?j:y:r(_)<_?b:w)(_)}return u.invert=function(_){return new Date(h(_))},u.domain=function(_){return arguments.length?m(Array.from(_,dFe)):m().map(cFe)},u.ticks=function(_){var C=m();return e(C[0],C[C.length-1],_??10)},u.tickFormat=function(_,C){return C==null?N:d(C)},u.nice=function(_){var C=m();return(!_||typeof _.range!="function")&&(_=t(C[0],C[C.length-1],_??10)),_?m(lG(C,_)):u},u.copy=function(){return jg(u,bA(e,t,r,s,a,i,o,l,c,d))},u}function uFe(){return ja.apply(bA(iLe,oLe,Po,yA,mw,wg,xA,fA,Fc,jG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hFe(){return ja.apply(bA(sLe,aLe,Ao,vA,fw,hw,gA,pA,Fc,wG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pw(){var e=0,t=1,r,s,a,i,o=rs,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),s=i(t=+t),a=r===s?0:1/(s-r),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(m){var f,p;return arguments.length?([f,p]=m,o=h(f,p),d):[o(0),o(1)]}}return d.range=u($m),d.rangeRound=u(aA),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,r=h(e),s=h(t),a=r===s?0:1/(s-r),d}}function hc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function NG(){var e=uc(pw()(rs));return e.copy=function(){return hc(e,NG())},Fo.apply(e,arguments)}function _G(){var e=cA(pw()).domain([1,10]);return e.copy=function(){return hc(e,_G()).base(e.base())},Fo.apply(e,arguments)}function SG(){var e=dA(pw());return e.copy=function(){return hc(e,SG()).constant(e.constant())},Fo.apply(e,arguments)}function jA(){var e=uA(pw());return e.copy=function(){return hc(e,jA()).exponent(e.exponent())},Fo.apply(e,arguments)}function mFe(){return jA.apply(null,arguments).exponent(.5)}function CG(){var e=[],t=rs;function r(s){if(s!=null&&!isNaN(s=+s))return t((vg(e,s,1)-1)/(e.length-1))}return r.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Rl),r},r.interpolator=function(s){return arguments.length?(t=s,r):t},r.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>J3e(e,i/s))},r.copy=function(){return CG(t).domain(e)},Fo.apply(r,arguments)}function xw(){var e=0,t=.5,r=1,s=1,a,i,o,l,c,d=rs,u,h=!1,m;function f(g){return isNaN(g=+g)?m:(g=.5+((g=+u(g))-i)*(s*g<s*i?l:c),d(h?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t,r]=g,a=u(e=+e),i=u(t=+t),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,f):[e,t,r]},f.clamp=function(g){return arguments.length?(h=!!g,f):h},f.interpolator=function(g){return arguments.length?(d=g,f):d};function p(g){return function(v){var j,y,b;return arguments.length?([j,y,b]=v,d=S$e(g,[j,y,b]),f):[d(0),d(.5),d(1)]}}return f.range=p($m),f.rangeRound=p(aA),f.unknown=function(g){return arguments.length?(m=g,f):m},function(g){return u=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,f}}function kG(){var e=uc(xw()(rs));return e.copy=function(){return hc(e,kG())},Fo.apply(e,arguments)}function TG(){var e=cA(xw()).domain([.1,1,10]);return e.copy=function(){return hc(e,TG()).base(e.base())},Fo.apply(e,arguments)}function EG(){var e=dA(xw());return e.copy=function(){return hc(e,EG()).constant(e.constant())},Fo.apply(e,arguments)}function wA(){var e=uA(xw());return e.copy=function(){return hc(e,wA()).exponent(e.exponent())},Fo.apply(e,arguments)}function fFe(){return wA.apply(null,arguments).exponent(.5)}const b3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qp,scaleDiverging:kG,scaleDivergingLog:TG,scaleDivergingPow:wA,scaleDivergingSqrt:fFe,scaleDivergingSymlog:EG,scaleIdentity:oG,scaleImplicit:pC,scaleLinear:Y0,scaleLog:cG,scaleOrdinal:rA,scalePoint:Gf,scalePow:hA,scaleQuantile:hG,scaleQuantize:mG,scaleRadial:uG,scaleSequential:NG,scaleSequentialLog:_G,scaleSequentialPow:jA,scaleSequentialQuantile:CG,scaleSequentialSqrt:mFe,scaleSequentialSymlog:SG,scaleSqrt:G$e,scaleSymlog:dG,scaleThreshold:fG,scaleTime:uFe,scaleUtc:hFe,tickFormat:iG},Symbol.toStringTag,{value:"Module"}));var pFe=km;function xFe(e,t,r){for(var s=-1,a=e.length;++s<a;){var i=e[s],o=t(i);if(o!=null&&(l===void 0?o===o&&!pFe(o):r(o,l)))var l=o,c=i}return c}var PG=xFe;function gFe(e,t){return e>t}var yFe=gFe,vFe=PG,bFe=yFe,jFe=Im;function wFe(e){return e&&e.length?vFe(e,jFe,bFe):void 0}var NFe=wFe;const bl=ar(NFe);function _Fe(e,t){return e<t}var SFe=_Fe,CFe=PG,kFe=SFe,TFe=Im;function EFe(e){return e&&e.length?CFe(e,TFe,kFe):void 0}var PFe=EFe;const gw=ar(PFe);var AFe=IP,OFe=Dm,MFe=$K,RFe=Cs;function IFe(e,t){var r=RFe(e)?AFe:MFe;return r(e,OFe(t))}var DFe=IFe,$Fe=IK,LFe=DFe;function FFe(e,t){return $Fe(LFe(e,t),1)}var BFe=FFe;const VFe=ar(BFe);var zFe=QP;function UFe(e,t){return zFe(e,t)}var WFe=UFe;const rx=ar(WFe);var Lm=1e9,qFe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_A,br=!0,xa="[DecimalError] ",ad=xa+"Invalid argument: ",NA=xa+"Exponent out of range: ",Fm=Math.floor,kc=Math.pow,HFe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ds,_n=1e7,fr=7,AG=9007199254740991,J0=Fm(AG/fr),Fe={};Fe.absoluteValue=Fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Fe.comparedTo=Fe.cmp=function(e){var t,r,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,r=s<a?s:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};Fe.decimalPlaces=Fe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*fr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Fe.dividedBy=Fe.div=function(e){return xo(this,new this.constructor(e))};Fe.dividedToIntegerBy=Fe.idiv=function(e){var t=this,r=t.constructor;return sr(xo(t,new r(e),0,1),r.precision)};Fe.equals=Fe.eq=function(e){return!this.cmp(e)};Fe.exponent=function(){return ln(this)};Fe.greaterThan=Fe.gt=function(e){return this.cmp(e)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(e){return this.cmp(e)>=0};Fe.isInteger=Fe.isint=function(){return this.e>this.d.length-2};Fe.isNegative=Fe.isneg=function(){return this.s<0};Fe.isPositive=Fe.ispos=function(){return this.s>0};Fe.isZero=function(){return this.s===0};Fe.lessThan=Fe.lt=function(e){return this.cmp(e)<0};Fe.lessThanOrEqualTo=Fe.lte=function(e){return this.cmp(e)<1};Fe.logarithm=Fe.log=function(e){var t,r=this,s=r.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(Ds))throw Error(xa+"NaN");if(r.s<1)throw Error(xa+(r.s?"NaN":"-Infinity"));return r.eq(Ds)?new s(0):(br=!1,t=xo(nx(r,i),nx(e,i),i),br=!0,sr(t,a))};Fe.minus=Fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RG(t,e):OG(t,(e.s=-e.s,e))};Fe.modulo=Fe.mod=function(e){var t,r=this,s=r.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(xa+"NaN");return r.s?(br=!1,t=xo(r,e,0,1).times(e),br=!0,r.minus(t)):sr(new s(r),a)};Fe.naturalExponential=Fe.exp=function(){return MG(this)};Fe.naturalLogarithm=Fe.ln=function(){return nx(this)};Fe.negated=Fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Fe.plus=Fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OG(t,e):RG(t,(e.s=-e.s,e))};Fe.precision=Fe.sd=function(e){var t,r,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ad+e);if(t=ln(a)+1,s=a.d.length-1,r=s*fr+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return e&&t>r?t:r};Fe.squareRoot=Fe.sqrt=function(){var e,t,r,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(xa+"NaN")}for(e=ln(l),br=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=vi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Fm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=s,s=i.plus(xo(l,i,o+2)).times(.5),vi(i.d).slice(0,o)===(t=vi(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(sr(i,r+1,0),i.times(i).eq(l)){s=i;break}}else if(t!="9999")break;o+=4}return br=!0,sr(s,r)};Fe.times=Fe.mul=function(e){var t,r,s,a,i,o,l,c,d,u=this,h=u.constructor,m=u.d,f=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,r=u.e+e.e,c=m.length,d=f.length,c<d&&(i=m,m=f,f=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(t=0,a=c+s;a>s;)l=i[a]+f[s]*m[a-s-1]+t,i[a--]=l%_n|0,t=l/_n|0;i[a]=(i[a]+t)%_n|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,br?sr(e,h.precision):e};Fe.toDecimalPlaces=Fe.todp=function(e,t){var r=this,s=r.constructor;return r=new s(r),e===void 0?r:(Bi(e,0,Lm),t===void 0?t=s.rounding:Bi(t,0,8),sr(r,e+ln(r)+1,t))};Fe.toExponential=function(e,t){var r,s=this,a=s.constructor;return e===void 0?r=Sd(s,!0):(Bi(e,0,Lm),t===void 0?t=a.rounding:Bi(t,0,8),s=sr(new a(s),e+1,t),r=Sd(s,!0,e+1)),r};Fe.toFixed=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?Sd(a):(Bi(e,0,Lm),t===void 0?t=i.rounding:Bi(t,0,8),s=sr(new i(a),e+ln(a)+1,t),r=Sd(s.abs(),!1,e+ln(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Fe.toInteger=Fe.toint=function(){var e=this,t=e.constructor;return sr(new t(e),ln(e)+1,t.rounding)};Fe.toNumber=function(){return+this};Fe.toPower=Fe.pow=function(e){var t,r,s,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Ds);if(l=new c(l),!l.s){if(e.s<1)throw Error(xa+"Infinity");return l}if(l.eq(Ds))return l;if(s=c.precision,e.eq(Ds))return sr(l,s);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=AG){for(a=new c(Ds),t=Math.ceil(s/fr+4),br=!1;r%2&&(a=a.times(l),w3(a.d,t)),r=Fm(r/2),r!==0;)l=l.times(l),w3(l.d,t);return br=!0,e.s<0?new c(Ds).div(a):sr(a,s)}}else if(i<0)throw Error(xa+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,br=!1,a=e.times(nx(l,s+d)),br=!0,a=MG(a),a.s=i,a};Fe.toPrecision=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?(r=ln(a),s=Sd(a,r<=i.toExpNeg||r>=i.toExpPos)):(Bi(e,1,Lm),t===void 0?t=i.rounding:Bi(t,0,8),a=sr(new i(a),e,t),r=ln(a),s=Sd(a,e<=r||r<=i.toExpNeg,e)),s};Fe.toSignificantDigits=Fe.tosd=function(e,t){var r=this,s=r.constructor;return e===void 0?(e=s.precision,t=s.rounding):(Bi(e,1,Lm),t===void 0?t=s.rounding:Bi(t,0,8)),sr(new s(r),e,t)};Fe.toString=Fe.valueOf=Fe.val=Fe.toJSON=Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ln(e),r=e.constructor;return Sd(e,t<=r.toExpNeg||t>=r.toExpPos)};function OG(e,t){var r,s,a,i,o,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),br?sr(t,h):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(h/fr),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/_n|0,c[i]%=_n;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,br?sr(t,h):t}function Bi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ad+e)}function vi(e){var t,r,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",r=fr-s.length,r&&(i+=tl(r)),i+=s;o=e[t],s=o+"",r=fr-s.length,r&&(i+=tl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var xo=function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%_n|0,o=i/_n|0;return o&&s.unshift(o),s}function t(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*_n+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,u,h,m,f,p,g,v,j,y,b,w,N,_,C,S,k=s.constructor,E=s.s==a.s?1:-1,T=s.d,A=a.d;if(!s.s)return new k(s);if(!a.s)throw Error(xa+"Division by zero");for(c=s.e-a.e,C=A.length,N=T.length,f=new k(E),p=f.d=[],d=0;A[d]==(T[d]||0);)++d;if(A[d]>(T[d]||0)&&--c,i==null?y=i=k.precision:o?y=i+(ln(s)-ln(a))+1:y=i,y<0)return new k(0);if(y=y/fr+2|0,d=0,C==1)for(u=0,A=A[0],y++;(d<N||u)&&y--;d++)b=u*_n+(T[d]||0),p[d]=b/A|0,u=b%A|0;else{for(u=_n/(A[0]+1)|0,u>1&&(A=e(A,u),T=e(T,u),C=A.length,N=T.length),w=C,g=T.slice(0,C),v=g.length;v<C;)g[v++]=0;S=A.slice(),S.unshift(0),_=A[0],A[1]>=_n/2&&++_;do u=0,l=t(A,g,C,v),l<0?(j=g[0],C!=v&&(j=j*_n+(g[1]||0)),u=j/_|0,u>1?(u>=_n&&(u=_n-1),h=e(A,u),m=h.length,v=g.length,l=t(h,g,m,v),l==1&&(u--,r(h,C<m?S:A,m))):(u==0&&(l=u=1),h=A.slice()),m=h.length,m<v&&h.unshift(0),r(g,h,v),l==-1&&(v=g.length,l=t(A,g,C,v),l<1&&(u++,r(g,C<v?S:A,v))),v=g.length):l===0&&(u++,g=[0]),p[d++]=u,l&&g[0]?g[v++]=T[w]||0:(g=[T[w]],v=1);while((w++<N||g[0]!==void 0)&&y--)}return p[0]||p.shift(),f.e=c,sr(f,o?i+ln(f)+1:i)}}();function MG(e,t){var r,s,a,i,o,l,c=0,d=0,u=e.constructor,h=u.precision;if(ln(e)>16)throw Error(NA+ln(e));if(!e.s)return new u(Ds);for(t==null?(br=!1,l=h):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(s=Math.log(kc(2,d))/Math.LN10*2+5|0,l+=s,r=a=i=new u(Ds),u.precision=l;;){if(a=sr(a.times(e),l),r=r.times(++c),o=i.plus(xo(a,r,l)),vi(o.d).slice(0,l)===vi(i.d).slice(0,l)){for(;d--;)i=sr(i.times(i),l);return u.precision=h,t==null?(br=!0,sr(i,h)):i}i=o}}function ln(e){for(var t=e.e*fr,r=e.d[0];r>=10;r/=10)t++;return t}function qN(e,t,r){if(t>e.LN10.sd())throw br=!0,r&&(e.precision=r),Error(xa+"LN10 precision limit exceeded");return sr(new e(e.LN10),t)}function tl(e){for(var t="";e--;)t+="0";return t}function nx(e,t){var r,s,a,i,o,l,c,d,u,h=1,m=10,f=e,p=f.d,g=f.constructor,v=g.precision;if(f.s<1)throw Error(xa+(f.s?"NaN":"-Infinity"));if(f.eq(Ds))return new g(0);if(t==null?(br=!1,d=v):d=t,f.eq(10))return t==null&&(br=!0),qN(g,d);if(d+=m,g.precision=d,r=vi(p),s=r.charAt(0),i=ln(f),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)f=f.times(e),r=vi(f.d),s=r.charAt(0),h++;i=ln(f),s>1?(f=new g("0."+r),i++):f=new g(s+"."+r.slice(1))}else return c=qN(g,d+2,v).times(i+""),f=nx(new g(s+"."+r.slice(1)),d-m).plus(c),g.precision=v,t==null?(br=!0,sr(f,v)):f;for(l=o=f=xo(f.minus(Ds),f.plus(Ds),d),u=sr(f.times(f),d),a=3;;){if(o=sr(o.times(u),d),c=l.plus(xo(o,new g(a),d)),vi(c.d).slice(0,d)===vi(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(qN(g,d+2,v).times(i+""))),l=xo(l,new g(h),d),g.precision=v,t==null?(br=!0,sr(l,v)):l;l=c,a+=2}}function j3(e,t){var r,s,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,r=r-s-1,e.e=Fm(r/fr),e.d=[],s=(r+1)%fr,r<0&&(s+=fr),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=fr;s<a;)e.d.push(+t.slice(s,s+=fr));t=t.slice(s),s=fr-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),br&&(e.e>J0||e.e<-J0))throw Error(NA+r)}else e.s=0,e.e=0,e.d=[0];return e}function sr(e,t,r){var s,a,i,o,l,c,d,u,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=fr,a=t,d=h[u=0];else{if(u=Math.ceil((s+1)/fr),i=h.length,u>=i)return e;for(d=i=h[u],o=1;i>=10;i/=10)o++;s%=fr,a=s-fr+o}if(r!==void 0&&(i=kc(10,o-a-1),l=d/i%10|0,c=t<0||h[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(s>0?a>0?d/kc(10,o-a):0:h[u-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=ln(e),h.length=1,t=t-i-1,h[0]=kc(10,(fr-t%fr)%fr),e.e=Fm(-t/fr)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(s==0?(h.length=u,i=1,u--):(h.length=u+1,i=kc(10,fr-s),h[u]=a>0?(d/kc(10,o-a)%kc(10,a)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==_n&&(h[0]=1,++e.e);break}else{if(h[u]+=i,h[u]!=_n)break;h[u--]=0,i=1}for(s=h.length;h[--s]===0;)h.pop();if(br&&(e.e>J0||e.e<-J0))throw Error(NA+ln(e));return e}function RG(e,t){var r,s,a,i,o,l,c,d,u,h,m=e.constructor,f=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),br?sr(t,f):t;if(c=e.d,h=t.d,s=t.e,d=e.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(r=c,o=-o,l=h.length):(r=h,s=d,l=c.length),a=Math.max(Math.ceil(f/fr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=_n-1;--c[i],c[a]+=_n}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,br?sr(t,f):t):new m(0)}function Sd(e,t,r){var s,a=ln(e),i=vi(e.d),o=i.length;return t?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+tl(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+tl(-a-1)+i,r&&(s=r-o)>0&&(i+=tl(s))):a>=o?(i+=tl(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+tl(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=tl(s))),e.s<0?"-"+i:i}function w3(e,t){if(e.length>t)return e.length=t,!0}function IG(e){var t,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ad+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return j3(o,i.toString())}else if(typeof i!="string")throw Error(ad+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,HFe.test(i))j3(o,i);else throw Error(ad+i)}if(a.prototype=Fe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=IG,a.config=a.set=KFe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(r=s[t++])||(e[r]=this[r]);return a.config(e),a}function KFe(e){if(!e||typeof e!="object")throw Error(xa+"Object expected");var t,r,s,a=["precision",1,Lm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[r=a[t]])!==void 0)if(Fm(s)===s&&s>=a[t+1]&&s<=a[t+2])this[r]=s;else throw Error(ad+r+": "+s);if((s=e[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(ad+r+": "+s);return this}var _A=IG(qFe);Ds=new _A(1);const nr=_A;function GFe(e){return ZFe(e)||QFe(e)||XFe(e)||YFe()}function YFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XFe(e,t){if(e){if(typeof e=="string")return vC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vC(e,t)}}function QFe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ZFe(e){if(Array.isArray(e))return vC(e)}function vC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var JFe=function(t){return t},DG={"@@functional/placeholder":!0},$G=function(t){return t===DG},N3=function(t){return function r(){return arguments.length===0||arguments.length===1&&$G(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},e6e=function e(t,r){return t===1?r:N3(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==DG}).length;return o>=t?r.apply(void 0,a):e(t-o,N3(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(h){return $G(h)?c.shift():h});return r.apply(void 0,GFe(u).concat(c))}))})},yw=function(t){return e6e(t.length,t)},bC=function(t,r){for(var s=[],a=t;a<r;++a)s[a-t]=a;return s},t6e=yw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),r6e=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(!r.length)return JFe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},jC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},LG=function(t){var r=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,s=t.apply(void 0,i)),s}};function n6e(e){var t;return e===0?t=1:t=Math.floor(new nr(e).abs().log(10).toNumber())+1,t}function s6e(e,t,r){for(var s=new nr(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}var a6e=yw(function(e,t,r){var s=+e,a=+t;return s+r*(a-s)}),i6e=yw(function(e,t,r){var s=t-+e;return s=s||1/0,(r-e)/s}),o6e=yw(function(e,t,r){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(r-e)/s))});const vw={rangeStep:s6e,getDigitCount:n6e,interpolateNumber:a6e,uninterpolateNumber:i6e,uninterpolateTruncation:o6e};function wC(e){return d6e(e)||c6e(e)||FG(e)||l6e()}function l6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c6e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function d6e(e){if(Array.isArray(e))return NC(e)}function sx(e,t){return m6e(e)||h6e(e,t)||FG(e,t)||u6e()}function u6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FG(e,t){if(e){if(typeof e=="string")return NC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NC(e,t)}}function NC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function h6e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function m6e(e){if(Array.isArray(e))return e}function BG(e){var t=sx(e,2),r=t[0],s=t[1],a=r,i=s;return r>s&&(a=s,i=r),[a,i]}function VG(e,t,r){if(e.lte(0))return new nr(0);var s=vw.getDigitCount(e.toNumber()),a=new nr(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new nr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new nr(Math.ceil(c))}function f6e(e,t,r){var s=1,a=new nr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(s=new nr(10).pow(vw.getDigitCount(e)-1),a=new nr(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new nr(Math.floor(e)))}else e===0?a=new nr(Math.floor((t-1)/2)):r||(a=new nr(Math.floor(e)));var o=Math.floor((t-1)/2),l=r6e(t6e(function(c){return a.add(new nr(c-o).mul(s)).toNumber()}),bC);return l(0,t)}function zG(e,t,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new nr(0),tickMin:new nr(0),tickMax:new nr(0)};var i=VG(new nr(t).sub(e).div(r-1),s,a),o;e<=0&&t>=0?o=new nr(0):(o=new nr(e).add(t).div(2),o=o.sub(new nr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new nr(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?zG(e,t,r,s,a+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new nr(l).mul(i)),tickMax:o.add(new nr(c).mul(i))})}function p6e(e){var t=sx(e,2),r=t[0],s=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=BG([r,s]),c=sx(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(wC(bC(0,a-1).map(function(){return 1/0}))):[].concat(wC(bC(0,a-1).map(function(){return-1/0})),[u]);return r>s?jC(h):h}if(d===u)return f6e(d,a,i);var m=zG(d,u,o,i),f=m.step,p=m.tickMin,g=m.tickMax,v=vw.rangeStep(p,g.add(new nr(.1).mul(f)),f);return r>s?jC(v):v}function x6e(e,t){var r=sx(e,2),s=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=BG([s,a]),l=sx(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var u=Math.max(t,2),h=VG(new nr(d).sub(c).div(u-1),i,0),m=[].concat(wC(vw.rangeStep(new nr(c),new nr(d).sub(new nr(.99).mul(h)),h)),[d]);return s>a?jC(m):m}var g6e=LG(p6e),y6e=LG(x6e),v6e="Invariant failed";function Cd(e,t){throw new Error(v6e)}var b6e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function eb(){return eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},eb.apply(this,arguments)}function j6e(e,t){return S6e(e)||_6e(e,t)||N6e(e,t)||w6e()}function w6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N6e(e,t){if(e){if(typeof e=="string")return _3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _3(e,t)}}function _3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function _6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function S6e(e){if(Array.isArray(e))return e}function C6e(e,t){if(e==null)return{};var r=k6e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function k6e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function T6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,qG(s.key),s)}}function P6e(e,t,r){return t&&E6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function A6e(e,t,r){return t=tb(t),O6e(e,UG()?Reflect.construct(t,r||[],tb(e).constructor):t.apply(e,r))}function O6e(e,t){if(t&&(Uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M6e(e)}function M6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UG=function(){return!!e})()}function tb(e){return tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tb(e)}function R6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_C(e,t)}function _C(e,t){return _C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},_C(e,t)}function WG(e,t,r){return t=qG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qG(e){var t=I6e(e,"string");return Uh(t)=="symbol"?t:t+""}function I6e(e,t){if(Uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Uh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bw=function(e){function t(){return T6e(this,t),A6e(this,t,arguments)}return R6e(t,e),P6e(t,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,u=s.xAxis,h=s.yAxis,m=C6e(s,b6e),f=Ct(m,!1);this.props.direction==="x"&&u.type!=="number"&&Cd();var p=c.map(function(g){var v=d(g,l),j=v.x,y=v.y,b=v.value,w=v.errorVal;if(!w)return null;var N=[],_,C;if(Array.isArray(w)){var S=j6e(w,2);_=S[0],C=S[1]}else _=C=w;if(i==="vertical"){var k=u.scale,E=y+a,T=E+o,A=E-o,B=k(b-_),R=k(b+C);N.push({x1:R,y1:T,x2:R,y2:A}),N.push({x1:B,y1:E,x2:R,y2:E}),N.push({x1:B,y1:T,x2:B,y2:A})}else if(i==="horizontal"){var L=h.scale,V=j+a,O=V-o,P=V+o,I=L(b-_),G=L(b+C);N.push({x1:O,y1:G,x2:P,y2:G}),N.push({x1:V,y1:I,x2:V,y2:G}),N.push({x1:O,y1:I,x2:P,y2:I})}return D.createElement(Pr,eb({className:"recharts-errorBar",key:"bar-".concat(N.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},f),N.map(function(re){return D.createElement("line",eb({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return D.createElement(Pr,{className:"recharts-errorBars"},p)}}])}(D.Component);WG(bw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});WG(bw,"displayName","ErrorBar");function ax(e){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ax(e)}function S3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function vc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(r),!0).forEach(function(s){D6e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S3(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function D6e(e,t,r){return t=$6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $6e(e){var t=L6e(e,"string");return ax(t)=="symbol"?t:t+""}function L6e(e,t){if(ax(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ax(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HG=function(t){var r=t.children,s=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=As(r,Xu);if(!o)return null;var l=Xu.defaultProps,c=l!==void 0?vc(vc({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(u,h){var m=h.item,f=h.props,p=f.sectors||f.data||[];return u.concat(p.map(function(g){return{type:o.props.iconType||m.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):d=(s||[]).map(function(u){var h=u.item,m=h.type.defaultProps,f=m!==void 0?vc(vc({},m),h.props):{},p=f.dataKey,g=f.name,v=f.legendType,j=f.hide;return{inactive:j,dataKey:p,type:c.iconType||v||"square",color:SA(h),value:g||p,payload:f}}),vc(vc(vc({},c),Xu.getWithHeight(o,a)),{},{payload:d,item:o})};function ix(e){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ix(e)}function C3(e){return z6e(e)||V6e(e)||B6e(e)||F6e()}function F6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B6e(e,t){if(e){if(typeof e=="string")return SC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SC(e,t)}}function V6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z6e(e){if(Array.isArray(e))return SC(e)}function SC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function k3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k3(Object(r),!0).forEach(function(s){Zu(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k3(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Zu(e,t,r){return t=U6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U6e(e){var t=W6e(e,"string");return ix(t)=="symbol"?t:t+""}function W6e(e,t){if(ix(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ix(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qs(e,t,r){return kt(e)||kt(t)?r:jn(t)?ma(e,t,r):vt(t)?t(e):r}function Yf(e,t,r,s){var a=VFe(e,function(l){return qs(l,t)});if(r==="number"){var i=a.filter(function(l){return Ne(l)||parseFloat(l)});return i.length?[gw(i),bl(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!kt(l)}):a;return o.map(function(l){return jn(l)||l instanceof Date?l:""})}var q6e=function(t){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=s==null?void 0:s.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,h=a[d].coordinate,m=d>=l-1?a[0].coordinate:a[d+1].coordinate,f=void 0;if(qa(h-u)!==qa(m-h)){var p=[];if(qa(m-h)===qa(c[1]-c[0])){f=m;var g=h+c[1]-c[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{f=u;var v=m+c[1]-c[0];p[0]=Math.min(h,(v+h)/2),p[1]=Math.max(h,(v+h)/2)}var j=[Math.min(h,(f+h)/2),Math.max(h,(f+h)/2)];if(t>j[0]&&t<=j[1]||t>=p[0]&&t<=p[1]){o=a[d].index;break}}else{var y=Math.min(u,m),b=Math.max(u,m);if(t>(y+h)/2&&t<=(b+h)/2){o=a[d].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(s[w].coordinate+s[w+1].coordinate)/2||w>0&&w<l-1&&t>(s[w].coordinate+s[w-1].coordinate)/2&&t<=(s[w].coordinate+s[w+1].coordinate)/2||w===l-1&&t>(s[w].coordinate+s[w-1].coordinate)/2){o=s[w].index;break}return o},SA=function(t){var r,s=t,a=s.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?zr(zr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},H6e=function(t){var r=t.barSize,s=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),m=0,f=h.length;m<f;m++){var p=u[h[m]],g=p.items,v=p.cateAxisId,j=g.filter(function(C){return fo(C.type).indexOf("Bar")>=0});if(j&&j.length){var y=j[0].type.defaultProps,b=y!==void 0?zr(zr({},y),j[0].props):j[0].props,w=b.barSize,N=b[v];o[N]||(o[N]=[]);var _=kt(w)?r:w;o[N].push({item:j[0],stackList:j.slice(1),barSize:kt(_)?void 0:_d(_,s,0)})}}return o},K6e=function(t){var r=t.barGap,s=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=_d(r,a,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,f=a/c,p=o.reduce(function(w,N){return w+N.barSize||0},0);p+=(c-1)*d,p>=a&&(p-=(c-1)*d,d=0),p>=a&&f>0&&(m=!0,f*=.9,p=c*f);var g=(a-p)/2>>0,v={offset:g-d,size:0};u=o.reduce(function(w,N){var _={item:N.item,position:{offset:v.offset+v.size+d,size:m?f:N.barSize}},C=[].concat(C3(w),[_]);return v=C[C.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(S){C.push({item:S,position:v})}),C},h)}else{var j=_d(s,a,0,!0);a-2*j-(c-1)*d<=0&&(d=0);var y=(a-2*j-(c-1)*d)/c;y>1&&(y>>=0);var b=l===+l?Math.min(y,l):y;u=o.reduce(function(w,N,_){var C=[].concat(C3(w),[{item:N.item,position:{offset:j+(y+d)*_+(y-b)/2,size:b}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(S){C.push({item:S,position:C[C.length-1].position})}),C},h)}return u},G6e=function(t,r,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=HG({children:i,legendWidth:c});if(d){var u=a||{},h=u.width,m=u.height,f=d.align,p=d.verticalAlign,g=d.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&f!=="center"&&Ne(t[f]))return zr(zr({},t),{},Zu({},f,t[f]+(h||0)));if((g==="horizontal"||g==="vertical"&&f==="center")&&p!=="middle"&&Ne(t[p]))return zr(zr({},t),{},Zu({},p,t[p]+(m||0)))}return t},Y6e=function(t,r,s){return kt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||s==="x"?r==="xAxis":s==="y"?r==="yAxis":!0},KG=function(t,r,s,a,i){var o=r.props.children,l=Ga(o,bw).filter(function(d){return Y6e(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var h=qs(u,s);if(kt(h))return d;var m=Array.isArray(h)?[gw(h),bl(h)]:[h,h],f=c.reduce(function(p,g){var v=qs(u,g,0),j=m[0]-Math.abs(Array.isArray(v)?v[0]:v),y=m[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(j,p[0]),Math.max(y,p[1])]},[1/0,-1/0]);return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0])}return null},X6e=function(t,r,s,a,i){var o=r.map(function(l){return KG(t,l,s,i,a)}).filter(function(l){return!kt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},GG=function(t,r,s,a,i){var o=r.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&KG(t,c,d,a)||Yf(t,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},YG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Bc=function(t,r,s){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?qa(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(h){var m=i?i.indexOf(h):h;return{coordinate:a(m)+d,value:h,offset:d}});return u.filter(function(h){return!Om(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,m){return{coordinate:a(h)+d,value:h,index:m,offset:d}}):a.ticks&&!s?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+d,value:h,offset:d}}):a.domain().map(function(h,m){return{coordinate:a(h)+d,value:i?i[h]:h,index:m,offset:d}})},HN=new WeakMap,Ey=function(t,r){if(typeof r!="function")return t;HN.has(t)||HN.set(t,new WeakMap);var s=HN.get(t);if(s.has(r))return s.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return s.set(r,a),a},Q6e=function(t,r,s){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Qp(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Y0(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!s)?{scale:Gf(),realScaleType:"point"}:i==="category"?{scale:Qp(),realScaleType:"band"}:{scale:Y0(),realScaleType:"linear"};if(Nd(a)){var c="scale".concat(sw(a));return{scale:(b3[c]||Gf)(),realScaleType:b3[c]?c:"point"}}return vt(a)?{scale:a}:{scale:Gf(),realScaleType:"point"}},T3=1e-4,Z6e=function(t){var r=t.domain();if(!(!r||r.length<=2)){var s=r.length,a=t.range(),i=Math.min(a[0],a[1])-T3,o=Math.max(a[0],a[1])+T3,l=t(r[0]),c=t(r[s-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[s-1]])}},J6e=function(t,r){if(!t)return null;for(var s=0,a=t.length;s<a;s++)if(t[s].item===r)return t[s].position;return null},eBe=function(t,r){if(!r||r.length!==2||!Ne(r[0])||!Ne(r[1]))return t;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ne(t[0])||t[0]<s)&&(i[0]=s),(!Ne(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},tBe=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0,l=0;l<r;++l){var c=Om(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=i,t[l][s][1]=i+c,i=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},rBe=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0;o<r;++o){var l=Om(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=i,t[o][s][1]=i+l,i=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},nBe={sign:tBe,expand:gPe,none:Ih,silhouette:yPe,wiggle:vPe,positive:rBe},sBe=function(t,r,s){var a=r.map(function(l){return l.props.dataKey}),i=nBe[s],o=xPe().keys(a).value(function(l,c){return+qs(l,c,0)}).order(X2).offset(i);return o(t)},aBe=function(t,r,s,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(h,m){var f,p=(f=m.type)!==null&&f!==void 0&&f.defaultProps?zr(zr({},m.type.defaultProps),m.props):m.props,g=p.stackId,v=p.hide;if(v)return h;var j=p[s],y=h[j]||{hasStack:!1,stackGroups:{}};if(jn(g)){var b=y.stackGroups[g]||{numericAxisId:s,cateAxisId:a,items:[]};b.items.push(m),y.hasStack=!0,y.stackGroups[g]=b}else y.stackGroups[yg("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[m]};return zr(zr({},h),{},Zu({},j,y))},c),u={};return Object.keys(d).reduce(function(h,m){var f=d[m];if(f.hasStack){var p={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(g,v){var j=f.stackGroups[v];return zr(zr({},g),{},Zu({},v,{numericAxisId:s,cateAxisId:a,items:j.items,stackedData:sBe(t,j.items,i)}))},p)}return zr(zr({},h),{},Zu({},m,f))},u)},iBe=function(t,r){var s=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=s||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=g6e(d,i,l);return t.domain([gw(u),bl(u)]),{niceTicks:u}}if(i&&a==="number"){var h=t.domain(),m=y6e(h,i,l);return{niceTicks:m}}return null};function E3(e){var t=e.axis,r=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!kt(a[t.dataKey])){var l=C0(r,"value",a[t.dataKey]);if(l)return l.coordinate+s/2}return r[i]?r[i].coordinate+s/2:null}var c=qs(a,kt(o)?t.dataKey:o);return kt(c)?null:t.scale(c)}var P3=function(t){var r=t.axis,s=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var c=qs(o,r.dataKey,r.domain[l]);return kt(c)?null:r.scale(c)-i/2+a},oBe=function(t){var r=t.numericAxis,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},lBe=function(t,r){var s,a=(s=t.type)!==null&&s!==void 0&&s.defaultProps?zr(zr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(jn(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},cBe=function(t){return t.reduce(function(r,s){return[gw(s.concat([r[0]]).filter(Ne)),bl(s.concat([r[1]]).filter(Ne))]},[1/0,-1/0])},XG=function(t,r,s){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var h=cBe(u.slice(r,s+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},A3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,O3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CC=function(t,r,s){if(vt(t))return t(r,s);if(!Array.isArray(t))return r;var a=[];if(Ne(t[0]))a[0]=s?t[0]:Math.min(t[0],r[0]);else if(A3.test(t[0])){var i=+A3.exec(t[0])[1];a[0]=r[0]-i}else vt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ne(t[1]))a[1]=s?t[1]:Math.max(t[1],r[1]);else if(O3.test(t[1])){var o=+O3.exec(t[1])[1];a[1]=r[1]+o}else vt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},rb=function(t,r,s){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&r&&r.length>=2){for(var i=JP(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},M3=function(t,r,s){return!t||!t.length||rx(t,ma(s,"type.defaultProps.domain"))?r:t},QG=function(t,r){var s=t.type.defaultProps?zr(zr({},t.type.defaultProps),t.props):t.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,u=s.hide;return zr(zr({},Ct(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:SA(t),value:qs(r,a),type:c,payload:r,chartType:d,hide:u})};function ox(e){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ox(e)}function R3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function I3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R3(Object(r),!0).forEach(function(s){dBe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R3(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function dBe(e,t,r){return t=uBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uBe(e){var t=hBe(e,"string");return ox(t)=="symbol"?t:t+""}function hBe(e,t){if(ox(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ox(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nb=Math.PI/180,mBe=function(t){return t*180/Math.PI},Rn=function(t,r,s,a){return{x:t+Math.cos(-nb*a)*s,y:r+Math.sin(-nb*a)*s}},fBe=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},pBe=function(t,r){var s=t.x,a=t.y,i=r.cx,o=r.cy,l=fBe({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:mBe(d),angleInRadian:d}},xBe=function(t){var r=t.startAngle,s=t.endAngle,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:s-o*360}},gBe=function(t,r){var s=r.startAngle,a=r.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},D3=function(t,r){var s=t.x,a=t.y,i=pBe({x:s,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=xBe(r),h=u.startAngle,m=u.endAngle,f=l,p;if(h<=m){for(;f>m;)f-=360;for(;f<h;)f+=360;p=f>=h&&f<=m}else{for(;f>h;)f-=360;for(;f<m;)f+=360;p=f>=m&&f<=h}return p?I3(I3({},r),{},{radius:o,angle:gBe(f,r)}):null};function lx(e){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lx(e)}var yBe=["offset"];function vBe(e){return NBe(e)||wBe(e)||jBe(e)||bBe()}function bBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jBe(e,t){if(e){if(typeof e=="string")return kC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kC(e,t)}}function wBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NBe(e){if(Array.isArray(e))return kC(e)}function kC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function _Be(e,t){if(e==null)return{};var r=SBe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function SBe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function $3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(r),!0).forEach(function(s){CBe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$3(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function CBe(e,t,r){return t=kBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kBe(e){var t=TBe(e,"string");return lx(t)=="symbol"?t:t+""}function TBe(e,t){if(lx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(lx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},cx.apply(this,arguments)}var EBe=function(t){var r=t.value,s=t.formatter,a=kt(t.children)?r:t.children;return vt(s)?s(a):a},PBe=function(t,r){var s=qa(r-t),a=Math.min(Math.abs(r-t),360);return s*a},ABe=function(t,r,s){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,m=c.outerRadius,f=c.startAngle,p=c.endAngle,g=c.clockWise,v=(h+m)/2,j=PBe(f,p),y=j>=0?1:-1,b,w;a==="insideStart"?(b=f+y*o,w=g):a==="insideEnd"?(b=p-y*o,w=!g):a==="end"&&(b=p+y*o,w=g),w=j<=0?w:!w;var N=Rn(d,u,v,b),_=Rn(d,u,v,b+(w?1:-1)*359),C="M".concat(N.x,",").concat(N.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(_.x,",").concat(_.y),S=kt(t.id)?yg("recharts-radial-line-"):t.id;return D.createElement("text",cx({},s,{dominantBaseline:"central",className:Ot("recharts-radial-bar-label",l)}),D.createElement("defs",null,D.createElement("path",{id:S,d:C})),D.createElement("textPath",{xlinkHref:"#".concat(S)},r))},OBe=function(t){var r=t.viewBox,s=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,m=(u+h)/2;if(a==="outside"){var f=Rn(o,l,d+s,m),p=f.x,g=f.y;return{x:p,y:g,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,j=Rn(o,l,v,m),y=j.x,b=j.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},MBe=function(t){var r=t.viewBox,s=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,m=h*a,f=h>0?"end":"start",p=h>0?"start":"end",g=d>=0?1:-1,v=g*a,j=g>0?"end":"start",y=g>0?"start":"end";if(i==="top"){var b={x:l+d/2,y:c-h*a,textAnchor:"middle",verticalAnchor:f};return mn(mn({},b),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var w={x:l+d/2,y:c+u+m,textAnchor:"middle",verticalAnchor:p};return mn(mn({},w),s?{height:Math.max(s.y+s.height-(c+u),0),width:d}:{})}if(i==="left"){var N={x:l-v,y:c+u/2,textAnchor:j,verticalAnchor:"middle"};return mn(mn({},N),s?{width:Math.max(N.x-s.x,0),height:u}:{})}if(i==="right"){var _={x:l+d+v,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return mn(mn({},_),s?{width:Math.max(s.x+s.width-_.x,0),height:u}:{})}var C=s?{width:d,height:u}:{};return i==="insideLeft"?mn({x:l+v,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},C):i==="insideRight"?mn({x:l+d-v,y:c+u/2,textAnchor:j,verticalAnchor:"middle"},C):i==="insideTop"?mn({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:p},C):i==="insideBottom"?mn({x:l+d/2,y:c+u-m,textAnchor:"middle",verticalAnchor:f},C):i==="insideTopLeft"?mn({x:l+v,y:c+m,textAnchor:y,verticalAnchor:p},C):i==="insideTopRight"?mn({x:l+d-v,y:c+m,textAnchor:j,verticalAnchor:p},C):i==="insideBottomLeft"?mn({x:l+v,y:c+u-m,textAnchor:y,verticalAnchor:f},C):i==="insideBottomRight"?mn({x:l+d-v,y:c+u-m,textAnchor:j,verticalAnchor:f},C):Tm(i)&&(Ne(i.x)||$c(i.x))&&(Ne(i.y)||$c(i.y))?mn({x:l+_d(i.x,d),y:c+_d(i.y,u),textAnchor:"end",verticalAnchor:"end"},C):mn({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},C)},RBe=function(t){return"cx"in t&&Ne(t.cx)};function Un(e){var t=e.offset,r=t===void 0?5:t,s=_Be(e,yBe),a=mn({offset:r},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,h=u===void 0?"":u,m=a.textBreakAll;if(!i||kt(l)&&kt(c)&&!x.isValidElement(d)&&!vt(d))return null;if(x.isValidElement(d))return x.cloneElement(d,a);var f;if(vt(d)){if(f=x.createElement(d,a),x.isValidElement(f))return f}else f=EBe(a);var p=RBe(i),g=Ct(a,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ABe(a,f,g);var v=p?OBe(a):MBe(a);return D.createElement(z0,cx({className:Ot("recharts-label",h)},g,v,{breakAll:m}),f)}Un.displayName="Label";var ZG=function(t){var r=t.cx,s=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,h=t.x,m=t.y,f=t.top,p=t.left,g=t.width,v=t.height,j=t.clockWise,y=t.labelViewBox;if(y)return y;if(Ne(g)&&Ne(v)){if(Ne(h)&&Ne(m))return{x:h,y:m,width:g,height:v};if(Ne(f)&&Ne(p))return{x:f,y:p,width:g,height:v}}return Ne(h)&&Ne(m)?{x:h,y:m,width:0,height:0}:Ne(r)&&Ne(s)?{cx:r,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},IBe=function(t,r){return t?t===!0?D.createElement(Un,{key:"label-implicit",viewBox:r}):jn(t)?D.createElement(Un,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===Un?x.cloneElement(t,{key:"label-implicit",viewBox:r}):D.createElement(Un,{key:"label-implicit",content:t,viewBox:r}):vt(t)?D.createElement(Un,{key:"label-implicit",content:t,viewBox:r}):Tm(t)?D.createElement(Un,cx({viewBox:r},t,{key:"label-implicit"})):null:null},DBe=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,i=ZG(t),o=Ga(a,Un).map(function(c,d){return x.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!s)return o;var l=IBe(t.label,r||i);return[l].concat(vBe(o))};Un.parseViewBox=ZG;Un.renderCallByParent=DBe;function $Be(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var LBe=$Be;const FBe=ar(LBe);function dx(e){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dx(e)}var BBe=["valueAccessor"],VBe=["data","dataKey","clockWise","id","textBreakAll"];function zBe(e){return HBe(e)||qBe(e)||WBe(e)||UBe()}function UBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WBe(e,t){if(e){if(typeof e=="string")return TC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TC(e,t)}}function qBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HBe(e){if(Array.isArray(e))return TC(e)}function TC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},sb.apply(this,arguments)}function L3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function F3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(r),!0).forEach(function(s){KBe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L3(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function KBe(e,t,r){return t=GBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GBe(e){var t=YBe(e,"string");return dx(t)=="symbol"?t:t+""}function YBe(e,t){if(dx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(dx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B3(e,t){if(e==null)return{};var r=XBe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function XBe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var QBe=function(t){return Array.isArray(t.value)?FBe(t.value):t.value};function Il(e){var t=e.valueAccessor,r=t===void 0?QBe:t,s=B3(e,BBe),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=B3(s,VBe);return!a||!a.length?null:D.createElement(Pr,{className:"recharts-label-list"},a.map(function(u,h){var m=kt(i)?r(u,h):qs(u&&u.payload,i),f=kt(l)?{}:{id:"".concat(l,"-").concat(h)};return D.createElement(Un,sb({},Ct(u,!0),d,f,{parentViewBox:u.parentViewBox,value:m,textBreakAll:c,viewBox:Un.parseViewBox(kt(o)?u:F3(F3({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Il.displayName="LabelList";function ZBe(e,t){return e?e===!0?D.createElement(Il,{key:"labelList-implicit",data:t}):D.isValidElement(e)||vt(e)?D.createElement(Il,{key:"labelList-implicit",data:t,content:e}):Tm(e)?D.createElement(Il,sb({data:t},e,{key:"labelList-implicit"})):null:null}function JBe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,a=Ga(s,Il).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=ZBe(e.label,t);return[i].concat(zBe(a))}Il.renderCallByParent=JBe;function ux(e){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ux(e)}function EC(){return EC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},EC.apply(this,arguments)}function V3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function z3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V3(Object(r),!0).forEach(function(s){e9e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V3(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function e9e(e,t,r){return t=t9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t9e(e){var t=r9e(e,"string");return ux(t)=="symbol"?t:t+""}function r9e(e,t){if(ux(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ux(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n9e=function(t,r){var s=qa(r-t),a=Math.min(Math.abs(r-t),359.999);return s*a},Py=function(t){var r=t.cx,s=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+a,h=Math.asin(c/u)/nb,m=d?i:i+o*h,f=Rn(r,s,u,m),p=Rn(r,s,a,m),g=d?i-o*h:i,v=Rn(r,s,u*Math.cos(h*nb),g);return{center:f,circleTangency:p,lineTangency:v,theta:h}},JG=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=n9e(o,l),d=o+c,u=Rn(r,s,i,o),h=Rn(r,s,i,d),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var f=Rn(r,s,a,o),p=Rn(r,s,a,d);m+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(f.x,",").concat(f.y," Z")}else m+="L ".concat(r,",").concat(s," Z");return m},s9e=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,h=qa(u-d),m=Py({cx:r,cy:s,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),f=m.circleTangency,p=m.lineTangency,g=m.theta,v=Py({cx:r,cy:s,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),j=v.circleTangency,y=v.lineTangency,b=v.theta,w=c?Math.abs(d-u):Math.abs(d-u)-g-b;if(w<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):JG({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var N="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var _=Py({cx:r,cy:s,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=_.circleTangency,S=_.lineTangency,k=_.theta,E=Py({cx:r,cy:s,radius:a,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=E.circleTangency,A=E.lineTangency,B=E.theta,R=c?Math.abs(d-u):Math.abs(d-u)-k-B;if(R<0&&o===0)return"".concat(N,"L").concat(r,",").concat(s,"Z");N+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,"Z")}else N+="L".concat(r,",").concat(s,"Z");return N},a9e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eY=function(t){var r=z3(z3({},a9e),t),s=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,h=r.endAngle,m=r.className;if(o<i||u===h)return null;var f=Ot("recharts-sector",m),p=o-i,g=_d(l,p,0,!0),v;return g>0&&Math.abs(u-h)<360?v=s9e({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):v=JG({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),D.createElement("path",EC({},Ct(r,!0),{className:f,d:v,role:"img"}))};function hx(e){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hx(e)}function PC(){return PC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},PC.apply(this,arguments)}function U3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function W3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U3(Object(r),!0).forEach(function(s){i9e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function i9e(e,t,r){return t=o9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o9e(e){var t=l9e(e,"string");return hx(t)=="symbol"?t:t+""}function l9e(e,t){if(hx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(hx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q3={curveBasisClosed:aPe,curveBasisOpen:iPe,curveBasis:sPe,curveBumpX:WEe,curveBumpY:qEe,curveLinearClosed:oPe,curveLinear:iw,curveMonotoneX:lPe,curveMonotoneY:cPe,curveNatural:dPe,curveStep:uPe,curveStepAfter:mPe,curveStepBefore:hPe},Ay=function(t){return t.x===+t.x&&t.y===+t.y},df=function(t){return t.x},uf=function(t){return t.y},c9e=function(t,r){if(vt(t))return t;var s="curve".concat(sw(t));return(s==="curveMonotone"||s==="curveBump")&&r?q3["".concat(s).concat(r==="vertical"?"Y":"X")]:q3[s]||iw},d9e=function(t){var r=t.type,s=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=c9e(s,l),h=d?i.filter(function(g){return Ay(g)}):i,m;if(Array.isArray(o)){var f=d?o.filter(function(g){return Ay(g)}):o,p=h.map(function(g,v){return W3(W3({},g),{},{base:f[v]})});return l==="vertical"?m=jy().y(uf).x1(df).x0(function(g){return g.base.x}):m=jy().x(df).y1(uf).y0(function(g){return g.base.y}),m.defined(Ay).curve(u),m(p)}return l==="vertical"&&Ne(o)?m=jy().y(uf).x1(df).x0(o):Ne(o)?m=jy().x(df).y1(uf).y0(o):m=tK().x(df).y(uf),m.defined(Ay).curve(u),m(h)},Xf=function(t){var r=t.className,s=t.points,a=t.path,i=t.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?d9e(t):a;return x.createElement("path",PC({},Ct(t,!1),k0(t),{className:Ot("recharts-curve",r),d:o,ref:i}))},tY={exports:{}},u9e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",h9e=u9e,m9e=h9e;function rY(){}function nY(){}nY.resetWarningCache=rY;var f9e=function(){function e(s,a,i,o,l,c){if(c!==m9e){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:nY,resetWarningCache:rY};return r.PropTypes=r,r};tY.exports=f9e();var p9e=tY.exports;const Gt=ar(p9e);var x9e=Object.getOwnPropertyNames,g9e=Object.getOwnPropertySymbols,y9e=Object.prototype.hasOwnProperty;function H3(e,t){return function(s,a,i){return e(s,a,i)&&t(s,a,i)}}function Oy(e){return function(r,s,a){if(!r||!s||typeof r!="object"||typeof s!="object")return e(r,s,a);var i=a.cache,o=i.get(r),l=i.get(s);if(o&&l)return o===s&&l===r;i.set(r,s),i.set(s,r);var c=e(r,s,a);return i.delete(r),i.delete(s),c}}function K3(e){return x9e(e).concat(g9e(e))}var v9e=Object.hasOwn||function(e,t){return y9e.call(e,t)};function Vd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var b9e="__v",j9e="__o",w9e="_owner",G3=Object.getOwnPropertyDescriptor,Y3=Object.keys;function N9e(e,t,r){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function _9e(e,t){return Vd(e.getTime(),t.getTime())}function S9e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function C9e(e,t){return e===t}function X3(e,t,r){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=t.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(a[h]){h++;continue}var m=o.value,f=l.value;if(r.equals(m[0],f[0],c,h,e,t,r)&&r.equals(m[1],f[1],m[0],f[0],e,t,r)){u=a[h]=!0;break}h++}if(!u)return!1;c++}return!0}var k9e=Vd;function T9e(e,t,r){var s=Y3(e),a=s.length;if(Y3(t).length!==a)return!1;for(;a-- >0;)if(!sY(e,t,r,s[a]))return!1;return!0}function hf(e,t,r){var s=K3(e),a=s.length;if(K3(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],!sY(e,t,r,i)||(o=G3(e,i),l=G3(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function E9e(e,t){return Vd(e.valueOf(),t.valueOf())}function P9e(e,t){return e.source===t.source&&e.flags===t.flags}function Q3(e,t,r){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!a[u]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function A9e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function O9e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function sY(e,t,r,s){return(s===w9e||s===j9e||s===b9e)&&(e.$$typeof||t.$$typeof)?!0:v9e(t,s)&&r.equals(e[s],t[s],s,s,e,t,r)}var M9e="[object Arguments]",R9e="[object Boolean]",I9e="[object Date]",D9e="[object Error]",$9e="[object Map]",L9e="[object Number]",F9e="[object Object]",B9e="[object RegExp]",V9e="[object Set]",z9e="[object String]",U9e="[object URL]",W9e=Array.isArray,Z3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,J3=Object.assign,q9e=Object.prototype.toString.call.bind(Object.prototype.toString);function H9e(e){var t=e.areArraysEqual,r=e.areDatesEqual,s=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,h=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(p,g,v){if(p===g)return!0;if(p==null||g==null)return!1;var j=typeof p;if(j!==typeof g)return!1;if(j!=="object")return j==="number"?o(p,g,v):j==="function"?a(p,g,v):!1;var y=p.constructor;if(y!==g.constructor)return!1;if(y===Object)return l(p,g,v);if(W9e(p))return t(p,g,v);if(Z3!=null&&Z3(p))return h(p,g,v);if(y===Date)return r(p,g,v);if(y===RegExp)return d(p,g,v);if(y===Map)return i(p,g,v);if(y===Set)return u(p,g,v);var b=q9e(p);return b===I9e?r(p,g,v):b===B9e?d(p,g,v):b===$9e?i(p,g,v):b===V9e?u(p,g,v):b===F9e?typeof p.then!="function"&&typeof g.then!="function"&&l(p,g,v):b===U9e?m(p,g,v):b===D9e?s(p,g,v):b===M9e?l(p,g,v):b===R9e||b===L9e||b===z9e?c(p,g,v):!1}}function K9e(e){var t=e.circular,r=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?hf:N9e,areDatesEqual:_9e,areErrorsEqual:S9e,areFunctionsEqual:C9e,areMapsEqual:s?H3(X3,hf):X3,areNumbersEqual:k9e,areObjectsEqual:s?hf:T9e,arePrimitiveWrappersEqual:E9e,areRegExpsEqual:P9e,areSetsEqual:s?H3(Q3,hf):Q3,areTypedArraysEqual:s?hf:A9e,areUrlsEqual:O9e};if(r&&(a=J3({},a,r(a))),t){var i=Oy(a.areArraysEqual),o=Oy(a.areMapsEqual),l=Oy(a.areObjectsEqual),c=Oy(a.areSetsEqual);a=J3({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function G9e(e){return function(t,r,s,a,i,o,l){return e(t,r,l)}}function Y9e(e){var t=e.circular,r=e.comparator,s=e.createState,a=e.equals,i=e.strict;if(s)return function(c,d){var u=s(),h=u.cache,m=h===void 0?t?new WeakMap:void 0:h,f=u.meta;return r(c,d,{cache:m,equals:a,meta:f,strict:i})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var X9e=mc();mc({strict:!0});mc({circular:!0});mc({circular:!0,strict:!0});mc({createInternalComparator:function(){return Vd}});mc({strict:!0,createInternalComparator:function(){return Vd}});mc({circular:!0,createInternalComparator:function(){return Vd}});mc({circular:!0,createInternalComparator:function(){return Vd},strict:!0});function mc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,s=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=K9e(e),c=H9e(l),d=s?s(c):G9e(c);return Y9e({circular:r,comparator:c,createState:a,equals:d,strict:o})}function Q9e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function e$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,s=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Q9e(a)};requestAnimationFrame(s)}function AC(e){"@babel/helpers - typeof";return AC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AC(e)}function Z9e(e){return r8e(e)||t8e(e)||e8e(e)||J9e()}function J9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e8e(e,t){if(e){if(typeof e=="string")return t$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t$(e,t)}}function t$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function t8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r8e(e){if(Array.isArray(e))return e}function n8e(){var e={},t=function(){return null},r=!1,s=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Z9e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){e$(a.bind(null,d),c);return}a(c),e$(a.bind(null,d));return}AC(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,s(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function mx(e){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mx(e)}function r$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function n$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r$(Object(r),!0).forEach(function(s){aY(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function aY(e,t,r){return t=s8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s8e(e){var t=a8e(e,"string");return mx(t)==="symbol"?t:String(t)}function a8e(e,t){if(mx(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(mx(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i8e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},o8e=function(t){return t},l8e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Qf=function(t,r){return Object.keys(r).reduce(function(s,a){return n$(n$({},s),{},aY({},a,t(a,r[a])))},{})},s$=function(t,r,s){return t.map(function(a){return"".concat(l8e(a)," ").concat(r,"ms ").concat(s)}).join(",")};function c8e(e,t){return h8e(e)||u8e(e,t)||iY(e,t)||d8e()}function d8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function h8e(e){if(Array.isArray(e))return e}function m8e(e){return x8e(e)||p8e(e)||iY(e)||f8e()}function f8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iY(e,t){if(e){if(typeof e=="string")return OC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OC(e,t)}}function p8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function x8e(e){if(Array.isArray(e))return OC(e)}function OC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var ab=1e-4,oY=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},lY=function(t,r){return t.map(function(s,a){return s*Math.pow(r,a)}).reduce(function(s,a){return s+a})},a$=function(t,r){return function(s){var a=oY(t,r);return lY(a,s)}},g8e=function(t,r){return function(s){var a=oY(t,r),i=[].concat(m8e(a.map(function(o,l){return o*l}).slice(1)),[0]);return lY(i,s)}},i$=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=c8e(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var h=a$(a,o),m=a$(i,l),f=g8e(a,o),p=function(j){return j>1?1:j<0?0:j},g=function(j){for(var y=j>1?1:j,b=y,w=0;w<8;++w){var N=h(b)-y,_=f(b);if(Math.abs(N-y)<ab||_<ab)return m(b);b=p(b-N/_)}return m(b)};return g.isStepper=!1,g},y8e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,s=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(u,h,m){var f=-(u-h)*s,p=m*i,g=m+(f-p)*l/1e3,v=m*l/1e3+u;return Math.abs(v-h)<ab&&Math.abs(g)<ab?[h,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},v8e=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return i$(a);case"spring":return y8e();default:if(a.split("(")[0]==="cubic-bezier")return i$(a)}return typeof a=="function"?a:null};function fx(e){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fx(e)}function o$(e){return w8e(e)||j8e(e)||cY(e)||b8e()}function b8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w8e(e){if(Array.isArray(e))return RC(e)}function l$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l$(Object(r),!0).forEach(function(s){MC(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function MC(e,t,r){return t=N8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N8e(e){var t=_8e(e,"string");return fx(t)==="symbol"?t:String(t)}function _8e(e,t){if(fx(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(fx(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S8e(e,t){return T8e(e)||k8e(e,t)||cY(e,t)||C8e()}function C8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cY(e,t){if(e){if(typeof e=="string")return RC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RC(e,t)}}function RC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function k8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function T8e(e){if(Array.isArray(e))return e}var ib=function(t,r,s){return t+(r-t)*s},IC=function(t){var r=t.from,s=t.to;return r!==s},E8e=function e(t,r,s){var a=Qf(function(i,o){if(IC(o)){var l=t(o.from,o.to,o.velocity),c=S8e(l,2),d=c[0],u=c[1];return An(An({},o),{},{from:d,velocity:u})}return o},r);return s<1?Qf(function(i,o){return IC(o)?An(An({},o),{},{velocity:ib(o.velocity,a[i].velocity,s),from:ib(o.from,a[i].from,s)}):o},r):e(t,a,s-1)};const P8e=function(e,t,r,s,a){var i=i8e(e,t),o=i.reduce(function(v,j){return An(An({},v),{},MC({},j,[e[j],t[j]]))},{}),l=i.reduce(function(v,j){return An(An({},v),{},MC({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,d,u,h=function(){return null},m=function(){return Qf(function(j,y){return y.from},l)},f=function(){return!Object.values(l).filter(IC).length},p=function(j){d||(d=j);var y=j-d,b=y/r.dt;l=E8e(r,l,b),a(An(An(An({},e),t),m())),d=j,f()||(c=requestAnimationFrame(h))},g=function(j){u||(u=j);var y=(j-u)/s,b=Qf(function(N,_){return ib.apply(void 0,o$(_).concat([r(y)]))},o);if(a(An(An(An({},e),t),b)),y<1)c=requestAnimationFrame(h);else{var w=Qf(function(N,_){return ib.apply(void 0,o$(_).concat([r(1)]))},o);a(An(An(An({},e),t),w))}};return h=r.isStepper?p:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}var A8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function O8e(e,t){if(e==null)return{};var r=M8e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function M8e(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function KN(e){return $8e(e)||D8e(e)||I8e(e)||R8e()}function R8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I8e(e,t){if(e){if(typeof e=="string")return DC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DC(e,t)}}function D8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $8e(e){if(Array.isArray(e))return DC(e)}function DC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function c$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c$(Object(r),!0).forEach(function(s){Cf(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Cf(e,t,r){return t=dY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F8e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,dY(s.key),s)}}function B8e(e,t,r){return t&&F8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dY(e){var t=V8e(e,"string");return Wh(t)==="symbol"?t:String(t)}function V8e(e,t){if(Wh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Wh(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$C(e,t)}function $C(e,t){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},$C(e,t)}function U8e(e){var t=W8e();return function(){var s=ob(e),a;if(t){var i=ob(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return LC(this,a)}}function LC(e,t){if(t&&(Wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FC(e)}function FC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ob(e){return ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ob(e)}var Oo=function(e){z8e(r,e);var t=U8e(r);function r(s,a){var i;L8e(this,r),i=t.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,m=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(FC(i)),i.changeStyle=i.changeStyle.bind(FC(i)),!l||f<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:u}),LC(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof m=="function")return i.state={style:d},LC(i);i.state={style:c?Cf({},c,d):d}}else i.state={style:{}};return i}return B8e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,m=this.state.style;if(l){if(!o){var f={style:c?Cf({},c,u):u};this.state&&m&&(c&&m[c]!==u||!c&&m!==u)&&this.setState(f);return}if(!(X9e(a.to,u)&&a.canBegin&&a.isActive)){var p=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||d?h:a.to;if(this.state&&m){var v={style:c?Cf({},c,g):g};(c&&m[c]!==g||!c&&m!==g)&&this.setState(v)}this.runAnimation(Ta(Ta({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,h=a.onAnimationEnd,m=a.onAnimationStart,f=P8e(o,l,v8e(d),c,this.changeStyle),p=function(){i.stopJSAnimation=f()};this.manager.start([m,u,p,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,h=d.duration,m=h===void 0?0:h,f=function(g,v,j){if(j===0)return g;var y=v.duration,b=v.easing,w=b===void 0?"ease":b,N=v.style,_=v.properties,C=v.onAnimationEnd,S=j>0?o[j-1]:v,k=_||Object.keys(N);if(typeof w=="function"||w==="spring")return[].concat(KN(g),[i.runJSAnimation.bind(i,{from:S.style,to:N,duration:y,easing:w}),y]);var E=s$(k,y,w),T=Ta(Ta(Ta({},S.style),N),{},{transition:E});return[].concat(KN(g),[T,y,C]).filter(o8e)};return this.manager.start([c].concat(KN(o.reduce(f,[u,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=n8e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,h=a.onAnimationEnd,m=a.steps,f=a.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof d=="function"||typeof f=="function"||d==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var g=l?Cf({},l,c):c,v=s$(Object.keys(g),o,d);p.start([u,i,Ta(Ta({},g),{},{transition:v}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=O8e(a,A8e),d=x.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(f){var p=f.props,g=p.style,v=g===void 0?{}:g,j=p.className,y=x.cloneElement(f,Ta(Ta({},c),{},{style:Ta(Ta({},v),u),className:j}));return y};return d===1?h(x.Children.only(i)):D.createElement("div",null,x.Children.map(i,function(m){return h(m)}))}}]),r}(x.PureComponent);Oo.displayName="Animate";Oo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Oo.propTypes={from:Gt.oneOfType([Gt.object,Gt.string]),to:Gt.oneOfType([Gt.object,Gt.string]),attributeName:Gt.string,duration:Gt.number,begin:Gt.number,easing:Gt.oneOfType([Gt.string,Gt.func]),steps:Gt.arrayOf(Gt.shape({duration:Gt.number.isRequired,style:Gt.object.isRequired,easing:Gt.oneOfType([Gt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Gt.func]),properties:Gt.arrayOf("string"),onAnimationEnd:Gt.func})),children:Gt.oneOfType([Gt.node,Gt.func]),isActive:Gt.bool,canBegin:Gt.bool,onAnimationEnd:Gt.func,shouldReAnimate:Gt.bool,onAnimationStart:Gt.func,onAnimationReStart:Gt.func};function px(e){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},px(e)}function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},lb.apply(this,arguments)}function q8e(e,t){return Y8e(e)||G8e(e,t)||K8e(e,t)||H8e()}function H8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K8e(e,t){if(e){if(typeof e=="string")return d$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d$(e,t)}}function d$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function G8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Y8e(e){if(Array.isArray(e))return e}function u$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function h$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u$(Object(r),!0).forEach(function(s){X8e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function X8e(e,t,r){return t=Q8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q8e(e){var t=Z8e(e,"string");return px(t)=="symbol"?t:t+""}function Z8e(e,t){if(px(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(px(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m$=function(t,r,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,f=4;m<f;m++)h[m]=i[m]>o?o:i[m];u="M".concat(t,",").concat(r+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(t+c*h[0],",").concat(r)),u+="L ".concat(t+s-c*h[1],",").concat(r),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(t+s,",").concat(r+l*h[1])),u+="L ".concat(t+s,",").concat(r+a-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(t+s-c*h[2],",").concat(r+a)),u+="L ".concat(t+c*h[3],",").concat(r+a),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+a-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);u="M ".concat(t,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(t+c*p,",").concat(r,`
            L `).concat(t+s-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(t+s,",").concat(r+l*p,`
            L `).concat(t+s,",").concat(r+a-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(t+s-c*p,",").concat(r+a,`
            L `).concat(t+c*p,",").concat(r+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(t,",").concat(r+a-l*p," Z")}else u="M ".concat(t,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},J8e=function(t,r){if(!t||!r)return!1;var s=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),m=Math.max(o,o+c);return s>=d&&s<=u&&a>=h&&a<=m}return!1},eVe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CA=function(t){var r=h$(h$({},eVe),t),s=x.useRef(),a=x.useState(-1),i=q8e(a,2),o=i[0],l=i[1];x.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var w=s.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.width,h=r.height,m=r.radius,f=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,j=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var b=Ot("recharts-rectangle",f);return y?D.createElement(Oo,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:g,animationEasing:p,isActive:y},function(w){var N=w.width,_=w.height,C=w.x,S=w.y;return D.createElement(Oo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:j,easing:p},D.createElement("path",lb({},Ct(r,!0),{className:b,d:m$(C,S,N,_,m),ref:s})))}):D.createElement("path",lb({},Ct(r,!0),{className:b,d:m$(c,d,u,h,m)}))};function BC(){return BC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},BC.apply(this,arguments)}var kA=function(t){var r=t.cx,s=t.cy,a=t.r,i=t.className,o=Ot("recharts-dot",i);return r===+r&&s===+s&&a===+a?x.createElement("circle",BC({},Ct(t,!1),k0(t),{className:o,cx:r,cy:s,r:a})):null};function xx(e){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xx(e)}var tVe=["x","y","top","left","width","height","className"];function VC(){return VC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},VC.apply(this,arguments)}function f$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function rVe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(r),!0).forEach(function(s){nVe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function nVe(e,t,r){return t=sVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sVe(e){var t=aVe(e,"string");return xx(t)=="symbol"?t:t+""}function aVe(e,t){if(xx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(xx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iVe(e,t){if(e==null)return{};var r=oVe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function oVe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var lVe=function(t,r,s,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(s)},cVe=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,h=u===void 0?0:u,m=t.height,f=m===void 0?0:m,p=t.className,g=iVe(t,tVe),v=rVe({x:s,y:i,top:l,left:d,width:h,height:f},g);return!Ne(s)||!Ne(i)||!Ne(h)||!Ne(f)||!Ne(l)||!Ne(d)?null:D.createElement("path",VC({},Ct(v,!0),{className:Ot("recharts-cross",p),d:lVe(s,i,h,f,l,d)}))},dVe=SK,uVe=dVe(Object.getPrototypeOf,Object),hVe=uVe,mVe=$o,fVe=hVe,pVe=Lo,xVe="[object Object]",gVe=Function.prototype,yVe=Object.prototype,uY=gVe.toString,vVe=yVe.hasOwnProperty,bVe=uY.call(Object);function jVe(e){if(!pVe(e)||mVe(e)!=xVe)return!1;var t=fVe(e);if(t===null)return!0;var r=vVe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&uY.call(r)==bVe}var wVe=jVe;const NVe=ar(wVe);var _Ve=$o,SVe=Lo,CVe="[object Boolean]";function kVe(e){return e===!0||e===!1||SVe(e)&&_Ve(e)==CVe}var TVe=kVe;const EVe=ar(TVe);function gx(e){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gx(e)}function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},cb.apply(this,arguments)}function PVe(e,t){return RVe(e)||MVe(e,t)||OVe(e,t)||AVe()}function AVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OVe(e,t){if(e){if(typeof e=="string")return p$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p$(e,t)}}function p$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function MVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function RVe(e){if(Array.isArray(e))return e}function x$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function g$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x$(Object(r),!0).forEach(function(s){IVe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function IVe(e,t,r){return t=DVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DVe(e){var t=$Ve(e,"string");return gx(t)=="symbol"?t:t+""}function $Ve(e,t){if(gx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(gx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y$=function(t,r,s,a,i){var o=s-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+s,",").concat(r),l+="L ".concat(t+s-o/2,",").concat(r+i),l+="L ".concat(t+s-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},LVe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FVe=function(t){var r=g$(g$({},LVe),t),s=x.useRef(),a=x.useState(-1),i=PVe(a,2),o=i[0],l=i[1];x.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var b=s.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,h=r.lowerWidth,m=r.height,f=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,j=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||m!==+m||u===0&&h===0||m===0)return null;var y=Ot("recharts-trapezoid",f);return j?D.createElement(Oo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:m,x:c,y:d},duration:g,animationEasing:p,isActive:j},function(b){var w=b.upperWidth,N=b.lowerWidth,_=b.height,C=b.x,S=b.y;return D.createElement(Oo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:p},D.createElement("path",cb({},Ct(r,!0),{className:y,d:y$(C,S,w,N,_),ref:s})))}):D.createElement("g",null,D.createElement("path",cb({},Ct(r,!0),{className:y,d:y$(c,d,u,h,m)})))},BVe=["option","shapeType","propTransformer","activeClassName","isActive"];function yx(e){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yx(e)}function VVe(e,t){if(e==null)return{};var r=zVe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function zVe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function v$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function db(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v$(Object(r),!0).forEach(function(s){UVe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function UVe(e,t,r){return t=WVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WVe(e){var t=qVe(e,"string");return yx(t)=="symbol"?t:t+""}function qVe(e,t){if(yx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(yx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HVe(e,t){return db(db({},t),e)}function KVe(e,t){return e==="symbols"}function b$(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return D.createElement(CA,r);case"trapezoid":return D.createElement(FVe,r);case"sector":return D.createElement(eY,r);case"symbols":if(KVe(t))return D.createElement(WP,r);break;default:return null}}function GVe(e){return x.isValidElement(e)?e.props:e}function YVe(e){var t=e.option,r=e.shapeType,s=e.propTransformer,a=s===void 0?HVe:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=VVe(e,BVe),d;if(x.isValidElement(t))d=x.cloneElement(t,db(db({},c),GVe(t)));else if(vt(t))d=t(c);else if(NVe(t)&&!EVe(t)){var u=a(t,c);d=D.createElement(b$,{shapeType:r,elementProps:u})}else{var h=c;d=D.createElement(b$,{shapeType:r,elementProps:h})}return l?D.createElement(Pr,{className:o},d):d}function jw(e,t){return t!=null&&"trapezoids"in e.props}function ww(e,t){return t!=null&&"sectors"in e.props}function vx(e,t){return t!=null&&"points"in e.props}function XVe(e,t){var r,s,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return a&&i}function QVe(e,t){var r=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return r&&s}function ZVe(e,t){var r=e.x===t.x,s=e.y===t.y,a=e.z===t.z;return r&&s&&a}function JVe(e,t){var r;return jw(e,t)?r=XVe:ww(e,t)?r=QVe:vx(e,t)&&(r=ZVe),r}function e7e(e,t){var r;return jw(e,t)?r="trapezoids":ww(e,t)?r="sectors":vx(e,t)&&(r="points"),r}function t7e(e,t){if(jw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ww(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return vx(e,t)?t.payload:{}}function r7e(e){var t=e.activeTooltipItem,r=e.graphicalItem,s=e.itemData,a=e7e(r,t),i=t7e(r,t),o=s.filter(function(c,d){var u=rx(i,c),h=r.props[a].filter(function(p){var g=JVe(r,t);return g(p,t)}),m=r.props[a].indexOf(h[h.length-1]),f=d===m;return u&&f}),l=s.indexOf(o[o.length-1]);return l}var n7e=Math.ceil,s7e=Math.max;function a7e(e,t,r,s){for(var a=-1,i=s7e(n7e((t-e)/(r||1)),0),o=Array(i);i--;)o[s?i:++a]=e,e+=r;return o}var i7e=a7e,o7e=UK,j$=1/0,l7e=17976931348623157e292;function c7e(e){if(!e)return e===0?e:0;if(e=o7e(e),e===j$||e===-j$){var t=e<0?-1:1;return t*l7e}return e===e?e:0}var d7e=c7e,u7e=i7e,h7e=dw,GN=d7e;function m7e(e){return function(t,r,s){return s&&typeof s!="number"&&h7e(t,r,s)&&(r=s=void 0),t=GN(t),r===void 0?(r=t,t=0):r=GN(r),s=s===void 0?t<r?1:-1:GN(s),u7e(t,r,s,e)}}var f7e=m7e,p7e=f7e,x7e=p7e(),g7e=x7e;const ub=ar(g7e);function bx(e){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bx(e)}function w$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function N$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w$(Object(r),!0).forEach(function(s){hY(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function hY(e,t,r){return t=y7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y7e(e){var t=v7e(e,"string");return bx(t)=="symbol"?t:t+""}function v7e(e,t){if(bx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(bx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b7e=["Webkit","Moz","O","ms"],j7e=function(t,r){var s=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=b7e.reduce(function(i,o){return N$(N$({},i),{},hY({},o+s,r))},{});return a[t]=r,a};function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},hb.apply(this,arguments)}function _$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function YN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_$(Object(r),!0).forEach(function(s){Es(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function w7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,fY(s.key),s)}}function N7e(e,t,r){return t&&S$(e.prototype,t),r&&S$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _7e(e,t,r){return t=mb(t),S7e(e,mY()?Reflect.construct(t,r||[],mb(e).constructor):t.apply(e,r))}function S7e(e,t){if(t&&(qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C7e(e)}function C7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mY=function(){return!!e})()}function mb(e){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mb(e)}function k7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zC(e,t)}function zC(e,t){return zC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},zC(e,t)}function Es(e,t,r){return t=fY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fY(e){var t=T7e(e,"string");return qh(t)=="symbol"?t:t+""}function T7e(e,t){if(qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(qh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E7e=function(t){var r=t.data,s=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Gf().domain(ub(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:u}},C$=function(t){return t.changedTouches&&!!t.changedTouches.length},Hh=function(e){function t(r){var s;return w7e(this,t),s=_7e(this,t,[r]),Es(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),Es(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),Es(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),Es(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),Es(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),Es(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),Es(s,"handleSlideDragStart",function(a){var i=C$(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return k7e(t,e),N7e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(a,i),m=Math.max(a,i),f=t.getIndexInRange(o,h),p=t.getIndexInRange(o,m);return{startIndex:f-f%c,endIndex:p===u?u:p-p%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=qs(i[s],l,s);return vt(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,m=c.startIndex,f=c.endIndex,p=c.onChange,g=s.pageX-i;g>0?g=Math.min(g,d+u-h-l,d+u-h-o):g<0&&(g=Math.max(g,d-o,d-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==m||v.endIndex!==f)&&p&&p(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=C$(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,h=u.x,m=u.width,f=u.travellerWidth,p=u.onChange,g=u.gap,v=u.data,j={startX:this.state.startX,endX:this.state.endX},y=s.pageX-i;y>0?y=Math.min(y,h+m-f-d):y<0&&(y=Math.max(y,h-d)),j[o]=d+y;var b=this.getIndex(j),w=b.startIndex,N=b.endIndex,_=function(){var S=v.length-1;return o==="startX"&&(l>c?w%g===0:N%g===0)||l<c&&N===S||o==="endX"&&(l>c?N%g===0:w%g===0)||l>c&&N===S};this.setState(Es(Es({},o,d+y),"brushMoveStartX",s.pageX),function(){p&&_()&&p(b)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],h=l.indexOf(u);if(h!==-1){var m=h+s;if(!(m===-1||m>=l.length)){var f=l[m];a==="startX"&&f>=d||a==="endX"&&f<=c||this.setState(Es({},a,f),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return D.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,u=s.padding,h=x.Children.only(d);return h?D.cloneElement(h,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,m=c.traveller,f=c.ariaLabel,p=c.data,g=c.startIndex,v=c.endIndex,j=Math.max(s,this.props.x),y=YN(YN({},Ct(this.props,!1)),{},{x:j,y:d,width:u,height:h}),b=f||"Min value: ".concat((i=p[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=p[v])===null||o===void 0?void 0:o.name);return D.createElement(Pr,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,y))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(s,a)+d,h=Math.max(Math.abs(a-s)-d,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,u=this.state,h=u.startX,m=u.endX,f=5,p={pointerEvents:"none",fill:d};return D.createElement(Pr,{className:"recharts-brush-texts"},D.createElement(z0,hb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-f,y:o+l/2},p),this.getTextOfTick(a)),D.createElement(z0,hb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+c+f,y:o+l/2},p),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,u=s.height,h=s.alwaysShowText,m=this.state,f=m.startX,p=m.endX,g=m.isTextActive,v=m.isSlideMoving,j=m.isTravellerMoving,y=m.isTravellerFocused;if(!a||!a.length||!Ne(l)||!Ne(c)||!Ne(d)||!Ne(u)||d<=0||u<=0)return null;var b=Ot("recharts-brush",i),w=D.Children.count(o)===1,N=j7e("userSelect","none");return D.createElement(Pr,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(f,p),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(p,"endX"),(g||v||j||y||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),D.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return D.isValidElement(s)?i=D.cloneElement(s,a):vt(s)?i=s(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,u=s.startIndex,h=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return YN({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?E7e({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])}(x.PureComponent);Es(Hh,"displayName","Brush");Es(Hh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var P7e=ZP;function A7e(e,t){var r;return P7e(e,function(s,a,i){return r=t(s,a,i),!r}),!!r}var O7e=A7e,M7e=gK,R7e=Dm,I7e=O7e,D7e=Cs,$7e=dw;function L7e(e,t,r){var s=D7e(e)?M7e:I7e;return r&&$7e(e,t,r)&&(t=void 0),s(e,R7e(t))}var F7e=L7e;const B7e=ar(F7e);var Ri=function(t,r){var s=t.alwaysShow,a=t.ifOverflow;return s&&(a="extendDomain"),a===r},k$=LK;function V7e(e,t,r){t=="__proto__"&&k$?k$(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var z7e=V7e,U7e=z7e,W7e=DK,q7e=Dm;function H7e(e,t){var r={};return t=q7e(t),W7e(e,function(s,a,i){U7e(r,a,t(s,a,i))}),r}var K7e=H7e;const G7e=ar(K7e);function Y7e(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(!t(e[r],r,e))return!1;return!0}var X7e=Y7e,Q7e=ZP;function Z7e(e,t){var r=!0;return Q7e(e,function(s,a,i){return r=!!t(s,a,i),r}),r}var J7e=Z7e,eze=X7e,tze=J7e,rze=Dm,nze=Cs,sze=dw;function aze(e,t,r){var s=nze(e)?eze:tze;return r&&sze(e,t,r)&&(t=void 0),s(e,rze(t))}var ize=aze;const oze=ar(ize);var lze=["x","y"];function jx(e){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jx(e)}function UC(){return UC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},UC.apply(this,arguments)}function T$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function mf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T$(Object(r),!0).forEach(function(s){cze(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function cze(e,t,r){return t=dze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dze(e){var t=uze(e,"string");return jx(t)=="symbol"?t:t+""}function uze(e,t){if(jx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(jx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hze(e,t){if(e==null)return{};var r=mze(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function mze(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function fze(e,t){var r=e.x,s=e.y,a=hze(e,lze),i="".concat(r),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),h="".concat(t.width||a.width),m=parseInt(h,10);return mf(mf(mf(mf(mf({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:m,name:t.name,radius:t.radius})}function E$(e){return D.createElement(YVe,UC({shapeType:"rectangle",propTransformer:fze,activeClassName:"recharts-active-bar"},e))}var pze=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof t=="number")return t;var i=Ne(s)||ETe(s);return i?t(s,a):(i||Cd(),r)}},xze=["value","background"],pY;function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function gze(e,t){if(e==null)return{};var r=yze(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function yze(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},fb.apply(this,arguments)}function P$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P$(Object(r),!0).forEach(function(s){jl(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function vze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,gY(s.key),s)}}function bze(e,t,r){return t&&A$(e.prototype,t),r&&A$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jze(e,t,r){return t=pb(t),wze(e,xY()?Reflect.construct(t,r||[],pb(e).constructor):t.apply(e,r))}function wze(e,t){if(t&&(Kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nze(e)}function Nze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xY=function(){return!!e})()}function pb(e){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pb(e)}function _ze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WC(e,t)}function WC(e,t){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},WC(e,t)}function jl(e,t,r){return t=gY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gY(e){var t=Sze(e,"string");return Kh(t)=="symbol"?t:t+""}function Sze(e,t){if(Kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Kh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ng=function(e){function t(){var r;vze(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=jze(this,t,[].concat(a)),jl(r,"state",{isAnimationFinished:!1}),jl(r,"id",yg("recharts-bar-")),jl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),jl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return _ze(t,e),bze(t,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Ct(this.props,!1);return s&&s.map(function(h,m){var f=m===c,p=f?d:o,g=tn(tn(tn({},u),h),{},{isActive:f,option:p,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return D.createElement(Pr,fb({className:"recharts-bar-rectangle"},T0(a.props,h,m),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(m)}),D.createElement(E$,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,h=a.animationId,m=this.state.prevData;return D.createElement(Oo,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var p=f.t,g=i.map(function(v,j){var y=m&&m[j];if(y){var b=sa(y.x,v.x),w=sa(y.y,v.y),N=sa(y.width,v.width),_=sa(y.height,v.height);return tn(tn({},v),{},{x:b(p),y:w(p),width:N(p),height:_(p)})}if(o==="horizontal"){var C=sa(0,v.height),S=C(p);return tn(tn({},v),{},{y:v.y+v.height-S,height:S})}var k=sa(0,v.width),E=k(p);return tn(tn({},v),{},{width:E})});return D.createElement(Pr,null,s.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!rx(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Ct(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,m=gze(d,xze);if(!h)return null;var f=tn(tn(tn(tn(tn({},m),{},{fill:"#eee"},h),c),T0(s.props,d,u)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return D.createElement(E$,fb({key:"background-bar-".concat(u),option:s.props.background,isActive:u===l},f))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=Ga(u,bw);if(!h)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,f=function(v,j){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:qs(v,j)}},p={clipPath:s?"url(#clipPath-".concat(a,")"):null};return D.createElement(Pr,p,h.map(function(g){return D.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:f})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,u=s.top,h=s.width,m=s.height,f=s.isAnimationActive,p=s.background,g=s.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,j=Ot("recharts-bar",o),y=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,w=y||b,N=kt(g)?this.id:g;return D.createElement(Pr,{className:j},y||b?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(N)},D.createElement("rect",{x:y?d:d-h/2,y:b?u:u-m/2,width:y?h:h*2,height:b?m:m*2}))):null,D.createElement(Pr,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(N,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,N),(!f||v)&&Il.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])}(x.PureComponent);pY=Ng;jl(Ng,"displayName","Bar");jl(Ng,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!po.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});jl(Ng,"getComposedData",function(e){var t=e.props,r=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,m=e.offset,f=J6e(s,r);if(!f)return null;var p=t.layout,g=r.type.defaultProps,v=g!==void 0?tn(tn({},g),r.props):r.props,j=v.dataKey,y=v.children,b=v.minPointSize,w=p==="horizontal"?o:i,N=d?w.scale.domain():null,_=oBe({numericAxis:w}),C=Ga(y,HK),S=h.map(function(k,E){var T,A,B,R,L,V;d?T=eBe(d[u+E],N):(T=qs(k,j),Array.isArray(T)||(T=[_,T]));var O=pze(b,pY.defaultProps.minPointSize)(T[1],E);if(p==="horizontal"){var P,I=[o.scale(T[0]),o.scale(T[1])],G=I[0],re=I[1];A=P3({axis:i,ticks:l,bandSize:a,offset:f.offset,entry:k,index:E}),B=(P=re??G)!==null&&P!==void 0?P:void 0,R=f.size;var X=G-re;if(L=Number.isNaN(X)?0:X,V={x:A,y:o.y,width:R,height:o.height},Math.abs(O)>0&&Math.abs(L)<Math.abs(O)){var W=qa(L||O)*(Math.abs(O)-Math.abs(L));B-=W,L+=W}}else{var oe=[i.scale(T[0]),i.scale(T[1])],je=oe[0],$e=oe[1];if(A=je,B=P3({axis:o,ticks:c,bandSize:a,offset:f.offset,entry:k,index:E}),R=$e-je,L=f.size,V={x:i.x,y:B,width:i.width,height:L},Math.abs(O)>0&&Math.abs(R)<Math.abs(O)){var se=qa(R||O)*(Math.abs(O)-Math.abs(R));R+=se}}return tn(tn(tn({},k),{},{x:A,y:B,width:R,height:L,value:d?T:T[1],payload:k,background:V},C&&C[E]&&C[E].props),{},{tooltipPayload:[QG(r,k)],tooltipPosition:{x:A+R/2,y:B+L/2}})});return tn({data:S,layout:p},m)});function wx(e){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wx(e)}function Cze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,yY(s.key),s)}}function kze(e,t,r){return t&&O$(e.prototype,t),r&&O$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function M$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M$(Object(r),!0).forEach(function(s){Nw(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Nw(e,t,r){return t=yY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yY(e){var t=Tze(e,"string");return wx(t)=="symbol"?t:t+""}function Tze(e,t){if(wx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(wx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eze=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),h={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},m=!!As(d,Ng);return u.reduce(function(f,p){var g=r[p],v=g.orientation,j=g.domain,y=g.padding,b=y===void 0?{}:y,w=g.mirror,N=g.reversed,_="".concat(v).concat(w?"Mirror":""),C,S,k,E,T;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var A=j[1]-j[0],B=1/0,R=g.categoricalDomain.sort(OTe);if(R.forEach(function(oe,je){je>0&&(B=Math.min((oe||0)-(R[je-1]||0),B))}),Number.isFinite(B)){var L=B/A,V=g.layout==="vertical"?s.height:s.width;if(g.padding==="gap"&&(C=L*V/2),g.padding==="no-gap"){var O=_d(t.barCategoryGap,L*V),P=L*V/2;C=P-O-(P-O)/V*O}}}a==="xAxis"?S=[s.left+(b.left||0)+(C||0),s.left+s.width-(b.right||0)-(C||0)]:a==="yAxis"?S=c==="horizontal"?[s.top+s.height-(b.bottom||0),s.top+(b.top||0)]:[s.top+(b.top||0)+(C||0),s.top+s.height-(b.bottom||0)-(C||0)]:S=g.range,N&&(S=[S[1],S[0]]);var I=Q6e(g,i,m),G=I.scale,re=I.realScaleType;G.domain(j).range(S),Z6e(G);var X=iBe(G,La(La({},g),{},{realScaleType:re}));a==="xAxis"?(T=v==="top"&&!w||v==="bottom"&&w,k=s.left,E=h[_]-T*g.height):a==="yAxis"&&(T=v==="left"&&!w||v==="right"&&w,k=h[_]-T*g.width,E=s.top);var W=La(La(La({},g),X),{},{realScaleType:re,x:k,y:E,scale:G,width:a==="xAxis"?s.width:g.width,height:a==="yAxis"?s.height:g.height});return W.bandSize=rb(W,X),!g.hide&&a==="xAxis"?h[_]+=(T?-1:1)*W.height:g.hide||(h[_]+=(T?-1:1)*W.width),La(La({},f),{},Nw({},p,W))},{})},vY=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},Pze=function(t){var r=t.x1,s=t.y1,a=t.x2,i=t.y2;return vY({x:r,y:s},{x:a,y:i})},bY=function(){function e(t){Cze(this,e),this.scale=t}return kze(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Nw(bY,"EPS",1e-4);var TA=function(t){var r=Object.keys(t).reduce(function(s,a){return La(La({},s),{},Nw({},a,bY.create(t[a])))},{});return La(La({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return G7e(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return oze(a,function(i,o){return r[o].isInRange(i)})}})};function Aze(e){return(e%180+180)%180}var Oze=function(t){var r=t.width,s=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Aze(a),o=i*Math.PI/180,l=Math.atan(s/r),c=o>l&&o<Math.PI-l?s/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Mze=Mke(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),jY=x.createContext(void 0),wY=x.createContext(void 0),NY=x.createContext(void 0),Rze=x.createContext({}),_Y=x.createContext(void 0),SY=x.createContext(0),CY=x.createContext(0),R$=function(t){var r=t.state,s=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=Mze(i);return D.createElement(jY.Provider,{value:s},D.createElement(wY.Provider,{value:a},D.createElement(Rze.Provider,{value:i},D.createElement(NY.Provider,{value:u},D.createElement(_Y.Provider,{value:o},D.createElement(SY.Provider,{value:d},D.createElement(CY.Provider,{value:c},l)))))))},Ize=function(){return x.useContext(_Y)},kY=function(t){var r=x.useContext(jY);r==null&&Cd();var s=r[t];return s==null&&Cd(),s},TY=function(t){var r=x.useContext(wY);r==null&&Cd();var s=r[t];return s==null&&Cd(),s},Dze=function(){var t=x.useContext(NY);return t},EY=function(){return x.useContext(CY)},PY=function(){return x.useContext(SY)};function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function $ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lze(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,OY(s.key),s)}}function Fze(e,t,r){return t&&Lze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bze(e,t,r){return t=xb(t),Vze(e,AY()?Reflect.construct(t,r||[],xb(e).constructor):t.apply(e,r))}function Vze(e,t){if(t&&(Gh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zze(e)}function zze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AY=function(){return!!e})()}function xb(e){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xb(e)}function Uze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qC(e,t)}function qC(e,t){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},qC(e,t)}function I$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function D$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I$(Object(r),!0).forEach(function(s){EA(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function EA(e,t,r){return t=OY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OY(e){var t=Wze(e,"string");return Gh(t)=="symbol"?t:t+""}function Wze(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Gh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qze(e,t){return Yze(e)||Gze(e,t)||Kze(e,t)||Hze()}function Hze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kze(e,t){if(e){if(typeof e=="string")return $$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $$(e,t)}}function $$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Gze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Yze(e){if(Array.isArray(e))return e}function HC(){return HC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},HC.apply(this,arguments)}var Xze=function(t,r){var s;return D.isValidElement(t)?s=D.cloneElement(t,r):vt(t)?s=t(r):s=D.createElement("line",HC({},r,{className:"recharts-reference-line-line"})),s},Qze=function(t,r,s,a,i,o,l,c,d){var u=i.x,h=i.y,m=i.width,f=i.height;if(s){var p=d.y,g=t.y.apply(p,{position:o});if(Ri(d,"discard")&&!t.y.isInRange(g))return null;var v=[{x:u+m,y:g},{x:u,y:g}];return c==="left"?v.reverse():v}if(r){var j=d.x,y=t.x.apply(j,{position:o});if(Ri(d,"discard")&&!t.x.isInRange(y))return null;var b=[{x:y,y:h+f},{x:y,y:h}];return l==="top"?b.reverse():b}if(a){var w=d.segment,N=w.map(function(_){return t.apply(_,{position:o})});return Ri(d,"discard")&&B7e(N,function(_){return!t.isInRange(_)})?null:N}return null};function Zze(e){var t=e.x,r=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=Ize(),u=kY(a),h=TY(i),m=Dze();if(!d||!m)return null;nd(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=TA({x:u.scale,y:h.scale}),p=jn(t),g=jn(r),v=s&&s.length===2,j=Qze(f,p,g,v,m,e.position,u.orientation,h.orientation,e);if(!j)return null;var y=qze(j,2),b=y[0],w=b.x,N=b.y,_=y[1],C=_.x,S=_.y,k=Ri(e,"hidden")?"url(#".concat(d,")"):void 0,E=D$(D$({clipPath:k},Ct(e,!0)),{},{x1:w,y1:N,x2:C,y2:S});return D.createElement(Pr,{className:Ot("recharts-reference-line",l)},Xze(o,E),Un.renderCallByParent(e,Pze({x1:w,y1:N,x2:C,y2:S})))}var PA=function(e){function t(){return $ze(this,t),Bze(this,t,arguments)}return Uze(t,e),Fze(t,[{key:"render",value:function(){return D.createElement(Zze,this.props)}}])}(D.Component);EA(PA,"displayName","ReferenceLine");EA(PA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function KC(){return KC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},KC.apply(this,arguments)}function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function L$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function F$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L$(Object(r),!0).forEach(function(s){_w(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Jze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eUe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,RY(s.key),s)}}function tUe(e,t,r){return t&&eUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rUe(e,t,r){return t=gb(t),nUe(e,MY()?Reflect.construct(t,r||[],gb(e).constructor):t.apply(e,r))}function nUe(e,t){if(t&&(Yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sUe(e)}function sUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MY=function(){return!!e})()}function gb(e){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gb(e)}function aUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GC(e,t)}function GC(e,t){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},GC(e,t)}function _w(e,t,r){return t=RY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RY(e){var t=iUe(e,"string");return Yh(t)=="symbol"?t:t+""}function iUe(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Yh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oUe=function(t){var r=t.x,s=t.y,a=t.xAxis,i=t.yAxis,o=TA({x:a.scale,y:i.scale}),l=o.apply({x:r,y:s},{bandAware:!0});return Ri(t,"discard")&&!o.isInRange(l)?null:l},Sw=function(e){function t(){return Jze(this,t),rUe(this,t,arguments)}return aUe(t,e),tUe(t,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=jn(a),u=jn(i);if(nd(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=oUe(this.props);if(!h)return null;var m=h.x,f=h.y,p=this.props,g=p.shape,v=p.className,j=Ri(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=F$(F$({clipPath:j},Ct(this.props,!0)),{},{cx:m,cy:f});return D.createElement(Pr,{className:Ot("recharts-reference-dot",v)},t.renderDot(g,y),Un.renderCallByParent(this.props,{x:m-o,y:f-o,width:2*o,height:2*o}))}}])}(D.Component);_w(Sw,"displayName","ReferenceDot");_w(Sw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_w(Sw,"renderDot",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):vt(e)?r=e(t):r=D.createElement(kA,KC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function YC(){return YC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},YC.apply(this,arguments)}function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function B$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function V$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B$(Object(r),!0).forEach(function(s){Cw(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function lUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cUe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,DY(s.key),s)}}function dUe(e,t,r){return t&&cUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uUe(e,t,r){return t=yb(t),hUe(e,IY()?Reflect.construct(t,r||[],yb(e).constructor):t.apply(e,r))}function hUe(e,t){if(t&&(Xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mUe(e)}function mUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IY=function(){return!!e})()}function yb(e){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yb(e)}function fUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XC(e,t)}function XC(e,t){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},XC(e,t)}function Cw(e,t,r){return t=DY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DY(e){var t=pUe(e,"string");return Xh(t)=="symbol"?t:t+""}function pUe(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Xh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xUe=function(t,r,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var m=TA({x:u.scale,y:h.scale}),f={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:s?m.y.apply(c,{position:"start"}):m.y.rangeMin},p={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(d,{position:"end"}):m.y.rangeMax};return Ri(i,"discard")&&(!m.isInRange(f)||!m.isInRange(p))?null:vY(f,p)},kw=function(e){function t(){return lUe(this,t),uUe(this,t,arguments)}return fUe(t,e),dUe(t,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,u=s.clipPathId;nd(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=jn(a),m=jn(i),f=jn(o),p=jn(l),g=this.props.shape;if(!h&&!m&&!f&&!p&&!g)return null;var v=xUe(h,m,f,p,this.props);if(!v&&!g)return null;var j=Ri(this.props,"hidden")?"url(#".concat(u,")"):void 0;return D.createElement(Pr,{className:Ot("recharts-reference-area",c)},t.renderRect(g,V$(V$({clipPath:j},Ct(this.props,!0)),v)),Un.renderCallByParent(this.props,v))}}])}(D.Component);Cw(kw,"displayName","ReferenceArea");Cw(kw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Cw(kw,"renderRect",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):vt(e)?r=e(t):r=D.createElement(CA,YC({},t,{className:"recharts-reference-area-rect"})),r});function $Y(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function gUe(e,t,r){var s={width:e.width+t.width,height:e.height+t.height};return Oze(s,r)}function yUe(e,t,r){var s=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function vb(e,t,r,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function vUe(e,t){return $Y(e,t+1)}function bUe(e,t,r,s,a){for(var i=(s||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,h=function(){var p=s==null?void 0:s[c];if(p===void 0)return{v:$Y(s,d)};var g=c,v,j=function(){return v===void 0&&(v=r(p,g)),v},y=p.coordinate,b=c===0||vb(e,y,j,u,l);b||(c=0,u=o,d+=1),b&&(u=y+e*(j()/2+a),c+=d)},m;d<=i.length;)if(m=h(),m)return m.v;return[]}function Nx(e){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nx(e)}function z$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z$(Object(r),!0).forEach(function(s){jUe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function jUe(e,t,r){return t=wUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wUe(e){var t=NUe(e,"string");return Nx(t)=="symbol"?t:t+""}function NUe(e,t){if(Nx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Nx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Ue(e,t,r,s,a){for(var i=(s||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(m){var f=i[m],p,g=function(){return p===void 0&&(p=r(f,m)),p};if(m===o-1){var v=e*(f.coordinate+e*g()/2-c);i[m]=f=Vn(Vn({},f),{},{tickCoord:v>0?f.coordinate-v*e:f.coordinate})}else i[m]=f=Vn(Vn({},f),{},{tickCoord:f.coordinate});var j=vb(e,f.tickCoord,g,l,c);j&&(c=f.tickCoord-e*(g()/2+a),i[m]=Vn(Vn({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function SUe(e,t,r,s,a,i){var o=(s||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=s[l-1],h=r(u,l-1),m=e*(u.coordinate+e*h/2-d);o[l-1]=u=Vn(Vn({},u),{},{tickCoord:m>0?u.coordinate-m*e:u.coordinate});var f=vb(e,u.tickCoord,function(){return h},c,d);f&&(d=u.tickCoord-e*(h/2+a),o[l-1]=Vn(Vn({},u),{},{isShow:!0}))}for(var p=i?l-1:l,g=function(y){var b=o[y],w,N=function(){return w===void 0&&(w=r(b,y)),w};if(y===0){var _=e*(b.coordinate-e*N()/2-c);o[y]=b=Vn(Vn({},b),{},{tickCoord:_<0?b.coordinate-_*e:b.coordinate})}else o[y]=b=Vn(Vn({},b),{},{tickCoord:b.coordinate});var C=vb(e,b.tickCoord,N,c,d);C&&(c=b.tickCoord+e*(N()/2+a),o[y]=Vn(Vn({},b),{},{isShow:!0}))},v=0;v<p;v++)g(v);return o}function CUe(e,t,r){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,h=e.angle;if(!a||!a.length||!s)return[];if(Ne(c)||po.isSsr)return vUe(a,typeof c=="number"&&Ne(c)?c:0);var m=[],f=l==="top"||l==="bottom"?"width":"height",p=u&&f==="width"?Kf(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(b,w){var N=vt(d)?d(b.value,w):b.value;return f==="width"?gUe(Kf(N,{fontSize:t,letterSpacing:r}),p,h):Kf(N,{fontSize:t,letterSpacing:r})[f]},v=a.length>=2?qa(a[1].coordinate-a[0].coordinate):1,j=yUe(i,v,f);return c==="equidistantPreserveStart"?bUe(v,j,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=SUe(v,j,g,a,o,c==="preserveStartEnd"):m=_Ue(v,j,g,a,o),m.filter(function(y){return y.isShow}))}var kUe=["viewBox"],TUe=["viewBox"],EUe=["ticks"];function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Mu.apply(this,arguments)}function U$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U$(Object(r),!0).forEach(function(s){AA(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function XN(e,t){if(e==null)return{};var r=PUe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function PUe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function AUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,FY(s.key),s)}}function OUe(e,t,r){return t&&W$(e.prototype,t),r&&W$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MUe(e,t,r){return t=bb(t),RUe(e,LY()?Reflect.construct(t,r||[],bb(e).constructor):t.apply(e,r))}function RUe(e,t){if(t&&(Qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IUe(e)}function IUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LY=function(){return!!e})()}function bb(e){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bb(e)}function DUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QC(e,t)}function QC(e,t){return QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},QC(e,t)}function AA(e,t,r){return t=FY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FY(e){var t=$Ue(e,"string");return Qh(t)=="symbol"?t:t+""}function $Ue(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Qh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tw=function(e){function t(r){var s;return AUe(this,t),s=MUe(this,t,[r]),s.state={fontSize:"",letterSpacing:""},s}return DUe(t,e),OUe(t,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=XN(s,kUe),l=this.props,c=l.viewBox,d=XN(l,TUe);return!Yu(i,c)||!Yu(o,d)||!Yu(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,h=a.mirror,m=a.tickMargin,f,p,g,v,j,y,b=h?-1:1,w=s.tickSize||u,N=Ne(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":f=p=s.coordinate,v=o+ +!h*c,g=v-b*w,y=g-b*m,j=N;break;case"left":g=v=s.coordinate,p=i+ +!h*l,f=p-b*w,j=f-b*m,y=N;break;case"right":g=v=s.coordinate,p=i+ +h*l,f=p+b*w,j=f+b*m,y=N;break;default:f=p=s.coordinate,v=o+ +h*c,g=v+b*w,y=g+b*m,j=N;break}return{line:{x1:f,y1:g,x2:p,y2:v},tick:{x:j,y}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,u=s.axisLine,h=hn(hn(hn({},Ct(this.props,!1)),Ct(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);h=hn(hn({},h),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var f=+(c==="left"&&!d||c==="right"&&d);h=hn(hn({},h),{},{x1:a+f*o,y1:i,x2:a+f*o,y2:i+l})}return D.createElement("line",Mu({},h,{className:Ot("recharts-cartesian-axis-line",ma(u,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,m=l.unit,f=CUe(hn(hn({},this.props),{},{ticks:s}),a,i),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Ct(this.props,!1),j=Ct(u,!1),y=hn(hn({},v),{},{fill:"none"},Ct(c,!1)),b=f.map(function(w,N){var _=o.getTickLineCoord(w),C=_.line,S=_.tick,k=hn(hn(hn(hn({textAnchor:p,verticalAnchor:g},v),{},{stroke:"none",fill:d},j),S),{},{index:N,payload:w,visibleTicksCount:f.length,tickFormatter:h});return D.createElement(Pr,Mu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},T0(o.props,w,N)),c&&D.createElement("line",Mu({},y,C,{className:Ot("recharts-cartesian-axis-tick-line",ma(c,"className"))})),u&&t.renderTickItem(u,k,"".concat(vt(h)?h(w.value,N):w.value).concat(m||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var h=this.props,m=h.ticks,f=XN(h,EUe),p=m;return vt(c)&&(p=m&&m.length>0?c(this.props):c(f)),o<=0||l<=0||!p||!p.length?null:D.createElement(Pr,{className:Ot("recharts-cartesian-axis",d),ref:function(v){s.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),Un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,l=Ot(a.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(s)?o=D.cloneElement(s,hn(hn({},a),{},{className:l})):vt(s)?o=s(hn(hn({},a),{},{className:l})):o=D.createElement(z0,Mu({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(x.Component);AA(Tw,"displayName","CartesianAxis");AA(Tw,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var LUe=["layout","type","stroke","connectNulls","isRange","ref"],FUe=["key"],BY;function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function VY(e,t){if(e==null)return{};var r=BUe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function BUe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Vc.apply(this,arguments)}function q$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q$(Object(r),!0).forEach(function(s){bi(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function VUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,UY(s.key),s)}}function zUe(e,t,r){return t&&H$(e.prototype,t),r&&H$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UUe(e,t,r){return t=jb(t),WUe(e,zY()?Reflect.construct(t,r||[],jb(e).constructor):t.apply(e,r))}function WUe(e,t){if(t&&(Zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qUe(e)}function qUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zY=function(){return!!e})()}function jb(e){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jb(e)}function HUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZC(e,t)}function ZC(e,t){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},ZC(e,t)}function bi(e,t,r){return t=UY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UY(e){var t=KUe(e,"string");return Zh(t)=="symbol"?t:t+""}function KUe(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Zh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ii=function(e){function t(){var r;VUe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=UUe(this,t,[].concat(a)),bi(r,"state",{isAnimationFinished:!0}),bi(r,"id",yg("recharts-area-")),bi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),vt(o)&&o()}),bi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),vt(o)&&o()}),r}return HUe(t,e),zUe(t,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,h=c.dataKey,m=Ct(this.props,!1),f=Ct(d,!0),p=u.map(function(v,j){var y=Xo(Xo(Xo({key:"dot-".concat(j),r:3},m),f),{},{index:j,cx:v.x,cy:v.y,dataKey:h,value:v.value,payload:v.payload,points:u});return t.renderDotItem(d,y)}),g={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return D.createElement(Pr,Vc({className:"recharts-area-dots"},g),p)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=s*Math.abs(c-d),h=bl(o.map(function(m){return m.y||0}));return Ne(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(bl(i.map(function(m){return m.y||0})),h)),Ne(h)?D.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=s*Math.abs(c-d),h=bl(o.map(function(m){return m.x||0}));return Ne(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(bl(i.map(function(m){return m.x||0})),h)),Ne(h)?D.createElement("rect",{x:0,y:c<d?c:c-u,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,h=l.connectNulls,m=l.isRange;l.ref;var f=VY(l,LUe);return D.createElement(Pr,{clipPath:i?"url(#clipPath-".concat(o,")"):null},D.createElement(Xf,Vc({},Ct(f,!0),{points:s,connectNulls:h,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&D.createElement(Xf,Vc({},Ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:s})),u!=="none"&&m&&D.createElement(Xf,Vc({},Ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,m=o.animationEasing,f=o.animationId,p=this.state,g=p.prevPoints,v=p.prevBaseLine;return D.createElement(Oo,{begin:u,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"area-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var y=j.t;if(g){var b=g.length/l.length,w=l.map(function(S,k){var E=Math.floor(k*b);if(g[E]){var T=g[E],A=sa(T.x,S.x),B=sa(T.y,S.y);return Xo(Xo({},S),{},{x:A(y),y:B(y)})}return S}),N;if(Ne(c)&&typeof c=="number"){var _=sa(v,c);N=_(y)}else if(kt(c)||Om(c)){var C=sa(v,0);N=C(y)}else N=c.map(function(S,k){var E=Math.floor(k*b);if(v[E]){var T=v[E],A=sa(T.x,S.x),B=sa(T.y,S.y);return Xo(Xo({},S),{},{x:A(y),y:B(y)})}return S});return i.renderAreaStatically(w,N,s,a)}return D.createElement(Pr,null,D.createElement("defs",null,D.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),D.createElement(Pr,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.prevBaseLine,m=d.totalLength;return c&&o&&o.length&&(!u&&m>0||!rx(u,o)||!rx(h,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,h=a.xAxis,m=a.yAxis,f=a.width,p=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,y=l.length===1,b=Ot("recharts-area",c),w=h&&h.allowDataOverflow,N=m&&m.allowDataOverflow,_=w||N,C=kt(v)?this.id:v,S=(s=Ct(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},k=S.r,E=k===void 0?3:k,T=S.strokeWidth,A=T===void 0?2:T,B=VTe(o)?o:{},R=B.clipDot,L=R===void 0?!0:R,V=E*2+A;return D.createElement(Pr,{className:b},w||N?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(C)},D.createElement("rect",{x:w?u:u-f/2,y:N?d:d-p/2,width:w?f:f*2,height:N?p:p*2})),!L&&D.createElement("clipPath",{id:"clipPath-dots-".concat(C)},D.createElement("rect",{x:u-V/2,y:d-V/2,width:f+V,height:p+V}))):null,y?null:this.renderArea(_,C),(o||y)&&this.renderDots(_,L,C),(!g||j)&&Il.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(x.PureComponent);BY=Ii;bi(Ii,"displayName","Area");bi(Ii,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!po.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});bi(Ii,"getBaseValue",function(e,t,r,s){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Ne(l)&&typeof l=="number")return l;var c=a==="horizontal"?s:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});bi(Ii,"getComposedData",function(e){var t=e.props,r=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,m=e.offset,f=t.layout,p=d&&d.length,g=BY.getBaseValue(t,r,s,a),v=f==="horizontal",j=!1,y=h.map(function(w,N){var _;p?_=d[u+N]:(_=qs(w,c),Array.isArray(_)?j=!0:_=[g,_]);var C=_[1]==null||p&&qs(w,c)==null;return v?{x:E3({axis:s,ticks:i,bandSize:l,entry:w,index:N}),y:C?null:a.scale(_[1]),value:_,payload:w}:{x:C?null:s.scale(_[1]),y:E3({axis:a,ticks:o,bandSize:l,entry:w,index:N}),value:_,payload:w}}),b;return p||j?b=y.map(function(w){var N=Array.isArray(w.value)?w.value[0]:null;return v?{x:w.x,y:N!=null&&w.y!=null?a.scale(N):null}:{x:N!=null?s.scale(N):null,y:w.y}}):b=v?a.scale(g):s.scale(g),Xo({points:y,baseLine:b,layout:f,isRange:j},m)});bi(Ii,"renderDotItem",function(e,t){var r;if(D.isValidElement(e))r=D.cloneElement(e,t);else if(vt(e))r=e(t);else{var s=Ot("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=VY(t,FUe);r=D.createElement(kA,Vc({},i,{key:a,className:s}))}return r});function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function GUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YUe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,HY(s.key),s)}}function XUe(e,t,r){return t&&YUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QUe(e,t,r){return t=wb(t),ZUe(e,WY()?Reflect.construct(t,r||[],wb(e).constructor):t.apply(e,r))}function ZUe(e,t){if(t&&(Jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JUe(e)}function JUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WY=function(){return!!e})()}function wb(e){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(e)}function eWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JC(e,t)}function JC(e,t){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},JC(e,t)}function qY(e,t,r){return t=HY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HY(e){var t=tWe(e,"string");return Jh(t)=="symbol"?t:t+""}function tWe(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Jh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ek(){return ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ek.apply(this,arguments)}function rWe(e){var t=e.xAxisId,r=EY(),s=PY(),a=kY(t);return a==null?null:x.createElement(Tw,ek({},a,{className:Ot("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return Bc(o,!0)}}))}var Ew=function(e){function t(){return GUe(this,t),QUe(this,t,arguments)}return eWe(t,e),XUe(t,[{key:"render",value:function(){return x.createElement(rWe,this.props)}}])}(x.Component);qY(Ew,"displayName","XAxis");qY(Ew,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function nWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sWe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,YY(s.key),s)}}function aWe(e,t,r){return t&&sWe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iWe(e,t,r){return t=Nb(t),oWe(e,KY()?Reflect.construct(t,r||[],Nb(e).constructor):t.apply(e,r))}function oWe(e,t){if(t&&(em(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lWe(e)}function lWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KY=function(){return!!e})()}function Nb(e){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nb(e)}function cWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tk(e,t)}function tk(e,t){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},tk(e,t)}function GY(e,t,r){return t=YY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YY(e){var t=dWe(e,"string");return em(t)=="symbol"?t:t+""}function dWe(e,t){if(em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(em(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rk(){return rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},rk.apply(this,arguments)}var uWe=function(t){var r=t.yAxisId,s=EY(),a=PY(),i=TY(r);return i==null?null:x.createElement(Tw,rk({},i,{className:Ot("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return Bc(l,!0)}}))},Pw=function(e){function t(){return nWe(this,t),iWe(this,t,arguments)}return cWe(t,e),aWe(t,[{key:"render",value:function(){return x.createElement(uWe,this.props)}}])}(x.Component);GY(Pw,"displayName","YAxis");GY(Pw,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function K$(e){return pWe(e)||fWe(e)||mWe(e)||hWe()}function hWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mWe(e,t){if(e){if(typeof e=="string")return nk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nk(e,t)}}function fWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pWe(e){if(Array.isArray(e))return nk(e)}function nk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var sk=function(t,r,s,a,i){var o=Ga(t,PA),l=Ga(t,Sw),c=[].concat(K$(o),K$(l)),d=Ga(t,kw),u="".concat(a,"Id"),h=a[0],m=r;if(c.length&&(m=c.reduce(function(g,v){if(v.props[u]===s&&Ri(v.props,"extendDomain")&&Ne(v.props[h])){var j=v.props[h];return[Math.min(g[0],j),Math.max(g[1],j)]}return g},m)),d.length){var f="".concat(h,"1"),p="".concat(h,"2");m=d.reduce(function(g,v){if(v.props[u]===s&&Ri(v.props,"extendDomain")&&Ne(v.props[f])&&Ne(v.props[p])){var j=v.props[f],y=v.props[p];return[Math.min(g[0],j,y),Math.max(g[1],j,y)]}return g},m)}return i&&i.length&&(m=i.reduce(function(g,v){return Ne(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},m)),m},XY={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new a(u,h||c,m),p=r?r+d:d;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)t.call(u,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,f=h.length,p=new Array(f);m<f;m++)p[m]=h[m].fn;return p},l.prototype.listenerCount=function(d){var u=r?r+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,m,f,p){var g=r?r+d:d;if(!this._events[g])return!1;var v=this._events[g],j=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),j){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,m),!0;case 5:return v.fn.call(v.context,u,h,m,f),!0;case 6:return v.fn.call(v.context,u,h,m,f,p),!0}for(b=1,y=new Array(j-1);b<j;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var w=v.length,N;for(b=0;b<w;b++)switch(v[b].once&&this.removeListener(d,v[b].fn,void 0,!0),j){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,u);break;case 3:v[b].fn.call(v[b].context,u,h);break;case 4:v[b].fn.call(v[b].context,u,h,m);break;default:if(!y)for(N=1,y=new Array(j-1);N<j;N++)y[N-1]=arguments[N];v[b].fn.apply(v[b].context,y)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,m){var f=r?r+d:d;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!m||p.once)&&(!h||p.context===h)&&o(this,f);else{for(var g=0,v=[],j=p.length;g<j;g++)(p[g].fn!==u||m&&!p[g].once||h&&p[g].context!==h)&&v.push(p[g]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(XY);var xWe=XY.exports;const gWe=ar(xWe);var QN=new gWe,ZN="recharts.syncMouseEvents";function _x(e){"@babel/helpers - typeof";return _x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_x(e)}function yWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vWe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,QY(s.key),s)}}function bWe(e,t,r){return t&&vWe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JN(e,t,r){return t=QY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QY(e){var t=jWe(e,"string");return _x(t)=="symbol"?t:t+""}function jWe(e,t){if(_x(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(_x(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wWe=function(){function e(){yWe(this,e),JN(this,"activeIndex",0),JN(this,"coordinateList",[]),JN(this,"layout","horizontal")}return bWe(e,[{key:"setDetails",value:function(r){var s,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,h=u===void 0?null:u,m=r.mouseHandlerCallback,f=m===void 0?null:m;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((s=window)===null||s===void 0?void 0:s.scrollY)||0,h=i+c+d,m=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])}();function NWe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],a=e==null?void 0:e[1];if(s&&a&&Ne(s)&&Ne(a))return!0}return!1}function _We(e,t,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?s:r.width-1,height:e==="horizontal"?r.height-1:s}}function ZY(e){var t=e.cx,r=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=Rn(t,r,s,a),l=Rn(t,r,s,i);return{points:[o,l],cx:t,cy:r,radius:s,startAngle:a,endAngle:i}}function SWe(e,t,r){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,s=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,h=t.angle,m=Rn(l,c,d,h),f=Rn(l,c,u,h);s=m.x,a=m.y,i=f.x,o=f.y}else return ZY(t);return[{x:s,y:a},{x:i,y:o}]}function Sx(e){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sx(e)}function G$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function My(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G$(Object(r),!0).forEach(function(s){CWe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function CWe(e,t,r){return t=kWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kWe(e){var t=TWe(e,"string");return Sx(t)=="symbol"?t:t+""}function TWe(e,t){if(Sx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Sx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EWe(e){var t,r,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,h=e.layout,m=e.chartName,f=(t=s.props.cursor)!==null&&t!==void 0?t:(r=s.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!s||!f||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var p,g=Xf;if(m==="ScatterChart")p=o,g=cVe;else if(m==="BarChart")p=_We(h,o,c,u),g=CA;else if(h==="radial"){var v=ZY(o),j=v.cx,y=v.cy,b=v.radius,w=v.startAngle,N=v.endAngle;p={cx:j,cy:y,startAngle:w,endAngle:N,innerRadius:b,outerRadius:b},g=eY}else p={points:SWe(h,o,c)},g=Xf;var _=My(My(My(My({stroke:"#ccc",pointerEvents:"none"},c),p),Ct(f,!1)),{},{payload:l,payloadIndex:d,className:Ot("recharts-tooltip-cursor",f.className)});return x.isValidElement(f)?x.cloneElement(f,_):x.createElement(g,_)}var PWe=["item"],AWe=["children","className","width","height","style","compact","title","desc"];function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ru.apply(this,arguments)}function Y$(e,t){return RWe(e)||MWe(e,t)||eX(e,t)||OWe()}function OWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MWe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function RWe(e){if(Array.isArray(e))return e}function X$(e,t){if(e==null)return{};var r=IWe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function IWe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function DWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $We(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,tX(s.key),s)}}function LWe(e,t,r){return t&&$We(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FWe(e,t,r){return t=_b(t),BWe(e,JY()?Reflect.construct(t,r||[],_b(e).constructor):t.apply(e,r))}function BWe(e,t){if(t&&(tm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VWe(e)}function VWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JY=function(){return!!e})()}function _b(e){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(e)}function zWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ak(e,t)}function ak(e,t){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},ak(e,t)}function rm(e){return qWe(e)||WWe(e)||eX(e)||UWe()}function UWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eX(e,t){if(e){if(typeof e=="string")return ik(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ik(e,t)}}function WWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qWe(e){if(Array.isArray(e))return ik(e)}function ik(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Q$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q$(Object(r),!0).forEach(function(s){tt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function tt(e,t,r){return t=tX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tX(e){var t=HWe(e,"string");return tm(t)=="symbol"?t:t+""}function HWe(e,t){if(tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(tm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KWe={xAxis:["bottom","top"],yAxis:["left","right"]},GWe={width:"100%",height:"100%"},rX={x:0,y:0};function Ry(e){return e}var YWe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},XWe=function(t,r,s,a){var i=r.find(function(u){return u&&u.index===s});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return ue(ue(ue({},a),Rn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return ue(ue(ue({},a),Rn(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return rX},Aw=function(t,r){var s=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(rm(l),rm(d)):l},[]);return o.length>0?o:t&&t.length&&Ne(a)&&Ne(i)?t.slice(a,i+1):[]};function nX(e){return e==="number"?[0,"auto"]:void 0}var ok=function(t,r,s,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Aw(r,t);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var f=h===void 0?l:h;m=C0(f,o.dataKey,a)}else m=h&&h[s]||l[s];return m?[].concat(rm(c),[QG(d,m)]):c},[])},Z$=function(t,r,s,a){var i=a||{x:t.chartX,y:t.chartY},o=YWe(i,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=q6e(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,m=ok(t,r,u,h),f=XWe(s,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:m,activeCoordinate:f}}return null},QWe=function(t,r){var s=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,h=t.children,m=t.stackOffset,f=YG(u,i);return s.reduce(function(p,g){var v,j=g.type.defaultProps!==void 0?ue(ue({},g.type.defaultProps),g.props):g.props,y=j.type,b=j.dataKey,w=j.allowDataOverflow,N=j.allowDuplicatedCategory,_=j.scale,C=j.ticks,S=j.includeHidden,k=j[o];if(p[k])return p;var E=Aw(t.data,{graphicalItems:a.filter(function(X){var W,oe=o in X.props?X.props[o]:(W=X.type.defaultProps)===null||W===void 0?void 0:W[o];return oe===k}),dataStartIndex:c,dataEndIndex:d}),T=E.length,A,B,R;NWe(j.domain,w,y)&&(A=CC(j.domain,null,w),f&&(y==="number"||_!=="auto")&&(R=Yf(E,b,"category")));var L=nX(y);if(!A||A.length===0){var V,O=(V=j.domain)!==null&&V!==void 0?V:L;if(b){if(A=Yf(E,b,y),y==="category"&&f){var P=ATe(A);N&&P?(B=A,A=ub(0,T)):N||(A=M3(O,A,g).reduce(function(X,W){return X.indexOf(W)>=0?X:[].concat(rm(X),[W])},[]))}else if(y==="category")N?A=A.filter(function(X){return X!==""&&!kt(X)}):A=M3(O,A,g).reduce(function(X,W){return X.indexOf(W)>=0||W===""||kt(W)?X:[].concat(rm(X),[W])},[]);else if(y==="number"){var I=X6e(E,a.filter(function(X){var W,oe,je=o in X.props?X.props[o]:(W=X.type.defaultProps)===null||W===void 0?void 0:W[o],$e="hide"in X.props?X.props.hide:(oe=X.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return je===k&&(S||!$e)}),b,i,u);I&&(A=I)}f&&(y==="number"||_!=="auto")&&(R=Yf(E,b,"category"))}else f?A=ub(0,T):l&&l[k]&&l[k].hasStack&&y==="number"?A=m==="expand"?[0,1]:XG(l[k].stackGroups,c,d):A=GG(E,a.filter(function(X){var W=o in X.props?X.props[o]:X.type.defaultProps[o],oe="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return W===k&&(S||!oe)}),y,u,!0);if(y==="number")A=sk(h,A,k,i,C),O&&(A=CC(O,A,w));else if(y==="category"&&O){var G=O,re=A.every(function(X){return G.indexOf(X)>=0});re&&(A=G)}}return ue(ue({},p),{},tt({},k,ue(ue({},j),{},{axisType:i,domain:A,categoricalDomain:R,duplicateDomain:B,originalDomain:(v=j.domain)!==null&&v!==void 0?v:L,isCategorical:f,layout:u})))},{})},ZWe=function(t,r){var s=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,h=t.children,m=Aw(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),f=m.length,p=YG(u,i),g=-1;return s.reduce(function(v,j){var y=j.type.defaultProps!==void 0?ue(ue({},j.type.defaultProps),j.props):j.props,b=y[o],w=nX("number");if(!v[b]){g++;var N;return p?N=ub(0,f):l&&l[b]&&l[b].hasStack?(N=XG(l[b].stackGroups,c,d),N=sk(h,N,b,i)):(N=CC(w,GG(m,s.filter(function(_){var C,S,k=o in _.props?_.props[o]:(C=_.type.defaultProps)===null||C===void 0?void 0:C[o],E="hide"in _.props?_.props.hide:(S=_.type.defaultProps)===null||S===void 0?void 0:S.hide;return k===b&&!E}),"number",u),a.defaultProps.allowDataOverflow),N=sk(h,N,b,i)),ue(ue({},v),{},tt({},b,ue(ue({axisType:i},a.defaultProps),{},{hide:!0,orientation:ma(KWe,"".concat(i,".").concat(g%2),null),domain:N,originalDomain:w,isCategorical:p,layout:u})))}return v},{})},JWe=function(t,r){var s=r.axisType,a=s===void 0?"xAxis":s,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,h="".concat(a,"Id"),m=Ga(u,i),f={};return m&&m.length?f=QWe(t,{axes:m,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(f=ZWe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),f},eqe=function(t){var r=du(t),s=Bc(r,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:JP(s,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:rb(r,s)}},J$=function(t){var r=t.children,s=t.defaultShowTooltip,a=As(r,Hh),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},tqe=function(t){return!t||!t.length?!1:t.some(function(r){var s=fo(r&&r.type);return s&&s.indexOf("Bar")>=0})},eL=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rqe=function(t,r){var s=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=s.width,u=s.height,h=s.children,m=s.margin||{},f=As(h,Hh),p=As(h,Xu),g=Object.keys(c).reduce(function(N,_){var C=c[_],S=C.orientation;return!C.mirror&&!C.hide?ue(ue({},N),{},tt({},S,N[S]+C.width)):N},{left:m.left||0,right:m.right||0}),v=Object.keys(o).reduce(function(N,_){var C=o[_],S=C.orientation;return!C.mirror&&!C.hide?ue(ue({},N),{},tt({},S,ma(N,"".concat(S))+C.height)):N},{top:m.top||0,bottom:m.bottom||0}),j=ue(ue({},v),g),y=j.bottom;f&&(j.bottom+=f.props.height||Hh.defaultProps.height),p&&r&&(j=G6e(j,a,s,r));var b=d-j.left-j.right,w=u-j.top-j.bottom;return ue(ue({brushBottom:y},j),{},{width:Math.max(b,0),height:Math.max(w,0)})},nqe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},sqe=function(t){var r=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,h=t.defaultProps,m=function(j,y){var b=y.graphicalItems,w=y.stackGroups,N=y.offset,_=y.updateId,C=y.dataStartIndex,S=y.dataEndIndex,k=j.barSize,E=j.layout,T=j.barGap,A=j.barCategoryGap,B=j.maxBarSize,R=eL(E),L=R.numericAxisName,V=R.cateAxisName,O=tqe(b),P=[];return b.forEach(function(I,G){var re=Aw(j.data,{graphicalItems:[I],dataStartIndex:C,dataEndIndex:S}),X=I.type.defaultProps!==void 0?ue(ue({},I.type.defaultProps),I.props):I.props,W=X.dataKey,oe=X.maxBarSize,je=X["".concat(L,"Id")],$e=X["".concat(V,"Id")],se={},Te=c.reduce(function(J,ie){var ve=y["".concat(ie.axisType,"Map")],be=X["".concat(ie.axisType,"Id")];ve&&ve[be]||ie.axisType==="zAxis"||Cd();var pe=ve[be];return ue(ue({},J),{},tt(tt({},ie.axisType,pe),"".concat(ie.axisType,"Ticks"),Bc(pe)))},se),le=Te[V],ge=Te["".concat(V,"Ticks")],we=w&&w[je]&&w[je].hasStack&&lBe(I,w[je].stackGroups),ae=fo(I.type).indexOf("Bar")>=0,st=rb(le,ge),Ze=[],Tt=O&&H6e({barSize:k,stackGroups:w,totalSize:nqe(Te,V)});if(ae){var at,Bt,_r=kt(oe)?B:oe,un=(at=(Bt=rb(le,ge,!0))!==null&&Bt!==void 0?Bt:_r)!==null&&at!==void 0?at:0;Ze=K6e({barGap:T,barCategoryGap:A,bandSize:un!==st?un:st,sizeList:Tt[$e],maxBarSize:_r}),un!==st&&(Ze=Ze.map(function(J){return ue(ue({},J),{},{position:ue(ue({},J.position),{},{offset:J.position.offset-un/2})})}))}var U=I&&I.type&&I.type.getComposedData;U&&P.push({props:ue(ue({},U(ue(ue({},Te),{},{displayedData:re,props:j,dataKey:W,item:I,bandSize:st,barPosition:Ze,offset:N,stackedData:we,layout:E,dataStartIndex:C,dataEndIndex:S}))),{},tt(tt(tt({key:I.key||"item-".concat(G)},L,Te[L]),V,Te[V]),"animationId",_)),childIndex:WTe(I,j.children),item:I})}),P},f=function(j,y){var b=j.props,w=j.dataStartIndex,N=j.dataEndIndex,_=j.updateId;if(!CI({props:b}))return null;var C=b.children,S=b.layout,k=b.stackOffset,E=b.data,T=b.reverseStackOrder,A=eL(S),B=A.numericAxisName,R=A.cateAxisName,L=Ga(C,s),V=aBe(E,L,"".concat(B,"Id"),"".concat(R,"Id"),k,T),O=c.reduce(function(X,W){var oe="".concat(W.axisType,"Map");return ue(ue({},X),{},tt({},oe,JWe(b,ue(ue({},W),{},{graphicalItems:L,stackGroups:W.axisType===B&&V,dataStartIndex:w,dataEndIndex:N}))))},{}),P=rqe(ue(ue({},O),{},{props:b,graphicalItems:L}),y==null?void 0:y.legendBBox);Object.keys(O).forEach(function(X){O[X]=u(b,O[X],P,X.replace("Map",""),r)});var I=O["".concat(R,"Map")],G=eqe(I),re=m(b,ue(ue({},O),{},{dataStartIndex:w,dataEndIndex:N,updateId:_,graphicalItems:L,stackGroups:V,offset:P}));return ue(ue({formattedGraphicalItems:re,graphicalItems:L,offset:P,stackGroups:V},G),O)},p=function(v){function j(y){var b,w,N;return DWe(this,j),N=FWe(this,j,[y]),tt(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),tt(N,"accessibilityManager",new wWe),tt(N,"handleLegendBBoxUpdate",function(_){if(_){var C=N.state,S=C.dataStartIndex,k=C.dataEndIndex,E=C.updateId;N.setState(ue({legendBBox:_},f({props:N.props,dataStartIndex:S,dataEndIndex:k,updateId:E},ue(ue({},N.state),{},{legendBBox:_}))))}}),tt(N,"handleReceiveSyncEvent",function(_,C,S){if(N.props.syncId===_){if(S===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(C)}}),tt(N,"handleBrushChange",function(_){var C=_.startIndex,S=_.endIndex;if(C!==N.state.dataStartIndex||S!==N.state.dataEndIndex){var k=N.state.updateId;N.setState(function(){return ue({dataStartIndex:C,dataEndIndex:S},f({props:N.props,dataStartIndex:C,dataEndIndex:S,updateId:k},N.state))}),N.triggerSyncEvent({dataStartIndex:C,dataEndIndex:S})}}),tt(N,"handleMouseEnter",function(_){var C=N.getMouseInfo(_);if(C){var S=ue(ue({},C),{},{isTooltipActive:!0});N.setState(S),N.triggerSyncEvent(S);var k=N.props.onMouseEnter;vt(k)&&k(S,_)}}),tt(N,"triggeredAfterMouseMove",function(_){var C=N.getMouseInfo(_),S=C?ue(ue({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(S),N.triggerSyncEvent(S);var k=N.props.onMouseMove;vt(k)&&k(S,_)}),tt(N,"handleItemMouseEnter",function(_){N.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),tt(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),tt(N,"handleMouseMove",function(_){_.persist(),N.throttleTriggeredAfterMouseMove(_)}),tt(N,"handleMouseLeave",function(_){N.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var S=N.props.onMouseLeave;vt(S)&&S(C,_)}),tt(N,"handleOuterEvent",function(_){var C=UTe(_),S=ma(N.props,"".concat(C));if(C&&vt(S)){var k,E;/.*touch.*/i.test(C)?E=N.getMouseInfo(_.changedTouches[0]):E=N.getMouseInfo(_),S((k=E)!==null&&k!==void 0?k:{},_)}}),tt(N,"handleClick",function(_){var C=N.getMouseInfo(_);if(C){var S=ue(ue({},C),{},{isTooltipActive:!0});N.setState(S),N.triggerSyncEvent(S);var k=N.props.onClick;vt(k)&&k(S,_)}}),tt(N,"handleMouseDown",function(_){var C=N.props.onMouseDown;if(vt(C)){var S=N.getMouseInfo(_);C(S,_)}}),tt(N,"handleMouseUp",function(_){var C=N.props.onMouseUp;if(vt(C)){var S=N.getMouseInfo(_);C(S,_)}}),tt(N,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),tt(N,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&N.handleMouseDown(_.changedTouches[0])}),tt(N,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&N.handleMouseUp(_.changedTouches[0])}),tt(N,"handleDoubleClick",function(_){var C=N.props.onDoubleClick;if(vt(C)){var S=N.getMouseInfo(_);C(S,_)}}),tt(N,"handleContextMenu",function(_){var C=N.props.onContextMenu;if(vt(C)){var S=N.getMouseInfo(_);C(S,_)}}),tt(N,"triggerSyncEvent",function(_){N.props.syncId!==void 0&&QN.emit(ZN,N.props.syncId,_,N.eventEmitterSymbol)}),tt(N,"applySyncEvent",function(_){var C=N.props,S=C.layout,k=C.syncMethod,E=N.state.updateId,T=_.dataStartIndex,A=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)N.setState(ue({dataStartIndex:T,dataEndIndex:A},f({props:N.props,dataStartIndex:T,dataEndIndex:A,updateId:E},N.state)));else if(_.activeTooltipIndex!==void 0){var B=_.chartX,R=_.chartY,L=_.activeTooltipIndex,V=N.state,O=V.offset,P=V.tooltipTicks;if(!O)return;if(typeof k=="function")L=k(P,_);else if(k==="value"){L=-1;for(var I=0;I<P.length;I++)if(P[I].value===_.activeLabel){L=I;break}}var G=ue(ue({},O),{},{x:O.left,y:O.top}),re=Math.min(B,G.x+G.width),X=Math.min(R,G.y+G.height),W=P[L]&&P[L].value,oe=ok(N.state,N.props.data,L),je=P[L]?{x:S==="horizontal"?P[L].coordinate:re,y:S==="horizontal"?X:P[L].coordinate}:rX;N.setState(ue(ue({},_),{},{activeLabel:W,activeCoordinate:je,activePayload:oe,activeTooltipIndex:L}))}else N.setState(_)}),tt(N,"renderCursor",function(_){var C,S=N.state,k=S.isTooltipActive,E=S.activeCoordinate,T=S.activePayload,A=S.offset,B=S.activeTooltipIndex,R=S.tooltipAxisBandSize,L=N.getTooltipEventType(),V=(C=_.props.active)!==null&&C!==void 0?C:k,O=N.props.layout,P=_.key||"_recharts-cursor";return D.createElement(EWe,{key:P,activeCoordinate:E,activePayload:T,activeTooltipIndex:B,chartName:r,element:_,isActive:V,layout:O,offset:A,tooltipAxisBandSize:R,tooltipEventType:L})}),tt(N,"renderPolarAxis",function(_,C,S){var k=ma(_,"type.axisType"),E=ma(N.state,"".concat(k,"Map")),T=_.type.defaultProps,A=T!==void 0?ue(ue({},T),_.props):_.props,B=E&&E[A["".concat(k,"Id")]];return x.cloneElement(_,ue(ue({},B),{},{className:Ot(k,B.className),key:_.key||"".concat(C,"-").concat(S),ticks:Bc(B,!0)}))}),tt(N,"renderPolarGrid",function(_){var C=_.props,S=C.radialLines,k=C.polarAngles,E=C.polarRadius,T=N.state,A=T.radiusAxisMap,B=T.angleAxisMap,R=du(A),L=du(B),V=L.cx,O=L.cy,P=L.innerRadius,I=L.outerRadius;return x.cloneElement(_,{polarAngles:Array.isArray(k)?k:Bc(L,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(E)?E:Bc(R,!0).map(function(G){return G.coordinate}),cx:V,cy:O,innerRadius:P,outerRadius:I,key:_.key||"polar-grid",radialLines:S})}),tt(N,"renderLegend",function(){var _=N.state.formattedGraphicalItems,C=N.props,S=C.children,k=C.width,E=C.height,T=N.props.margin||{},A=k-(T.left||0)-(T.right||0),B=HG({children:S,formattedGraphicalItems:_,legendWidth:A,legendContent:d});if(!B)return null;var R=B.item,L=X$(B,PWe);return x.cloneElement(R,ue(ue({},L),{},{chartWidth:k,chartHeight:E,margin:T,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),tt(N,"renderTooltip",function(){var _,C=N.props,S=C.children,k=C.accessibilityLayer,E=As(S,di);if(!E)return null;var T=N.state,A=T.isTooltipActive,B=T.activeCoordinate,R=T.activePayload,L=T.activeLabel,V=T.offset,O=(_=E.props.active)!==null&&_!==void 0?_:A;return x.cloneElement(E,{viewBox:ue(ue({},V),{},{x:V.left,y:V.top}),active:O,label:L,payload:O?R:[],coordinate:B,accessibilityLayer:k})}),tt(N,"renderBrush",function(_){var C=N.props,S=C.margin,k=C.data,E=N.state,T=E.offset,A=E.dataStartIndex,B=E.dataEndIndex,R=E.updateId;return x.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Ey(N.handleBrushChange,_.props.onChange),data:k,x:Ne(_.props.x)?_.props.x:T.left,y:Ne(_.props.y)?_.props.y:T.top+T.height+T.brushBottom-(S.bottom||0),width:Ne(_.props.width)?_.props.width:T.width,startIndex:A,endIndex:B,updateId:"brush-".concat(R)})}),tt(N,"renderReferenceElement",function(_,C,S){if(!_)return null;var k=N,E=k.clipPathId,T=N.state,A=T.xAxisMap,B=T.yAxisMap,R=T.offset,L=_.type.defaultProps||{},V=_.props,O=V.xAxisId,P=O===void 0?L.xAxisId:O,I=V.yAxisId,G=I===void 0?L.yAxisId:I;return x.cloneElement(_,{key:_.key||"".concat(C,"-").concat(S),xAxis:A[P],yAxis:B[G],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:E})}),tt(N,"renderActivePoints",function(_){var C=_.item,S=_.activePoint,k=_.basePoint,E=_.childIndex,T=_.isRange,A=[],B=C.props.key,R=C.item.type.defaultProps!==void 0?ue(ue({},C.item.type.defaultProps),C.item.props):C.item.props,L=R.activeDot,V=R.dataKey,O=ue(ue({index:E,dataKey:V,cx:S.x,cy:S.y,r:4,fill:SA(C.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Ct(L,!1)),k0(L));return A.push(j.renderActiveDot(L,O,"".concat(B,"-activePoint-").concat(E))),k?A.push(j.renderActiveDot(L,ue(ue({},O),{},{cx:k.x,cy:k.y}),"".concat(B,"-basePoint-").concat(E))):T&&A.push(null),A}),tt(N,"renderGraphicChild",function(_,C,S){var k=N.filterFormatItem(_,C,S);if(!k)return null;var E=N.getTooltipEventType(),T=N.state,A=T.isTooltipActive,B=T.tooltipAxis,R=T.activeTooltipIndex,L=T.activeLabel,V=N.props.children,O=As(V,di),P=k.props,I=P.points,G=P.isRange,re=P.baseLine,X=k.item.type.defaultProps!==void 0?ue(ue({},k.item.type.defaultProps),k.item.props):k.item.props,W=X.activeDot,oe=X.hide,je=X.activeBar,$e=X.activeShape,se=!!(!oe&&A&&O&&(W||je||$e)),Te={};E!=="axis"&&O&&O.props.trigger==="click"?Te={onClick:Ey(N.handleItemMouseEnter,_.props.onClick)}:E!=="axis"&&(Te={onMouseLeave:Ey(N.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Ey(N.handleItemMouseEnter,_.props.onMouseEnter)});var le=x.cloneElement(_,ue(ue({},k.props),Te));function ge(ie){return typeof B.dataKey=="function"?B.dataKey(ie.payload):null}if(se)if(R>=0){var we,ae;if(B.dataKey&&!B.allowDuplicatedCategory){var st=typeof B.dataKey=="function"?ge:"payload.".concat(B.dataKey.toString());we=C0(I,st,L),ae=G&&re&&C0(re,st,L)}else we=I==null?void 0:I[R],ae=G&&re&&re[R];if($e||je){var Ze=_.props.activeIndex!==void 0?_.props.activeIndex:R;return[x.cloneElement(_,ue(ue(ue({},k.props),Te),{},{activeIndex:Ze})),null,null]}if(!kt(we))return[le].concat(rm(N.renderActivePoints({item:k,activePoint:we,basePoint:ae,childIndex:R,isRange:G})))}else{var Tt,at=(Tt=N.getItemByXY(N.state.activeCoordinate))!==null&&Tt!==void 0?Tt:{graphicalItem:le},Bt=at.graphicalItem,_r=Bt.item,un=_r===void 0?_:_r,U=Bt.childIndex,J=ue(ue(ue({},k.props),Te),{},{activeIndex:U});return[x.cloneElement(un,J),null,null]}return G?[le,null,null]:[le,null]}),tt(N,"renderCustomized",function(_,C,S){return x.cloneElement(_,ue(ue({key:"recharts-customized-".concat(S)},N.props),N.state))}),tt(N,"renderMap",{CartesianGrid:{handler:Ry,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Ry},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Ry},YAxis:{handler:Ry},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:yg("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=WK(N.triggeredAfterMouseMove,(w=y.throttleDelay)!==null&&w!==void 0?w:1e3/60),N.state={},N}return zWe(j,v),LWe(j,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,N=b.data,_=b.height,C=b.layout,S=As(w,di);if(S){var k=S.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,T=ok(this.state,N,k,E),A=this.state.tooltipTicks[k].coordinate,B=(this.state.offset.top+_)/2,R=C==="horizontal",L=R?{x:A,y:B}:{y:A,x:B},V=this.state.formattedGraphicalItems.find(function(P){var I=P.item;return I.type.name==="Scatter"});V&&(L=ue(ue({},L),V.props.points[k].tooltipPosition),T=V.props.points[k].tooltipPayload);var O={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:E,activePayload:T,activeCoordinate:L};this.setState(O),this.renderCursor(S),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var N,_;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(b){V2([As(b.children,di)],[As(this.props.children,di)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=As(this.props.children,di);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,N=w.getBoundingClientRect(),_=g3e(N),C={chartX:Math.round(b.pageX-_.left),chartY:Math.round(b.pageY-_.top)},S=N.width/w.offsetWidth||1,k=this.inRange(C.chartX,C.chartY,S);if(!k)return null;var E=this.state,T=E.xAxisMap,A=E.yAxisMap,B=this.getTooltipEventType(),R=Z$(this.state,this.props.data,this.props.layout,k);if(B!=="axis"&&T&&A){var L=du(T).scale,V=du(A).scale,O=L&&L.invert?L.invert(C.chartX):null,P=V&&V.invert?V.invert(C.chartY):null;return ue(ue({},C),{},{xValue:O,yValue:P},R)}return R?ue(ue({},C),R):null}},{key:"inRange",value:function(b,w){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,C=b/N,S=w/N;if(_==="horizontal"||_==="vertical"){var k=this.state.offset,E=C>=k.left&&C<=k.left+k.width&&S>=k.top&&S<=k.top+k.height;return E?{x:C,y:S}:null}var T=this.state,A=T.angleAxisMap,B=T.radiusAxisMap;if(A&&B){var R=du(A);return D3({x:C,y:S},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),N=As(b,di),_={};N&&w==="axis"&&(N.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=k0(this.props,this.handleOuterEvent);return ue(ue({},C),_)}},{key:"addListener",value:function(){QN.on(ZN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){QN.removeListener(ZN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,N){for(var _=this.state.formattedGraphicalItems,C=0,S=_.length;C<S;C++){var k=_[C];if(k.item===b||k.props.key===b.key||w===fo(k.item.type)&&N===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,N=w.left,_=w.top,C=w.height,S=w.width;return D.createElement("defs",null,D.createElement("clipPath",{id:b},D.createElement("rect",{x:N,y:_,height:C,width:S})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,N){var _=Y$(N,2),C=_[0],S=_[1];return ue(ue({},w),{},tt({},C,S.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,N){var _=Y$(N,2),C=_[0],S=_[1];return ue(ue({},w),{},tt({},C,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,N=w.formattedGraphicalItems,_=w.activeItem;if(N&&N.length)for(var C=0,S=N.length;C<S;C++){var k=N[C],E=k.props,T=k.item,A=T.type.defaultProps!==void 0?ue(ue({},T.type.defaultProps),T.props):T.props,B=fo(T.type);if(B==="Bar"){var R=(E.data||[]).find(function(P){return J8e(b,P)});if(R)return{graphicalItem:k,payload:R}}else if(B==="RadialBar"){var L=(E.data||[]).find(function(P){return D3(b,P)});if(L)return{graphicalItem:k,payload:L}}else if(jw(k,_)||ww(k,_)||vx(k,_)){var V=r7e({graphicalItem:k,activeTooltipItem:_,itemData:A.data}),O=A.activeIndex===void 0?V:A.activeIndex;return{graphicalItem:ue(ue({},k),{},{childIndex:O}),payload:vx(k,_)?A.data[V]:k.props.data[V]}}}return null}},{key:"render",value:function(){var b=this;if(!CI(this))return null;var w=this.props,N=w.children,_=w.className,C=w.width,S=w.height,k=w.style,E=w.compact,T=w.title,A=w.desc,B=X$(w,AWe),R=Ct(B,!1);if(E)return D.createElement(R$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(U2,Ru({},R,{width:C,height:S,title:T,desc:A}),this.renderClipPath(),TI(N,this.renderMap)));if(this.props.accessibilityLayer){var L,V;R.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,R.role=(V=this.props.role)!==null&&V!==void 0?V:"application",R.onKeyDown=function(P){b.accessibilityManager.keyboardEvent(P)},R.onFocus=function(){b.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return D.createElement(R$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",Ru({className:Ot("recharts-wrapper",_),style:ue({position:"relative",cursor:"default",width:C,height:S},k)},O,{ref:function(I){b.container=I}}),D.createElement(U2,Ru({},R,{width:C,height:S,title:T,desc:A,style:GWe}),this.renderClipPath(),TI(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);tt(p,"displayName",r),tt(p,"defaultProps",ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),tt(p,"getDerivedStateFromProps",function(v,j){var y=v.dataKey,b=v.data,w=v.children,N=v.width,_=v.height,C=v.layout,S=v.stackOffset,k=v.margin,E=j.dataStartIndex,T=j.dataEndIndex;if(j.updateId===void 0){var A=J$(v);return ue(ue(ue({},A),{},{updateId:0},f(ue(ue({props:v},A),{},{updateId:0}),j)),{},{prevDataKey:y,prevData:b,prevWidth:N,prevHeight:_,prevLayout:C,prevStackOffset:S,prevMargin:k,prevChildren:w})}if(y!==j.prevDataKey||b!==j.prevData||N!==j.prevWidth||_!==j.prevHeight||C!==j.prevLayout||S!==j.prevStackOffset||!Yu(k,j.prevMargin)){var B=J$(v),R={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},L=ue(ue({},Z$(j,b,C)),{},{updateId:j.updateId+1}),V=ue(ue(ue({},B),R),L);return ue(ue(ue({},V),f(ue({props:v},V),j)),{},{prevDataKey:y,prevData:b,prevWidth:N,prevHeight:_,prevLayout:C,prevStackOffset:S,prevMargin:k,prevChildren:w})}if(!V2(w,j.prevChildren)){var O,P,I,G,re=As(w,Hh),X=re&&(O=(P=re.props)===null||P===void 0?void 0:P.startIndex)!==null&&O!==void 0?O:E,W=re&&(I=(G=re.props)===null||G===void 0?void 0:G.endIndex)!==null&&I!==void 0?I:T,oe=X!==E||W!==T,je=!kt(b),$e=je&&!oe?j.updateId:j.updateId+1;return ue(ue({updateId:$e},f(ue(ue({props:v},j),{},{updateId:$e,dataStartIndex:X,dataEndIndex:W}),j)),{},{prevChildren:w,dataStartIndex:X,dataEndIndex:W})}return null}),tt(p,"renderActiveDot",function(v,j,y){var b;return x.isValidElement(v)?b=x.cloneElement(v,j):vt(v)?b=v(j):b=D.createElement(kA,j),D.createElement(Pr,{className:"recharts-active-dot",key:y},b)});var g=x.forwardRef(function(j,y){return D.createElement(p,Ru({},j,{ref:y}))});return g.displayName=p.displayName,g},aqe=sqe({chartName:"AreaChart",GraphicalChild:Ii,axisComponents:[{axisType:"xAxis",AxisComp:Ew},{axisType:"yAxis",AxisComp:Pw}],formatAxisMap:Eze});const iqe={light:"",dark:".dark"},sX=x.createContext(null);function aX(){const e=x.useContext(sX);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const oqe=x.forwardRef(({id:e,className:t,children:r,config:s,...a},i)=>{const o=x.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return n.jsx(sX.Provider,{value:{config:s},children:n.jsxs("div",{"data-chart":l,ref:i,className:z("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[n.jsx(lqe,{id:l,config:s}),n.jsx(qK,{children:r})]})})});oqe.displayName="Chart";const lqe=({id:e,config:t})=>{const r=Object.entries(t).filter(([s,a])=>a.theme||a.color);return r.length?n.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(iqe).map(([s,a])=>`
${a} [data-chart=${e}] {
${r.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[s])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},cqe=di,iX=x.forwardRef(({active:e,payload:t,className:r,indicator:s="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:d,color:u,nameKey:h,labelKey:m},f)=>{const{config:p}=aX(),g=x.useMemo(()=>{var N;if(a||!(t!=null&&t.length))return null;const[j]=t,y=`${m||j.dataKey||j.name||"value"}`,b=lk(p,j,y),w=!m&&typeof o=="string"?((N=p[o])==null?void 0:N.label)||o:b==null?void 0:b.label;return l?n.jsx("div",{className:z("font-medium",c),children:l(w,t)}):w?n.jsx("div",{className:z("font-medium",c),children:w}):null},[o,l,t,a,c,p,m]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&s!=="dot";return n.jsxs("div",{ref:f,className:z("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:g,n.jsx("div",{className:"grid gap-1.5",children:t.map((j,y)=>{const b=`${h||j.name||j.dataKey||"value"}`,w=lk(p,j,b),N=u||j.payload.fill||j.color;return n.jsx("div",{className:z("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",s==="dot"&&"items-center"),children:d&&(j==null?void 0:j.value)!==void 0&&j.name?d(j.value,j.name,j,y,j.payload):n.jsxs(n.Fragment,{children:[w!=null&&w.icon?n.jsx(w.icon,{}):!i&&n.jsx("div",{className:z("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":s==="dot","w-1":s==="line","w-0 border-[1.5px] border-dashed bg-transparent":s==="dashed","my-0.5":v&&s==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),n.jsxs("div",{className:z("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[n.jsxs("div",{className:"grid gap-1.5",children:[v?g:null,n.jsx("span",{className:"text-muted-foreground",children:(w==null?void 0:w.label)||j.name})]}),j.value&&n.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:j.value.toLocaleString()})]})]})},j.dataKey)})})]})});iX.displayName="ChartTooltip";const dqe=x.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:s="bottom",nameKey:a},i)=>{const{config:o}=aX();return r!=null&&r.length?n.jsx("div",{ref:i,className:z("flex items-center justify-center gap-4",s==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,d=lk(o,l,c);return n.jsxs("div",{className:z("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!t?n.jsx(d.icon,{}):n.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),d==null?void 0:d.label]},l.value)})}):null});dqe.displayName="ChartLegend";function lk(e,t,r){if(typeof t!="object"||t===null)return;const s="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:s&&r in s&&typeof s[r]=="string"&&(a=s[r]),a in e?e[a]:e[r]}function uqe(){const{recentSessions:e,baselines:t}=cc(),r=x.useMemo(()=>{const o=new Date,l=[];for(let c=34;c>=0;c--){const d=new Date(o);d.setDate(d.getDate()-c),d.setHours(0,0,0,0);const u=d.toDateString(),h=(e==null?void 0:e.filter(m=>new Date(m.completed_at).toDateString()===u))||[];l.push({date:d,completed:h.length>0,count:h.length})}return l},[e]),s=x.useMemo(()=>{if(!(t!=null&&t.length))return{current:0,record:0};const o=Math.max(...t.map(c=>c.streak_days||0));let l=0;for(let c=r.length-1;c>=0;c--)if(r[c].completed)l++;else if(c<r.length-1)break;return{current:l,record:o}},[t,r]),a=r.filter(o=>o.completed).length,i=["S","M","T","W","T","F","S"];return n.jsxs(q,{className:"border-primary/20 overflow-hidden",children:[n.jsx(de,{className:"pb-3 bg-gradient-to-br from-primary/5 to-accent/5",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ce,{className:"flex items-center gap-2 text-lg",children:[n.jsx(_s,{className:"h-5 w-5 text-primary"}),"Training Streak"]}),n.jsxs(ne,{variant:"secondary",className:"gap-1",children:[n.jsx(yh,{className:"h-3 w-3 text-orange-500"}),s.current," day",s.current!==1?"s":""]})]})}),n.jsxs(K,{className:"pt-4",children:[n.jsxs("div",{className:"flex items-center justify-center gap-8 mb-6",children:[n.jsxs(ee.div,{className:"text-center",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:[n.jsxs("div",{className:"relative",children:[n.jsx(ee.div,{className:"text-5xl font-black text-primary",animate:{scale:s.current>0?[1,1.05,1]:1},transition:{duration:.5,repeat:1/0,repeatDelay:2},children:s.current}),s.current>=3&&n.jsx(ee.div,{className:"absolute -top-1 -right-4",animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:1/0,repeatDelay:1.5},children:n.jsx(yh,{className:"h-6 w-6 text-orange-500"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Current Streak"})]}),n.jsx("div",{className:"h-12 w-px bg-border"}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ri,{className:"h-4 w-4 text-yellow-500"}),n.jsx("span",{className:"text-2xl font-bold",children:s.record})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Record Streak"})]})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-1",children:i.map((o,l)=>n.jsx("div",{className:"text-center text-[10px] text-muted-foreground font-medium",children:o},l))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:r.map((o,l)=>{const c=o.date.toDateString()===new Date().toDateString();return n.jsxs(ee.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:l*.01},className:`
                  aspect-square rounded-md flex items-center justify-center text-xs font-medium
                  transition-all cursor-default relative
                  ${o.completed?"bg-primary text-primary-foreground shadow-sm":"bg-muted/50 text-muted-foreground"}
                  ${c?"ring-2 ring-primary ring-offset-2 ring-offset-background":""}
                `,title:`${o.date.toLocaleDateString()}: ${o.count} session${o.count!==1?"s":""}`,children:[o.date.getDate(),o.count>1&&n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-accent rounded-full text-[8px] flex items-center justify-center text-accent-foreground font-bold",children:o.count})]},l)})}),n.jsxs("div",{className:"mt-4 pt-3 border-t border-border/50 flex items-center justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:[a," active days this month"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary"}),"= Training day"]})]})]})]})}function Iy({icon:e,value:t,label:r,sublabel:s,color:a,delay:i=0}){return n.jsx(ee.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:i,duration:.4},children:n.jsx(q,{className:`border-2 ${a} overflow-hidden group hover:shadow-lg transition-all`,children:n.jsxs(K,{className:"pt-5 pb-4",children:[n.jsx("div",{className:"flex items-start justify-between mb-3",children:n.jsx("div",{className:"p-2 rounded-xl bg-muted group-hover:scale-110 transition-transform",children:e})}),n.jsx(ee.div,{className:"text-4xl font-black tracking-tight",initial:{scale:.5},animate:{scale:1},transition:{delay:i+.2,type:"spring",stiffness:200},children:t}),n.jsx("p",{className:"text-sm font-medium text-foreground mt-1",children:r}),s&&n.jsx("p",{className:"text-xs text-muted-foreground",children:s})]})})})}function hqe(){const{baselines:e,recentSessions:t}=cc(),r=x.useMemo(()=>{const s=(e==null?void 0:e.reduce((f,p)=>f+(p.total_sessions||0),0))||0,a=e!=null&&e.length?e.reduce((f,p)=>f+(p.improvement_percentage||0),0)/e.length:0,i=(t==null?void 0:t.reduce((f,p)=>f+(p.duration_seconds||0),0))||0,o=Math.floor(i/3600),l=Math.floor(i%3600/60),c=o>0?`${o}h ${l}m`:`${l}m`,d=(e==null?void 0:e.reduce((f,p)=>Math.max(f,p.current_best_score||0),0))||0,u=e==null?void 0:e.find(f=>f.test_type==="reaction_time"),h=u==null?void 0:u.current_best_score,m=(e==null?void 0:e.filter(f=>(f.average_score||0)>=80).length)||0;return{totalSessions:s,avgImprovement:a,timeStr:c,bestScore:d,fastestReaction:h,masteredTests:m,totalTests:(e==null?void 0:e.length)||0}},[e,t]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(MJ,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"font-semibold",children:"Your Impact"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Iy,{icon:n.jsx(Rr,{className:"h-5 w-5 text-violet-500"}),value:r.totalSessions,label:"Total Sessions",sublabel:"Brain workouts completed",color:"border-violet-500/30 hover:border-violet-500/50",delay:0}),n.jsx(Iy,{icon:n.jsx(Fs,{className:"h-5 w-5 text-emerald-500"}),value:`+${r.avgImprovement.toFixed(0)}%`,label:"Improvement",sublabel:"Avg across all tests",color:"border-emerald-500/30 hover:border-emerald-500/50",delay:.1}),n.jsx(Iy,{icon:n.jsx(is,{className:"h-5 w-5 text-sky-500"}),value:r.timeStr,label:"Time Invested",sublabel:"Total training time",color:"border-sky-500/30 hover:border-sky-500/50",delay:.2}),n.jsx(Iy,{icon:n.jsx(Di,{className:"h-5 w-5 text-amber-500"}),value:`${r.masteredTests}/${r.totalTests}`,label:"Tests Mastered",sublabel:"Scored 80%+ average",color:"border-amber-500/30 hover:border-amber-500/50",delay:.3})]}),r.bestScore>0&&n.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},children:n.jsx(q,{className:"border-primary/20 bg-gradient-to-br from-primary/5 to-accent/5",children:n.jsx(K,{className:"py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:n.jsx(Ir,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Personal Best"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Your highest score ever"})]})]}),n.jsxs("div",{className:"text-3xl font-black text-primary",children:[r.bestScore.toFixed(0),"%"]})]})})})})]})}const Dy={change_blindness:{label:"Awareness",icon:Od,description:"Visual attention"},focus_duration:{label:"Focus",icon:qb,description:"Sustained attention"},pattern_recognition:{label:"Patterns",icon:Di,description:"Logical reasoning"},memory_anchoring:{label:"Memory",icon:lT,description:"Working memory"},reaction_time:{label:"Reaction",icon:Ir,description:"Processing speed"}};function mqe(){const{baselines:e,recentSessions:t,baselinesLoading:r}=cc(),s=x.useMemo(()=>{if(!(e!=null&&e.length))return null;const o=e.reduce((u,h)=>u+(h.total_sessions||0),0),l=e.reduce((u,h)=>u+(h.improvement_percentage||0),0)/e.length,c=Math.max(...e.map(u=>u.streak_days||0)),d=e.length;return{totalSessions:o,avgImprovement:l,maxStreak:c,testsCompleted:d}},[e]),a=x.useMemo(()=>{if(!(t!=null&&t.length))return[];const o={};return t.forEach(l=>{const c=new Date(l.completed_at).toLocaleDateString();o[c]||(o[c]={}),o[c][l.test_type]||(o[c][l.test_type]=[]),l.score!==null&&o[c][l.test_type].push(l.score)}),Object.entries(o).map(([l,c])=>{const d={date:l};return Object.entries(c).forEach(([u,h])=>{d[u]=h.reduce((m,f)=>m+f,0)/h.length}),d}).reverse().slice(-14)},[t]),i=()=>{if(!(e!=null&&e.length))return;const o={generatedAt:new Date().toISOString(),summary:s,baselines:e.map(u=>{var h,m;return{test:((h=Dy[u.test_type])==null?void 0:h.label)||u.test_type,baseline:u.baseline_score,currentBest:u.current_best_score,improvement:`${(m=u.improvement_percentage)==null?void 0:m.toFixed(1)}%`,totalSessions:u.total_sessions,streak:u.streak_days}}),recentSessions:t==null?void 0:t.slice(0,20).map(u=>{var h;return{date:new Date(u.completed_at).toLocaleString(),test:((h=Dy[u.test_type])==null?void 0:h.label)||u.test_type,score:u.score,duration:u.duration_seconds}})},l=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),c=URL.createObjectURL(l),d=document.createElement("a");d.href=c,d.download=`cognitive-progress-${new Date().toISOString().split("T")[0]}.json`,d.click(),URL.revokeObjectURL(c)};return r?n.jsx(q,{className:"border-accent/30",children:n.jsx(K,{className:"py-8 text-center text-muted-foreground",children:"Loading your cognitive data..."})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx(uqe,{}),n.jsx(hqe,{}),n.jsxs(q,{className:"border-accent/30",children:[n.jsxs(de,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(ce,{className:"flex items-center gap-2",children:[n.jsx(tB,{className:"h-5 w-5"}),"Test Progress"]}),n.jsx(ye,{children:"Your improvement in each cognitive area"})]}),n.jsxs($,{variant:"outline",size:"sm",onClick:i,className:"gap-2",children:[n.jsx(ud,{className:"h-4 w-4"}),"Export Report"]})]}),n.jsx(K,{className:"space-y-4",children:Object.keys(Dy).map(o=>{var u;const l=e==null?void 0:e.find(h=>h.test_type===o),c=Dy[o],d=c.icon;return n.jsxs(ee.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(d,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:c.label}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",c.description,")"]})]}),n.jsx("div",{className:"flex items-center gap-2",children:l?n.jsxs(n.Fragment,{children:[n.jsxs(ne,{variant:"outline",className:"text-xs",children:[l.total_sessions," sessions"]}),l.improvement_percentage>0&&n.jsxs(ne,{className:"bg-green-500/20 text-green-600 text-xs",children:["+",l.improvement_percentage.toFixed(0),"%"]})]}):n.jsx(ne,{variant:"secondary",className:"text-xs",children:"Not started"})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ws,{value:(l==null?void 0:l.average_score)||0,className:"flex-1 h-2"}),n.jsxs("span",{className:"text-xs font-mono w-12 text-right",children:[((u=l==null?void 0:l.average_score)==null?void 0:u.toFixed(0))||0,"%"]})]})]},o)})})]}),a.length>1&&n.jsxs(q,{className:"border-accent/30",children:[n.jsxs(de,{children:[n.jsx(ce,{children:"14-Day Trend"}),n.jsx(ye,{children:"Your cognitive performance over time"})]}),n.jsx(K,{children:n.jsx("div",{className:"h-48",children:n.jsx(qK,{width:"100%",height:"100%",children:n.jsxs(aqe,{data:a,children:[n.jsx(Ew,{dataKey:"date",tick:{fontSize:10},tickLine:!1,axisLine:!1}),n.jsx(Pw,{domain:[0,100],tick:{fontSize:10},tickLine:!1,axisLine:!1}),n.jsx(cqe,{content:n.jsx(iX,{})}),n.jsx(Ii,{type:"monotone",dataKey:"pattern_recognition",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary) / 0.2)",strokeWidth:2,name:"Patterns"}),n.jsx(Ii,{type:"monotone",dataKey:"memory_anchoring",stroke:"hsl(var(--accent))",fill:"hsl(var(--accent) / 0.2)",strokeWidth:2,name:"Memory"}),n.jsx(Ii,{type:"monotone",dataKey:"reaction_time",stroke:"hsl(var(--chart-3))",fill:"hsl(var(--chart-3) / 0.2)",strokeWidth:2,name:"Reaction"})]})})})})]})]})}const fqe=[{id:"pattern_recognition",label:"Patterns",icon:Di,description:"Find the next number in sequences",color:"text-violet-400"},{id:"reaction_time",label:"Reaction",icon:Ir,description:"Test your response speed",color:"text-yellow-400"},{id:"memory_anchoring",label:"Memory",icon:lT,description:"Recall symbol sequences",color:"text-emerald-400"},{id:"focus_duration",label:"Focus",icon:qb,description:"Sustained attention training",color:"text-sky-400"}];function pqe({onBack:e}){const[t,r]=x.useState(null),{baselines:s}=cc(),a=i=>s==null?void 0:s.find(o=>o.test_type===i);return t==="dashboard"?n.jsxs("div",{className:"space-y-4",children:[n.jsxs($,{variant:"ghost",size:"sm",onClick:()=>r(null),className:"gap-2",children:[n.jsx(Mt,{className:"h-4 w-4"}),"Back to Tests"]}),n.jsx(mqe,{})]}):t?n.jsxs("div",{className:"space-y-4",children:[n.jsxs($,{variant:"ghost",size:"sm",onClick:()=>r(null),className:"gap-2",children:[n.jsx(Mt,{className:"h-4 w-4"}),"Back to Tests"]}),n.jsxs(Qr,{mode:"wait",children:[t==="pattern_recognition"&&n.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:n.jsx(KSe,{})},"pattern"),t==="reaction_time"&&n.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:n.jsx(GSe,{})},"reaction"),t==="memory_anchoring"&&n.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:n.jsx(YSe,{})},"memory"),t==="focus_duration"&&n.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:n.jsx(XSe,{})},"focus")]})]}):n.jsxs("div",{className:"space-y-6",children:[e&&n.jsxs($,{variant:"ghost",size:"sm",onClick:e,className:"gap-2",children:[n.jsx(Mt,{className:"h-4 w-4"}),"Back"]}),n.jsxs(q,{className:"border-primary/20 bg-gradient-to-br from-primary/5 to-accent/5",children:[n.jsx(de,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(Rr,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx(ce,{children:"Cognitive Training Suite"}),n.jsx(ye,{children:"Measurable exercises to track and improve executive function"})]})]})}),n.jsx(K,{children:n.jsxs($,{variant:"outline",className:"gap-2",onClick:()=>r("dashboard"),children:[n.jsx(tB,{className:"h-4 w-4"}),"View Progress Dashboard"]})})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:fqe.map(i=>{const o=a(i.id),l=i.icon;return n.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:{scale:1.02},whileTap:{scale:.98},children:n.jsx(q,{className:"cursor-pointer border-border/50 hover:border-primary/30 transition-all group",onClick:()=>r(i.id),children:n.jsxs(K,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-muted group-hover:bg-primary/10 transition-colors",children:n.jsx(l,{className:`h-5 w-5 ${i.color}`})}),o&&n.jsxs(ne,{variant:"secondary",className:"text-xs",children:[o.total_sessions," sessions"]})]}),n.jsx("h3",{className:"font-semibold mb-1",children:i.label}),n.jsx("p",{className:"text-sm text-muted-foreground",children:i.description}),o&&o.improvement_percentage>0&&n.jsx("div",{className:"mt-3 flex items-center gap-1 text-xs text-green-500",children:n.jsxs("span",{children:[" ",o.improvement_percentage.toFixed(0),"% improvement"]})})]})})},i.id)})}),n.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Results are tracked over time to measure cognitive improvement  Export for grant applications"})]})}const xqe="/assets/witch-landing-Bn8U3ZXW.png",gqe=[{id:"breathing",title:"Breathing Pacer",description:"Follow the visual guide to slow your breathing",icon:yB,color:"text-sky-400",bgColor:"bg-sky-500/10",implemented:!1},{id:"asmr",title:"Calming Sounds",description:"ASMR and ambient audio for nervous system regulation",icon:fee,color:"text-violet-400",bgColor:"bg-violet-500/10",implemented:!1},{id:"vagus",title:"Vagus Nerve Reset",description:"Simple exercises to activate your calming response",icon:cn,color:"text-rose-400",bgColor:"bg-rose-500/10",implemented:!1},{id:"grounding",title:"5-4-3-2-1 Grounding",description:"Sensory awareness to bring you back to the present",icon:Ree,color:"text-emerald-400",bgColor:"bg-emerald-500/10",implemented:!1}];function yqe(){const e=Qt(),[t,r]=x.useState("hub"),s=a=>{console.log("Brain dump complete with items:",a),r("hub")};return t==="hub"?n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900",children:[n.jsx(VW,{}),n.jsx("header",{className:"p-4 border-b border-border/30",children:n.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"shrink-0",children:n.jsx(Mt,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:Eh,alt:"Tornado Alley",className:"w-10 h-10 rounded-lg object-cover"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-display font-bold text-foreground",children:"Tornado Alley"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Your overwhelm recovery zone"})]})]})]})}),n.jsxs("main",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[n.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:n.jsx(q,{className:"overflow-hidden border-amber-500/30 bg-gradient-to-br from-amber-500/10 to-orange-500/5",children:n.jsx(K,{className:"p-6",children:n.jsxs("p",{className:"text-lg text-muted-foreground leading-relaxed",children:["Feeling overwhelmed? You're in the right place. Tornado Alley is where the chaos meets calm.",n.jsx("span",{className:"text-foreground font-medium",children:" Dump your thoughts, then find the Eye of the Tornado."})]})})})}),n.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:n.jsxs(q,{className:"cursor-pointer border-2 border-primary/20 hover:border-primary/40 transition-all hover:shadow-glow group overflow-hidden",onClick:()=>r("brain-dump"),children:[n.jsxs("div",{className:"relative h-48 sm:h-56 overflow-hidden",children:[n.jsx("img",{src:Eh,alt:"Tornado Alley - Brain Dump",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-card via-transparent to-transparent"}),n.jsx("div",{className:"absolute top-4 right-4",children:n.jsx(ht,{className:"w-6 h-6 text-amber-400 group-hover:text-amber-300 transition-colors"})})]}),n.jsxs(K,{className:"pt-4 pb-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(Rr,{className:"w-6 h-6 text-primary"}),n.jsx(ce,{className:"text-2xl",children:"Brain Dump"})]}),n.jsx(ye,{className:"text-base",children:"Get everything out of your head  voice, text, or files. We'll help you organize the chaos into actionable projects."})]})]})}),n.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:n.jsx(q,{className:"cursor-pointer border-2 border-emerald-500/20 hover:border-emerald-500/40 transition-all hover:shadow-glow group overflow-hidden",onClick:()=>r("cognitive-gym"),children:n.jsx(K,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-emerald-500/10 group-hover:bg-emerald-500/20 transition-colors",children:n.jsx(J4,{className:"w-8 h-8 text-emerald-400"})}),n.jsxs("div",{children:[n.jsx(ce,{className:"text-xl mb-1",children:"Cognitive Gym"}),n.jsx(ye,{children:"Measurable brain exercises  Track improvement over time  Export for grants"})]})]})})})}),n.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:n.jsxs(q,{className:"border-2 border-sky-500/20 overflow-hidden",children:[n.jsxs("div",{className:"relative h-48 sm:h-56 overflow-hidden",children:[n.jsx("img",{src:xqe,alt:"The witch's house landing in Oz",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-card via-transparent to-transparent pointer-events-none"})]}),n.jsx(de,{className:"pt-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-sky-500/10",children:n.jsx(Od,{className:"w-8 h-8 text-sky-400"})}),n.jsxs("div",{children:[n.jsx(ce,{className:"text-2xl",children:"Eye of the Tornado"}),n.jsx(ye,{className:"text-base",children:"The quiet center  tools to calm your nervous system"})]})]})}),n.jsxs(K,{children:[n.jsx("p",{className:"text-sm text-muted-foreground italic mb-4",children:"Sometimes we're so overwhelmed we don't notice what's right in front of us..."}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:gqe.map(a=>n.jsx("div",{className:`p-4 rounded-xl border ${a.bgColor} border-white/5 ${a.implemented?"cursor-pointer hover:border-white/20 transition-all":"opacity-60"}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(a.icon,{className:`w-6 h-6 ${a.color} shrink-0 mt-0.5`}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-foreground",children:a.title}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.description}),!a.implemented&&n.jsx("span",{className:"text-xs text-muted-foreground/60 mt-2 block italic",children:"Coming soon"})]})]})},a.id))})]})]})})]})]}):t==="brain-dump"?n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900",children:[n.jsx("header",{className:"p-4 border-b border-border/30",children:n.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:()=>r("hub"),children:n.jsx(Mt,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Rr,{className:"w-6 h-6 text-primary"}),n.jsx("h1",{className:"text-lg font-semibold",children:"Brain Dump"})]})]})}),n.jsx("main",{className:"p-6",children:n.jsx(jH,{onComplete:s})})]}):t==="cognitive-gym"?n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900",children:[n.jsx("header",{className:"p-4 border-b border-border/30",children:n.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:()=>r("hub"),children:n.jsx(Mt,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(J4,{className:"w-6 h-6 text-emerald-400"}),n.jsx("h1",{className:"text-lg font-semibold",children:"Cognitive Gym"})]})]})}),n.jsx("main",{className:"max-w-4xl mx-auto p-6",children:n.jsx(pqe,{})})]}):null}function tL(){const e=Qt(),[t,r]=x.useState(null),[s,a]=x.useState(""),i=s.length>=2?KW(s):[];return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:[n.jsx("header",{className:"border-b bg-card/80 backdrop-blur-sm sticky top-0 z-10",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx($,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:n.jsx(Mt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx(Fl,{className:"h-5 w-5 text-emerald-500"}),Sr.learnHome.title]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:Sr.learnHome.subtitle})]})]})})}),n.jsxs("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[n.jsxs("div",{className:"relative mb-8",children:[n.jsx(xp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(F,{placeholder:"Search the Field Guide...",value:s,onChange:o=>a(o.target.value),className:"pl-10 h-12 text-base"})]}),s.length>=2&&n.jsxs("div",{className:"mb-8 p-4 rounded-lg border bg-card",children:[n.jsxs("h2",{className:"font-semibold mb-3 flex items-center gap-2",children:[n.jsx(xp,{className:"h-4 w-4"}),"Search Results (",i.length,")"]}),i.length>0?n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:i.map((o,l)=>n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"font-medium",children:o.term}),n.jsx(ne,{variant:"outline",className:"text-xs",children:o.category})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:o.definition})]},l))}):n.jsx("p",{className:"text-muted-foreground",children:"No results found"})]}),!t&&n.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:Sr.learnHome.cards.map(o=>n.jsx(q,{className:"cursor-pointer hover:border-primary/50 transition-all hover:shadow-md group",onClick:()=>r(o.route),children:n.jsxs(de,{className:"pb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-3xl",children:o.icon}),n.jsx(as,{className:"h-5 w-5 text-muted-foreground group-hover:text-primary transition-colors"})]}),n.jsx(ce,{className:"text-lg",children:o.label}),n.jsx(ye,{children:o.description})]})},o.route))}),t==="modes"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs($,{variant:"ghost",onClick:()=>r(null),className:"gap-2",children:[n.jsx(Mt,{className:"h-4 w-4"}),"Back"]}),n.jsx("h2",{className:"text-2xl font-bold",children:"Cognitive Modes"}),n.jsx("p",{className:"text-muted-foreground",children:"The Oz Engine adapts to your current state. These modes change how information is presented."}),n.jsx("div",{className:"grid gap-4",children:Object.entries(Sr.modes).map(([o,l])=>n.jsxs(q,{children:[n.jsx(de,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-3xl",children:l.icon}),n.jsxs("div",{children:[n.jsx(ce,{className:"text-lg",children:l.title}),n.jsx(ye,{children:l.purpose})]})]})}),n.jsx(K,{children:n.jsx("ul",{className:"grid gap-2 sm:grid-cols-2",children:l.features.map((c,d)=>n.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ht,{className:"h-3 w-3 text-emerald-500"}),c]},d))})})]},o))})]}),t==="engine"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs($,{variant:"ghost",onClick:()=>r(null),className:"gap-2",children:[n.jsx(Mt,{className:"h-4 w-4"}),"Back"]}),n.jsx("h2",{className:"text-2xl font-bold",children:Sr.engine.title}),n.jsx("p",{className:"text-muted-foreground",children:Sr.engine.subtitle}),n.jsx("div",{className:"space-y-4",children:Sr.engine.stages.map((o,l)=>n.jsxs(q,{children:[n.jsx(de,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 dark:bg-emerald-900/50 flex items-center justify-center text-xl",children:o.icon}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{variant:"outline",children:l+1}),n.jsx(ce,{className:"text-lg",children:o.title})]})]})}),n.jsx(K,{children:n.jsx("p",{className:"text-muted-foreground",children:o.description})})]},o.id))})]}),t==="dictionary"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs($,{variant:"ghost",onClick:()=>r(null),className:"gap-2",children:[n.jsx(Mt,{className:"h-4 w-4"}),"Back"]}),n.jsx("h2",{className:"text-2xl font-bold",children:"Tech Dictionary"}),n.jsx("p",{className:"text-muted-foreground",children:"Plain-English definitions for confusing tech terms."}),n.jsxs(Dr,{defaultValue:"Core",children:[n.jsx(Nr,{className:"flex-wrap h-auto gap-1",children:Object.keys(Sr.dictionary).map(o=>n.jsx(ke,{value:o,className:"text-xs",children:o.replace(/_/g," ")},o))}),Object.entries(Sr.dictionary).map(([o,l])=>n.jsx(De,{value:o,children:n.jsx(ti,{className:"h-[400px]",children:n.jsx("div",{className:"space-y-3 pr-4",children:Object.entries(l).map(([c,d])=>n.jsxs("div",{className:"p-3 rounded-lg border bg-card",children:[n.jsx("span",{className:"font-semibold",children:c.replace(/_/g," ")}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:d})]},c))})})},o))]})]}),t==="charter"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs($,{variant:"ghost",onClick:()=>r(null),className:"gap-2",children:[n.jsx(Mt,{className:"h-4 w-4"}),"Back"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Wr,{className:"h-8 w-8 text-emerald-500"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:Sr.charter.title}),n.jsx("p",{className:"text-muted-foreground",children:Sr.charter.subtitle})]})]}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:Sr.charter.intro}),n.jsx("div",{className:"space-y-4",children:Sr.charter.principles.map((o,l)=>n.jsxs(q,{children:[n.jsx(de,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-2xl",children:o.icon}),n.jsx(ce,{className:"text-lg",children:o.title})]})}),n.jsx(K,{children:n.jsx("p",{className:"text-muted-foreground",children:o.description})})]},l))})]}),t==="night"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs($,{variant:"ghost",onClick:()=>r(null),className:"gap-2",children:[n.jsx(Mt,{className:"h-4 w-4"}),"Back"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(hd,{className:"h-8 w-8 text-violet-500"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:Sr.nightWorkers.title}),n.jsx("p",{className:"text-muted-foreground",children:Sr.nightWorkers.subtitle})]})]}),n.jsx("div",{className:"space-y-4",children:Sr.nightWorkers.sections.map((o,l)=>n.jsxs(q,{children:[n.jsx(de,{children:n.jsx(ce,{className:"text-lg",children:o.title})}),n.jsxs(K,{children:["content"in o&&o.content&&n.jsx("p",{className:"text-muted-foreground mb-4",children:o.content}),"bullets"in o&&o.bullets&&n.jsx("ul",{className:"space-y-2",children:o.bullets.map((c,d)=>n.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ht,{className:"h-3 w-3 text-violet-500"}),c]},d))})]})]},l))})]}),t==="accessibility"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs($,{variant:"ghost",onClick:()=>r(null),className:"gap-2",children:[n.jsx(Mt,{className:"h-4 w-4"}),"Back"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(pp,{className:"h-8 w-8 text-blue-500"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:Sr.accessibility.title}),n.jsx("p",{className:"text-muted-foreground",children:Sr.accessibility.subtitle})]})]}),n.jsx("div",{className:"space-y-4",children:Sr.accessibility.sections.map((o,l)=>n.jsxs(q,{children:[n.jsx(de,{children:n.jsx(ce,{className:"text-lg",children:o.title})}),n.jsx(K,{children:o.tools&&n.jsx("ul",{className:"space-y-3",children:o.tools.map((c,d)=>n.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[n.jsx(ht,{className:"h-3 w-3 text-blue-500 mt-1"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:c.name}),n.jsx("p",{className:"text-muted-foreground",children:c.description})]})]},d))})})]},l))})]})]})]})}const vqe=()=>{const e=Ro();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),n.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},bqe=new Gne,jqe=()=>n.jsx(Jne,{client:bqe,children:n.jsx(pae,{children:n.jsxs(Hx,{children:[n.jsx(xte,{}),n.jsx(Kte,{}),n.jsxs(oae,{children:[n.jsx("a",{href:"#main-content",className:"skip-to-content",children:"Skip to main content"}),n.jsx(Yce,{}),n.jsxs(Zse,{children:[n.jsx(Dt,{path:"/",element:n.jsx(AM,{})}),n.jsx(Dt,{path:"/dashboard/*",element:n.jsx(AM,{})}),n.jsx(Dt,{path:"/projects",element:n.jsx(nbe,{})}),n.jsx(Dt,{path:"/auth",element:n.jsx(Abe,{})}),n.jsx(Dt,{path:"/pricing",element:n.jsx(Dbe,{})}),n.jsx(Dt,{path:"/business-setup",element:n.jsx(fje,{})}),n.jsx(Dt,{path:"/tax-forms",element:n.jsx(BR,{})}),n.jsx(Dt,{path:"/tax-forms/edit/:formId",element:n.jsx(BR,{})}),n.jsx(Dt,{path:"/saved-forms",element:n.jsx(Rwe,{})}),n.jsx(Dt,{path:"/vine-tracker",element:n.jsx(Uwe,{})}),n.jsx(Dt,{path:"/rental-management",element:n.jsx(K1e,{})}),n.jsx(Dt,{path:"/tax-rules",element:n.jsx(oNe,{})}),n.jsx(Dt,{path:"/donations",element:n.jsx(wNe,{})}),n.jsx(Dt,{path:"/subscriptions",element:n.jsx(UNe,{})}),n.jsx(Dt,{path:"/tax-credits-calculator",element:n.jsx(KNe,{})}),n.jsx(Dt,{path:"/employer-benefits",element:n.jsx(n_e,{})}),n.jsx(Dt,{path:"/1099-center",element:n.jsx(m_e,{})}),n.jsx(Dt,{path:"/structure-calculator",element:n.jsx(g_e,{})}),n.jsx(Dt,{path:"/oz-engine",element:n.jsx(H_e,{})}),n.jsx(Dt,{path:"/the-crossing",element:n.jsx(J_e,{})}),n.jsx(Dt,{path:"/onboarding",element:n.jsx(aSe,{})}),n.jsx(Dt,{path:"/er-dashboard",element:n.jsx(dSe,{})}),n.jsx(Dt,{path:"/territory/:id",element:n.jsx(hSe,{})}),n.jsx(Dt,{path:"/quest/:id",element:n.jsx(fSe,{})}),n.jsx(Dt,{path:"/er-settings",element:n.jsx(pSe,{})}),n.jsx(Dt,{path:"/company-wizard",element:n.jsx(SSe,{})}),n.jsx(Dt,{path:"/tax-wizard",element:n.jsx(HSe,{})}),n.jsx(Dt,{path:"/tornado-alley",element:n.jsx(yqe,{})}),n.jsx(Dt,{path:"/learn",element:n.jsx(tL,{})}),n.jsx(Dt,{path:"/learn/*",element:n.jsx(tL,{})}),n.jsx(Dt,{path:"*",element:n.jsx(vqe,{})})]})]})]})})});S6(document.getElementById("root")).render(n.jsx(jqe,{}));
